import{e as n}from"./index-DtHxqM--.js";import{d as $}from"./index-CMVdkQrl.js";import{I as H}from"./Icon.Skeleton-nubNM4e5.js";import{O as R}from"./index-CrpWSFad.js";import{O as S}from"./OverflowMenuItem-CqnmCkEJ.js";import{p as B,I as W}from"./settings-C3kz8lqM.js";import{p as j}from"./props-helper-3VCN3cvm.js";const s=`${B.prefix}--datagrid`,L=f=>{const M=I=>{const{rowActions:e,isFetching:i,state:{selectedRowIds:c}}=I,l=o=>!!Object.keys(c).map(w=>Number(w)).includes(o);if(e&&Array.isArray(e)){const o=(a,w)=>{const{cell:P}=w,{row:t,column:k}=P;if(k.isAction){const y=!!k.sticky;return[a,{children:n.createElement("div",{className:`${s}__actions-column-contents`},i&&n.createElement(H,{className:`${s}__actions-column-loading`}),!i&&e.length<=2&&!y&&n.createElement("div",{className:`${s}_actions-column`},e.map((r,h)=>{const d=j(r,["isDelete"]),{align:_,id:g,itemText:u,onClick:m,icon:A,shouldHideMenuItem:b,shouldDisableMenuItem:p,disabled:v,...C}=d,D=typeof b=="function"&&b(t),O=typeof p=="function"?p(t):v;if(D)return null;const x=A;return n.createElement("div",{className:$(`${s}__actions-column-button`,{[`${s}__disabled-row-action-button`]:l(t.index)}),key:`${u}__${h}`},n.createElement(W,{...C,align:_||"top",label:u,kind:"ghost",name:u,className:$({[`${s}__disabled-row-action`]:l(t.index)}),onClick:E=>{l(t.index)||(E.stopPropagation(),m==null||m(g,t,E))},disabled:O},x&&n.createElement(x,null)))})),!i&&(e.length>2||y)&&n.createElement("div",null,n.createElement(R,{align:"left",size:"sm",flipped:!0,onClick:r=>{r.stopPropagation()}},e.map(r=>{const{id:h,onClick:d,shouldHideMenuItem:_,shouldDisableMenuItem:g,disabled:u,...m}=r,A=typeof _=="function"&&_(t),b=typeof g=="function"?g(t):u;return A?null:n.createElement(S,{...m,disabled:b,onClick:p=>{p.stopPropagation(),d==null||d(h,t,p)},key:h})})))),className:$({[`${s}__actions-column-cell`]:!0,[`${s}__cell`]:!0,[`${s}__actions-column-cell-non-sticky`]:!y}),style:{width:e.length>2||y?48:96}}]}return[a]};f.getCellProps.push(o)}},N=I=>{const{rowActions:e}=I;if(e&&Array.isArray(e)){const i=(c,l)=>{const{column:o}=l;if(o.isAction){const a=!!o.sticky;return[c,{style:{...c.style,width:e.length>2||a?48:96}}]}return[c]};f.getHeaderProps.push(i)}};f.useInstance.push(N),f.useInstance.push(M)};export{L as u};
