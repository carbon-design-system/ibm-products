import{b as L}from"./index-BPCFiO9b.js";import{p as q}from"./settings-41bnSjHp.js";import{r as g}from"./index-CPiZ6Cnx.js";const S=(e,s)=>{const n=e==null?void 0:e.querySelector(s);return s&&!(n!=null&&n.disabled)?n:null},Q=(e,s)=>{var $,p,l,d;const n=L(),c=`${q.prefix}--tearsheet`,a=`${q.prefix}--side-panel`,i=`:not(.${n}--visually-hidden,.${c}__header--no-close-icon,.${n}--btn--disabled,[aria-hidden="true"],[tabindex="-1"],[disabled])`,b=`button${i}`,w=`input${i}`,k=`select${i}`,C=`textarea${i}`,T=`[href]${i}`,f=`a${i}`,D=`[tabindex="0"]${i}`,A=`.${a}--scrolls`,y=`${b},${T},${f},${w},${k},${C},${D},${A}`,r=g.useCallback(()=>{var h;let t=(h=e==null?void 0:e.current)==null?void 0:h.querySelectorAll(`${y}`);t!=null&&t.length&&(t=Array.prototype.filter.call(t,I=>{var x;return((x=window==null?void 0:window.getComputedStyle(I))==null?void 0:x.display)!=="none"}));const o=t==null?void 0:t[0],u=t==null?void 0:t[(t==null?void 0:t.length)-1],K=t,v=S(e==null?void 0:e.current,s);return{first:o,last:u,all:K,specified:v}},[e,y,s]);g.useEffect(()=>{r()},[r,e]);const B=async t=>{if(t.key==="Tab"){const{first:o,last:u}=r();t.shiftKey&&(document==null?void 0:document.activeElement)===o?(t.preventDefault(),u==null||u.focus()):!t.shiftKey&&(document==null?void 0:document.activeElement)===u&&(t.preventDefault(),o==null||o.focus())}};return{firstElement:($=r())==null?void 0:$.first,lastElement:(p=r())==null?void 0:p.last,allElements:(l=r())==null?void 0:l.all,specifiedElement:(d=r())==null?void 0:d.specified,keyDownListener:B,getFocusable:r}},j=(e,s,n=void 0)=>{var a;let c;n&&(c=S(s==null?void 0:s.current,n)),c&&((a=window==null?void 0:window.getComputedStyle(c))==null?void 0:a.display)!=="none"&&(c==null?void 0:c.tabIndex)!==-1?setTimeout(()=>c.focus(),0):setTimeout(()=>e==null?void 0:e.focus(),0)};export{j as c,S as g,Q as u};
