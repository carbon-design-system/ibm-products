import{b as B,d as v,_ as x,t as nt,w as it,c as H,u as ot,j as J,p as at,T as st,n as lt,q as ct,P as t,g as W}from"./index-5As4T26e.js";import{r as m,e}from"./index-DzvNrmz8.js";import{n as P,B as rt}from"./settings-CP9zVSjJ.js";import{w as ut,a as ft}from"./wrapFocus-DPmHpWJH.js";import{d as dt}from"./index-P6UCShJt.js";import{T as w}from"./Text-DyBNjUAs.js";import{a as mt,d as pt}from"./bucket-9-DBhRplFe.js";import{a as bt,W as gt}from"./bucket-18-D-cwffHE.js";import{a as Ct}from"./bucket-6-BVxmYIXv.js";function Nt(n,l){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const c=i=>{var u;const o=n.current&&document.activeElement===n.current||((u=n.current)==null?void 0:u.contains(document.activeElement));lt(i,[ct])&&r&&o&&l(i)};J(()=>(n.current!==null&&document.addEventListener("keydown",c,!1),()=>document.removeEventListener("keydown",c,!1)))}function j(n){let{children:l,className:r,onClick:c,inline:i,...o}=n;const u=B(),d=v(r,{[`${u}--actionable-notification__action-button`]:!0});return e.createElement(rt,x({className:d,kind:i?"ghost":"tertiary",onClick:c,size:"sm"},o),l)}j.propTypes={children:t.node,className:t.string,inline:t.bool,onClick:t.func};function K(n){let{"aria-label":l="close notification",ariaLabel:r,className:c,type:i="button",renderIcon:o=it,name:u,notificationType:d="toast",...E}=n;const f=B(),b=v(c,{[`${f}--${d}-notification__close-button`]:d}),C=v({[`${f}--${d}-notification__close-icon`]:d});return e.createElement("button",x({},E,{type:i,"aria-label":r||l,title:r||l,className:b}),o&&e.createElement(o,{className:C,name:u}))}K.propTypes={"aria-label":t.string,ariaLabel:W(t.string),className:t.string,name:t.string,notificationType:t.oneOf(["toast","inline","actionable"]),renderIcon:t.oneOfType([t.func,t.object]),type:t.string};const Et={error:Ct,success:nt,warning:gt,"warning-alt":bt,info:pt,"info-square":mt};function F(n){let{iconDescription:l,kind:r,notificationType:c}=n;const i=B(),o=Et[r];return o?e.createElement(o,{className:`${i}--${c}-notification__icon`,size:20},e.createElement("title",null,l)):null}F.propTypes={iconDescription:t.string.isRequired,kind:t.oneOf(["error","success","warning","warning-alt","info","info-square"]).isRequired,notificationType:t.oneOf(["inline","toast"]).isRequired};function $t(n){let{["aria-label"]:l,ariaLabel:r,role:c="status",onClose:i,onCloseButtonClick:o=P,statusIconDescription:u,className:d,children:E,kind:f="error",lowContrast:b,hideCloseButton:C=!1,timeout:a=0,title:h,caption:$,subtitle:I,...g}=n;const[k,T]=m.useState(!0),N=B(),y=v(d,{[`${N}--toast-notification`]:!0,[`${N}--toast-notification--low-contrast`]:b,[`${N}--toast-notification--${f}`]:f}),L=m.useRef(null),s=_=>{(!i||i(_)!==!1)&&T(!1)},D=m.useRef(null);function R(_){o(_),s(_)}const O=m.useRef(i);return m.useEffect(()=>{O.current=i}),m.useEffect(()=>{if(!a)return;const _=window.setTimeout(A=>{T(!1),O.current&&O.current(A)},a);return()=>{window.clearTimeout(_)}},[a]),k?e.createElement("div",x({ref:D},g,{role:c,className:y}),e.createElement(F,{notificationType:"toast",kind:f,iconDescription:u||`${f} icon`}),e.createElement("div",{ref:L,className:`${N}--toast-notification__details`},h&&e.createElement(w,{as:"div",className:`${N}--toast-notification__title`},h),I&&e.createElement(w,{as:"div",className:`${N}--toast-notification__subtitle`},I),$&&e.createElement(w,{as:"div",className:`${N}--toast-notification__caption`},$),E),!C&&e.createElement(K,{notificationType:"toast",onClick:R,"aria-label":r||l})):null}$t.propTypes={"aria-label":t.string,ariaLabel:W(t.string),caption:t.string,children:t.node,className:t.string,hideCloseButton:t.bool,kind:t.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:t.bool,onClose:t.func,onCloseButtonClick:t.func,role:t.oneOf(["alert","log","status"]),statusIconDescription:t.string,subtitle:t.string,timeout:t.number,title:t.string};function _t(n){let{["aria-label"]:l,children:r,title:c,subtitle:i,role:o="status",onClose:u,onCloseButtonClick:d=P,statusIconDescription:E,className:f,kind:b="error",lowContrast:C,hideCloseButton:a=!1,...h}=n;const[$,I]=m.useState(!0),g=B(),k=v(f,{[`${g}--inline-notification`]:!0,[`${g}--inline-notification--low-contrast`]:C,[`${g}--inline-notification--${b}`]:b,[`${g}--inline-notification--hide-close-button`]:a}),T=m.useRef(null),N=s=>{(!u||u(s)!==!1)&&I(!1)},y=m.useRef(null);function L(s){d(s),N(s)}return $?e.createElement("div",x({ref:y},h,{role:o,className:k}),e.createElement("div",{className:`${g}--inline-notification__details`},e.createElement(F,{notificationType:"inline",kind:b,iconDescription:E||`${b} icon`}),e.createElement("div",{ref:T,className:`${g}--inline-notification__text-wrapper`},c&&e.createElement(w,{as:"div",className:`${g}--inline-notification__title`},c),i&&e.createElement(w,{as:"div",className:`${g}--inline-notification__subtitle`},i),r)),!a&&e.createElement(K,{notificationType:"inline",onClick:L,"aria-label":l})):null}_t.propTypes={"aria-label":t.string,children:t.node,className:t.string,hideCloseButton:t.bool,kind:t.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:t.bool,onClose:t.func,onCloseButtonClick:t.func,role:t.oneOf(["alert","log","status"]),statusIconDescription:t.string,subtitle:t.string,title:t.string};function wt(n){let{actionButtonLabel:l,["aria-label"]:r,ariaLabel:c,children:i,role:o="alertdialog",onActionButtonClick:u,onClose:d,onCloseButtonClick:E=P,statusIconDescription:f,className:b,inline:C=!1,kind:a="error",lowContrast:h,hideCloseButton:$=!1,hasFocus:I=!0,closeOnEscape:g=!0,title:k,subtitle:T,...N}=n;const[y,L]=m.useState(!0),s=B(),D=H("actionable-notification"),R=H("actionable-notification-subtitle"),O=v(b,{[`${s}--actionable-notification`]:!0,[`${s}--actionable-notification--toast`]:!C,[`${s}--actionable-notification--low-contrast`]:h,[`${s}--actionable-notification--${a}`]:a,[`${s}--actionable-notification--hide-close-button`]:$}),_=m.useRef(null),A=m.useRef(null),z=m.useRef(null),q=m.useRef(null),S=ot("enable-experimental-focus-wrap-without-sentinels");J(()=>{if(I&&o==="alertdialog"){const p=document.querySelector("button.cds--actionable-notification__action-button");p==null||p.focus()}});function U(p){let{target:V,relatedTarget:G}=p;if(y&&G&&V&&o==="alertdialog"){const{current:Z}=_,{current:tt}=A,{current:et}=z;ft({bodyNode:Z,startTrapNode:tt,endTrapNode:et,currentActiveNode:G,oldActiveNode:V})}}function X(p){y&&at(p,st)&&q.current&&o==="alertdialog"&&ut({containerNode:q.current,currentActiveNode:p.target,event:p})}const Y=p=>{(!d||d(p)!==!1)&&L(!1)};Nt(q,M,g);function M(p){E(p),Y(p)}return y?e.createElement("div",x({},N,{ref:q,role:o,className:O,"aria-labelledby":k?D:R,onBlur:S?()=>{}:U,onKeyDown:S?X:()=>{}}),!S&&e.createElement("span",{ref:A,tabIndex:0,role:"link",className:`${s}--visually-hidden`},"Focus sentinel"),e.createElement("div",{className:`${s}--actionable-notification__details`},e.createElement(F,{notificationType:C?"inline":"toast",kind:a,iconDescription:f||`${a} icon`}),e.createElement("div",{className:`${s}--actionable-notification__text-wrapper`},e.createElement("div",{className:`${s}--actionable-notification__content`},k&&e.createElement(w,{as:"div",className:`${s}--actionable-notification__title`,id:D},k),T&&e.createElement(w,{as:"div",className:`${s}--actionable-notification__subtitle`,id:R},T),i))),e.createElement("div",{className:`${s}--actionable-notification__button-wrapper`,ref:_},l&&e.createElement(j,{onClick:u,inline:C},l),!$&&e.createElement(K,{"aria-label":c||r,notificationType:"actionable",onClick:M})),!S&&e.createElement("span",{ref:z,tabIndex:0,role:"link",className:`${s}--visually-hidden`},"Focus sentinel")):null}wt.propTypes={actionButtonLabel:t.string,"aria-label":t.string,ariaLabel:W(t.string),children:t.node,className:t.string,closeOnEscape:t.bool,hasFocus:W(t.bool),hideCloseButton:t.bool,inline:t.bool,kind:t.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:t.bool,onActionButtonClick:t.func,onClose:t.func,onCloseButtonClick:t.func,role:t.string,statusIconDescription:t.string,subtitle:t.node,title:t.string};const ht=n=>({error:"warning",success:"info"})[n];function Q(n){let{actionButtonLabel:l,children:r,onActionButtonClick:c,title:i,titleId:o,subtitle:u,statusIconDescription:d,className:E,kind:f="info",lowContrast:b,...C}=n;const a=B(),h=v(E,{[`${a}--actionable-notification`]:!0,[`${a}--actionable-notification--low-contrast`]:b,[`${a}--actionable-notification--${f}`]:f,[`${a}--actionable-notification--hide-close-button`]:!0}),$=m.useRef(null);return e.createElement("div",x({ref:$},C,{className:h}),e.createElement("div",{className:`${a}--actionable-notification__details`},e.createElement(F,{notificationType:"inline",kind:f,iconDescription:d||`${f} icon`}),e.createElement("div",{className:`${a}--actionable-notification__text-wrapper`},i&&e.createElement(w,{as:"div",id:o,className:`${a}--actionable-notification__title`},i),u&&e.createElement(w,{as:"div",className:`${a}--actionable-notification__subtitle`},u),r)),e.createElement("div",{className:`${a}--actionable-notification__button-wrapper`},l&&e.createElement(j,{onClick:c,"aria-describedby":o,inline:!0},l)))}Q.propTypes={actionButtonLabel:t.string,children:t.node,className:t.string,kind:dt(t.oneOf(["error","info","info-square","success","warning","warning-alt"]),["warning","info"],ht),lowContrast:t.bool,onActionButtonClick:t.func,statusIconDescription:t.string,subtitle:t.node,title:t.string,titleId:t.string};const Ft=n=>e.createElement(Q,n);export{wt as A,Q as C,_t as I,j as N,Ft as S,$t as T,K as a};
