import{j as r,eo as z,p as Y,e as n,c as j,P as e,r as W,en as J}from"./iframe-YKw9nL_F.js";import{u as ne,C as oe,a as H,b as de,D as le,c as ce,S as ue,d as ge,P as me,K as pe,v as ye,r as Q,e as he,h as fe,f as xe,g as be,i as k}from"./modifiers.esm-DIvbOGEX.js";import{useMDXComponents as Z}from"./index-DjV6BemJ.js";const _e="@keyframes cds--hide-feedback{0%{opacity:1;visibility:inherit}to{opacity:0;visibility:hidden}}@keyframes cds--show-feedback{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:inherit}}@keyframes cds--skeleton{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}to{opacity:.3;transform:scaleX(0);transform-origin:left}}.cds--layout--size-xs{--cds-layout-size-height-context: var(--cds-layout-size-height-xs, 1.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xs{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xs, 1.5rem))}.cds--layout-constraint--size__min-xs{--cds-layout-size-height-min: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout-constraint--size__max-xs{--cds-layout-size-height-max: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout--size-sm{--cds-layout-size-height-context: var(--cds-layout-size-height-sm, 2rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-sm{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-sm, 2rem))}.cds--layout-constraint--size__min-sm{--cds-layout-size-height-min: var(--cds-layout-size-height-sm, 2rem)}.cds--layout-constraint--size__max-sm{--cds-layout-size-height-max: var(--cds-layout-size-height-sm, 2rem)}.cds--layout--size-md{--cds-layout-size-height-context: var(--cds-layout-size-height-md, 2.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-md{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-md, 2.5rem))}.cds--layout-constraint--size__min-md{--cds-layout-size-height-min: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout-constraint--size__max-md{--cds-layout-size-height-max: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout--size-lg{--cds-layout-size-height-context: var(--cds-layout-size-height-lg, 3rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-lg{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-lg, 3rem))}.cds--layout-constraint--size__min-lg{--cds-layout-size-height-min: var(--cds-layout-size-height-lg, 3rem)}.cds--layout-constraint--size__max-lg{--cds-layout-size-height-max: var(--cds-layout-size-height-lg, 3rem)}.cds--layout--size-xl{--cds-layout-size-height-context: var(--cds-layout-size-height-xl, 4rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xl, 4rem))}.cds--layout-constraint--size__min-xl{--cds-layout-size-height-min: var(--cds-layout-size-height-xl, 4rem)}.cds--layout-constraint--size__max-xl{--cds-layout-size-height-max: var(--cds-layout-size-height-xl, 4rem)}.cds--layout--size-2xl{--cds-layout-size-height-context: var(--cds-layout-size-height-2xl, 5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-2xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-2xl, 5rem))}.cds--layout-constraint--size__min-2xl{--cds-layout-size-height-min: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout-constraint--size__max-2xl{--cds-layout-size-height-max: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout--density-condensed{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-condensed, .5rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-condensed{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-condensed, .5rem))}.cds--layout-constraint--density__min-condensed{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout-constraint--density__max-condensed{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout--density-normal{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-normal, 1rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-normal{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-normal, 1rem))}.cds--layout-constraint--density__min-normal{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-normal, 1rem)}.cds--layout-constraint--density__max-normal{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-normal, 1rem)}:root{--cds-layout-size-height-xs: 1.5rem;--cds-layout-size-height-sm: 2rem;--cds-layout-size-height-md: 2.5rem;--cds-layout-size-height-lg: 3rem;--cds-layout-size-height-xl: 4rem;--cds-layout-size-height-2xl: 5rem;--cds-layout-size-height-min: 0px;--cds-layout-size-height-max: 999999999px;--cds-layout-density-padding-inline-condensed: .5rem;--cds-layout-density-padding-inline-normal: 1rem;--cds-layout-density-padding-inline-min: 0px;--cds-layout-density-padding-inline-max: 999999999px}.cds--assistive-text,.cds--visually-hidden{position:absolute;overflow:hidden;padding:0;border:0;margin:-1px;block-size:1px;clip:rect(0,0,0,0);inline-size:1px;visibility:inherit;white-space:nowrap}.c4p__draggable-item{position:relative;padding:.5rem;background-color:var(--cds-layer);block-size:3rem;border-block-end:1px solid var(--cds-border-subtle);cursor:grab;inline-size:320px;list-style-type:none}.c4p__draggable-item.c4p__draggable-item--horizontal{block-size:6rem;border-block-end:none;border-inline-end:1px solid var(--cds-border-subtle);inline-size:6rem}.c4p__draggable-item.c4p__draggable-item:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){.c4p__draggable-item.c4p__draggable-item:focus{outline-style:dotted}}.c4p__draggable-item--dragging{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px;position:relative;z-index:2000000;background-color:var(--cds-layer-hover);cursor:grabbing}@media screen and (prefers-contrast){.c4p__draggable-item--dragging{outline-style:dotted}}.c4p__draggable-item__assistive-text{position:absolute;visibility:hidden}.c4p__draggable-item__draggable-underlay{position:absolute;inline-size:100%;inset-block-start:0}.c4p__draggable-item__draggable-underlay-item{border:2px dashed var(--cds-focus, #0f62fe);background-color:#edf5ff;block-size:3rem;inline-size:100%}.c4p__draggable-item__list-container{position:relative}.c4p__draggable-item__list-container--grid,.c4p__draggable-item__draggable-underlay--grid{display:grid;grid-gap:var(--grid-gap);grid-template-columns:repeat(var(--col-count),1fr);max-inline-size:800px}.c4p__draggable-item--type{font-size:var(--cds-body-compact-01-font-size, .875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, .16px)}.c4p__draggable-item__list-container--horizontal,.c4p__draggable-item__draggable-underlay--horizontal{display:grid;grid-auto-flow:column;inline-size:100%}.c4p__draggable-item__draggable-underlay--horizontal .c4p__draggable-item__draggable-underlay-item{block-size:6rem}";function B(t){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...Z(),...t.components};return r.jsxs(r.Fragment,{children:[r.jsx(i.h1,{id:"drag-and-drop",children:"Drag and drop"}),`
`,r.jsx(i.p,{children:r.jsx(i.a,{href:"https://pages.github.ibm.com/carbon/ibm-products/patterns/drag-and-drop/usage/",rel:"nofollow",children:"Usage guidelines"})}),`
`,r.jsx(i.h2,{id:"table-of-contents",children:"Table of Contents"}),`
`,r.jsxs(i.ul,{children:[`
`,r.jsx(i.li,{children:r.jsx(i.a,{href:"#overview",children:"Overview"})}),`
`,r.jsx(i.li,{children:r.jsx(i.a,{href:"#example-usage",children:"Example usage"})}),`
`]}),`
`,r.jsx(i.h2,{id:"overview",children:"Overview"}),`
`,r.jsxs(i.p,{children:[`The following are drag and drop examples building upon the examples on the
`,r.jsx(i.a,{href:"https://pages.github.ibm.com/carbon/ibm-products/patterns/drag-and-drop/usage",rel:"nofollow",children:"PAL site"}),`.
While we are currently not providing these as exported components to use
directly, they can be used as references for drag and drop interactions. The
examples provided use `,r.jsx(i.code,{children:"@dnd-kit"}),", also used in ",r.jsx(i.code,{children:"@carbon/ibm-products"}),` for
customizing the order of columns in the Datagrid.`]}),`
`,`
`,`
`,`
`,`
`,`
`,r.jsx(i.h2,{id:"example-usage",children:"Example usage"}),`
`,r.jsx(i.h3,{id:"vertical-list",children:"Vertical list"}),`
`,r.jsx(z,{of:V}),`
`,r.jsx(i.h3,{id:"horizontal-list",children:"Horizontal list"}),`
`,r.jsx(z,{of:P}),`
`,r.jsx(i.h3,{id:"grid",children:"Grid"}),`
`,r.jsx(z,{of:X}),`
`,r.jsx(i.h3,{id:"grid-restrict-drag-to-window-edge",children:"Grid, restrict drag to window edge"}),`
`,r.jsx(z,{of:A}),`
`,r.jsx(i.h3,{id:"grid-with-large-item",children:"Grid, with large item"}),`
`,r.jsx(z,{of:L}),`
`,r.jsx(i.h3,{id:"grid-dashboard",children:"Grid, dashboard"}),`
`,r.jsx(z,{of:R})]})}function ze(t={}){const{wrapper:i}={...Z(),...t.components};return i?r.jsx(i,{...t,children:r.jsx(B,{...t})}):B(t)}const N=({isDragging:t=!1,type:i,id:o,setNodeRef:g=()=>{},attributes:m={},listeners:h={},assistiveText:d="Text for screen reader",children:l,value:x,dragOverlay:f,wrapperStyle:v,transform:q,transition:p})=>{const c=`${Y.prefix}__draggable-item`;return n.createElement("li",{className:j(`${c}--type`,c,{[`${c}--dragging`]:t,[`${c}--${i}`]:i,[`${c}--drag-overlay`]:f}),id:o,ref:g,style:{...v,transform:q,transition:p},...m,...h,role:"option","aria-selected":!0},n.createElement("span",{className:`${c}__assistive-text`},d),x||l)};N.propTypes={assistiveText:e.string,attributes:e.shape({"aria-describedby":e.string,"aria-disabled":e.bool,"aria-pressed":e.oneOfType([e.bool,void 0]),"aria-roledescription":e.string,role:e.string,tabIndex:e.number}),children:e.node,dragOverlay:e.bool,id:e.string,isDragging:e.bool,listeners:e.shape({onPointerDown:e.func,onKeyDown:e.func}),setNodeRef:e.func,style:e.object,transform:e.string,transition:e.string,type:e.string,value:e.node,wrapperStyle:e.object};N.__docgenInfo={description:"",methods:[],displayName:"Item",props:{isDragging:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},setNodeRef:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},attributes:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{"aria-describedby":{name:"string",required:!1},"aria-disabled":{name:"bool",required:!1},"aria-pressed":{name:"union",value:[{name:"bool"},{name:"custom",raw:"undefined"}],required:!1},"aria-roledescription":{name:"string",required:!1},role:{name:"string",required:!1},tabIndex:{name:"number",required:!1}}},required:!1},listeners:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{onPointerDown:{name:"func",required:!1},onKeyDown:{name:"func",required:!1}}},required:!1},assistiveText:{defaultValue:{value:"'Text for screen reader'",computed:!1},description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"node"},required:!1},dragOverlay:{description:"",type:{name:"bool"},required:!1},id:{description:"",type:{name:"string"},required:!1},style:{description:"",type:{name:"object"},required:!1},transform:{description:"",type:{name:"string"},required:!1},transition:{description:"",type:{name:"string"},required:!1},type:{description:"",type:{name:"string"},required:!1},value:{description:"",type:{name:"node"},required:!1},wrapperStyle:{description:"",type:{name:"object"},required:!1}}};const O=({id:t,children:i,assistiveText:o="Text for screen reader",type:g,useDragOverlay:m,wrapperStyle:h,index:d})=>{const{active:l,attributes:x,isDragging:f,listeners:v,setNodeRef:q,transform:p,transition:c}=ne({id:t});return n.createElement(N,{isDragging:f,attributes:x,type:g,setNodeRef:q,transform:oe.Translate.toString(p),transition:c,listeners:v,assistiveText:o,dragOverlay:!m&&f,wrapperStyle:h?.({index:d,isDragging:f,active:l,id:t})},i)};O.propTypes={assistiveText:e.string,children:e.node,id:e.oneOfType([e.string,e.number]),index:e.number,type:e.string,useDragOverlay:e.bool,wrapperStyle:e.func};O.__docgenInfo={description:"",methods:[],displayName:"SortableItem",props:{assistiveText:{defaultValue:{value:"'Text for screen reader'",computed:!1},description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"node"},required:!1},id:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},index:{description:"",type:{name:"number"},required:!1},type:{description:"",type:{name:"string"},required:!1},useDragOverlay:{description:"",type:{name:"bool"},required:!1},wrapperStyle:{description:"",type:{name:"func"},required:!1}}};const $=({children:t,draggableClass:i,type:o})=>n.createElement("ul",{className:j(`${i}__list-container`,{[`${i}__list-container--horizontal`]:o==="horizontal"})},t);$.propTypes={children:e.node,draggableClass:e.string,type:e.string};$.__docgenInfo={description:"",methods:[],displayName:"ListContainer",props:{children:{description:"",type:{name:"node"},required:!1},draggableClass:{description:"",type:{name:"string"},required:!1},type:{description:"",type:{name:"string"},required:!1}}};const G=({draggableClass:t,type:i,items:o,wrapperStyle:g,grid:m,activeId:h,includeUnderlay:d})=>{if(d)return n.createElement("div",{className:j(`${t}__draggable-underlay`,{[`${t}__draggable-underlay--horizontal`]:i==="horizontal",[`${t}__draggable-underlay--grid`]:m}),"aria-hidden":"true",key:"draggable-underlay"},o.map(l=>n.createElement("div",{className:`${t}__draggable-underlay-item`,key:`${l}__key`,style:{...g?.({index:l,isDragging:!1,active:null,id:l,activeId:h})}})))};G.propTypes={activeId:e.number,draggableClass:e.string,grid:e.bool,includeUnderlay:e.bool,items:e.array,type:e.string,wrapperStyle:e.func};G.__docgenInfo={description:"",methods:[],displayName:"Underlay",props:{activeId:{description:"",type:{name:"number"},required:!1},draggableClass:{description:"",type:{name:"string"},required:!1},grid:{description:"",type:{name:"bool"},required:!1},includeUnderlay:{description:"",type:{name:"bool"},required:!1},items:{description:"",type:{name:"array"},required:!1},type:{description:"",type:{name:"string"},required:!1},wrapperStyle:{description:"",type:{name:"func"},required:!1}}};const{action:F}=__STORYBOOK_MODULE_ACTIONS__,y=({type:t,sortableProps:i,Container:o=$,useDragOverlay:g=!0,wrapperStyle:m,strategy:h,withGrid:d,gridGap:l=J(12),itemCount:x=10,includeUnderlay:f=!0,modifiers:v=[],...q})=>{const[p,c]=W.useState(Array.from({length:x},(a,b)=>b+1)),[E,T]=W.useState(null),U=a=>p.indexOf(a),M=E?U(E):-1,I=`${Y.prefix}__draggable-item`,ee=H(me,{activationConstraint:{distance:4}}),te=H(pe,{coordinateGetter:(a,b)=>{const{currentCoordinates:s}=b;let _=a.target;for(;_&&!_.classList.contains(I);)_=_.parentNode;const K=d?parseInt(l):0,S=t!=="horizontal"?_.offsetHeight+K:_.offsetWidth+K;switch(a.code){case"ArrowRight":return t==="horizontal"||d?{...s,x:s.x+S}:s;case"ArrowLeft":return t==="horizontal"||d?{...s,x:s.x-S}:s;case"ArrowUp":return t==="horizontal"?s:{...s,y:s.y-S};case"ArrowDown":return t==="horizontal"?s:{...s,y:s.y+S}}}}),ie=({over:a})=>{if(F("handleDragEnd")(),T(null),a){const b=U(a.id);M!==b&&c(s=>ge(s,M,b))}},re=({active:a})=>{F("handleDragStart")(),a&&T(a.id)},ae=()=>{T(null)},se=de(ee,te);return n.createElement(le,{collisionDetection:ce,onDragEnd:ie,onDragStart:re,onDragCancel:ae,sensors:se,modifiers:v,...q},n.createElement(ue,{items:p,strategy:h,...i},n.createElement(o,{draggableClass:I,type:t,gridGap:d&&l},n.createElement(G,{draggableClass:I,items:p,type:t,wrapperStyle:m,grid:d,activeId:E,includeUnderlay:f}),p.map(a=>n.createElement(O,{id:a,key:`${a}__drag_key`,type:t,useDragOverlay:g,wrapperStyle:m,index:a},"Item ",a)))))};y.propTypes={Container:e.elementType,adjustScale:e.bool,gridGap:e.number,includeUnderlay:e.bool,itemCount:e.number,modifiers:e.arrayOf(e.func),restrictToParent:e.bool,sortableProps:e.object,strategy:e.func,type:e.string,useDragOverlay:e.bool,withGrid:e.bool,wrapperStyle:e.func};y.__docgenInfo={description:"",methods:[],displayName:"Sortable",props:{Container:{defaultValue:{value:`({ children, draggableClass, type }) => {
  return (
    <ul
      className={cx(\`\${draggableClass}__list-container\`, {
        [\`\${draggableClass}__list-container--horizontal\`]:
          type === 'horizontal',
      })}
    >
      {children}
    </ul>
  );
}`,computed:!1},description:"",type:{name:"elementType"},required:!1},useDragOverlay:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},gridGap:{defaultValue:{value:"px(12)",computed:!0},description:"",type:{name:"number"},required:!1},itemCount:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},includeUnderlay:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},modifiers:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"func"}},required:!1},adjustScale:{description:"",type:{name:"bool"},required:!1},restrictToParent:{description:"",type:{name:"bool"},required:!1},sortableProps:{description:"",type:{name:"object"},required:!1},strategy:{description:"",type:{name:"func"},required:!1},type:{description:"",type:{name:"string"},required:!1},withGrid:{description:"",type:{name:"bool"},required:!1},wrapperStyle:{description:"",type:{name:"func"},required:!1}}};const C=({children:t,columns:i,draggableClass:o,gridGap:g})=>n.createElement("ul",{className:j(`${o}__list-container`,`${o}__list-container--grid`),style:{"--col-count":i,"--grid-gap":g}},t);C.propTypes={children:e.node,columns:e.number,draggableClass:e.string,gridGap:e.string,type:e.string};C.__docgenInfo={description:"",methods:[],displayName:"GridContainer",props:{children:{description:"",type:{name:"node"},required:!1},columns:{description:"",type:{name:"number"},required:!1},draggableClass:{description:"",type:{name:"string"},required:!1},gridGap:{description:"",type:{name:"string"},required:!1},type:{description:"",type:{name:"string"},required:!1}}};const Se={title:"Patterns/Drag and drop",component:()=>{},tags:["autodocs"],argTypes:{borderColor:{control:"color"}},parameters:{styles:_e,docs:{page:ze}}},V=y.bind({});V.storyName="Vertical list";V.args={modifiers:[Q,he],strategy:ye};const P=y.bind({});P.storyName="Horizontal list";P.args={type:"horizontal",modifiers:[Q,xe],strategy:fe};const w=12,u=140,D={withGrid:!0,gridGap:J(w),adjustScale:!0,Container:t=>n.createElement(C,{...t,columns:5}),strategy:be,wrapperStyle:()=>({width:u,height:u})},X=y.bind({});X.storyName="Grid";X.args={...D};const A=y.bind({});A.storyName="Grid, restrict drag to window edges";A.args={...D,modifiers:[k]};const L=y.bind({});L.storyName="Grid, large item";L.args={...D,itemCount:20,includeUnderlay:!1,modifiers:[k],wrapperStyle:({index:t})=>t===1?{height:u*2+w,width:u*2+w,gridRowStart:"span 2",gridColumnStart:"span 2"}:{width:u,height:u}};const R=y.bind({});R.storyName="Grid, dashboard layout";R.args={...D,itemCount:3,includeUnderlay:!1,Container:t=>n.createElement(C,{...t,columns:4}),modifiers:[k],wrapperStyle:({index:t})=>{if(t===1)return{height:u*2+w,width:u*4+w,gridRowStart:"span 4",gridColumnStart:"span 4"};if(t===2||t===3)return{height:u,width:u*2,gridRowStart:"span 2",gridColumnStart:"span 2"}}};const je=["verticalExample","horizontalExample","gridExample","gridExampleRestrictToWindow","gridExampleLargeItem","gridDashboard"];export{je as __namedExportsOrder,Se as default,R as gridDashboard,X as gridExample,L as gridExampleLargeItem,A as gridExampleRestrictToWindow,P as horizontalExample,V as verticalExample};
