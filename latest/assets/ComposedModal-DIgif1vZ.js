import{b as D,c as x,_ as z,C as fe,P as t,l as me,u as ye,e as pe,i as U,E as be,T as ge}from"./index-CXyjPnaX.js";import{e as r,r as S}from"./index-CPiZ6Cnx.js";import{L as te}from"./index-Dcfl0vi2.js";import{I as Ce,B as K,n as O,k as he}from"./settings-DkGFwmHv.js";import{B as $e}from"./ButtonSet-DCPCKVSR.js";import{I as Ne}from"./InlineLoading-DZri6jHG.js";import{m as Se}from"./mergeRefs-CTUecegF.js";import{r as Ee}from"./requiredIfGivenPropIsTruthy-CU7JwK8h.js";import{b as Be,e as xe,w as we}from"./wrapFocus-i_P_nIQh.js";import{c as ve}from"./events-OVwOsPzJ.js";var j={exports:{}},o={},X;function Te(){if(X)return o;X=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=Symbol.for("react.element"),a=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),$=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),N;N=Symbol.for("react.module.reference");function n(e){if(typeof e=="object"&&e!==null){var B=e.$$typeof;switch(B){case u:switch(e=e.type,e){case d:case y:case m:case l:case p:return e;default:switch(e=e&&e.$$typeof,e){case $:case g:case c:case C:case b:case h:return e;default:return B}}case a:return B}}}return o.ContextConsumer=g,o.ContextProvider=h,o.Element=u,o.ForwardRef=c,o.Fragment=d,o.Lazy=C,o.Memo=b,o.Portal=a,o.Profiler=y,o.StrictMode=m,o.Suspense=l,o.SuspenseList=p,o.isAsyncMode=function(){return!1},o.isConcurrentMode=function(){return!1},o.isContextConsumer=function(e){return n(e)===g},o.isContextProvider=function(e){return n(e)===h},o.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===u},o.isForwardRef=function(e){return n(e)===c},o.isFragment=function(e){return n(e)===d},o.isLazy=function(e){return n(e)===C},o.isMemo=function(e){return n(e)===b},o.isPortal=function(e){return n(e)===a},o.isProfiler=function(e){return n(e)===y},o.isStrictMode=function(e){return n(e)===m},o.isSuspense=function(e){return n(e)===l},o.isSuspenseList=function(e){return n(e)===p},o.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===d||e===y||e===m||e===l||e===p||e===f||typeof e=="object"&&e!==null&&(e.$$typeof===C||e.$$typeof===b||e.$$typeof===h||e.$$typeof===g||e.$$typeof===c||e.$$typeof===N||e.getModuleId!==void 0)},o.typeOf=n,o}var Y;function Re(){return Y||(Y=1,j.exports=Te()),j.exports}var Z=Re();const ne=r.forwardRef(function(a,d){let{buttonOnClick:m,children:y,className:h,closeClassName:g,closeIconClassName:$,closeModal:c,iconDescription:l="Close",label:p,labelClassName:b,title:C,titleClassName:f,...N}=a;const n=D();function e(M){c==null||c(M),m==null||m(M)}const B=x(`${n}--modal-header`,h),w=x(`${n}--modal-header__label ${n}--type-delta`,b),R=x(`${n}--modal-header__heading ${n}--type-beta`,f),I=x(`${n}--modal-close`,g),i=x(`${n}--modal-close__icon`,$);return r.createElement("div",z({className:B},N,{ref:d}),p&&r.createElement("h2",{className:w},p),C&&r.createElement("h2",{className:R},C),y,r.createElement("div",{className:`${n}--modal-close-button`},r.createElement(Ce,{className:I,label:l,onClick:e,"aria-label":l,align:"left"},r.createElement(fe,{size:20,"aria-hidden":"true",tabIndex:"-1",className:i}))))});ne.propTypes={buttonOnClick:t.func,children:t.node,className:t.string,closeClassName:t.string,closeIconClassName:t.string,closeModal:t.func,iconDescription:t.string,label:t.node,labelClassName:t.string,title:t.node,titleClassName:t.string};function oe(u){let{secondaryButtons:a,secondaryButtonText:d,secondaryClassName:m,closeModal:y,onRequestClose:h,disabled:g}=u;function $(c){y(c),h(c)}return Array.isArray(a)&&a.length<=2?a.map((c,l)=>{let{buttonText:p,onClick:b}=c;return r.createElement(K,{key:`${p}-${l}`,className:m,kind:"secondary",onClick:b||$},p)}):d?r.createElement(K,{disabled:g,className:m,onClick:$,kind:"secondary"},d):null}oe.propTypes={closeModal:t.func,disabled:t.bool,onRequestClose:t.func,secondaryButtonText:t.string,secondaryButtons:(u,a,d)=>{if(u.secondaryButtons){if(!Array.isArray(u.secondaryButtons)||u.secondaryButtons.length!==2)return new Error(`${a} needs to be an array of two button config objects`);const m={buttonText:t.node,onClick:t.func};u[a].forEach(y=>{t.checkPropTypes(m,y,a,d)})}return null},secondaryClassName:t.string};const re=r.forwardRef(function(a,d){let{children:m,className:y,closeModal:h=O,danger:g,inputref:$,onRequestClose:c=O,onRequestSubmit:l=O,primaryButtonDisabled:p,primaryButtonText:b,primaryClassName:C,secondaryButtonText:f,secondaryButtons:N,secondaryClassName:n,loadingStatus:e="inactive",loadingDescription:B,loadingIconDescription:w,onLoadingSuccess:R=O,...I}=a;const i=D(),M=x(`${i}--modal-footer`,y,Array.isArray(N)&&N.length===2?`${i}--modal-footer--three-button`:null),L=x(C,e!=="inactive"?`${i}--btn--loading`:null),P=e!=="inactive",H={closeModal:h,secondaryButtons:N,secondaryButtonText:f,secondaryClassName:n,onRequestClose:c,disabled:P};return r.createElement($e,z({className:M},I,{ref:d,"aria-busy":P}),r.createElement(oe,H),b&&r.createElement(K,{onClick:l,className:L,disabled:P||p,kind:g?"danger":"primary",ref:$},e==="inactive"?b:r.createElement(Ne,{status:e,description:B,iconDescription:w,className:`${i}--inline-loading--btn`,onSuccess:R})),m)});re.propTypes={children:t.node,className:t.string,closeModal:t.func,danger:t.bool,inputref:t.oneOfType([t.func,t.shape({current:t.any})]),loadingDescription:t.string,loadingIconDescription:t.string,loadingStatus:t.oneOf(["inactive","active","finished","error"]),onLoadingSuccess:t.func,onRequestClose:t.func,onRequestSubmit:t.func,primaryButtonDisabled:t.bool,primaryButtonText:t.string,primaryClassName:t.string,secondaryButtonText:t.string,secondaryButtons:(u,a,d)=>{if(u.secondaryButtons){if(!Array.isArray(u.secondaryButtons)||u.secondaryButtons.length!==2)return new Error(`${a} needs to be an array of two button config objects`);const m={buttonText:t.node,onClick:t.func};u[a].forEach(y=>{t.checkPropTypes(m,y,a,d)})}return null},secondaryClassName:t.string};function ee(u,a,d){u.classList.contains(a)===!d&&u.classList[d?"add":"remove"](a)}const Ie=r.forwardRef(function(a,d){let{className:m,children:y,hasForm:h,hasScrollingContent:g,...$}=a;const c=D(),l=S.useRef(null),[p,b]=S.useState(!1),C=x({[`${c}--modal-content`]:!0,[`${c}--modal-content--with-form`]:h,[`${c}--modal-scroll-content`]:g||p},m);me(()=>{l.current&&b(l.current.scrollHeight>l.current.clientHeight);function N(){l.current&&b(l.current.scrollHeight>l.current.clientHeight)}const n=he(N,200);return window.addEventListener("resize",n),()=>{n.cancel(),window.removeEventListener("resize",n)}},[]);const f=g||p?{tabIndex:0,role:"region"}:{};return r.createElement(te,z({className:C},f,$,{ref:Se(l,d)}),y)});Ie.propTypes={"aria-label":Ee("hasScrollingContent",t.string),children:t.node,className:t.string,hasForm:t.bool,hasScrollingContent:t.bool};const Me=r.forwardRef(function(a,d){var Q;let{["aria-labelledby"]:m,["aria-label"]:y,children:h,className:g,containerClassName:$,danger:c,decorator:l,isFullWidth:p,onClose:b,onKeyDown:C,open:f,preventCloseOnClickOutside:N,selectorPrimaryFocus:n="[data-modal-primary-focus]",selectorsFloatingMenus:e,size:B,launcherButtonRef:w,slug:R,...I}=a;const i=D(),[M,L]=S.useState(!!f),[P,H]=S.useState(!!f),v=S.useRef(null),W=S.useRef(null),V=S.useRef(null),G=S.useRef(null),q=ye("enable-experimental-focus-wrap-without-sentinels");S.useEffect(()=>{f!==P&&(L(!!f),H(!!f),ee(document.body,`${i}--body--with-modal-open`,!!f))},[f,P,i]),S.useEffect(()=>()=>{ee(document.body,`${i}--body--with-modal-open`,!1)},[]);function se(s){s.stopPropagation(),U(s,be)&&A(s),q&&f&&U(s,ge)&&v.current&&Be({containerNode:v.current,currentActiveNode:s.target,event:s}),C==null||C(s)}function ae(s){const E=s.target;s.stopPropagation(),!N&&!xe(E,e)&&v.current&&!v.current.contains(E)&&A(s)}function le(s){let{target:E,relatedTarget:k}=s;if(f&&k&&E&&v.current){const{current:F}=v,{current:T}=V,{current:de}=G;we({bodyNode:F,startTrapNode:T,endTrapNode:de,currentActiveNode:k,oldActiveNode:E,selectorsFloatingMenus:e==null?void 0:e.filter(Boolean)})}}function A(s){(!b||b(s)!==!1)&&L(!1)}const ce=x(`${i}--modal`,{"is-visible":M,[`${i}--modal--danger`]:c,[`${i}--modal--slug`]:R,[`${i}--modal--decorator`]:l},g),ie=x(`${i}--modal-container`,B&&`${i}--modal-container--${B}`,p&&`${i}--modal-container--full-width`,$);let J;const ue=r.Children.toArray(h).map(s=>{switch(!0){case(Z.isElement(s)&&s.type===r.createElement(ne).type):{const E=s;return J=E.props.label,r.cloneElement(E,{closeModal:A})}case(Z.isElement(s)&&s.type===r.createElement(re).type):{const E=s;return r.cloneElement(E,{closeModal:A,inputref:W,danger:c})}default:return s}});S.useEffect(()=>{!f&&w&&setTimeout(()=>{var s;(s=w==null?void 0:w.current)==null||s.focus()})},[f,w]),S.useEffect(()=>{const s=k=>{const F=k||v.current,T=F?F.querySelector(c?`.${i}--btn--secondary`:n):null;return T||W&&W.current};f&&M&&(k=>{const F=s(k),T=k.querySelector(`.${i}--modal-close`);F?F.focus():!F&&T&&(T==null||T.focus())})(v.current)},[f,n,M]);let _=r.isValidElement(R??l)?R??l:null;return _&&((Q=_.type)==null?void 0:Q.displayName)==="AILabel"&&(_=r.cloneElement(_,{size:"sm"})),r.createElement(te,z({},I,{level:0,role:"presentation",ref:d,"aria-hidden":!f,onBlur:q?()=>{}:le,onClick:ve([I==null?void 0:I.onClick,ae]),onKeyDown:se,className:ce}),r.createElement("div",{className:ie,role:"dialog","aria-modal":"true","aria-label":y||J,"aria-labelledby":m},!q&&r.createElement("button",{type:"button",ref:V,className:`${i}--visually-hidden`},"Focus sentinel"),r.createElement("div",{ref:v,className:`${i}--modal-container-body`},R?_:l?r.createElement("div",{className:`${i}--modal--inner__decorator`},_):"",ue),!q&&r.createElement("button",{type:"button",ref:G,className:`${i}--visually-hidden`},"Focus sentinel")))});Me.propTypes={"aria-label":t.string,"aria-labelledby":t.string,children:t.node,className:t.string,containerClassName:t.string,danger:t.bool,decorator:t.node,isFullWidth:t.bool,launcherButtonRef:t.oneOfType([t.func,t.shape({current:t.any})]),onClose:t.func,onKeyDown:t.func,open:t.bool,preventCloseOnClickOutside:t.bool,selectorPrimaryFocus:t.string,selectorsFloatingMenus:t.arrayOf(t.string.isRequired),size:t.oneOf(["xs","sm","md","lg"]),slug:pe(t.node)};export{Me as C,ne as M,Ie as a,re as b,Z as r};
