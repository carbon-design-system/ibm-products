{"version":3,"file":"HeaderPanel-DZfuUsMf.js","sources":["../../../../node_modules/@carbon/react/es/components/UIShell/SwitcherItem.js","../../../../node_modules/@carbon/react/es/components/UIShell/SwitcherDivider.js","../../../../node_modules/@carbon/react/es/components/UIShell/Switcher.js","../../../../node_modules/@carbon/react/es/components/UIShell/HeaderPanel.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport React, { forwardRef } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport Link from './Link.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { ArrowDown, ArrowUp } from '../../internal/keyboard/keys.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport { AriaLabelPropType } from '../../prop-types/AriaPropTypes.js';\n\nconst SwitcherItem = /*#__PURE__*/forwardRef((props, forwardRef) => {\n  const {\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy,\n    className: customClassName,\n    children,\n    isSelected,\n    expanded,\n    tabIndex = expanded ? 0 : -1,\n    index,\n    handleSwitcherItemFocus,\n    onKeyDown = () => {},\n    href,\n    target,\n    rel,\n    ...rest\n  } = props;\n  const prefix = usePrefix();\n  const classNames = cx(`${prefix}--switcher__item`, {\n    [customClassName || '']: !!customClassName\n  });\n  const accessibilityLabel = {\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy\n  };\n  const linkClassName = cx(`${prefix}--switcher__item-link`, {\n    [`${prefix}--switcher__item-link--selected`]: isSelected\n  });\n  function setTabFocus(evt) {\n    if (match(evt, ArrowDown)) {\n      evt.preventDefault();\n      handleSwitcherItemFocus?.({\n        currentIndex: index || -1,\n        direction: 1\n      });\n    }\n    if (match(evt, ArrowUp)) {\n      evt.preventDefault();\n      handleSwitcherItemFocus?.({\n        currentIndex: index || -1,\n        direction: -1\n      });\n    }\n  }\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: classNames\n  }, /*#__PURE__*/React.createElement(Link, _extends({\n    onKeyDown: evt => {\n      setTabFocus(evt);\n      onKeyDown(evt);\n    },\n    href: href,\n    target: target,\n    rel: rel\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n    ,\n    ref: forwardRef\n  }, rest, {\n    className: linkClassName,\n    tabIndex: tabIndex\n  }, accessibilityLabel), children));\n});\nSwitcherItem.displayName = 'SwitcherItem';\nSwitcherItem.propTypes = {\n  ...AriaLabelPropType,\n  /**\n   * Specify the text content for the link\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * Optionally provide a custom class to apply to the underlying `<li>` node\n   */\n  className: PropTypes.string,\n  /**\n   * event handlers\n   */\n  handleSwitcherItemFocus: PropTypes.func,\n  /**\n   * Optionally provide an href for the underlying li`\n   */\n  href: PropTypes.string,\n  /**\n   * Specify the index of the SwitcherItem\n   */\n  index: PropTypes.number,\n  /**\n   * event handlers\n   */\n  onClick: PropTypes.func,\n  /**\n   * event handlers\n   */\n  onKeyDown: PropTypes.func,\n  /**\n   * Specify the tab index of the Link\n   */\n  tabIndex: PropTypes.number,\n  /**\n   * Specify where to open the link.\n   */\n  target: PropTypes.string,\n  /**\n   * The rel property for the link.\n   */\n  rel: PropTypes.string\n};\n\nexport { SwitcherItem as default };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport React from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport { usePrefix } from '../../internal/usePrefix.js';\n\nconst SwitcherDivider = ({\n  className: customClassName,\n  ...other\n}) => {\n  const prefix = usePrefix();\n  const classNames = cx(`${prefix}--switcher__item--divider`, {\n    [customClassName || '']: !!customClassName\n  });\n  return /*#__PURE__*/React.createElement(\"hr\", _extends({}, other, {\n    className: classNames\n  }));\n};\nSwitcherDivider.propTypes = {\n  /**\n   * Optionally provide a custom class to apply to the underlying `<li>` node\n   */\n  className: PropTypes.string\n};\n\nexport { SwitcherDivider as default };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport React, { forwardRef, useRef, Children, isValidElement, cloneElement } from 'react';\nimport cx from 'classnames';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { useMergedRefs } from '../../internal/useMergedRefs.js';\nimport PropTypes from 'prop-types';\nimport { AriaLabelPropType } from '../../prop-types/AriaPropTypes.js';\nimport SwitcherItem from './SwitcherItem.js';\nimport SwitcherDivider from './SwitcherDivider.js';\n\nconst Switcher = /*#__PURE__*/forwardRef((props, forwardRef) => {\n  const switcherRef = useRef(null);\n  const ref = useMergedRefs([switcherRef, forwardRef]);\n  const prefix = usePrefix();\n  const {\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy,\n    className: customClassName,\n    children,\n    expanded\n  } = props;\n  const accessibilityLabel = {\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy\n  };\n  const className = cx(`${prefix}--switcher`, {\n    [customClassName || '']: !!customClassName\n  });\n  const handleSwitcherItemFocus = ({\n    currentIndex,\n    direction\n  }) => {\n    const enabledIndices = Children.toArray(children).reduce((acc, child, i) => {\n      if (/*#__PURE__*/isValidElement(child) && child.type === SwitcherItem && Object.keys(child.props).length) {\n        acc.push(i);\n      }\n      return acc;\n    }, []);\n    const nextValidIndex = (() => {\n      const nextIndex = enabledIndices.indexOf(currentIndex) + direction;\n      switch (enabledIndices[nextIndex]) {\n        case undefined:\n          if (direction === -1) {\n            return enabledIndices[enabledIndices.length - 1];\n          }\n          return enabledIndices[0];\n        case 0:\n          if (direction === 1) {\n            return enabledIndices[1];\n          }\n        // eslint-disable-next-line   no-fallthrough -- https://github.com/carbon-design-system/carbon/issues/20452\n        default:\n          return enabledIndices[nextIndex];\n      }\n    })();\n    const switcherItem = switcherRef.current?.children[nextValidIndex]?.children[0];\n    if (switcherItem) {\n      switcherItem.focus();\n    }\n  };\n  const childrenWithProps = Children.toArray(children).map((child, index) => {\n    if (/*#__PURE__*/isValidElement(child) && child.type === SwitcherItem) {\n      return /*#__PURE__*/cloneElement(child, {\n        handleSwitcherItemFocus,\n        index,\n        key: index,\n        expanded\n      });\n    }\n    if (/*#__PURE__*/isValidElement(child) && child.type === SwitcherDivider) {\n      return /*#__PURE__*/cloneElement(child, {\n        key: index\n      });\n    }\n    return child;\n  });\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref,\n    className: className\n  }, accessibilityLabel), childrenWithProps);\n});\nSwitcher.displayName = 'Switcher';\nSwitcher.propTypes = {\n  /**\n   * Required props for accessibility label on the underlying menu\n   */\n  ...AriaLabelPropType,\n  /**\n   * expects to receive <SwitcherItem />\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * Optionally provide a custom class to apply to the underlying `<ul>` node\n   */\n  className: PropTypes.string,\n  /**\n   * Specify whether the panel is expanded\n   */\n  expanded: PropTypes.bool\n};\n\nexport { Switcher as default };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState, isValidElement } from 'react';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { Escape } from '../../internal/keyboard/keys.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport { useWindowEvent } from '../../internal/useEvent.js';\nimport { useMergedRefs } from '../../internal/useMergedRefs.js';\nimport Switcher from './Switcher.js';\nimport { noopFn } from '../../internal/noopFn.js';\n\nconst HeaderPanel = /*#__PURE__*/React.forwardRef(({\n  children,\n  className: customClassName,\n  expanded,\n  addFocusListeners = true,\n  onHeaderPanelFocus = noopFn,\n  href,\n  ...rest\n}, ref) => {\n  const prefix = usePrefix();\n  const headerPanelReference = useRef(null);\n  const headerPanelRef = useMergedRefs([headerPanelReference, ref]);\n  const controlled = useRef(expanded !== undefined).current;\n  const [expandedState, setExpandedState] = useState(expanded);\n  const expandedProp = controlled ? expanded : expandedState;\n  const [lastClickedElement, setLastClickedElement] = useState(null);\n  const className = cx(`${prefix}--header-panel`, {\n    [`${prefix}--header-panel--expanded`]: expandedProp,\n    [customClassName]: !!customClassName\n  });\n  const eventHandlers = {};\n  if (addFocusListeners) {\n    eventHandlers.onBlur = event => {\n      if (!event.currentTarget.contains(event.relatedTarget) && !lastClickedElement?.classList?.contains(`${prefix}--switcher__item-link`)) {\n        setExpandedState(false);\n        setLastClickedElement(null);\n        if (expanded) {\n          onHeaderPanelFocus();\n        }\n      }\n    };\n    eventHandlers.onKeyDown = event => {\n      if (match(event, Escape)) {\n        setExpandedState(false);\n        onHeaderPanelFocus();\n        if (href) {\n          window.location.href = href;\n        }\n      }\n    };\n  }\n  useWindowEvent('click', event => {\n    const target = event.target;\n    if (!(target instanceof HTMLElement)) return;\n    setLastClickedElement(target);\n    const isChildASwitcher = /*#__PURE__*/isValidElement(children) && typeof children.type !== 'string' && children.type === Switcher;\n    if (isChildASwitcher && !target.closest(`.${prefix}--header-panel--expanded`) && !target.closest(`.${prefix}--header__action`) && !headerPanelReference?.current?.classList.contains(`${prefix}--switcher`) && expanded) {\n      setExpandedState(false);\n      onHeaderPanelFocus();\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n    className: className,\n    ref: headerPanelRef\n  }, eventHandlers), children);\n});\nHeaderPanel.propTypes = {\n  /**\n   * Specify whether focus and blur listeners are added. They are by default.\n   */\n  addFocusListeners: PropTypes.bool,\n  /**\n   * The content that will render inside of the `HeaderPanel`\n   */\n  children: PropTypes.node,\n  /**\n   * Optionally provide a custom class to apply to the underlying `<li>` node\n   */\n  className: PropTypes.string,\n  /**\n   * Specify whether the panel is expanded\n   */\n  expanded: PropTypes.bool,\n  /**\n   * Provide the `href` to the id of the element on your package that could\n   * be target.\n   */\n  href: PropTypes.string,\n  /**\n   * An optional listener that is called a callback to collapse the HeaderPanel\n   */\n  onHeaderPanelFocus: PropTypes.func\n};\nHeaderPanel.displayName = 'HeaderPanel';\n\nexport { HeaderPanel as default };\n"],"names":["SwitcherItem","forwardRef","props","ariaLabel","ariaLabelledBy","customClassName","children","isSelected","expanded","tabIndex","index","handleSwitcherItemFocus","onKeyDown","href","target","rel","rest","prefix","usePrefix","classNames","cx","accessibilityLabel","linkClassName","setTabFocus","evt","match","ArrowDown","ArrowUp","React","Link","_extends","AriaLabelPropType","PropTypes","SwitcherDivider","other","Switcher","switcherRef","useRef","ref","useMergedRefs","className","currentIndex","direction","enabledIndices","Children","acc","child","i","isValidElement","nextValidIndex","nextIndex","switcherItem","childrenWithProps","HeaderPanel","addFocusListeners","onHeaderPanelFocus","noopFn","headerPanelReference","headerPanelRef","controlled","expandedState","setExpandedState","useState","expandedProp","lastClickedElement","setLastClickedElement","eventHandlers","event","Escape","useWindowEvent"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}