{"version":3,"file":"getAutoSizedColumnWidth-DoO6-Q7Z.js","sources":["../../src/components/Datagrid/useParentDimensions.js","../../src/components/Datagrid/useResizeTable.js","../../src/components/Datagrid/useInfiniteScroll.ts","../../src/components/Datagrid/Datagrid/DatagridSelectAllWithToggle.tsx","../../src/components/Datagrid/useSelectAllToggle.tsx","../../src/components/Datagrid/utils/getAutoSizedColumnWidth.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2020, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useRef, useState } from 'react';\n\nconst useParentDimensions = (hooks) => {\n  const rootRef = useRef(undefined);\n  const headRef = useRef(undefined);\n  const innerListRef = useRef(undefined);\n  const listRef = useRef(undefined);\n  const gridRef = useRef(undefined);\n  const [tableHeight, setTableHeight] = useState();\n\n  const useInstance = (instance) => {\n    const {\n      DatagridActions,\n      DatagridBatchActions,\n      totalColumnsWidth,\n      DatagridPagination,\n    } = instance;\n\n    const handleResize = () => {\n      const parent =\n        rootRef && rootRef.current && rootRef.current.parentElement;\n      if (!parent) {\n        return;\n      }\n      const parentHeight = parent.clientHeight;\n      const parentWidth = parent.clientWidth;\n      const headHeight =\n        headRef && headRef.current && headRef.current.clientHeight;\n      const parentStyles = window.getComputedStyle(parent);\n      const parentMarginBottom = parseFloat(\n        parentStyles.getPropertyValue('margin-bottom')\n      );\n      const parentPaddingBottom = parseFloat(\n        parentStyles.getPropertyValue('padding-bottom')\n      );\n      const parentMarginTop = parseFloat(\n        parentStyles.getPropertyValue('margin-top')\n      );\n      const parentPaddingTop = parseFloat(\n        parentStyles.getPropertyValue('padding-top')\n      );\n      const datagridActionsHeight =\n        DatagridActions || DatagridBatchActions ? 48 : 0;\n      const datagridPaginationHeight = DatagridPagination ? 48 : 0;\n      const hasHorizontalScrollbar = parentWidth < totalColumnsWidth;\n      const horizontalScrollbarHolder = hasHorizontalScrollbar ? 16 : 0;\n      const newHeight =\n        parentHeight -\n        headHeight -\n        parentMarginBottom -\n        parentPaddingBottom -\n        parentMarginTop -\n        parentPaddingTop -\n        datagridActionsHeight -\n        datagridPaginationHeight -\n        horizontalScrollbarHolder;\n      setTableHeight(newHeight);\n    };\n\n    Object.assign(instance, {\n      tableHeight: tableHeight || instance.tableHeight,\n      rootRef,\n      headRef,\n      innerListRef,\n      handleResize,\n      listRef,\n      gridRef,\n    });\n  };\n  hooks.useInstance.push(useInstance);\n};\n\nexport default useParentDimensions;\n","/**\n * Copyright IBM Corp. 2020, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useIsomorphicEffect } from '../../global/js/hooks';\n\nconst useResizeTable = (hooks) => {\n  const useInstanceBeforeDimensions = (instance) => {\n    const { rootRef, handleResize } = instance;\n    const parent = rootRef && rootRef.current && rootRef.current.parentElement;\n    useIsomorphicEffect(() => {\n      if (!parent) {\n        return () => {};\n      }\n      handleResize();\n      if (typeof ResizeObserver === 'function') {\n        let resizeObserver = new ResizeObserver(() => {\n          handleResize();\n        });\n        resizeObserver.observe(parent);\n        return () => {\n          resizeObserver.disconnect(parent);\n          resizeObserver = null;\n        };\n      }\n      return console.error(\n        'Could not resize table, no support for ResizeObserver'\n      );\n    }, [handleResize, parent]);\n  };\n  hooks.useInstanceBeforeDimensions.push(useInstanceBeforeDimensions);\n};\n\nexport default useResizeTable;\n","/**\n * Copyright IBM Corp. 2020, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useCallback } from 'react';\nimport { debounce } from '../../global/js/utils/debounce';\nimport useParentDimensions from './useParentDimensions';\nimport useResizeTable from './useResizeTable';\nimport { DataGridState } from './types';\nimport { Hooks, TableInstance } from 'react-table';\n\nconst useInfiniteScroll = (hooks: Hooks) => {\n  useParentDimensions(hooks);\n  useResizeTable(hooks);\n\n  const useInstance = (instance: TableInstance) => {\n    const {\n      isFetching,\n      tableHeight,\n      innerListRef,\n      fetchMoreData,\n      tableId,\n      loadMoreThreshold,\n    } = instance as DataGridState;\n    let tableElement;\n    if (typeof document !== 'undefined') {\n      tableElement = document.querySelector(`#${tableId}`);\n    }\n    const totalTableHeight = tableHeight || tableElement?.clientHeight;\n\n    const loadMoreThresholdValue =\n      typeof loadMoreThreshold === 'number' ? loadMoreThreshold : 200;\n\n    const emptyFetchData = () => {};\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const fetchMore = useCallback(\n      debounce(fetchMoreData || emptyFetchData, 3000),\n      [fetchMoreData]\n    );\n    const onScroll = ({ scrollDirection, scrollOffset }) => {\n      if (innerListRef && innerListRef.current) {\n        if (\n          !isFetching &&\n          scrollDirection === 'forward' &&\n          scrollOffset + totalTableHeight >=\n            innerListRef.current.clientHeight - loadMoreThresholdValue\n        ) {\n          if (fetchMoreData) {\n            fetchMore();\n          }\n        }\n      }\n    };\n\n    Object.assign(instance, {\n      onScroll,\n      withVirtualScroll: true,\n    });\n  };\n\n  hooks.useInstance.push(useInstance);\n};\n\nexport default useInfiniteScroll;\n","/**\n * Copyright IBM Corp. 2020, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useIsomorphicEffect } from '../../../global/js/hooks';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { Checkbox, OverflowMenu, OverflowMenuItem } from '@carbon/react';\nimport { CaretDown } from '@carbon/react/icons';\nimport { pkg } from '../../../settings';\nimport { DataGridState, DataGridToggleAllRowsProps } from '../types';\n\nconst blockClass = `${pkg.prefix}--datagrid`;\n\nconst SELECT_ALL_PAGE_ROWS = 'pageRows';\nconst SELECT_ALL_ROWS = 'allRows';\n\nconst SelectAllWithToggle = ({\n  tableId,\n  isFetching,\n  isAllRowsSelected,\n  selectAllToggle,\n  getToggleAllPageRowsSelectedProps,\n  getToggleAllRowsSelectedProps,\n  allPageRowsLabel = 'Select all on page',\n  allRowsLabel = 'Select all',\n  columns,\n  withStickyColumn,\n}: DataGridState) => {\n  const { onSelectAllRows, labels } = selectAllToggle || {};\n  const [selectAllMode, setSelectAllMode] = useState(SELECT_ALL_PAGE_ROWS);\n  useEffect(() => {\n    if (onSelectAllRows) {\n      onSelectAllRows(isAllRowsSelected && selectAllMode === SELECT_ALL_ROWS);\n    }\n  }, [isAllRowsSelected, selectAllMode, onSelectAllRows]);\n\n  const [windowSize, setWindowSize] = useState<number>();\n  useIsomorphicEffect(() => {\n    setWindowSize(window.innerWidth);\n    function updateSize() {\n      setWindowSize(window.innerWidth);\n    }\n    window.addEventListener('resize', updateSize);\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n\n  if (labels) {\n    allPageRowsLabel = labels?.allPageRows || allPageRowsLabel;\n    allRowsLabel = labels.allRows || allRowsLabel;\n  }\n  const getProps =\n    selectAllMode === SELECT_ALL_PAGE_ROWS\n      ? getToggleAllPageRowsSelectedProps\n      : getToggleAllRowsSelectedProps;\n  const { onChange, ...selectProps } = getProps() as DataGridToggleAllRowsProps;\n  const disabled = isFetching || selectProps.disabled;\n  const isFirstColumnStickyLeft =\n    columns?.[0]?.sticky === 'left' && withStickyColumn;\n  return (\n    <th\n      scope=\"col\"\n      className={cx(`${blockClass}__select-all-toggle-on`, {\n        [`${blockClass}__select-all-sticky-left`]:\n          isFirstColumnStickyLeft && (windowSize ?? 0) > 671,\n      })}\n    >\n      <span>\n        <Checkbox\n          {...selectProps}\n          name={`${tableId}-select-all-checkbox-name`}\n          onClick={(e: any) => {\n            onChange?.(e);\n          }}\n          disabled={disabled}\n          id={`${tableId}-select-all-checkbox-id`}\n          labelText={allRowsLabel as string}\n          hideLabel\n        />\n      </span>\n      <OverflowMenu\n        renderIcon={(props) => <CaretDown size={16} {...props} />}\n        size=\"sm\"\n        aria-label={allRowsLabel}\n        menuOptionsClass={`${blockClass}__select-all-toggle-overflow`}\n      >\n        <OverflowMenuItem\n          itemText={allPageRowsLabel as string}\n          requireTitle\n          disabled={disabled}\n          onClick={() => {\n            setSelectAllMode(SELECT_ALL_PAGE_ROWS);\n            // deselect all rows first\n            (getToggleAllRowsSelectedProps as any)?.()?.onChange({\n              target: { checked: false },\n            });\n            // select all row on current page\n            (getToggleAllPageRowsSelectedProps as any)().onChange({\n              target: { checked: true },\n            });\n          }}\n        />\n        <OverflowMenuItem\n          itemText={allRowsLabel as string}\n          requireTitle\n          disabled={disabled}\n          onClick={() => {\n            setSelectAllMode(SELECT_ALL_ROWS);\n            (getToggleAllRowsSelectedProps as any)().onChange({\n              target: { checked: true },\n            });\n          }}\n        />\n      </OverflowMenu>\n    </th>\n  );\n};\n\nSelectAllWithToggle.propTypes = {\n  allPageRowsLabel: PropTypes.string,\n  allRowsLabel: PropTypes.string,\n  columns: PropTypes.arrayOf(PropTypes.object),\n  getToggleAllPageRowsSelectedProps: PropTypes.func.isRequired,\n  getToggleAllRowsSelectedProps: PropTypes.func.isRequired,\n  isAllRowsSelected: PropTypes.bool.isRequired,\n  isFetching: PropTypes.bool,\n  selectAllToggle: PropTypes.object,\n  tableId: PropTypes.string.isRequired,\n  withStickyColumn: PropTypes.bool,\n};\n\nexport default SelectAllWithToggle;\n","/**\n * Copyright IBM Corp. 2021, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState } from 'react';\nimport cx from 'classnames';\nimport { selectionColumnId } from './common-column-ids';\nimport SelectAllWithToggle from './Datagrid/DatagridSelectAllWithToggle';\nimport { pkg } from '../../settings';\nimport { useIsomorphicEffect } from '../../global/js/hooks';\nimport { Hooks, TableInstance } from 'react-table';\nimport { DataGridState } from './types';\n\nconst blockClass = `${pkg.prefix}--datagrid__select-all`;\n\nconst useSelectAllToggle = (hooks: Hooks) => {\n  useSelectAllWithToggleComponent(hooks);\n  useAddClassNameToSelectRow(hooks);\n};\n\nconst useSelectAllWithToggleComponent = (hooks: Hooks) => {\n  const useInstance = (instance: TableInstance) => {\n    const { headers, DatagridPagination } = instance as DataGridState;\n    const headersWithSelectAllToggle = headers?.map((header) => {\n      if (header.id === selectionColumnId && DatagridPagination) {\n        Object.assign(header, {\n          Header,\n        });\n      }\n      return header;\n    });\n    Object.assign(instance, { headers: headersWithSelectAllToggle });\n  };\n  hooks.useInstance.push(useInstance);\n};\n\nconst useAddClassNameToSelectRow = (hooks: Hooks) => {\n  const [windowSize, setWindowSize] = useState(0);\n\n  useIsomorphicEffect(() => {\n    setWindowSize(window.innerWidth);\n    function updateSize() {\n      setWindowSize(window.innerWidth);\n    }\n    window.addEventListener('resize', updateSize);\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n\n  hooks.getCellProps.push((props, data) => {\n    const { column } = data.cell;\n    const { DatagridPagination, columns, withStickyColumn } =\n      data.instance as DataGridState;\n    const isFirstColumnStickyLeft =\n      columns[0]?.sticky === 'left' && withStickyColumn;\n    if (column.id === selectionColumnId && DatagridPagination) {\n      return [\n        props,\n        {\n          className: cx(`${blockClass}-toggle-on`, {\n            [`${blockClass}-sticky-left`]:\n              isFirstColumnStickyLeft && windowSize > 671,\n          }),\n        },\n      ];\n    }\n    return [props];\n  });\n};\n\nconst Header = (gridState: DataGridState) => {\n  const {\n    tableId,\n    isFetching,\n    selectAllToggle,\n    getToggleAllPageRowsSelectedProps,\n    getToggleAllRowsSelectedProps,\n    isAllRowsSelected,\n    withStickyColumn,\n    columns,\n  } = gridState;\n  const props = {\n    tableId,\n    isFetching,\n    selectAllToggle,\n    getToggleAllPageRowsSelectedProps,\n    getToggleAllRowsSelectedProps,\n    isAllRowsSelected,\n    withStickyColumn,\n    columns,\n  } as DataGridState;\n  return <SelectAllWithToggle {...props} />;\n};\n\nexport default useSelectAllToggle;\n","/**\n * Copyright IBM Corp. 2023, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { Row } from 'react-table';\n\nexport const getAutoSizedColumnWidth = (\n  rows: Array<Row<object>>,\n  accessor: string,\n  headerText: string\n): number => {\n  const maxWidth = 400;\n  const minWidth = 58;\n  const letterSpacing = 10;\n  const cellLength = Math.max(\n    ...rows.map((row) => (`${row[accessor]}` || '').length),\n    headerText.length\n  );\n  if (cellLength <= 3) {\n    return minWidth;\n  }\n  return Math.min(maxWidth, cellLength * letterSpacing + 16);\n};\n"],"names":["useParentDimensions","hooks","rootRef","useRef","headRef","innerListRef","listRef","gridRef","tableHeight","setTableHeight","useState","useInstance","instance","DatagridActions","DatagridBatchActions","totalColumnsWidth","DatagridPagination","handleResize","parent","parentHeight","parentWidth","headHeight","parentStyles","parentMarginBottom","parentPaddingBottom","parentMarginTop","parentPaddingTop","datagridActionsHeight","datagridPaginationHeight","horizontalScrollbarHolder","newHeight","useResizeTable","useInstanceBeforeDimensions","useIsomorphicEffect","resizeObserver","useInfiniteScroll","isFetching","fetchMoreData","tableId","loadMoreThreshold","tableElement","totalTableHeight","loadMoreThresholdValue","emptyFetchData","fetchMore","useCallback","debounce","scrollDirection","scrollOffset","blockClass","pkg","SELECT_ALL_PAGE_ROWS","SELECT_ALL_ROWS","SelectAllWithToggle","isAllRowsSelected","selectAllToggle","getToggleAllPageRowsSelectedProps","getToggleAllRowsSelectedProps","allPageRowsLabel","allRowsLabel","columns","withStickyColumn","onSelectAllRows","labels","selectAllMode","setSelectAllMode","useEffect","windowSize","setWindowSize","updateSize","getProps","onChange","selectProps","disabled","isFirstColumnStickyLeft","React","cx","Checkbox","e","OverflowMenu","props","CaretDown","OverflowMenuItem","PropTypes","useSelectAllToggle","useSelectAllWithToggleComponent","useAddClassNameToSelectRow","headers","headersWithSelectAllToggle","header","selectionColumnId","Header","data","column","gridState","getAutoSizedColumnWidth","rows","accessor","headerText","cellLength","row"],"mappings":"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"}