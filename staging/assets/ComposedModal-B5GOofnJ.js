import{b as A,c as T,_ as z,C as ye,P as t,u as be,p as ge,j as X,E as Ce,T as he,i as $e}from"./index--clQM3eT.js";import{e as n,r as N}from"./index-BOZkNhcz.js";import{L as oe}from"./index-_87NmGAs.js";import{I as Ne,n as q,B as K,f as Ee}from"./settings-BYgtfLKl.js";import{B as Se}from"./ButtonSet-BHSafAHF.js";import{I as we}from"./InlineLoading-CRp3J8hh.js";import{m as Be}from"./mergeRefs-CTUecegF.js";import{r as xe}from"./requiredIfGivenPropIsTruthy-CU7JwK8h.js";import{e as Te,b as ve,w as Me}from"./wrapFocus-DuCohhwL.js";import{c as Y}from"./events-OVwOsPzJ.js";var W={exports:{}},s={},Z;function Re(){if(Z)return s;Z=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=Symbol.for("react.element"),a=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),E=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function o(e){if(typeof e=="object"&&e!==null){var B=e.$$typeof;switch(B){case u:switch(e=e.type,e){case d:case p:case m:case l:case y:return e;default:switch(e=e&&e.$$typeof,e){case E:case g:case c:case C:case b:case h:return e;default:return B}}case a:return B}}}return s.ContextConsumer=g,s.ContextProvider=h,s.Element=u,s.ForwardRef=c,s.Fragment=d,s.Lazy=C,s.Memo=b,s.Portal=a,s.Profiler=p,s.StrictMode=m,s.Suspense=l,s.SuspenseList=y,s.isAsyncMode=function(){return!1},s.isConcurrentMode=function(){return!1},s.isContextConsumer=function(e){return o(e)===g},s.isContextProvider=function(e){return o(e)===h},s.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===u},s.isForwardRef=function(e){return o(e)===c},s.isFragment=function(e){return o(e)===d},s.isLazy=function(e){return o(e)===C},s.isMemo=function(e){return o(e)===b},s.isPortal=function(e){return o(e)===a},s.isProfiler=function(e){return o(e)===p},s.isStrictMode=function(e){return o(e)===m},s.isSuspense=function(e){return o(e)===l},s.isSuspenseList=function(e){return o(e)===y},s.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===d||e===p||e===m||e===l||e===y||e===f||typeof e=="object"&&e!==null&&(e.$$typeof===C||e.$$typeof===b||e.$$typeof===h||e.$$typeof===g||e.$$typeof===c||e.$$typeof===S||e.getModuleId!==void 0)},s.typeOf=o,s}var ee;function Ie(){return ee||(ee=1,W.exports=Re()),W.exports}var te=Ie();const re=n.forwardRef(function(a,d){let{buttonOnClick:m,children:p,className:h,closeClassName:g,closeIconClassName:E,closeModal:c,iconDescription:l="Close",label:y,labelClassName:b,title:C,titleClassName:f,...S}=a;const o=A();function e(F){c==null||c(F),m==null||m(F)}const B=T(`${o}--modal-header`,h),v=T(`${o}--modal-header__label ${o}--type-delta`,b),I=T(`${o}--modal-header__heading ${o}--type-beta`,f),w=T(`${o}--modal-close`,g),i=T(`${o}--modal-close__icon`,E);return n.createElement("div",z({className:B},S,{ref:d}),y&&n.createElement("h2",{className:v},y),C&&n.createElement("h2",{className:I},C),p,n.createElement("div",{className:`${o}--modal-close-button`},n.createElement(Ne,{className:w,label:l,onClick:e,"aria-label":l,align:"left"},n.createElement(ye,{size:20,"aria-hidden":"true",tabIndex:"-1",className:i}))))});re.propTypes={buttonOnClick:t.func,children:t.node,className:t.string,closeClassName:t.string,closeIconClassName:t.string,closeModal:t.func,iconDescription:t.string,label:t.node,labelClassName:t.string,title:t.node,titleClassName:t.string};function se(u){let{secondaryButtons:a,secondaryButtonText:d,secondaryClassName:m,closeModal:p,onRequestClose:h,disabled:g}=u;function E(c){p(c),h(c)}return Array.isArray(a)&&a.length<=2?n.createElement(n.Fragment,null,a.map((c,l)=>{let{buttonText:y,onClick:b}=c;return n.createElement(K,{key:`${y}-${l}`,className:m,kind:"secondary",onClick:b||E},y)})):d?n.createElement(K,{disabled:g,className:m,onClick:E,kind:"secondary"},d):null}se.propTypes={closeModal:t.func,disabled:t.bool,onRequestClose:t.func,secondaryButtonText:t.string,secondaryButtons:(u,a,d)=>{if(u.secondaryButtons){if(!Array.isArray(u.secondaryButtons)||u.secondaryButtons.length!==2)return new Error(`${a} needs to be an array of two button config objects`);const m={buttonText:t.node,onClick:t.func};u[a].forEach(p=>{t.checkPropTypes(m,p,a,d)})}return null},secondaryClassName:t.string};const ae=n.forwardRef(function(a,d){let{children:m,className:p,closeModal:h=q,danger:g,inputref:E,onRequestClose:c=q,onRequestSubmit:l=q,primaryButtonDisabled:y,primaryButtonText:b,primaryClassName:C,secondaryButtonText:f,secondaryButtons:S,secondaryClassName:o,loadingStatus:e="inactive",loadingDescription:B,loadingIconDescription:v,onLoadingSuccess:I=q,...w}=a;const i=A(),F=T(`${i}--modal-footer`,p,Array.isArray(S)&&S.length===2?`${i}--modal-footer--three-button`:null),D=T(C,e!=="inactive"?`${i}--btn--loading`:null),P=e!=="inactive",H={closeModal:h,secondaryButtons:S,secondaryButtonText:f,secondaryClassName:o,onRequestClose:c,disabled:P};return n.createElement(Se,z({className:F},w,{ref:d,"aria-busy":P}),n.createElement(se,H),b&&n.createElement(K,{onClick:l,className:D,disabled:P||y,kind:g?"danger":"primary",ref:E},e==="inactive"?b:n.createElement(we,{status:e,description:B,iconDescription:v,className:`${i}--inline-loading--btn`,onSuccess:I})),m)});ae.propTypes={children:t.node,className:t.string,closeModal:t.func,danger:t.bool,inputref:t.oneOfType([t.func,t.shape({current:t.any})]),loadingDescription:t.string,loadingIconDescription:t.string,loadingStatus:t.oneOf(["inactive","active","finished","error"]),onLoadingSuccess:t.func,onRequestClose:t.func,onRequestSubmit:t.func,primaryButtonDisabled:t.bool,primaryButtonText:t.string,primaryClassName:t.string,secondaryButtonText:t.string,secondaryButtons:(u,a,d)=>{if(u.secondaryButtons){if(!Array.isArray(u.secondaryButtons)||u.secondaryButtons.length!==2)return new Error(`${a} needs to be an array of two button config objects`);const m={buttonText:t.node,onClick:t.func};u[a].forEach(p=>{t.checkPropTypes(m,p,a,d)})}return null},secondaryClassName:t.string};function ne(u,a,d){u.classList.contains(a)===!d&&u.classList[d?"add":"remove"](a)}const Fe=n.forwardRef(function(a,d){let{className:m,children:p,hasForm:h,hasScrollingContent:g,...E}=a;const c=A(),l=N.useRef(null),[y,b]=N.useState(!1),C=T({[`${c}--modal-content`]:!0,[`${c}--modal-content--with-form`]:h,[`${c}--modal-scroll-content`]:g||y},m);ge(()=>{l.current&&b(l.current.scrollHeight>l.current.clientHeight);function S(){l.current&&b(l.current.scrollHeight>l.current.clientHeight)}const o=Ee(S,200);return window.addEventListener("resize",o),()=>{o.cancel(),window.removeEventListener("resize",o)}},[]);const f=g||y?{tabIndex:0,role:"region"}:{};return n.createElement(oe,z({className:C},f,E,{ref:Be(l,d)}),p)});Fe.propTypes={"aria-label":xe("hasScrollingContent",t.string),children:t.node,className:t.string,hasForm:t.bool,hasScrollingContent:t.bool};const ke=n.forwardRef(function(a,d){var U;let{["aria-labelledby"]:m,["aria-label"]:p,children:h,className:g,containerClassName:E,danger:c,decorator:l,isFullWidth:y,onClose:b,onKeyDown:C,open:f,preventCloseOnClickOutside:S,selectorPrimaryFocus:o="[data-modal-primary-focus]",selectorsFloatingMenus:e,size:B,launcherButtonRef:v,slug:I,...w}=a;const i=A(),[F,D]=N.useState(!!f),[P,H]=N.useState(!!f),x=N.useRef(null),j=N.useRef(null),V=N.useRef(null),G=N.useRef(null),J=N.useRef(null),L=be("enable-experimental-focus-wrap-without-sentinels");N.useEffect(()=>{f!==P&&(D(!!f),H(!!f),ne(document.body,`${i}--body--with-modal-open`,!!f))},[f,P,i]),N.useEffect(()=>()=>{ne(document.body,`${i}--body--with-modal-open`,!1)},[]);function le(r){r.stopPropagation(),X(r,Ce)&&O(r),L&&f&&X(r,he)&&x.current&&ve({containerNode:x.current,currentActiveNode:r.target,event:r}),C==null||C(r)}function ce(r){const $=r.target;J.current=$}function ie(r){const $=r.target,M=J.current;r.stopPropagation(),!S&&!Te($,e)&&x.current&&!x.current.contains($)&&!x.current.contains(M)&&O(r)}function ue(r){let{target:$,relatedTarget:M}=r;if(f&&M&&$&&x.current){const{current:k}=x,{current:R}=V,{current:pe}=G;Me({bodyNode:k,startTrapNode:R,endTrapNode:pe,currentActiveNode:M,oldActiveNode:$,selectorsFloatingMenus:e==null?void 0:e.filter(Boolean)})}}function O(r){(!b||b(r)!==!1)&&D(!1)}const de=T(`${i}--modal`,{"is-visible":F,[`${i}--modal--danger`]:c,[`${i}--modal--slug`]:I,[`${i}--modal--decorator`]:l},g),fe=T(`${i}--modal-container`,B&&`${i}--modal-container--${B}`,y&&`${i}--modal-container--full-width`,E);let Q;const me=n.Children.toArray(h).map(r=>{switch(!0){case(te.isElement(r)&&r.type===n.createElement(re).type):{const $=r;return Q=$.props.label,n.cloneElement($,{closeModal:O})}case(te.isElement(r)&&r.type===n.createElement(ae).type):{const $=r;return n.cloneElement($,{closeModal:O,inputref:j,danger:c})}default:return r}});N.useEffect(()=>{!f&&v&&setTimeout(()=>{var r;(r=v==null?void 0:v.current)==null||r.focus()})},[f,v]),N.useEffect(()=>{const r=M=>{const k=M||x.current,R=k?k.querySelector(c?`.${i}--btn--secondary`:o):null;return R||j&&j.current};f&&F&&(M=>{const k=r(M),R=M.querySelector(`.${i}--modal-close`);k?k.focus():!k&&R&&(R==null||R.focus())})(x.current)},[f,o,F]);let _=n.isValidElement(I??l)?I??l:null;return _&&((U=_.type)==null?void 0:U.displayName)==="AILabel"&&(_=n.cloneElement(_,{size:"sm"})),n.createElement(oe,z({},w,{level:0,role:"presentation",ref:d,"aria-hidden":!f,onBlur:L?()=>{}:ue,onClick:Y([w==null?void 0:w.onClick,ie]),onMouseDown:Y([w==null?void 0:w.onMouseDown,ce]),onKeyDown:le,className:de}),n.createElement("div",{className:fe,role:"dialog","aria-modal":"true","aria-label":p||Q,"aria-labelledby":m},!L&&n.createElement("button",{type:"button",ref:V,className:`${i}--visually-hidden`},"Focus sentinel"),n.createElement("div",{ref:x,className:`${i}--modal-container-body`},I?_:l?n.createElement("div",{className:`${i}--modal--inner__decorator`},_):"",me),!L&&n.createElement("button",{type:"button",ref:G,className:`${i}--visually-hidden`},"Focus sentinel")))});ke.propTypes={"aria-label":t.string,"aria-labelledby":t.string,children:t.node,className:t.string,containerClassName:t.string,danger:t.bool,decorator:t.node,isFullWidth:t.bool,launcherButtonRef:t.oneOfType([t.func,t.shape({current:t.any})]),onClose:t.func,onKeyDown:t.func,open:t.bool,preventCloseOnClickOutside:t.bool,selectorPrimaryFocus:t.string,selectorsFloatingMenus:t.arrayOf(t.string.isRequired),size:t.oneOf(["xs","sm","md","lg"]),slug:$e(t.node)};export{ke as C,re as M,Fe as a,ae as b,te as r};
