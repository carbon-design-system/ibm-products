import{b as H,k as Y,c as $,_ as Z,i as F,E as ee,T as ae,P as a}from"./index-Cd8snwnz.js";import{e as t,r as v}from"./index-BOZkNhcz.js";import{A as se}from"./Link-BQSADmVg.js";import{u as ne}from"./index-CN8ymWyE.js";import{u as D}from"./settings-DqneCnpo.js";import{b as te}from"./index-CtW6Lsnp.js";import{u as ie}from"./useMatchMedia-D20VLnTC.js";const I=["SideNavFooter","SideNavHeader","SideNavItems","SideNavMenu","SideNavLink"],re=v.createContext({});function oe(N,x){let{expanded:u,defaultExpanded:f=!1,isChildOfHeader:b=!0,"aria-label":y,"aria-labelledby":g,children:o,onToggle:c,className:S,href:L,isFixedNav:m=!1,isRail:d,isPersistent:V=!0,addFocusListeners:A=!0,addMouseListeners:W=!0,onOverlayClick:q,onSideNavBlur:M,enterDelayMs:R=100,...J}=N;const s=H(),{current:p}=v.useRef(u!==void 0),[K,E]=D(f),[h,T]=D(f),i=p?u:K,C=v.useRef(null),Q=Y([C,x]),l=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!i;p||E(n,R),c&&c(e,n),(p||d)&&T(n,R)},j={"aria-label":y,"aria-labelledby":g},z=$(S,{[`${s}--side-nav`]:!0,[`${s}--side-nav--expanded`]:i||h,[`${s}--side-nav--collapsed`]:!i&&m,[`${s}--side-nav--rail`]:d,[`${s}--side-nav--ux`]:b,[`${s}--side-nav--hidden`]:!V}),G=$({[`${s}--side-nav__overlay`]:!0,[`${s}--side-nav__overlay-active`]:i||h});let k=o;k=t.Children.map(o,e=>{var w,P;const n=p&&h||i;if(v.isValidElement(e)){const _=e;return t.cloneElement(_,{...I.includes(((w=_.type)==null?void 0:w.displayName)??((P=_.type)==null?void 0:P.name))?{isSideNavExpanded:n}:{}})}return e});const r={};A&&(r.onFocus=e=>{!e.currentTarget.contains(e.relatedTarget)&&d&&l(e,!0)},r.onBlur=e=>{e.currentTarget.contains(e.relatedTarget)||l(e,!1),!e.currentTarget.contains(e.relatedTarget)&&i&&!m&&M&&M()},r.onKeyDown=e=>{F(e,ee)&&(l(e,!1),L&&(window.location.href=L))}),W&&d&&(r.onMouseEnter=()=>{l(!0,!0)},r.onMouseLeave=()=>{E(!1),T(!1),l(!1,!1)},r.onClick=()=>{E(!0),T(!0),l(!0,!0)}),ne("keydown",e=>{const n=document.activeElement;F(e,ae)&&i&&!m&&C.current&&(n!=null&&n.classList.contains(`${s}--header__menu-toggle`))&&!n.closest("nav")&&C.current.focus()});const U=`(min-width: ${te.lg.width})`,X=ie(U);return t.createElement(re.Provider,{value:{isRail:d}},m?null:t.createElement("div",{className:G,onClick:q}),t.createElement("nav",Z({tabIndex:-1,ref:Q,className:`${s}--side-nav__navigation ${z}`,inert:d||i||X?void 0:-1},j,r,J),k))}const B=t.forwardRef(oe);B.displayName="SideNav";B.propTypes={...se,addFocusListeners:a.bool,addMouseListeners:a.bool,className:a.string,defaultExpanded:a.bool,enterDelayMs:a.number,expanded:a.bool,href:a.string,isChildOfHeader:a.bool,isFixedNav:a.bool,isPersistent:a.bool,isRail:a.bool,onOverlayClick:a.func,onSideNavBlur:a.func,onToggle:a.func};const O=N=>{let{className:x,children:u,isSideNavExpanded:f}=N;const b=H(),y=$([`${b}--side-nav__items`],x),g=t.Children.map(u,o=>{var c;if(t.isValidElement(o)){const S=(c=o.type)==null?void 0:c.displayName;return t.cloneElement(o,{...I.includes(S)?{isSideNavExpanded:f}:{}})}});return t.createElement("ul",{className:y},g)};O.displayName="SideNavItems";O.propTypes={children:a.node.isRequired,className:a.string,isSideNavExpanded:a.bool};export{B as S,O as a,re as b};
