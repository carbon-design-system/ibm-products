import{e as d,r as i,u as S,c as b,p as _,B as A,P as e}from"./iframe-Cff_uvRq.js";import{g as H}from"./devtools-CBto78fy.js";import{u as O}from"./useIsomorphicEffect-Dc9ng1CU.js";const l=`${_.prefix}--truncated-list`,T="TruncatedList",o={as:"ul",collapsedItemsLimit:5,expandedItemsLimit:10,onClick:()=>{},viewLessLabel:"View less",viewMoreLabel:r=>`View more (${r})`},f=d.forwardRef(({children:r,className:w,as:v=o.as,buttonClassName:L,collapsedItemsLimit:x=o.collapsedItemsLimit,expandedItemsLimit:I=o.expandedItemsLimit,onClick:h=o.onClick,viewLessLabel:N=o.viewLessLabel,viewMoreLabel:C=o.viewMoreLabel,...E},R)=>{const s=i.Children.toArray(r),a=Math.max(x,1),c=Math.min(I,s.length),[t,k]=i.useState(!0),[y,q]=i.useState(a*16),n=i.useRef(void 0),V=S(),$=()=>{k(u=>!u)};return i.useEffect(()=>{h(t)},[t,h]),i.useEffect(()=>{if(n&&s.length>0){const u=t?a:c,p=n.current?.childNodes;let g=0;for(let m=0;m<u;m++)if(p&&p[m]){const M=p[m],P=window?.getComputedStyle(M)?.height||"16";g+=parseInt(P)}q(g)}},[s,a,c,t,n]),O(()=>{n.current&&(n.current.style.height=`${y}px`)},[y]),d.createElement("div",{...E,className:b(l,w,t?`${l}--collapsed`:`${l}--expanded`,!t&&s.length<=c&&`${l}--expanded-all`),ref:R,...H(T)},d.createElement(v,{className:`${l}__list`,ref:n},t?s.slice(0,a):r),s.length>a&&d.createElement(A,{className:b(`${l}__button`,`${V}--link`,L),kind:"ghost",size:"sm",onClick:$},t?C(s.length-a):N))});f.displayName=T;f.propTypes={as:e.oneOfType([e.elementType,e.string]),buttonClassName:e.string,children:e.node.isRequired,className:e.string,collapsedItemsLimit:e.number,expandedItemsLimit:e.number,onClick:e.func,viewLessLabel:e.string,viewMoreLabel:e.func};f.__docgenInfo={description:"The `TruncatedList` allows consumers to control how many items are\nrevealed to the user while giving the user the ability to expand\nand see the entire list.",methods:[],displayName:"TruncatedList",props:{as:{required:!1,tsType:{name:"union",raw:"React.ElementType | string",elements:[{name:"ReactElementType",raw:"React.ElementType"},{name:"string"}]},description:"The type of list element to render.\nThis could be a `ul`, `ol`, or a custom React component.",defaultValue:{value:"'ul'",computed:!1},type:{name:"union",value:[{name:"elementType"},{name:"string"}]}},buttonClassName:{required:!1,tsType:{name:"string"},description:"Optional class name for expand/collapse button.",type:{name:"string"}},children:{required:!0,tsType:{name:"ReactNode"},description:"The contents of the TruncatedList.",type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},collapsedItemsLimit:{required:!1,tsType:{name:"number"},description:`Number of items to render and display when the list is truncated and collapsed.
Scrolling is not enabled when collapsed. The smallest number is 1.`,defaultValue:{value:"5",computed:!1},type:{name:"number"}},expandedItemsLimit:{required:!1,tsType:{name:"number"},description:`Maximum number of items to show when the list is expanded. All
items are rendered when the list is expanded. Scrolling is enabled
if there are more items to display than this number.`,defaultValue:{value:"10",computed:!1},type:{name:"number"}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: any) => void",signature:{arguments:[{type:{name:"any"},name:"value"}],return:{name:"void"}}},description:"Optional callback reports the collapsed state of the list.",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},viewLessLabel:{required:!1,tsType:{name:"string"},description:"Text label for when the list is expanded.",defaultValue:{value:"'View less'",computed:!1},type:{name:"string"}},viewMoreLabel:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: any) => ReactNode",signature:{arguments:[{type:{name:"any"},name:"value"}],return:{name:"ReactNode"}}},description:"Callback function for building the label when the list is collapsed.",defaultValue:{value:"(value) => `View more (${value})`",computed:!1},type:{name:"func"}}},composes:["PropsWithChildren"]};export{f as T};
