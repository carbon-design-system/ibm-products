import{r as c,e as y,c as P,p as L,P as u}from"./iframe-BbTYfv9-.js";import{d as B,s as O}from"./useDatagrid-CAIaMFvY.js";import{u as A}from"./useIsomorphicEffect-omIe2Oju.js";import{C as N}from"./Checkbox-C_vI3TFv.js";import{O as _}from"./index-DxyAS3QW.js";import{O as H}from"./OverflowMenuItem-BH5I5zXc.js";import{M as V}from"./bucket-2-BqdtHwJF.js";const $=n=>{const i=c.useRef(void 0),t=c.useRef(void 0),r=c.useRef(void 0),s=c.useRef(void 0),a=c.useRef(void 0),[e,o]=c.useState(),d=l=>{const{DatagridActions:f,DatagridBatchActions:w,totalColumnsWidth:T,DatagridPagination:b}=l,v=()=>{const m=i&&i.current&&i.current.parentElement;if(!m)return;const h=m.clientHeight,q=m.clientWidth,R=t&&t.current&&t.current.clientHeight,p=window.getComputedStyle(m),S=parseFloat(p.getPropertyValue("margin-bottom")),g=parseFloat(p.getPropertyValue("padding-bottom")),z=parseFloat(p.getPropertyValue("margin-top")),j=parseFloat(p.getPropertyValue("padding-top")),I=f||w?48:0,x=b?48:0,W=q<T?16:0,F=h-R-S-g-z-j-I-x-W;o(F)};Object.assign(l,{tableHeight:e||l.tableHeight,rootRef:i,headRef:t,innerListRef:r,handleResize:v,listRef:s,gridRef:a})};n.useInstance.push(d)},G=n=>{const i=t=>{const{rootRef:r,handleResize:s}=t,a=r&&r.current&&r.current.parentElement;A(()=>{if(!a)return()=>{};if(s(),typeof ResizeObserver=="function"){let e=new ResizeObserver(()=>{s()});return e.observe(a),()=>{e.disconnect(a),e=null}}return console.error("Could not resize table, no support for ResizeObserver")},[s,a])};n.useInstanceBeforeDimensions.push(i)},re=n=>{$(n),G(n);const i=t=>{const{isFetching:r,tableHeight:s,innerListRef:a,fetchMoreData:e,tableId:o,loadMoreThreshold:d}=t;let l;typeof document<"u"&&(l=document.querySelector(`#${o}`));const f=s||l?.clientHeight,w=typeof d=="number"?d:200,T=()=>{},b=c.useCallback(B(e||T,3e3),[e]);Object.assign(t,{onScroll:({scrollDirection:m,scrollOffset:h})=>{a&&a.current&&!r&&m==="forward"&&h+f>=a.current.clientHeight-w&&e&&b()},withVirtualScroll:!0})};n.useInstance.push(i)},C=`${L.prefix}--datagrid`,E="pageRows",M="allRows",D=({tableId:n,isFetching:i,isAllRowsSelected:t,selectAllToggle:r,getToggleAllPageRowsSelectedProps:s,getToggleAllRowsSelectedProps:a,allPageRowsLabel:e="Select all on page",allRowsLabel:o="Select all",columns:d,withStickyColumn:l})=>{const{onSelectAllRows:f,labels:w}=r||{},[T,b]=c.useState(E);c.useEffect(()=>{f&&f(t&&T===M)},[t,T,f]);const[v,m]=c.useState();A(()=>{m(window.innerWidth);function g(){m(window.innerWidth)}return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),w&&(e=w?.allPageRows||e,o=w.allRows||o);const h=T===E?s:a,{onChange:q,...R}=h(),p=i||R.disabled,S=d?.[0]?.sticky==="left"&&l;return y.createElement("th",{scope:"col",className:P(`${C}__select-all-toggle-on`,{[`${C}__select-all-sticky-left`]:S&&(v??0)>671})},y.createElement("span",null,y.createElement(N,{...R,name:`${n}-select-all-checkbox-name`,onClick:g=>{q?.(g)},disabled:p,id:`${n}-select-all-checkbox-id`,labelText:o,hideLabel:!0})),y.createElement(_,{renderIcon:g=>y.createElement(V,{size:16,...g}),size:"sm","aria-label":o,menuOptionsClass:`${C}__select-all-toggle-overflow`},y.createElement(H,{itemText:e,requireTitle:!0,disabled:p,onClick:()=>{b(E),a?.()?.onChange({target:{checked:!1}}),s().onChange({target:{checked:!0}})}}),y.createElement(H,{itemText:o,requireTitle:!0,disabled:p,onClick:()=>{b(M),a().onChange({target:{checked:!0}})}})))};D.propTypes={allPageRowsLabel:u.string,allRowsLabel:u.string,columns:u.arrayOf(u.object),getToggleAllPageRowsSelectedProps:u.func.isRequired,getToggleAllRowsSelectedProps:u.func.isRequired,isAllRowsSelected:u.bool.isRequired,isFetching:u.bool,selectAllToggle:u.object,tableId:u.string.isRequired,withStickyColumn:u.bool};D.__docgenInfo={description:"",methods:[],displayName:"SelectAllWithToggle",props:{withVirtualScroll:{required:!1,tsType:{name:"boolean"},description:""},DatagridPagination:{required:!1,tsType:{name:"JSXElementConstructor",elements:[{name:"any"}],raw:"JSXElementConstructor<any>"},description:""},isFetching:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},tableId:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},filterProps:{required:!1,tsType:{name:"FilterFlyoutProps"},description:""},state:{required:!0,tsType:{name:"DataGridTableState"},description:""},getFilterFlyoutProps:{required:!1,tsType:{name:"signature",type:"function",raw:"() => FilterFlyoutProps",signature:{arguments:[],return:{name:"FilterFlyoutProps"}}},description:""},DatagridActions:{required:!1,tsType:{name:"JSXElementConstructor",elements:[{name:"any"}],raw:"JSXElementConstructor<any>"},description:""},CustomizeColumnsTearsheet:{required:!1,tsType:{name:"JSXElementConstructor",elements:[{name:"any"}],raw:"JSXElementConstructor<any>"},description:""},fullHeightDatagrid:{required:!1,tsType:{name:"boolean"},description:""},variableRowHeight:{required:!1,tsType:{name:"boolean"},description:""},useDenseHeader:{required:!1,tsType:{name:"boolean"},description:""},withInlineEdit:{required:!1,tsType:{name:"boolean"},description:""},verticalAlign:{required:!1,tsType:{name:"string"},description:""},gridTitle:{required:!1,tsType:{name:"ReactNode"},description:""},gridDescription:{required:!1,tsType:{name:"ReactNode"},description:""},gridRef:{required:!1,tsType:{name:"MutableRefObject",elements:[{name:"HTMLDivElement"}],raw:"MutableRefObject<HTMLDivElement>"},description:""},DatagridBatchActions:{required:!1,tsType:{name:"signature",type:"function",raw:"(args) => ReactNode",signature:{arguments:[{name:"args"}],return:{name:"ReactNode"}}},description:""},batchActions:{required:!1,tsType:{name:"boolean"},description:""},row:{required:!0,tsType:{name:"DatagridRow"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"DatagridRow",elements:[{name:"any"}],raw:"DatagridRow<any>"}],raw:"Array<DatagridRow<any>>"},description:""},rowActions:{required:!1,tsType:{name:"Array",elements:[{name:"RowAction"}],raw:"RowAction[]"},description:""},columns:{required:!1,tsType:{name:"Array",elements:[{name:"DatagridColumn"}],raw:"Array<DatagridColumn>"},description:"",type:{name:"arrayOf",value:{name:"object"}}},key:{required:!1,tsType:{name:"any"},description:""},rowSize:{required:!1,tsType:{name:"union",raw:"'xs' | 'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:""},headers:{required:!1,tsType:{name:"Array",elements:[{name:"DataGridHeader",elements:[{name:"T"}],raw:"DataGridHeader<T>"}],raw:"Array<DataGridHeader<T>>"},description:""},headRef:{required:!1,tsType:{name:"MutableRefObject",elements:[{name:"HTMLDivElement"}],raw:"MutableRefObject<HTMLDivElement>"},description:""},HeaderRow:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  state?: object,
  ref?: MutableRefObject<HTMLDivElement>,
  group?: HeaderGroup<any>
) => ReactNode`,signature:{arguments:[{type:{name:"object"},name:"state"},{type:{name:"MutableRefObject",elements:[{name:"HTMLDivElement"}],raw:"MutableRefObject<HTMLDivElement>"},name:"ref"},{type:{name:"HeaderGroup",elements:[{name:"any"}],raw:"HeaderGroup<any>"},name:"group"}],return:{name:"ReactNode"}}},description:""},withStickyColumn:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},emptyStateTitle:{required:!1,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},emptyStateDescription:{required:!1,tsType:{name:"string"},description:""},emptyStateSize:{required:!1,tsType:{name:"union",raw:"'lg' | 'sm'",elements:[{name:"literal",value:"'lg'"},{name:"literal",value:"'sm'"}]},description:""},emptyStateType:{required:!1,tsType:{name:"string"},description:""},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:""},emptyStateAction:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  kind?: 'primary' | 'secondary' | 'tertiary';
  renderIcon?: CarbonIconType;
  onClick?: ButtonProps<React.ElementType>['onClick'];
  text?: string;
}`,signature:{properties:[{key:"kind",value:{name:"union",raw:"'primary' | 'secondary' | 'tertiary'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'tertiary'"}],required:!1}},{key:"renderIcon",value:{name:"CarbonIconType",required:!1}},{key:"onClick",value:{name:"ButtonProps['onClick']",raw:"ButtonProps<React.ElementType>['onClick']",required:!1}},{key:"text",value:{name:"string",required:!1}}]}},description:""},emptyStateLink:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  text?: string | ReactNode;
  href?: string;
}`,signature:{properties:[{key:"text",value:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}],required:!1}},{key:"href",value:{name:"string",required:!1}}]}},description:""},isTableSortable:{required:!1,tsType:{name:"boolean"},description:""},resizerAriaLabel:{required:!1,tsType:{name:"string"},description:""},onColResizeEnd:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},withNestedRows:{required:!1,tsType:{name:"boolean"},description:""},withExpandedRows:{required:!1,tsType:{name:"boolean"},description:""},withMouseHover:{required:!1,tsType:{name:"boolean"},description:""},setMouseOverRowIndex:{required:!1,tsType:{name:"signature",type:"function",raw:"(arg: any) => void",signature:{arguments:[{type:{name:"any"},name:"arg"}],return:{name:"void"}}},description:""},hideSelectAll:{required:!1,tsType:{name:"boolean"},description:""},radio:{required:!1,tsType:{name:"boolean"},description:""},onAllRowSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(rows: DatagridRow[], evt: any) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"DatagridRow"}],raw:"DatagridRow[]"},name:"rows"},{type:{name:"any"},name:"evt"}],return:{name:"void"}}},description:""},selectAllToggle:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  onSelectAllRows?: (args) => void;
  labels?: Labels;
}`,signature:{properties:[{key:"onSelectAllRows",value:{name:"signature",type:"function",raw:"(args) => void",signature:{arguments:[{name:"args"}],return:{name:"void"}},required:!1}},{key:"labels",value:{name:"Labels",required:!1}}]}},description:"",type:{name:"object"}},allPageRowsLabel:{required:!1,tsType:{name:"union",raw:"string | object",elements:[{name:"string"},{name:"object"}]},description:"",defaultValue:{value:"'Select all on page'",computed:!1},type:{name:"string"}},allRowsLabel:{required:!1,tsType:{name:"union",raw:"string | object",elements:[{name:"string"},{name:"object"}]},description:"",defaultValue:{value:"'Select all'",computed:!1},type:{name:"string"}},onSelectAllRows:{required:!1,tsType:{name:"signature",type:"function",raw:"(val?: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"val"}],return:{name:"void"}}},description:""},toolbarBatchActions:{required:!1,tsType:{name:"Array",elements:[{name:"ButtonProps",elements:[{name:"ReactElementType",raw:"React.ElementType"}],raw:"ButtonProps<React.ElementType>"}],raw:"ButtonProps<React.ElementType>[]"},description:""},setGlobalFilter:{required:!1,tsType:{name:"signature",type:"function",raw:"(filterValue: FilterValue) => void",signature:{arguments:[{type:{name:"FilterValue"},name:"filterValue"}],return:{name:"void"}}},description:""},batchActionMenuButtonLabel:{required:!1,tsType:{name:"string"},description:""},translateWithIdBatchActions:{required:!1,tsType:{name:"TableBatchActionsProps['translateWithId']",raw:"TableBatchActionsProps['translateWithId']"},description:""},toolbarBatchActionsDisplayMin:{required:!1,tsType:{name:"number"},description:""},onScroll:{required:!1,tsType:{name:"signature",type:"function",raw:"(evt?: any) => void",signature:{arguments:[{type:{name:"any"},name:"evt"}],return:{name:"void"}}},description:""},innerListRef:{required:!1,tsType:{name:"MutableRefObject",elements:[{name:"HTMLDivElement"}],raw:"MutableRefObject<HTMLDivElement>"},description:""},tableHeight:{required:!1,tsType:{name:"number"},description:""},virtualHeight:{required:!1,tsType:{name:"number"},description:""},listRef:{required:!1,tsType:{name:"MutableRefObject",elements:[{name:"any"}],raw:"MutableRefObject<any>"},description:""},handleResize:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onVirtualScroll:{required:!1,tsType:{name:"signature",type:"function",raw:"(evt?: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"evt"}],return:{name:"void"}}},description:""},fetchMoreData:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},loadMoreThreshold:{required:!1,tsType:{name:"number"},description:""},expandedRowIds:{required:!1,tsType:{name:"object"},description:""},onRowClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(row, event) => void",signature:{arguments:[{name:"row"},{name:"event"}],return:{name:"void"}}},description:""},onSort:{required:!1,tsType:{name:"boolean"},description:""},customizeColumnsProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  onSaveColumnPrefs?: (args) => void;
  labels?: ColumnLabels;
  isTearsheetOpen?: boolean;
  setIsTearsheetOpen?: (args: boolean) => void;
}`,signature:{properties:[{key:"onSaveColumnPrefs",value:{name:"signature",type:"function",raw:"(args) => void",signature:{arguments:[{name:"args"}],return:{name:"void"}},required:!1}},{key:"labels",value:{name:"ColumnLabels",required:!1}},{key:"isTearsheetOpen",value:{name:"boolean",required:!1}},{key:"setIsTearsheetOpen",value:{name:"signature",type:"function",raw:"(args: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"args"}],return:{name:"void"}},required:!1}}]}},description:""},CustomizeColumnsButton:{required:!1,tsType:{name:"signature",type:"function",raw:"(args: any) => ReactNode",signature:{arguments:[{type:{name:"any"},name:"args"}],return:{name:"ReactNode"}}},description:""},column:{required:!1,tsType:{name:"DatagridColumn"},description:""},expandedContentHeight:{required:!1,tsType:{name:"number"},description:""},onRowExpand:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  row: DatagridRow,
  event: React.MouseEvent<HTMLElement>
) => void`,signature:{arguments:[{type:{name:"DatagridRow"},name:"row"},{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLElement>",elements:[{name:"HTMLElement"}]},name:"event"}],return:{name:"void"}}},description:""},ExpandedRowContentComponent:{required:!1,tsType:{name:"JSXElementConstructor",elements:[{name:"any"}],raw:"JSXElementConstructor<any>"},description:""},getAsyncSubRows:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: DatagridRow) => void",signature:{arguments:[{type:{name:"DatagridRow"},name:"row"}],return:{name:"void"}}},description:""},enableSpacerColumn:{required:!1,tsType:{name:"boolean"},description:""},getToggleAllPageRowsSelectedProps:{description:"",type:{name:"func"},required:!0},getToggleAllRowsSelectedProps:{description:"",type:{name:"func"},required:!0},isAllRowsSelected:{description:"",type:{name:"bool"},required:!0}},composes:["TableCommonProps","Partial","Omit","UseRowSelectInstanceProps"]};const k=`${L.prefix}--datagrid__select-all`,ie=n=>{J(n),X(n)},J=n=>{const i=t=>{const{headers:r,DatagridPagination:s}=t,a=r?.map(e=>(e.id===O&&s&&Object.assign(e,{Header:U}),e));Object.assign(t,{headers:a})};n.useInstance.push(i)},X=n=>{const[i,t]=c.useState(0);A(()=>{t(window.innerWidth);function r(){t(window.innerWidth)}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),n.getCellProps.push((r,s)=>{const{column:a}=s.cell,{DatagridPagination:e,columns:o,withStickyColumn:d}=s.instance,l=o[0]?.sticky==="left"&&d;return a.id===O&&e?[r,{className:P(`${k}-toggle-on`,{[`${k}-sticky-left`]:l&&i>671})}]:[r]})},U=n=>{const{tableId:i,isFetching:t,selectAllToggle:r,getToggleAllPageRowsSelectedProps:s,getToggleAllRowsSelectedProps:a,isAllRowsSelected:e,withStickyColumn:o,columns:d}=n,l={tableId:i,isFetching:t,selectAllToggle:r,getToggleAllPageRowsSelectedProps:s,getToggleAllRowsSelectedProps:a,isAllRowsSelected:e,withStickyColumn:o,columns:d};return y.createElement(D,{...l})},se=(n,i,t)=>{const e=Math.max(...n.map(o=>(`${o[i]}`||"").length),t.length);return e<=3?58:Math.min(400,e*10+16)};export{ie as a,se as g,re as u};
//# sourceMappingURL=getAutoSizedColumnWidth-DoO6-Q7Z.js.map
