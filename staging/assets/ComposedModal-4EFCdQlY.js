import{b as A,d as k,_ as O,j as ce,P as e,u as te,n as Ne,k as ne,l as Ee,T as we,g as Be}from"./index-CGLP8AGt.js";import{e as n,r as B}from"./index-DtHxqM--.js";import{L as ie}from"./index-DsU5XOD_.js";import{I as ue,n as q,B as U,bi as Re}from"./settings-xxMXFJdE.js";import{B as ve}from"./ButtonSet-BsWIm-Fg.js";import{I as Se}from"./InlineLoading-xfVMb1Hs.js";import{m as Te}from"./mergeRefs-CTUecegF.js";import{r as _e}from"./requiredIfGivenPropIsTruthy-CU7JwK8h.js";import{e as ke,w as Me,a as Ie}from"./wrapFocus-CrmkdVI3.js";import{c as oe}from"./events-OVwOsPzJ.js";var Q={exports:{}},d={},re;function Fe(){if(re)return d;re=1;/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=60103,r=60106,c=60107,s=60108,o=60114,E=60109,$=60110,N=60112,m=60113,u=60120,C=60115,g=60116,w=60121,a=60122,R=60117,y=60129,h=60131;if(typeof Symbol=="function"&&Symbol.for){var p=Symbol.for;l=p("react.element"),r=p("react.portal"),c=p("react.fragment"),s=p("react.strict_mode"),o=p("react.profiler"),E=p("react.provider"),$=p("react.context"),N=p("react.forward_ref"),m=p("react.suspense"),u=p("react.suspense_list"),C=p("react.memo"),g=p("react.lazy"),w=p("react.block"),a=p("react.server.block"),R=p("react.fundamental"),y=p("react.debug_trace_mode"),h=p("react.legacy_hidden")}function b(t){if(typeof t=="object"&&t!==null){var H=t.$$typeof;switch(H){case l:switch(t=t.type,t){case c:case o:case s:case m:case u:return t;default:switch(t=t&&t.$$typeof,t){case $:case N:case g:case C:case E:return t;default:return H}}case r:return H}}}var _=E,v=l,f=N,M=c,z=g,D=C,j=r,S=o,W=s,G=m;return d.ContextConsumer=$,d.ContextProvider=_,d.Element=v,d.ForwardRef=f,d.Fragment=M,d.Lazy=z,d.Memo=D,d.Portal=j,d.Profiler=S,d.StrictMode=W,d.Suspense=G,d.isAsyncMode=function(){return!1},d.isConcurrentMode=function(){return!1},d.isContextConsumer=function(t){return b(t)===$},d.isContextProvider=function(t){return b(t)===E},d.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===l},d.isForwardRef=function(t){return b(t)===N},d.isFragment=function(t){return b(t)===c},d.isLazy=function(t){return b(t)===g},d.isMemo=function(t){return b(t)===C},d.isPortal=function(t){return b(t)===r},d.isProfiler=function(t){return b(t)===o},d.isStrictMode=function(t){return b(t)===s},d.isSuspense=function(t){return b(t)===m},d.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===c||t===o||t===y||t===s||t===m||t===u||t===h||typeof t=="object"&&t!==null&&(t.$$typeof===g||t.$$typeof===C||t.$$typeof===E||t.$$typeof===$||t.$$typeof===N||t.$$typeof===R||t.$$typeof===w||t[0]===a)},d.typeOf=b,d}var se;function De(){return se||(se=1,Q.exports=Fe()),Q.exports}var ae=De();const de=n.forwardRef(function(r,c){let{buttonOnClick:s,children:o,className:E,closeClassName:$,closeIconClassName:N,closeModal:m,iconDescription:u="Close",label:C,labelClassName:g,title:w,titleClassName:a,...R}=r;const y=A();function h(M){m==null||m(M),s==null||s(M)}const p=k(`${y}--modal-header`,E),b=k(`${y}--modal-header__label ${y}--type-delta`,g),_=k(`${y}--modal-header__heading ${y}--type-beta`,a),v=k(`${y}--modal-close`,$),f=k(`${y}--modal-close__icon`,N);return n.createElement("div",O({className:p},R,{ref:c}),C&&n.createElement("h2",{className:b},C),w&&n.createElement("h2",{className:_},w),o,n.createElement("div",{className:`${y}--modal-close-button`},n.createElement(ue,{className:v,label:u,onClick:h,"aria-label":u,align:"left"},n.createElement(ce,{size:20,"aria-hidden":"true",tabIndex:"-1",className:f}))))});de.propTypes={buttonOnClick:e.func,children:e.node,className:e.string,closeClassName:e.string,closeIconClassName:e.string,closeModal:e.func,iconDescription:e.string,label:e.node,labelClassName:e.string,title:e.node,titleClassName:e.string};function fe(l){let{secondaryButtons:r,secondaryButtonText:c,secondaryClassName:s,closeModal:o,onRequestClose:E,disabled:$}=l;function N(m){o(m),E(m)}return Array.isArray(r)&&r.length<=2?n.createElement(n.Fragment,null,r.map((m,u)=>{let{buttonText:C,onClick:g}=m;return n.createElement(U,{key:`${C}-${u}`,className:s,kind:"secondary",onClick:g||N},C)})):c?n.createElement(U,{disabled:$,className:s,onClick:N,kind:"secondary"},c):null}fe.propTypes={closeModal:e.func,disabled:e.bool,onRequestClose:e.func,secondaryButtonText:e.string,secondaryButtons:(l,r,c)=>{if(l.secondaryButtons){if(!Array.isArray(l.secondaryButtons)||l.secondaryButtons.length!==2)return new Error(`${r} needs to be an array of two button config objects`);const s={buttonText:e.node,onClick:e.func};l[r].forEach(o=>{e.checkPropTypes(s,o,r,c)})}return null},secondaryClassName:e.string};const me=n.forwardRef(function(r,c){let{children:s,className:o,closeModal:E=q,danger:$,inputref:N,onRequestClose:m=q,onRequestSubmit:u=q,primaryButtonDisabled:C,primaryButtonText:g,primaryClassName:w,secondaryButtonText:a,secondaryButtons:R,secondaryClassName:y,loadingStatus:h="inactive",loadingDescription:p,loadingIconDescription:b,onLoadingSuccess:_=q,...v}=r;const f=A(),M=k(`${f}--modal-footer`,o,Array.isArray(R)&&R.length===2?`${f}--modal-footer--three-button`:null),z=k(w,h!=="inactive"?`${f}--btn--loading`:null),D=h!=="inactive",j={closeModal:E,secondaryButtons:R,secondaryButtonText:a,secondaryClassName:y,onRequestClose:m,disabled:D};return n.createElement(ve,O({className:M},v,{ref:c,"aria-busy":D}),n.createElement(fe,j),g&&n.createElement(U,{onClick:u,className:z,disabled:D||C,kind:$?"danger":"primary",ref:N},h==="inactive"?g:n.createElement(Se,{status:h,description:p,iconDescription:b,className:`${f}--inline-loading--btn`,onSuccess:_})),s)});me.propTypes={children:e.node,className:e.string,closeModal:e.func,danger:e.bool,inputref:e.oneOfType([e.func,e.shape({current:e.any})]),loadingDescription:e.string,loadingIconDescription:e.string,loadingStatus:e.oneOf(["inactive","active","finished","error"]),onLoadingSuccess:e.func,onRequestClose:e.func,onRequestSubmit:e.func,primaryButtonDisabled:e.bool,primaryButtonText:e.string,primaryClassName:e.string,secondaryButtonText:e.string,secondaryButtons:(l,r,c)=>{if(l.secondaryButtons){if(!Array.isArray(l.secondaryButtons)||l.secondaryButtons.length!==2)return new Error(`${r} needs to be an array of two button config objects`);const s={buttonText:e.node,onClick:e.func};l[r].forEach(o=>{e.checkPropTypes(s,o,r,c)})}return null},secondaryClassName:e.string};const le=(l,r,c)=>{l.classList.toggle(r,c)},X=n.forwardRef((l,r)=>{let{children:c,className:s,modal:o,onCancel:E=q,onClick:$=q,onClose:N=q,onRequestClose:m=q,open:u=!1,...C}=l;const g=A(),w=B.useRef(null),a=r??w;function R(h){u&&o&&h.target===a.current&&m(h)}function y(h){R(h),$(h)}return B.useEffect(()=>{a.current&&(u?o?a.current.showModal():a.current.show():a.current.close())},[o,u]),n.createElement("dialog",O({},C,{className:k(`${g}--dialog`,{[`${g}--dialog--modal`]:o},s),ref:a,onCancel:E,onClick:y,onClose:N}),c)});X.displayName="Dialog";X.propTypes={children:e.node,className:e.string,modal:e.bool,onRequestClose:e.func,open:e.bool};const xe=n.forwardRef((l,r)=>{let{children:c,...s}=l;const o=A();return n.createElement("div",O({className:`${o}--dialog__header`,ref:r},s),c)});xe.propTypes={children:e.node};const Pe=n.forwardRef((l,r)=>{let{children:c,...s}=l;const o=A();return n.createElement("div",O({className:`${o}--dialog__header-controls`,ref:r},s),c)});Pe.propTypes={children:e.node};const qe=n.forwardRef((l,r)=>{let{onClick:c,...s}=l;const o=A();return n.createElement(ue,O({kind:"ghost",className:`${o}--dialog__close`,label:"Close",title:"Close","aria-label":"Close",align:"left",onClick:c},s),n.createElement(ce,{size:20,"aria-hidden":"true",tabIndex:"-1",className:`${o}--icon__close`}))});qe.propTypes={onClick:e.func};const Ae=n.forwardRef(function(r,c){let{className:s,children:o,hasForm:E,hasScrollingContent:$,...N}=r;const m=A(),u=B.useRef(null),[C,g]=B.useState(!1),w=k({[`${m}--modal-content`]:!0,[`${m}--modal-content--with-form`]:E,[`${m}--modal-scroll-content`]:$||C},s);Ne(()=>{u.current&&g(u.current.scrollHeight>u.current.clientHeight);function R(){u.current&&g(u.current.scrollHeight>u.current.clientHeight)}const y=Re(R,200);return window.addEventListener("resize",y),()=>{y.cancel(),window.removeEventListener("resize",y)}},[]);const a=$||C?{tabIndex:0,role:"region"}:{};return n.createElement(ie,O({className:w},a,N,{ref:Te(u,c)}),o)});Ae.propTypes={"aria-label":_e("hasScrollingContent",e.string),children:e.node,className:e.string,hasForm:e.bool,hasScrollingContent:e.bool};const Oe=n.forwardRef(function(r,c){var ee;let{["aria-labelledby"]:s,["aria-label"]:o,children:E,className:$,containerClassName:N,danger:m,decorator:u,isFullWidth:C,onClose:g,onKeyDown:w,open:a,preventCloseOnClickOutside:R,selectorPrimaryFocus:y="[data-modal-primary-focus]",selectorsFloatingMenus:h,size:p,launcherButtonRef:b,slug:_,...v}=r;const f=A(),[M,z]=B.useState(!!a),[D,j]=B.useState(!!a),S=B.useRef(null),W=B.useRef(null),G=B.useRef(null),t=B.useRef(null),H=B.useRef(null),L=te("enable-dialog-element"),K=te("enable-experimental-focus-wrap-without-sentinels");B.useEffect(()=>{!L&&a!==D&&(z(!!a),j(!!a),le(document.body,`${f}--body--with-modal-open`,!!a))},[a,D,f]),B.useEffect(()=>{if(!L)return()=>{le(document.body,`${f}--body--with-modal-open`,!1)}},[]);function pe(i){L||(i.stopPropagation(),ne(i,Ee)&&V(i),K&&a&&ne(i,we)&&S.current&&Me({containerNode:S.current,currentActiveNode:i.target,event:i})),w==null||w(i)}function ye(i){const T=i.target;H.current=T}function ge(i){const T=i.target,I=H.current;i.stopPropagation(),!R&&!ke(T,h)&&S.current&&!S.current.contains(T)&&!S.current.contains(I)&&V(i)}function be(i){let{target:T,relatedTarget:I}=i;if(a&&I&&T&&S.current){const{current:P}=S,{current:F}=G,{current:$e}=t;Ie({bodyNode:P,startTrapNode:F,endTrapNode:$e,currentActiveNode:I,oldActiveNode:T,selectorsFloatingMenus:h==null?void 0:h.filter(Boolean)})}}function V(i){(!g||g(i)!==!1)&&z(!1)}const Ce=k(`${f}--modal`,{"is-visible":M,[`${f}--modal--danger`]:m,[`${f}--modal--slug`]:_,[`${f}--modal--decorator`]:u},$),Y=k(`${f}--modal-container`,p&&`${f}--modal-container--${p}`,C&&`${f}--modal-container--full-width`,N);let J;const Z=n.Children.toArray(E).map(i=>{switch(!0){case(ae.isElement(i)&&i.type===n.createElement(de).type):{const T=i;return J=T.props.label,n.cloneElement(T,{closeModal:V})}case(ae.isElement(i)&&i.type===n.createElement(me).type):{const T=i;return n.cloneElement(T,{closeModal:V,inputref:W,danger:m})}default:return i}});B.useEffect(()=>{!L&&!a&&b&&setTimeout(()=>{var i;(i=b==null?void 0:b.current)==null||i.focus()})},[a,b]),B.useEffect(()=>{if(!L){const i=I=>{const P=I||S.current,F=P?P.querySelector(m?`.${f}--btn--secondary`:y):null;return F||W&&W.current};a&&M&&(I=>{const P=i(I),F=I.querySelector(`.${f}--modal-close`);P?P.focus():!P&&F&&(F==null||F.focus())})(S.current)}},[a,y,M]);let x=n.isValidElement(_??u)?_??u:null;x&&((ee=x.type)==null?void 0:ee.displayName)==="AILabel"&&(x=n.cloneElement(x,{size:"sm"}));const he=L?n.createElement(X,{open:a,modal:!0,className:Y,"aria-label":o||J,"aria-labelledby":s},n.createElement("div",{ref:S,className:`${f}--modal-container-body`},_?x:u?n.createElement("div",{className:`${f}--modal--inner__decorator`},x):"",Z)):n.createElement("div",{className:Y,role:"dialog","aria-modal":"true","aria-label":o||J,"aria-labelledby":s},!K&&n.createElement("button",{type:"button",ref:G,className:`${f}--visually-hidden`},"Focus sentinel"),n.createElement("div",{ref:S,className:`${f}--modal-container-body`},_?x:u?n.createElement("div",{className:`${f}--modal--inner__decorator`},x):"",Z),!K&&n.createElement("button",{type:"button",ref:t,className:`${f}--visually-hidden`},"Focus sentinel"));return n.createElement(ie,O({},v,{level:0,role:"presentation",ref:c,"aria-hidden":!a,onBlur:!L&&!K?be:()=>{},onClick:oe([v==null?void 0:v.onClick,ge]),onMouseDown:oe([v==null?void 0:v.onMouseDown,ye]),onKeyDown:pe,className:Ce}),he)});Oe.propTypes={"aria-label":e.string,"aria-labelledby":e.string,children:e.node,className:e.string,containerClassName:e.string,danger:e.bool,decorator:e.node,isFullWidth:e.bool,launcherButtonRef:e.oneOfType([e.func,e.shape({current:e.any})]),onClose:e.func,onKeyDown:e.func,open:e.bool,preventCloseOnClickOutside:e.bool,selectorPrimaryFocus:e.string,selectorsFloatingMenus:e.arrayOf(e.string.isRequired),size:e.oneOf(["xs","sm","md","lg"]),slug:Be(e.node)};export{Oe as C,de as M,Ae as a,me as b,ae as r,le as t,X as u};
