import{r as u,e as t}from"./index-CPiZ6Cnx.js";import{u as ce}from"./uuidv4-BQrI85uz.js";import{c as B,C as le,P as o}from"./index-CXyjPnaX.js";import{g as j}from"./devtools-BgfuqBVa.js";import{p as v,B as S,a as ue}from"./settings-DkGFwmHv.js";import{c as me}from"./bucket-5-CJguTH3X.js";import{u as de}from"./useIsomorphicEffect-CqAX3nH-.js";import{l as Z}from"./lodash-CJO4g-jK.js";import{S as pe}from"./SteppedAnimatedMedia-CV63aKFL.js";import{C as fe}from"./Carousel-CW3ZI-go.js";var he=(e=>(e.DEFAULT="default",e))(he||{}),V=(e=>(e.TOOLTIP="tooltip",e.FLOATING="floating",e.FIXED="fixed",e.STACKED="stacked",e))(V||{}),g=(e=>(e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e))(g||{});const ye=u.createContext(),ie=()=>u.useContext(ye),te=`${v.prefix}--coachmark-dragbar`,oe=`${v.prefix}--coachmark-overlay`,K="CoachmarkDragbar",H={closeIconDescription:"Close",onDrag:()=>{},onClose:()=>{},showCloseButton:!0,theme:"light"};let F=t.forwardRef(({a11yKeyboardHandler:e,closeIconDescription:m=H.closeIconDescription,onClose:i=H.onClose,onDrag:n=H.onDrag,showCloseButton:r=H.showCloseButton,theme:l=H.theme,...p},P)=>{const[w,D]=u.useState(!1);u.useEffect(()=>{const k=()=>D(!1);return window.addEventListener("mouseup",k),()=>{window.removeEventListener("mouseup",k)}},[]),u.useEffect(()=>{const k=T=>{n(T.movementX,T.movementY)};return w&&window.addEventListener("mousemove",k),()=>{window.removeEventListener("mousemove",k)}},[w,n]);const x=()=>D(!0);return t.createElement("header",{...p,className:B(te,`${te}__${l}`,{}),ref:P,...j(K)},t.createElement("button",{type:"button",className:`${oe}__handle`,onMouseDown:x,onKeyDown:e,title:"Drag Handle"},t.createElement(me,{size:"16"})),r&&t.createElement(S,{kind:"ghost",size:"sm",renderIcon:le,iconDescription:m,hasIconOnly:!0,className:`${oe}--close-btn`,onClick:i}))});F=v.checkComponentEnabled(F,K);F.displayName=K;F.propTypes={a11yKeyboardHandler:o.func.isRequired,closeIconDescription:o.string,onClose:o.func,onDrag:o.func,showCloseButton:o.bool,theme:o.oneOf(["light","dark"])};F.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.`,methods:[],displayName:"CoachmarkDragbar",props:{closeIconDescription:{defaultValue:{value:"'Close'",computed:!1},description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"},required:!1},onClose:{defaultValue:{value:"() => {}",computed:!1},description:"Function to call when the close button is clicked.",type:{name:"func"},required:!1},onDrag:{defaultValue:{value:"() => {}",computed:!1},description:`Function to call when the user clicks and drags the Coachmark.
For internal use only by the parent CoachmarkOverlay.`,type:{name:"func"},required:!1},showCloseButton:{defaultValue:{value:"true",computed:!1},description:'Show/hide the "X" close button.',type:{name:"bool"},required:!1},theme:{defaultValue:{value:"'light'",computed:!1},description:"Determines the theme of the component.",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},a11yKeyboardHandler:{description:"Handler to manage keyboard interactions with the dragbar.",type:{name:"func"},required:!0}}};const ne=`${v.prefix}--coachmark-header`,ae=`${v.prefix}--coachmark-overlay`,M="CoachmarkHeader",Y={closeIconDescription:"Close",onClose:()=>{},showCloseButton:!0,theme:"light"};let N=t.forwardRef(({closeIconDescription:e=Y.closeIconDescription,onClose:m=Y.onClose,showCloseButton:i=Y.showCloseButton,theme:n=Y.theme,...r},l)=>t.createElement("header",{...r,className:B(ne,`${ne}__${n}`),ref:l,...j(M)},i&&t.createElement("div",{className:`${ae}--close-btn-container`},t.createElement(S,{kind:"ghost",size:"sm",renderIcon:le,iconDescription:e,hasIconOnly:!0,className:`${ae}--close-btn`,onClick:m}))));N=v.checkComponentEnabled(N,M);N.displayName=M;N.propTypes={closeIconDescription:o.string,onClose:o.func,showCloseButton:o.bool,theme:o.oneOf(["light","dark"])};N.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.`,methods:[],displayName:"CoachmarkHeader",props:{closeIconDescription:{defaultValue:{value:"'Close'",computed:!1},description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"},required:!1},onClose:{defaultValue:{value:"() => {}",computed:!1},description:"Function to call when the close button is clicked.",type:{name:"func"},required:!1},showCloseButton:{defaultValue:{value:"true",computed:!1},description:'Show/hide the "X" close button.',type:{name:"bool"},required:!1},theme:{defaultValue:{value:"'light'",computed:!1},description:"Determines the theme of the component.",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1}}};const be=(e,m)=>{const{width:i,height:n}=e.targetRect,r=24;let l=0,p=0;if(m!==V.TOOLTIP)switch(e.align){case g.TOP:p=i/2;break;case g.TOP_LEFT:p=r;break;case g.TOP_RIGHT:p=i-r;break;case g.BOTTOM:l=n,p=i/2;break;case g.BOTTOM_LEFT:l=n,p=r;break;case g.BOTTOM_RIGHT:l=n,p=i-r;break;case g.LEFT:l=n/2;break;case g.LEFT_TOP:l=r;break;case g.LEFT_BOTTOM:l=n-r;break;case g.RIGHT:l=n/2,p=i;break;case g.RIGHT_TOP:l=r,p=i;break;case g.RIGHT_BOTTOM:l=n-r,p=i;break}return{top:l,left:p}},q=`${v.prefix}--coachmark-overlay`,A="CoachmarkOverlay",re={kind:V.FLOATING,theme:"light"};let X=u.forwardRef(({children:e,onClose:m,fixedIsVisible:i,className:n,kind:r=re.kind,theme:l=re.theme,...p},P)=>{const{winHeight:w,winWidth:D}=ge(),[x,k]=u.useState(!1),T=u.useRef(null),h=ie(),y=r===V.TOOLTIP,E=r===V.FLOATING,Q=n==null?void 0:n.includes("is-visible"),O=a=>{const{shiftKey:b,key:s}=a;if(s==="Enter"||s===" ")k(d=>!d);else if(x){const d=b?128:32;switch(s){case"ArrowLeft":$(d*-1,0);break;case"ArrowRight":$(d,0);break;case"ArrowUp":$(0,d*-1);break;case"ArrowDown":$(0,d);break}}},R=u.useMemo(()=>{const a={};if((y||E)&&(h.targetRect&&(a.left=h.targetRect.x+window.scrollX,a.top=h.targetRect.y+window.scrollY),a.left&&a.top&&(y&&(a.left=a.left+16,a.top=a.top+16),E))){const b=be(h,r);a.left=a.left+b.left,a.top=a.top+b.top}return a},[y,E,h,r]);function L(a,b){let s=a,d=b;const f=D-288,c=w-150;return s<0?s=0:s>f&&(s=f),d<0?d=0:d>c&&(d=c),{targetX:s,targetY:d}}function $(a,b){const s=T.current;if(!s)return;const{x:d,y:f}=s.getBoundingClientRect(),{targetX:c,targetY:C}=L(d+a,f+b);s.style.transform="none",s.style.position="fixed",s.style.left=`${c}px`,s.style.top=`${C}px`,s.style.bottom="auto"}const z=ce();return de(()=>{var a;if(T.current){const b=(a=T.current)==null?void 0:a.style;Object.keys(R).forEach(s=>{const d=R[s];b.setProperty(s,`${d}px`)})}},[R,T]),t.createElement("div",{...p,className:B(q,`${q}--${r}`,`${q}__${l}`,(y||E)&&`${q}--${h.align}`,i&&`${q}--is-visible`,x&&`${q}--is-dragmode`,n),ref:T,"aria-labelledby":z,tabIndex:-1,...j(A)},E?t.createElement(F,{a11yKeyboardHandler:O,onBlur:()=>k(!1),onDrag:$,theme:l,onClose:m}):t.createElement(N,{onClose:m}),t.createElement("div",{className:`${q}__body`,ref:P,id:z},t.Children.map(e,a=>t.cloneElement(a,{isVisible:Q}))))});function se(){const{innerWidth:e,innerHeight:m}=window;return{winWidth:e,winHeight:m}}const ge=()=>{const[e,m]=u.useState(se());return u.useEffect(()=>{function i(){m(se())}return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),e};X=v.checkComponentEnabled(X,A);X.displayName=A;X.propTypes={children:o.node.isRequired,className:o.string,fixedIsVisible:o.bool.isRequired,kind:o.oneOf(Object.values(V)),onClose:o.func.isRequired,theme:o.oneOf(["light","dark"])};X.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.`,methods:[],displayName:"CoachmarkOverlay",props:{kind:{defaultValue:{value:"COACHMARK_OVERLAY_KIND.FLOATING",computed:!0},description:"What kind or style of Coachmark to render.",type:{name:"enum",computed:!0,value:"Object.values(COACHMARK_OVERLAY_KIND)"},required:!1},theme:{defaultValue:{value:"'light'",computed:!1},description:"Determines the theme of the component.",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},children:{description:`The CoachmarkOverlayElements child components.
Validation is handled in the parent Coachmark component.`,type:{name:"node"},required:!0},className:{description:"Optional class name for this component.",type:{name:"string"},required:!1},fixedIsVisible:{description:`The visibility of CoachmarkOverlay is
managed in the parent Coachmark component.`,type:{name:"bool"},required:!0},onClose:{description:"Function to call when the Coachmark closes.",type:{name:"func"},required:!0}}};const W=`${v.prefix}--coachmark-overlay-element`,ee="CoachmarkOverlayElement";let G=t.forwardRef(({button:e,className:m,description:i,title:n,...r},l)=>t.createElement("div",{...r,className:B(W,m,{}),ref:l,...j(ee)},t.createElement("div",{className:`${W}__content`},n&&t.createElement("h2",{className:`${W}__title`},n),i&&t.createElement("p",{className:`${W}__body`},i)),e&&t.createElement("div",{className:`${W}__button`},e)));G=v.checkComponentEnabled(G,ee);G.displayName=ee;G.propTypes={button:o.node,className:o.string,description:o.node.isRequired,title:o.string.isRequired};G.__docgenInfo={description:`Component to be displayed within a CoachmarkOverlayElements container.
Can be used 1 to N number, to display content in a Coachmark's overlay
in a carousel fashion.`,methods:[],displayName:"CoachmarkOverlayElement",props:{button:{description:`An optional button can be rendered below the description.
This can be a link, button, Coachmark button, etc.`,type:{name:"node"},required:!1},className:{description:"Optional class name for this component.",type:{name:"string"},required:!1},description:{description:"The description of the Coachmark.",type:{name:"node"},required:!0},title:{description:"The title of the Coachmark.",type:{name:"string"},required:!0}}};const I=`${v.prefix}--coachmark-overlay-elements`,J="CoachmarkOverlayElements",_={isVisible:!1,nextButtonText:"Next",previousButtonLabel:"Back",closeButtonLabel:"Got it",onNext:void 0,onBack:void 0,currentStep:0};let U=t.forwardRef(({className:e,children:m,isVisible:i=_.isVisible,media:n,renderMedia:r,currentStep:l=_.currentStep,nextButtonText:p=_.nextButtonText,previousButtonLabel:P=_.previousButtonLabel,closeButtonLabel:w=_.closeButtonLabel,onNext:D=_.onNext,onBack:x=_.onBack,...k},T)=>{const h=u.useRef(void 0),y=u.useRef(void 0),[E,Q]=u.useState(0),[O,R]=u.useState(l),L=ie(),$=n||r,z=f=>{O>0&&f===0&&h.current&&setTimeout(()=>{var c;(c=h.current)==null||c.focus()},1e3),R(f)},a=u.Children.count(m),b=0,s=a-1,d=u.useMemo(()=>r==null?void 0:r({playStep:O}),[O,r]);return u.useEffect(()=>{var c,C;const f=Z.clamp(l,b,s);(C=(c=y==null?void 0:y.current)==null?void 0:c.scrollToView)==null||C.call(c,f)},[l]),u.useEffect(()=>{h.current&&h.current.focus()},[]),u.useEffect(()=>{setTimeout(()=>{h.current&&i&&h.current.focus()},100)},[i]),L?t.createElement("section",{...k,className:B(I,e,{}),ref:T,...j(J)},$&&(n==null?void 0:n.render)&&n.render(),$&&(n==null?void 0:n.filePaths)&&t.createElement(pe,{className:`${I}__element-stepped-media`,filePaths:n.filePaths,playStep:O}),$&&r&&t.createElement("div",{className:`${I}__element-stepped-media`},d),a===1?t.createElement(t.Fragment,null,m,w&&t.createElement("div",{className:B(`${I}__footer`,"coachmark-carousel-controls")},t.createElement(S,{size:"sm",...L.closeButtonProps,ref:h},w))):t.createElement(t.Fragment,null,t.createElement(fe,{ref:y,onScroll:f=>{Q(f)}},m),t.createElement("div",{className:B(`${I}__footer`)},t.createElement("div",{className:`${I}--controls-progress`},`${O+1} / ${a}`),E>0&&t.createElement(S,{size:"sm",kind:"ghost",title:P,disabled:E===0,onClick:()=>{var c,C;const f=Z.clamp(O-1,b,s);(C=(c=y==null?void 0:y.current)==null?void 0:c.scrollToView)==null||C.call(c,f),z(f),x==null||x()}},P),O<s?t.createElement(S,{size:"sm",ref:h,title:p,disabled:E===1,onClick:()=>{var c,C;const f=Z.clamp(O+1,b,s);(C=(c=y==null?void 0:y.current)==null?void 0:c.scrollToView)==null||C.call(c,f),z(f),D==null||D()}},p):w&&t.createElement(S,{size:"sm",ref:h,...L.closeButtonProps},w)))):ue.warn(`The ${J} is a composable container element which should be used only within the scope of a Coachmark or a CoachmarkFixed component.`)});U=v.checkComponentEnabled(U,J);U.displayName=J;U.propTypes={children:o.node.isRequired,className:o.string,closeButtonLabel:o.string,currentStep:o.number,isVisible:o.bool,media:o.oneOfType([o.shape({render:o.func}),o.shape({filePaths:o.arrayOf(o.string)})]),nextButtonText:o.string,onBack:o.func,onNext:o.func,previousButtonLabel:o.string,renderMedia:o.func};U.__docgenInfo={description:`Composable container to allow for the displaying of CoachmarkOverlayElement
components in a carousel fashion.`,methods:[],displayName:"CoachmarkOverlayElements",props:{isVisible:{defaultValue:{value:"false",computed:!1},description:`The visibility of CoachmarkOverlayElements is
managed in the parent component.`,type:{name:"bool"},required:!1},currentStep:{defaultValue:{value:"0",computed:!1},description:"Current step of the coachmarks",type:{name:"number"},required:!1},nextButtonText:{defaultValue:{value:"'Next'",computed:!1},description:"The label for the Next button.",type:{name:"string"},required:!1},previousButtonLabel:{defaultValue:{value:"'Back'",computed:!1},description:"The label for the Previous button.",type:{name:"string"},required:!1},closeButtonLabel:{defaultValue:{value:"'Got it'",computed:!1},description:"The label for the Close button.",type:{name:"string"},required:!1},onNext:{defaultValue:{value:"undefined",computed:!0},description:"Optional callback called when clicking on the Next button.",type:{name:"func"},required:!1},onBack:{defaultValue:{value:"undefined",computed:!0},description:"Optional callback called when clicking on the Previous button.",type:{name:"func"},required:!1},children:{description:`CoachmarkOverlayElements should be used with one or many CoachmarkOverlayElement components as children.
@see CoachmarkOverlayElement`,type:{name:"node"},required:!0},className:{description:"Optional class name for this component.",type:{name:"string"},required:!1},media:{description:"The object describing an image in one of two shapes.\nIf a single media element is required, use `{render}`.\nIf a stepped animation is required, use `{filePaths}`.\n@deprecated please use the `renderMedia` prop",type:{name:"union",value:[{name:"shape",value:{render:{name:"func",required:!1}}},{name:"shape",value:{filePaths:{name:"arrayOf",value:{name:"string"},required:!1}}}]},required:!1},renderMedia:{description:"Optional prop to render any media like images or animated media.",type:{name:"func"},required:!1}}};export{he as B,V as C,ye as a,X as b,U as c,G as d,N as e,ie as u};
