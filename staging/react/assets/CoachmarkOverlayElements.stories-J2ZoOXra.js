import{j as t,aB as j,aD as B,r as o,e as n,B as f}from"./iframe-BBf3bqTv.js";import{T as V}from"./index-Db8ePrXI.js";import{useMDXComponents as z}from"./index-BQtCSjrU.js";import{i as O}from"./carousel-XJ-VQo61.js";import{C as p}from"./Coachmark-mMr1-k0N.js";import{C as T}from"./CoachmarkBeacon-BXwc9QO7.js";import"./preload-helper-D9Z9MdNV.js";import"./LayerContext-BOWqFdTq.js";import"./useMatchMedia-C7T4O6Yo.js";import"./devtools-c2gfrTL0.js";import"./useIsomorphicEffect-ZKZ1smHY.js";import"./makeDraggable-CWeuHNvj.js";import"./bucket-6-TRoxTq9G.js";const S="@keyframes cds--hide-feedback{0%{opacity:1;visibility:inherit}to{opacity:0;visibility:hidden}}@keyframes cds--show-feedback{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:inherit}}@keyframes cds--skeleton{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}to{opacity:.3;transform:scaleX(0);transform-origin:left}}.cds--layout--size-xs{--cds-layout-size-height-context: var(--cds-layout-size-height-xs, 1.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xs{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xs, 1.5rem))}.cds--layout-constraint--size__min-xs{--cds-layout-size-height-min: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout-constraint--size__max-xs{--cds-layout-size-height-max: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout--size-sm{--cds-layout-size-height-context: var(--cds-layout-size-height-sm, 2rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-sm{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-sm, 2rem))}.cds--layout-constraint--size__min-sm{--cds-layout-size-height-min: var(--cds-layout-size-height-sm, 2rem)}.cds--layout-constraint--size__max-sm{--cds-layout-size-height-max: var(--cds-layout-size-height-sm, 2rem)}.cds--layout--size-md{--cds-layout-size-height-context: var(--cds-layout-size-height-md, 2.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-md{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-md, 2.5rem))}.cds--layout-constraint--size__min-md{--cds-layout-size-height-min: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout-constraint--size__max-md{--cds-layout-size-height-max: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout--size-lg{--cds-layout-size-height-context: var(--cds-layout-size-height-lg, 3rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-lg{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-lg, 3rem))}.cds--layout-constraint--size__min-lg{--cds-layout-size-height-min: var(--cds-layout-size-height-lg, 3rem)}.cds--layout-constraint--size__max-lg{--cds-layout-size-height-max: var(--cds-layout-size-height-lg, 3rem)}.cds--layout--size-xl{--cds-layout-size-height-context: var(--cds-layout-size-height-xl, 4rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xl, 4rem))}.cds--layout-constraint--size__min-xl{--cds-layout-size-height-min: var(--cds-layout-size-height-xl, 4rem)}.cds--layout-constraint--size__max-xl{--cds-layout-size-height-max: var(--cds-layout-size-height-xl, 4rem)}.cds--layout--size-2xl{--cds-layout-size-height-context: var(--cds-layout-size-height-2xl, 5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-2xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-2xl, 5rem))}.cds--layout-constraint--size__min-2xl{--cds-layout-size-height-min: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout-constraint--size__max-2xl{--cds-layout-size-height-max: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout--density-condensed{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-condensed, .5rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-condensed{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-condensed, .5rem))}.cds--layout-constraint--density__min-condensed{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout-constraint--density__max-condensed{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout--density-normal{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-normal, 1rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-normal{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-normal, 1rem))}.cds--layout-constraint--density__min-normal{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-normal, 1rem)}.cds--layout-constraint--density__max-normal{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-normal, 1rem)}:root{--cds-layout-size-height-xs: 1.5rem;--cds-layout-size-height-sm: 2rem;--cds-layout-size-height-md: 2.5rem;--cds-layout-size-height-lg: 3rem;--cds-layout-size-height-xl: 4rem;--cds-layout-size-height-2xl: 5rem;--cds-layout-size-height-min: 0px;--cds-layout-size-height-max: 999999999px;--cds-layout-density-padding-inline-condensed: .5rem;--cds-layout-density-padding-inline-normal: 1rem;--cds-layout-density-padding-inline-min: 0px;--cds-layout-density-padding-inline-max: 999999999px}.cds--assistive-text,.cds--visually-hidden{position:absolute;overflow:hidden;padding:0;border:0;margin:-1px;block-size:1px;clip:rect(0,0,0,0);inline-size:1px;visibility:inherit;white-space:nowrap}@keyframes out-to-active{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes active-to-out{0%{transform:translate(-100%)}to{transform:translate(0)}}.carousel__view-stack .carousel__itemsWrapper{position:relative;overflow:hidden;block-size:100%;inline-size:100%;min-inline-size:20vh}:host(.carousel__view),.carousel__view{z-index:80;overflow:hidden auto;block-size:100%;inline-size:100%;inset-inline-start:100%;transform:translate(0)}@media (prefers-reduced-motion: no-preference){:host(.carousel__view),.carousel__view{transition:transform .24s cubic-bezier(.5,0,.1,1)}}@media (prefers-reduced-motion: reduce){:host(.carousel__view),.carousel__view{animation:none;transition:none}}:host(.carousel__view:focus),.carousel__view:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view:focus),.carousel__view:focus{outline-style:dotted}}:host(.carousel__view-active),.carousel__view-active{z-index:100;overflow:hidden auto;block-size:100%;inline-size:100%;inset-inline-start:100%;transform:translate(-100%)}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-active),.carousel__view-active{transition:transform .24s cubic-bezier(.5,0,.1,1)}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-active),.carousel__view-active{animation:none;transition:none}}:host(.carousel__view-active:focus),.carousel__view-active:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-active:focus),.carousel__view-active:focus{outline-style:dotted}}:host(.carousel__view-in-stack),.carousel__view-in-stack{z-index:90;overflow:hidden auto;block-size:100%;inline-size:100%;inset-inline-start:100%;transform:translate(-200%)}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-in-stack),.carousel__view-in-stack{transition:transform .24s cubic-bezier(.5,0,.1,1)}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-in-stack),.carousel__view-in-stack{animation:none;transition:none}}:host(.carousel__view-in-stack:focus),.carousel__view-in-stack:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-in-stack:focus),.carousel__view-in-stack:focus{outline-style:dotted}}:host(.carousel__view-recycle-in),.carousel__view-recycle-in{z-index:100;overflow:hidden auto;block-size:100%;inline-size:100%}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-recycle-in),.carousel__view-recycle-in{animation:out-to-active .24s cubic-bezier(.5,0,.1,1) forwards}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-recycle-in),.carousel__view-recycle-in{animation:none;transition:none}}:host(.carousel__view-recycle-in:focus),.carousel__view-recycle-in:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-recycle-in:focus),.carousel__view-recycle-in:focus{outline-style:dotted}}:host(.carousel__view-recycle-out),.carousel__view-recycle-out{z-index:90;overflow:hidden auto;block-size:100%;inline-size:100%}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-recycle-out),.carousel__view-recycle-out{animation:active-to-out .24s cubic-bezier(.5,0,.1,1) forwards}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-recycle-out),.carousel__view-recycle-out{animation:none;transition:none}}:host(.carousel__view-recycle-out:focus),.carousel__view-recycle-out:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-recycle-out:focus),.carousel__view-recycle-out:focus{outline-style:dotted}}.c4p--coachmark__next--coachmark-content{inline-size:288px}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body{display:flex;flex-direction:column}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body>h2{font-size:var(--cds-productive-heading-02-font-size, 1rem);font-weight:var(--cds-productive-heading-02-font-weight, 600);line-height:var(--cds-productive-heading-02-line-height, 1.375);letter-spacing:var(--cds-productive-heading-02-letter-spacing, 0);margin:0 0 .5rem}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body>p{font-size:var(--cds-body-long-01-font-size, .875rem);font-weight:var(--cds-body-long-01-font-weight, 400);line-height:var(--cds-body-long-01-line-height, 1.42857);letter-spacing:var(--cds-body-long-01-letter-spacing, .16px)}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body>button{display:flex;align-self:flex-end;margin-block-start:1rem}.exampleCarouselWrapper{block-size:60px}.carousel__view>h2{font-size:var(--cds-productive-heading-02-font-size, 1rem);font-weight:var(--cds-productive-heading-02-font-weight, 600);line-height:var(--cds-productive-heading-02-line-height, 1.375);letter-spacing:var(--cds-productive-heading-02-letter-spacing, 0);margin:0 0 .5rem}.carousel__view>p{font-size:var(--cds-body-long-01-font-size, .875rem);font-weight:var(--cds-body-long-01-font-weight, 400);line-height:var(--cds-body-long-01-line-height, 1.42857);letter-spacing:var(--cds-body-long-01-letter-spacing, .16px)}.carouselControls{position:relative}.carouselControls .nextButton,.carouselControls .prevButton{position:absolute;inset-inline-start:2rem}.cds--content-switcher{inline-size:20rem;margin-block:3rem;margin-inline:2rem}.carouselControlWrapper__footer span{justify-self:flex-start;margin-inline-end:auto}.carouselControlWrapper__footer{display:flex;align-items:center;justify-content:flex-end}.carouselControlWrapper--controls-progress{justify-self:flex-start;margin-inline-end:auto;font-size:var(--cds-helper-text-01-font-size, .75rem);line-height:var(--cds-helper-text-01-line-height, 1.33333);letter-spacing:var(--cds-helper-text-01-letter-spacing, .32px)}";function _(s){const e={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...z(),...s.components};return t.jsxs(t.Fragment,{children:[t.jsx(e.h1,{id:"coachmarkoverlayelements",children:"CoachmarkOverlayElements"}),`
`,t.jsx(e.h2,{id:"table-of-contents",children:"Table of Contents"}),`
`,t.jsxs(e.ul,{children:[`
`,t.jsx(e.li,{children:t.jsx(e.a,{href:"#overview",children:"Overview"})}),`
`,t.jsx(e.li,{children:t.jsx(e.a,{href:"#example-usage",children:"Example usage"})}),`
`]}),`
`,t.jsx(e.h2,{id:"overview",children:"Overview"}),`
`,t.jsx(e.p,{children:`The CoachmarkOverlayElements pattern acts as a container element for onboarding
and should only be used within the scope of a Coachmark.`}),`
`,t.jsx(e.p,{children:"To build this pattern, we recommend including the following components:"}),`
`,t.jsxs(e.ul,{children:[`
`,t.jsx(e.li,{children:t.jsx(e.a,{href:"https://carbon-for-ibm-products.netlify.app/?path=/docs/preview-onboarding-coachmark--overview",rel:"nofollow",children:"Coachmark"})}),`
`,t.jsx(e.li,{children:t.jsx(e.a,{href:"https://react.carbondesignsystem.com/?path=/docs/components-button",rel:"nofollow",children:"Button"})}),`
`,t.jsx(e.li,{children:t.jsx(e.a,{href:"https://github.com/carbon-design-system/carbon/blob/main/packages/utilities/src/carousel/README.md",rel:"nofollow",children:"Carousel utility"})}),`
`]}),`
`,t.jsx(e.h2,{id:"about-onboarding",children:"About Onboarding"}),`
`,t.jsxs(e.p,{children:[t.jsx(e.a,{href:"https://pages.github.ibm.com/security/security-design/department/end-to-end-experiences/onboarding/overview/",rel:"nofollow",children:"Onboarding"}),`
is a continuous learning methodology and framework that aims to orient, onboard,
explain, educate, and cultivate novice users into high-functioning power users.`]}),`
`,t.jsx(e.h2,{id:"example-usage",children:"Example usage"}),`
`,`
`,t.jsx(j,{className:"coachmarkExample",withSource:"none",children:t.jsx("div",{className:"CoachmarkBaseExampleUsage",children:t.jsx(B,{of:void 0})})})]})}function N(s={}){const{wrapper:e}={...z(),...s.components};return e?t.jsx(e,{...s,children:t.jsx(_,{...s})}):_(s)}const D=""+new URL("sample-image-Xi2Ah9yk.png",import.meta.url).href,Q={title:"Patterns/Coachmark Overlay Elements",component:()=>{},tags:["autodocs"],parameters:{styles:S,docs:{page:N}}};function R(){const[s,e]=o.useState(()=>document.documentElement.getAttribute("data-carbon-theme"));return o.useEffect(()=>{const l=document.documentElement,d=()=>{const c=l.getAttribute("data-carbon-theme");e(a=>a!==c?c:a)},u=new MutationObserver(c=>{for(const a of c)a.type==="attributes"&&a.attributeName==="data-carbon-theme"&&d()});u.observe(l,{attributes:!0,attributeFilter:["data-carbon-theme"]});const y=setInterval(d,200);return()=>{u.disconnect(),clearInterval(y)}},[]),s}const W=s=>{const e=R(),[l,d]=o.useState(!0),[u,y]=o.useState(-1),[c,a]=o.useState(-1),h=o.useRef(null),r=o.useRef(null),g=[{id:1,title:"Example 1",text:"This is an example description."},{id:2,title:"Example 2",text:"This is an example description."}],x=()=>{d(!1),r.current.reset()},w=()=>{d(i=>!i)};o.useEffect(()=>{h&&h.current&&(r.current=O(h.current,{onViewChangeStart:C,onViewChangeEnd:k}))},[r,l]);const C=()=>{},k=i=>{b(i)},b=o.useCallback(({currentIndex:i,lastIndex:v})=>{y(i),a(v)},[]),E=()=>{r.current.next()},I=()=>{r.current.prev()};return n.createElement(V,{theme:e},n.createElement(p,{position:{x:151,y:155},open:l,onClose:x,align:"top",...s},n.createElement(T,{label:"Show information",buttonProps:{onClick:w,id:"CoachmarkBtn"}}),n.createElement(p.Content,{highContrast:!0},n.createElement(p.Content.Header,{closeIconDescription:"Close"}),n.createElement(p.Content.Body,null,n.createElement("div",null,n.createElement("img",{src:D,style:{width:"100%",marginBottom:"1rem"}})),n.createElement("div",{ref:h,className:"exampleCarouselWrapper"},g.map(i=>n.createElement("div",{key:i.id},n.createElement("h2",null,i.title),n.createElement("p",null,i.text)))),n.createElement("div",{className:"carouselControlWrapper__footer"},n.createElement("div",{className:"carouselControlWrapper--controls-progress"},g.map((i,v)=>{if(r.current?.getActiveItem?.()?.index===v)return n.createElement("span",{key:i.id},`${r.current?.getActiveItem?.()?.index+1} / ${g.length}`)})),n.createElement("div",{className:"carouselControlWrapper--buttons"},u!==0&&n.createElement(f,{size:"sm",iconDescription:"Previous",kind:"ghost",onClick:I},"Back"),c!==u?n.createElement(f,{size:"sm",iconDescription:"Next",onClick:E},"Next"):n.createElement(f,{size:"sm",onClick:x},"Done")))))))},m=W.bind({});m.args={};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`args => {
  const carbonTheme = useCarbonTheme();
  const [isOpen, setIsOpen] = useState(true);
  const [currentViewIndex, setCurrentViewIndex] = useState(-1);
  const [lastViewIndex, setLastViewIndex] = useState(-1);

  // prettier-ignore
  const carouselContainerRef = useRef<HTMLDivElement>(null);
  // prettier-ignore
  const carouselInit = useRef<InitCarousel>(null);
  const items = [{
    id: 1,
    title: 'Example 1',
    text: 'This is an example description.'
  }, {
    id: 2,
    title: 'Example 2',
    text: 'This is an example description.'
  }];
  const handleClose = () => {
    setIsOpen(false);
    carouselInit.current.reset();
  };
  const handleBeaconClick = () => {
    setIsOpen(isOpen => !isOpen);
  };
  useEffect(() => {
    if (carouselContainerRef && carouselContainerRef.current) {
      carouselInit.current = initCarousel(carouselContainerRef.current, {
        onViewChangeStart: onViewChangeStart,
        onViewChangeEnd: onViewChangeEnd
      });
    }
  }, [carouselInit, isOpen]);
  const onViewChangeStart = () => {};
  const onViewChangeEnd = options => {
    handleViewStackUpdate(options);
  };
  const handleViewStackUpdate = useCallback(({
    currentIndex,
    lastIndex
  }) => {
    setCurrentViewIndex(currentIndex);
    setLastViewIndex(lastIndex);
  }, []);
  const onNext = () => {
    carouselInit.current.next();
  };
  const onPrev = () => {
    carouselInit.current.prev();
  };
  return <Theme theme={carbonTheme}>
      <Coachmark position={{
      x: 151,
      y: 155
    }} open={isOpen} onClose={handleClose} align="top" {...args}>
        <CoachmarkBeacon label="Show information" buttonProps={{
        onClick: handleBeaconClick,
        id: 'CoachmarkBtn'
      }}></CoachmarkBeacon>
        <Coachmark.Content highContrast={true}>
          <Coachmark.Content.Header closeIconDescription="Close"></Coachmark.Content.Header>
          <Coachmark.Content.Body>
            <div>
              <img src={sampleImage} style={{
              width: '100%',
              marginBottom: '1rem'
            }} />
            </div>
            <div ref={carouselContainerRef} className="exampleCarouselWrapper">
              {items.map(item => <div key={item.id}>
                  <h2>{item.title}</h2>
                  <p>{item.text}</p>
                </div>)}
            </div>

            <div className={'carouselControlWrapper__footer'}>
              <div className={'carouselControlWrapper--controls-progress'}>
                {items.map((item, index) => {
                if (carouselInit.current?.getActiveItem?.()?.index === index) return <span key={item.id}>
                        {\`\${carouselInit.current?.getActiveItem?.()?.index + 1} / \${items.length}\`}
                      </span>;
              })}
              </div>
              <div className={'carouselControlWrapper--buttons'}>
                {currentViewIndex !== 0 && <Button size="sm" iconDescription="Previous" kind="ghost" onClick={onPrev}>
                    Back
                  </Button>}

                {lastViewIndex !== currentViewIndex ? <Button size="sm" iconDescription="Next" onClick={onNext}>
                    Next
                  </Button> : <Button size="sm" onClick={handleClose}>
                    Done
                  </Button>}
              </div>
            </div>
          </Coachmark.Content.Body>
        </Coachmark.Content>
      </Coachmark>
    </Theme>;
}`,...m.parameters?.docs?.source}}};const Y=["CoachmarkOverlay"];export{m as CoachmarkOverlay,Y as __namedExportsOrder,Q as default};
//# sourceMappingURL=CoachmarkOverlayElements.stories-J2ZoOXra.js.map
