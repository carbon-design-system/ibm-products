import{b as ce,w as ge,d as T,_ as pe,P as t}from"./index-C360Eztx.js";import{e as a,r as p}from"./index-DtHxqM--.js";import{S as w}from"./Select-BNVzYGZh.js";import{S as B}from"./SelectItem-BAu4CfiB.js";import{I as L}from"./settings-CFkY3W_8.js";import{i as me}from"./MultiSelect-BWBLwwcY.js";import{C as fe,a as be}from"./bucket-2-BWELrLSK.js";var M,D;function I(o){return typeof o[0]=="object"&&o[0]!==null?o:o.map(i=>({text:i,value:i}))}function _e(o){let i=1;const m=[];for(;i<=o;)m.push(a.createElement(B,{key:i,value:i,text:String(i)})),i++;return m}function O(o,i){return i&&o.find(f=>i===f.value)?i:o[0].value}const $e=a.forwardRef(function({backwardText:i="Previous page",className:m="",disabled:f=!1,forwardText:C="Next page",id:P,isLastPage:F=!1,itemText:A=(e,r)=>`${e}–${r} items`,itemRangeText:k=(e,r,g)=>`${e}–${r} of ${g} items`,itemsPerPageText:j="Items per page:",onChange:c,pageNumberText:xe="Page Number",pageRangeText:G=(e,r)=>`of ${r} ${r===1?"page":"pages"}`,page:x=1,pageInputDisabled:H,pageSize:d,pageSizeInputDisabled:J,pageSizes:S,pageText:K=e=>`page ${e}`,pagesUnknown:N=!1,size:y="md",totalItems:l,...Q},V){const e=ce(),r=ge(P==null?void 0:P.toString()),g=p.useRef(null),b=p.useRef(null),[E,W]=p.useState(()=>I(S)),[X,Y]=p.useState(S),[s,_]=p.useState(x),[Z,U]=p.useState(x),[u,R]=p.useState(()=>O(E,d)),[ee,te]=p.useState(d),ae=T({[`${e}--pagination`]:!0,[`${e}--pagination--${y}`]:y,[m]:!!m}),v=l?Math.max(Math.ceil(l/u),1):1,z=f||s===1,ne=T({[`${e}--pagination__button`]:!0,[`${e}--pagination__button--backward`]:!0,[`${e}--pagination__button--no-index`]:z}),q=f||s===v&&!N,ie=T({[`${e}--pagination__button`]:!0,[`${e}--pagination__button--forward`]:!0,[`${e}--pagination__button--no-index`]:q}),re=_e(v);if(x!==Z&&(_(x),U(x)),d!==ee&&(R(O(E,d)),te(d)),!me(S,X)){const n=I(S);n.find(h=>h.value===u)||_(1),W(n),Y(S)}function se(n){const h={pageSize:Number(n.target.value),page:1};_(h.page),R(h.pageSize),c&&c(h)}function ue(n){const $=Number(n.target.value);$>0&&l&&$<=Math.max(Math.ceil(l/u),1)&&(_($),c&&c({page:$,pageSize:u}))}function oe(){const n=s+1;_(n),n===v&&(g!=null&&g.current)&&g.current.focus(),c&&c({page:n,pageSize:u,ref:g})}function le(){const n=s-1;_(n),n===1&&(b!=null&&b.current)&&b.current.focus(),c&&c({page:n,pageSize:u,ref:b})}return a.createElement("div",pe({className:ae,ref:V},Q),a.createElement("div",{className:`${e}--pagination__left`},a.createElement("label",{id:`${e}-pagination-select-${r}-count-label`,className:`${e}--pagination__text`,htmlFor:`${e}-pagination-select-${r}`},j),a.createElement(w,{id:`${e}-pagination-select-${r}`,className:`${e}--select__item-count`,labelText:"",hideLabel:!0,noLabel:!0,inline:!0,onChange:se,disabled:J||f,value:u},E.map(n=>a.createElement(B,{key:n.value,value:n.value,text:String(n.text)}))),a.createElement("span",{className:`${e}--pagination__text ${e}--pagination__items-count`},N||!l?l===0?k(0,0,0):A(u*(s-1)+1,s*u):k(Math.min(u*(s-1)+1,l),Math.min(s*u,l),l))),a.createElement("div",{className:`${e}--pagination__right`},N?a.createElement("span",{className:`${e}--pagination__text ${e}--pagination__page-text ${e}--pagination__unknown-pages-text`},K(s)):a.createElement(a.Fragment,null,a.createElement(w,{id:`${e}-pagination-select-${r}-right`,className:`${e}--select__page-number`,labelText:`Page of ${v} pages`,inline:!0,hideLabel:!0,onChange:ue,value:s,disabled:H||f},re),a.createElement("span",{className:`${e}--pagination__text`},G(s,v))),a.createElement("div",{className:`${e}--pagination__control-buttons`},a.createElement(L,{align:"top",disabled:z,kind:"ghost",className:ne,label:i,"aria-label":i,onClick:le,ref:g},M||(M=a.createElement(fe,null))),a.createElement(L,{align:"top-end",disabled:q||F,kind:"ghost",className:ie,label:C,"aria-label":C,onClick:oe,ref:b},D||(D=a.createElement(be,null))))))});$e.propTypes={backwardText:t.string,className:t.string,disabled:t.bool,forwardText:t.string,id:t.oneOfType([t.string,t.number]),isLastPage:t.bool,itemRangeText:t.func,itemText:t.func,itemsPerPageText:t.string,onChange:t.func,page:t.number,pageInputDisabled:t.bool,pageNumberText:t.string,pageRangeText:t.func,pageSize:t.number,pageSizeInputDisabled:t.bool,pageSizes:t.oneOfType([t.arrayOf(t.number.isRequired),t.arrayOf(t.shape({text:t.string.isRequired,value:t.number.isRequired}).isRequired)]).isRequired,pageText:t.func,pagesUnknown:t.bool,size:t.oneOf(["sm","md","lg"]),totalItems:t.number};export{$e as P};
