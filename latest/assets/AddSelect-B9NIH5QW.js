import{e as t,r as q}from"./index-BOZkNhcz.js";import{C as vt,P as e,c as re,a9 as St,U as Et,b as Nt}from"./index--clQM3eT.js";import{T as Ne}from"./Tag-poJ4g3DE.js";import{A as $t,a as It}from"./AccordionItem-CFt1CKpn.js";import{p as j,B as X}from"./settings-BYgtfLKl.js";import{N as kt}from"./NoDataEmptyState-q1GPTWLC.js";import{B as Ct,a as wt}from"./BreadcrumbItem-dK65A63C.js";import{D as Je}from"./Dropdown-DUiNNuDy.js";import{L as Qe}from"./index-_87NmGAs.js";import{U as _t}from"./UserProfileImage-ChHcXLDs.js";import{b1 as At}from"./bucket-2-rFuAlaTW.js";import{d as Bt,e as Ft}from"./bucket-13-CPhkYP6U.js";import{f as Pt}from"./bucket-18-Dly-sSmK.js";import{C as Ke}from"./Checkbox-BkhXuVvJ.js";import{O as We}from"./index-0E3e6jj2.js";import{S as Xe}from"./Search-Cvevq9lI.js";import{O as xt}from"./OverflowMenuItem-vAGvlICf.js";import{d as Dt,aB as Rt,f as Ot}from"./bucket-0-tjTgXQWL.js";import{u as Ue}from"./uuidv4-BN2rGLQG.js";import{F as Ye}from"./bucket-6-B5NNCZ27.js";import{B as Lt}from"./ButtonSet-BHSafAHF.js";import{D as jt}from"./DismissibleTag-CCIQD6y1.js";import{N as Mt}from"./NotFoundEmptyState-DAE2FM-T.js";import{T as zt}from"./Tearsheet-BBaCiBaT.js";import{T as Ht}from"./TearsheetNarrow-DAmvfbvP.js";const W=`${j.prefix}--add-select__meta-panel`,Vt="AddSelectMetaPanel";let fe=({closeIconDescription:n,meta:a,setDisplayMetaPanel:s,title:c})=>{const r=()=>{s({})};return t.createElement("div",{className:W},t.createElement("div",{className:`${W}-header`},t.createElement("p",{className:`${W}-title`},c),t.createElement(X,{renderIcon:l=>t.createElement(vt,{size:16,...l}),className:`${W}-close`,iconDescription:n,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:r,kind:"ghost",size:"sm"})),q.isValidElement(a)?a:a.map(l=>t.createElement("div",{key:l==null?void 0:l.id,className:`${W}-entry`},t.createElement("p",{className:`${W}-entry-title`},l==null?void 0:l.title),t.createElement("p",{className:`${W}-entry-body`},l==null?void 0:l.value))))};fe.propTypes={closeIconDescription:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]).isRequired,setDisplayMetaPanel:e.func.isRequired,title:e.string.isRequired};fe.displayName=Vt;fe.__docgenInfo={description:"",methods:[],displayName:"AddSelectMetaPanel",props:{closeIconDescription:{description:"",type:{name:"string"},required:!0},meta:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}]},required:!0},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!0},title:{description:"",type:{name:"string"},required:!0}}};const x=`${j.prefix}--add-select__sidebar`,Kt="AddSelectSidebar";let ge=({appliedModifiers:n,closeIconDescription:a,displayMetalPanel:s,illustrationTheme:c,influencerTitle:r,items:l,metaPanelTitle:i,modifiers:o,multiSelection:d,noSelectionDescription:h,noSelectionTitle:y,setDisplayMetaPanel:b})=>{var C;const T=((C=o==null?void 0:o.options)==null?void 0:C.length)>0,S=d.length>0,I=p=>{const{meta:N,icon:k,avatar:P,...f}=p;return f},E=d.map(p=>{if(Array.isArray(l)){const N=l.find(k=>k.id===p);return I(N)}return I(l[p])}),$=p=>t.createElement("div",{className:`${x}-accordion-title`},t.createElement("div",{className:`${x}-selected-item`},t.createElement("p",{className:`${x}-selected-item-title`},p.title),t.createElement("p",{className:`${x}-selected-item-subtitle`},p.subtitle)),T&&t.createElement("div",null,n.find(N=>N.id===p.id)[o.id]));return Object.keys(s).length!==0?t.createElement(fe,{closeIconDescription:a,meta:s.meta,setDisplayMetaPanel:b,title:i}):t.createElement("div",{className:x},t.createElement("div",{className:`${x}-header`},t.createElement("p",{className:`${x}-title`},r),t.createElement(Ne,{type:"gray",size:"sm"},d.length)),S?t.createElement($t,{align:"start"},E.map(p=>t.createElement(It,{title:$(p),key:p.id},Object.keys(p).map(N=>t.createElement("div",{className:`${x}-item`,key:N},t.createElement("p",{className:`${x}-item-header`},N),t.createElement("p",{className:`${x}-item-body`},p[N])))))):t.createElement("div",{className:`${x}-body`},t.createElement(kt,{subtitle:h,title:y,size:"sm",illustrationTheme:c})))};ge.propTypes={appliedModifiers:e.array,closeIconDescription:e.string,displayMetalPanel:e.object,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.oneOfType([e.object,e.array]),metaPanelTitle:e.string,modifiers:e.object,multiSelection:e.array,noSelectionDescription:e.string,noSelectionTitle:e.string,setDisplayMetaPanel:e.func};ge.displayName=Kt;ge.__docgenInfo={description:"",methods:[],displayName:"AddSelectSidebar",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},closeIconDescription:{description:"",type:{name:"string"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},illustrationTheme:{description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},influencerTitle:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"union",value:[{name:"object"},{name:"array"}]},required:!1},metaPanelTitle:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},noSelectionDescription:{description:"",type:{name:"string"},required:!1},noSelectionTitle:{description:"",type:{name:"string"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1}}};const Ge=`${j.prefix}--add-select__breadcrumbs`,Ut="AddSelectBreadcrumbs";let oe=({multi:n,onClick:a,path:s})=>{const c=(l,i)=>{l.preventDefault(),a(i)},r=re(Ge,{[`${Ge}-multi`]:n});return t.createElement(Ct,{noTrailingSlash:!0,className:r},s.map((l,i)=>{const o=i===s.length-1;return t.createElement(wt,{key:l.id,isCurrentPage:o,onClick:d=>c(d,i),href:"#"},l.title)}))};oe.propTypes={multi:e.bool,onClick:e.func,path:e.array};oe.displayName=Ut;oe.__docgenInfo={description:"",methods:[],displayName:"AddSelectBreadcrumbs",props:{multi:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},path:{description:"",type:{name:"array"},required:!1}}};const Gt="AddSelectFormControl",z=`${j.prefix}--add-select__selections`;let le=({item:n,onClick:a,selected:s,type:c})=>{const r={onClick:a,className:`${z}-form-control-wrapper ${z}-form-control-wrapper--${c}`,size:20,"aria-labelledby":`control-label-${n.id}`},l=()=>s?t.createElement(St,{...r}):t.createElement(At,{...r}),i=()=>s?t.createElement(Bt,{...r}):t.createElement(Ft,{...r}),o=()=>{if(n)return c==="checkbox"?l():i()},d=({src:y,alt:b,icon:T,backgroundColor:S,theme:I})=>({className:`${z}-cell-avatar`,size:"lg",theme:I,image:y,imageDescription:b,icon:T,backgroundColor:S}),h=({icon:y})=>t.createElement(y,null);return t.createElement("div",{className:`${z}-form-control`},o(),t.createElement("div",{className:`${z}-form-control-label-wrapper`},n.avatar&&t.createElement(_t,{...d(n.avatar)}),n.icon&&t.createElement("div",{className:`${z}-cell-icon`},h(n)),t.createElement("div",{className:`${z}-form-control-label-text`},t.createElement("span",{className:`${z}-cell-title`,id:`control-label-${n.id}`},n.title),n.subtitle&&t.createElement("span",{className:`${z}-cell-subtitle`},n.subtitle))))};le.propTypes={item:e.object,onClick:e.func,selected:e.bool,type:e.oneOf(["checkbox","radio"])};le.displayName=Gt;le.__docgenInfo={description:"",methods:[],displayName:"AddSelectFormControl",props:{item:{description:"",type:{name:"object"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},selected:{description:"",type:{name:"bool"},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'checkbox'",computed:!1},{value:"'radio'",computed:!1}]},required:!1}}};const R=`${j.prefix}--add-select__selections`,Jt="AddSelectList";let ye=({appliedModifiers:n,displayMetalPanel:a,index:s,focus:c,item:r,metaIconDescription:l,modifiers:i,multi:o,multiSelection:d,navIconDescription:h,parentId:y,parentSelected:b,setAppliedModifiers:T,setDisplayMetaPanel:S,setFocus:I,setMultiSelection:E,setParentSelected:$,setSingleSelection:C,setSize:p,singleSelection:N})=>{var J;const k=q.useRef(null);q.useEffect(()=>{c===s&&k.current.focus()},[c,s]);const P=()=>o?d.includes(r.id):r.id===N,f=()=>s===0&&c===""||c===s&&c!==""?0:-1,H=q.useCallback(v=>{I(v?"":s)},[I,s]),V=()=>{C(r.id)},Y=({key:v})=>{v==="Enter"||v===" "?o?_():V():v==="ArrowRight"&&r.children&&K()},_=()=>{if(P()){const m=d.filter(g=>g!==r.id);E(m)}else{const m=[...d,r.id];E(m)}},K=()=>{H(!0),$(r.id,r.title,y)},M=(v,m)=>{const g=[...n],w=g.findIndex(F=>F.id===v);g[w]={id:v,[i.id]:m},T(g)},u=()=>{r.meta&&S(r)},A=v=>v===(a==null?void 0:a.id),B=((J=i==null?void 0:i.options)==null?void 0:J.length)>0,ne=f(),G=P(),Z=b===r.id;return t.createElement("div",{className:re(`${R}-row`,{[`${R}-row--selected`]:P(),[`${R}-row-meta--selected`]:A(r.id),[`${R}-row--active`]:Z,[`${R}-row--focused`]:c===s}),onKeyDown:Y,tabIndex:ne,ref:k,role:"row","aria-selected":G,"aria-posinset":s+1,"aria-setsize":p,"aria-expanded":Z},t.createElement("div",{className:`${R}-cell`,role:"gridcell"},t.createElement("div",{className:`${R}-cell-wrapper`},o?t.createElement(t.Fragment,null,t.createElement(le,{type:"checkbox",item:r,selected:G,onClick:_}),B&&t.createElement(Qe,null,t.createElement(Je,{titleText:i.label,id:`add-select-modifier-${r.id}`,type:"inline",items:i.options,label:i.label,disabled:!P(),className:`${R}-dropdown`,initialSelectedItem:r[i.id],onChange:({selectedItem:v})=>M(r.id,v)}))):t.createElement(le,{type:"radio",item:r,selected:G,onClick:V}),r.children&&t.createElement(X,{className:`${R}-view-children`,renderIcon:v=>t.createElement(Et,{size:16,...v}),iconDescription:h,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:K,kind:"ghost",size:"sm",tabIndex:-1,"aria-hidden":!0}),r.meta&&t.createElement(X,{className:`${R}-view-meta`,renderIcon:v=>t.createElement(Pt,{size:16,...v}),iconDescription:l,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,kind:"ghost",size:"sm",onClick:u}))))};ye.propTypes={appliedModifiers:e.array,displayMetalPanel:e.object,filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),index:e.number,item:e.object,metaIconDescription:e.string,modifiers:e.object,multi:e.bool,multiSelection:e.array,navIconDescription:e.string,parentId:e.string,parentSelected:e.string,setAppliedModifiers:e.func,setDisplayMetaPanel:e.func,setFocus:e.func,setMultiSelection:e.func,setParentSelected:e.func,setSingleSelection:e.func,setSize:e.number,singleSelection:e.string};ye.displayName=Jt;ye.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},index:{description:"",type:{name:"number"},required:!1},item:{description:"",type:{name:"object"},required:!1},metaIconDescription:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},navIconDescription:{description:"",type:{name:"string"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},parentSelected:{description:"",type:{name:"string"},required:!1},setAppliedModifiers:{description:"",type:{name:"func"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1},setFocus:{description:"",type:{name:"func"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setParentSelected:{description:"",type:{name:"func"},required:!1},setSingleSelection:{description:"",type:{name:"func"},required:!1},setSize:{description:"",type:{name:"number"},required:!1},singleSelection:{description:"",type:{name:"string"},required:!1}}};const Qt=n=>{const[a,s]=q.useState(""),c=q.useCallback(r=>{const l=a===""?0:a;r.keyCode===40?(r.preventDefault(),s(l===n-1?0:l+1)):r.keyCode===38&&(r.preventDefault(),s(l===0?n-1:l-1))},[n,a,s]);return q.useEffect(()=>{const r=document.querySelector("#add-select-focus");return r.addEventListener("keydown",c,!1),()=>{r.removeEventListener("keydown",c,!1)}},[c]),[a,s]},ue=`${j.prefix}--add-select__selections`,Wt="AddSelectList";let ce=({filteredItems:n,multi:a,...s})=>{const[c,r]=Qt(n.length);return t.createElement("div",{id:"add-select-focus",className:re(`${ue}-wrapper`,{[`${ue}-wrapper-multi`]:a})},t.createElement("div",{className:`${ue}`},t.createElement("div",{className:`${ue}-body`,role:"treegrid","aria-label":"add select tree label"},n.map((l,i)=>t.createElement(ye,{key:l.id,index:i,focus:c,setSize:n.length,item:l,multi:a,setFocus:r,...s})))))};ce.propTypes={filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),multi:e.bool};ce.displayName=Wt;ce.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},multi:{description:"",type:{name:"bool"},required:!1}}};const Se=`${j.prefix}--add-select-sort`,Xt="AddSelectSort",de=({setSortAttribute:n,setSortDirection:a,sortBy:s,sortByLabel:c})=>{const r=s?s==null?void 0:s.reduce((i,o)=>{const d=[{id:`${o}-asc`,itemText:t.createElement(t.Fragment,null,t.createElement(Dt,{size:16}),o),direction:"asc",attribute:o},{id:`${o}-desc`,itemText:t.createElement(t.Fragment,null,t.createElement(Rt,{size:16}),o),direction:"desc",attribute:o}];return[...i,...d]},[]):[],l=({direction:i,attribute:o})=>{n==null||n(o),a==null||a(i)};return t.createElement("div",{className:Se},r.length>0&&t.createElement(We,{renderIcon:i=>t.createElement(Ot,{size:32,...i}),className:`${Se}_overflow`,flipped:!0,"aria-label":c,iconDescription:c},r.map(i=>t.createElement(xt,{className:`${Se}_overflow-item`,key:i==null?void 0:i.id,itemText:i==null?void 0:i.itemText,onClick:()=>l(i)}))))};de.propTypes={setSortAttribute:e.func,setSortDirection:e.func,sortBy:e.array,sortByLabel:e.string};de.displayName=Xt;de.__docgenInfo={description:"",methods:[],displayName:"AddSelectSort",props:{setSortAttribute:{required:!1,tsType:{name:"signature",type:"function",raw:"(attribute) => void",signature:{arguments:[{name:"attribute"}],return:{name:"void"}}},description:"",type:{name:"func"}},setSortDirection:{required:!1,tsType:{name:"signature",type:"function",raw:"(direction) => void",signature:{arguments:[{name:"direction"}],return:{name:"void"}}},description:"",type:{name:"func"}},sortBy:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:"",type:{name:"array"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}}}};const Ze=n=>n.entries.reduce((s,c)=>{const{children:r,...l}=c;if(s[l.id]=l,r){const i=Ze(r);return{...s,...i}}return s},{}),Yt=(n,a)=>{const s=Object.keys(a);return n.reduce((r,l)=>{const i=l.id,o=s.reduce((d,h)=>{const b=a[h][i];return b&&!d.includes(b)&&d.push(b),d},[]);return r.push({opts:o,...l}),r},[])},et=(n,a)=>(s,c)=>{var i,o;const r=(i=s[n])==null?void 0:i.split(" ").join(""),l=(o=c[n])==null?void 0:o.split(" ").join("");return a==="desc"?r>l?-1:1:r<l?-1:1},Zt=(n,a,s,c,r,l,i,o,d,h)=>{if(n){const y=Object.keys(a);return s||c?y.reduce((T,S)=>(a[S].title.toLowerCase().includes(s.toLowerCase())&&T.push(a[S]),T),[]).filter(T=>r.every(S=>T[S]===l[S])).sort(i):o?d:h.length>1?h.reduce((b,T,S)=>{var E,$;return S===0?b:($=(E=b.find(C=>C.id===T.id))==null?void 0:E.children)==null?void 0:$.entries},d.entries):d.entries}else return s?d.entries.filter(y=>y.title.toLowerCase().includes(s.toLowerCase())):d.entries},tt=()=>{const[n,a]=q.useState(""),[s,c]=q.useState("");return{sortDirection:n,setSortDirection:a,sortAttribute:s,setSortAttribute:c}},rt=()=>{const[n,a]=q.useState(null);return{parentSelected:n,setParentSelected:a}},Ee=`${j.prefix}--add-select`,te=`${Ee}__column`,er="AddSelectColumn";let me=({columnInputPlaceholder:n,filterByLabel:a,header:s,items:c,multiSelection:r,parentId:l,path:i,setMultiSelection:o,setPath:d,sortByLabel:h,...y})=>{const b=Nt(),{parentSelected:T,setParentSelected:S}=rt(),[I,E]=q.useState(""),{sortDirection:$,setSortDirection:C,sortAttribute:p,setSortAttribute:N}=tt(),[k,P]=q.useState([]),{entries:f,filterBy:H,sortBy:V}=c,_=(()=>{const m=i.find(g=>g.parentId===l);return m&&!T?f.find(g=>g.id===m.id):f.find(g=>g.id===T)??null})(),K=_&&i.find(m=>m.id===_.id),M=f.every(m=>r.includes(m.id)),u=H?f.map(m=>m[H]):[],A=(m,{checked:g})=>{const w=f.map(F=>F.id);if(g){const F=[...new Set([...r,...w])];o(F)}else{const F=r.filter(se=>!w.includes(se));o(F)}},B=(m,g)=>{if(m){const w=[...k,g];P(w)}else{const w=k.filter(F=>F!==g);P(w)}},ne=m=>m.title.toLowerCase().includes(I),G=m=>{if(k.length===0)return!0;const{filterBy:g}=m,w=m[g];return k.some(F=>F===w)},Z=et(p,$),J=f.filter(ne).filter(G).sort(Z),v=(m,g)=>{S(m),d(m,g,l)};return t.createElement(t.Fragment,null,t.createElement("div",{className:te},t.createElement("div",{className:`${te}-search-bar`},t.createElement(Xe,{value:I,onChange:m=>E(m.target.value),placeholder:n,className:`${te}-input`,id:Ue(),labelText:n,size:"md"}),t.createElement("div",{className:`${te}-sort-filter`},t.createElement(de,{items:f,setSortAttribute:N,setSortDirection:C,sortAttribute:p,sortDirection:$,sortBy:V,sortByLabel:h}),u.length>0&&t.createElement(We,{renderIcon:m=>t.createElement(Ye,{size:32,...m}),className:`${te}-overflow`,flipped:!0,"aria-label":a,iconDescription:a},u.map(m=>t.createElement("div",{key:m,className:`${b}--overflow-menu-options__option`},t.createElement("div",{className:`${b}--overflow-menu-options__btn`},t.createElement(Ke,{id:m,labelText:m,onChange:(g,{checked:w})=>B(w,m),checked:!!k.find(g=>g===m)}))))))),t.createElement("div",{className:`${Ee}__tags`},t.createElement(Ke,{id:`${Ue()}-select-all`,className:`${te}__select-all`,checked:M,onChange:A,labelText:t.createElement(t.Fragment,null,t.createElement("span",{className:`${Ee}__tag-label`},s),t.createElement(Ne,{type:"gray",size:"sm"},J.length))})),t.createElement(ce,{...y,filteredItems:J,setMultiSelection:o,multiSelection:r,setParentSelected:v,parentSelected:T})),_&&K&&t.createElement(me,{columnInputPlaceholder:n,header:_.title,items:_.children,multiSelection:r,setMultiSelection:o,parentId:_.id,setPath:d,path:i,sortByLabel:h,filterByLabel:a,...y}))};me.propTypes={columnInputPlaceholder:e.string,filterByLabel:e.string,header:e.string,items:e.object,multiSelection:e.array,parentId:e.string,path:e.array,setMultiSelection:e.func,setPath:e.func,sortByLabel:e.string};me.displayName=er;me.__docgenInfo={description:"",methods:[],displayName:"AddSelectColumn",props:{columnInputPlaceholder:{description:"",type:{name:"string"},required:!1},filterByLabel:{description:"",type:{name:"string"},required:!1},header:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},path:{description:"",type:{name:"array"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setPath:{description:"",type:{name:"func"},required:!1},sortByLabel:{description:"",type:{name:"string"},required:!1}}};const O=`${j.prefix}--add-select__global-filter`,tr="AddSelectFilter";let be=({appliedFilters:n,clearFiltersText:a,filterOpts:s,filtersLabel:c,handleFilter:r,handleSearch:l,hasFiltersApplied:i,iconDescription:o,inputLabel:d,inputPlaceholder:h,multi:y,placeholder:b,primaryButtonText:T,searchTerm:S,secondaryButtonText:I})=>{const[E,$]=q.useState({}),[C,p]=q.useState(!1),N=u=>{l(u.target.value)},k=({selectedItem:u},A)=>{$({...E,[A]:u})},P=()=>{p(!1),r(E)},f=()=>{$({})},H=()=>{f(),r({})},V=u=>{const A={...E};delete A[u],$(A),r(A)},Y=u=>E[u]||"",_=y&&(s==null?void 0:s.length)>0,K=re(`${O}-toggle`,{[`${O}-toggle--open`]:C}),M=Object.keys(E).length>0;return t.createElement(t.Fragment,null,t.createElement("div",{className:`${O}-search`},t.createElement(Xe,{id:"add-select-global-search-filter",labelText:d,placeholder:h,value:S,onChange:N}),_&&t.createElement(X,{renderIcon:u=>t.createElement(Ye,{size:16,...u}),hasIconOnly:!0,kind:"ghost",onClick:()=>p(!C),iconDescription:o,className:K,size:"md",tooltipPosition:"left"}),C&&t.createElement(Qe,{className:O,level:1},t.createElement("div",{className:`${O}-content`},t.createElement("p",null,c),t.createElement("div",{className:`${O}-opts`},s.map(u=>t.createElement(Je,{key:u.id,id:u.id,titleText:u.label,items:u.opts,onChange:A=>k(A,u.id),selectedItem:Y(u.id),label:b})))),t.createElement(Lt,{className:`${O}-button-set`},t.createElement(X,{kind:"secondary",onClick:f,className:`${O}-button`,disabled:!M},I),t.createElement(X,{kind:"primary",onClick:P,className:`${O}-button`,disabled:!M&&!i},T)))),i&&t.createElement("div",{className:`${O}-applied`},Object.keys(n).map(u=>t.createElement(jt,{key:u,text:`${u}: ${n[u]}`,type:"gray",size:"sm",onClose:()=>V(u)})),t.createElement(X,{kind:"ghost",size:"sm",onClick:H},a)))};be.propTypes={appliedFilters:e.object,clearFiltersText:e.string,filterOpts:e.array,filtersLabel:e.string,handleFilter:e.func,handleSearch:e.func,hasFiltersApplied:e.bool,iconDescription:e.string,inputLabel:e.string.isRequired,inputPlaceholder:e.string,multi:e.bool,placeholder:e.string,primaryButtonText:e.string,searchTerm:e.string,secondaryButtonText:e.string};be.displayName=tr;be.__docgenInfo={description:"",methods:[],displayName:"AddSelectFilter",props:{appliedFilters:{description:"",type:{name:"object"},required:!1},clearFiltersText:{description:"",type:{name:"string"},required:!1},filterOpts:{description:"",type:{name:"array"},required:!1},filtersLabel:{description:"",type:{name:"string"},required:!1},handleFilter:{description:"",type:{name:"func"},required:!1},handleSearch:{description:"",type:{name:"func"},required:!1},hasFiltersApplied:{description:"",type:{name:"bool"},required:!1},iconDescription:{description:"",type:{name:"string"},required:!1},inputLabel:{description:"",type:{name:"string"},required:!0},inputPlaceholder:{description:"",type:{name:"string"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},primaryButtonText:{description:"",type:{name:"string"},required:!1},searchTerm:{description:"",type:{name:"string"},required:!1},secondaryButtonText:{description:"",type:{name:"string"},required:!1}}};const rr=(n="")=>{const[a,s]=q.useState([{id:"base_of_path",title:n}]);return q.useEffect(()=>{s([{id:"base_of_path",title:n}])},[n]),{path:a,setPath:(i,o,d)=>{if(a.find(y=>y.id===i))return;const h={id:i,title:o,...d&&{parentId:d}};if(a.find(y=>y.parentId===d)){const y=a.findIndex(T=>T.id===d),b=[...a];b.length=y+1,s([...b,h])}else s([...a,h])},pathOnclick:i=>{const o=[...a];o.length=i+1,s([...o])},resetPath:()=>{s([{id:"base_of_path",title:n}])}}},L=`${j.prefix}--add-select`,nr="AddSelectBody",$e=q.forwardRef(({className:n,clearFiltersText:a,closeIconDescription:s,columnInputPlaceholder:c,defaultModifiers:r,description:l,filterByLabel:i,globalFilterOpts:o,globalFiltersLabel:d,globalFiltersIconDescription:h,globalFiltersPlaceholderText:y,globalFiltersPrimaryButtonText:b,globalFiltersSecondaryButtonText:T,globalSearchLabel:S,globalSearchPlaceholder:I,globalSortBy:E,illustrationTheme:$,influencerTitle:C,items:p,itemsLabel:N,metaIconDescription:k,metaPanelTitle:P,multi:f,navIconDescription:H,noResultsDescription:V,noResultsTitle:Y,noSelectionDescription:_,noSelectionTitle:K,normalizedItems:M,onClose:u,onCloseButtonText:A,onSubmit:B,onSubmitButtonText:ne,open:G,portalTarget:Z,searchResultsTitle:J,sortByLabel:v,title:m,useNormalizedItems:g,...w},F)=>{var Ve;const[se,ke]=q.useState(""),[ae,Ce]=q.useState([]),[Q,we]=q.useState(""),[he,_e]=q.useState({}),[Ae,qe]=q.useState({}),[D,Be]=q.useState(r),{sortDirection:nt,setSortDirection:Fe,sortAttribute:st,setSortAttribute:Pe}=tt(),{parentSelected:xe,setParentSelected:De}=rt(),{path:ee,setPath:Re,pathOnclick:at,resetPath:it}=rr(N),lt=()=>{ke(""),Ce([]),we(""),_e({}),qe({}),Be(r),Pe(""),Fe(""),De(null),it()},Oe=()=>{lt(),u==null||u()},ot=re(n,L,{[`${L}__single`]:!f,[`${L}__multi`]:f}),Le=Object.keys(he),ie=Le.length>0,ct=U=>{we(U)},dt=U=>{_e(U)},mt=()=>{if(f&&D&&(D==null?void 0:D.length)>0){const U=ae.map(Te=>D.find(ve=>ve.id===Te));B==null||B(U)}else f&&(D==null?void 0:D.length)===0?B==null||B(ae):B==null||B(se);Oe()},pt=()=>!(g===!1||Q||ie),ut=()=>Q?!0:!(g&&f),ft=(U,Te,ve)=>{De(U),Re(U,Te,ve)},gt=et(st,nt),pe=Zt(g,M,Q,ie,Le,he,gt,f,p,ee),je=pe.length>0,yt=pt(),bt=(Q||ie)&&je,ht=ut(),Me={displayMetalPanel:Ae,metaIconDescription:k,multi:f,multiSelection:ae,navIconDescription:H,path:ee,setMultiSelection:Ce,setPath:Re,setSingleSelection:ke,singleSelection:se,setDisplayMetaPanel:qe,parentId:ee[0].id},ze={...w,className:ot,open:G,title:m,description:l,actions:[{label:A,kind:"secondary",onClick:Oe},{label:ne,kind:"primary",onClick:mt,disabled:f?ae.length===0:!se}],portalTarget:Z,ref:F},qt={appliedModifiers:D,closeIconDescription:s,displayMetalPanel:Ae,illustrationTheme:$,influencerTitle:C,items:g?M:p==null?void 0:p.entries,metaPanelTitle:P,modifiers:p==null?void 0:p.modifiers,multiSelection:ae,noSelectionDescription:_,noSelectionTitle:K,setDisplayMetaPanel:qe},Tt=f&&g&&!Q&&!ie,He=t.createElement(t.Fragment,null,t.createElement("div",{id:"add-select",className:`${L}__header`},t.createElement(be,{inputLabel:S,inputPlaceholder:I,searchTerm:Q,handleSearch:ct,multi:f,filterOpts:o,filtersLabel:d,handleFilter:dt,primaryButtonText:b,secondaryButtonText:T,placeholder:y,iconDescription:h,appliedFilters:he,hasFiltersApplied:ie,clearFiltersText:a}),t.createElement("div",{className:re(`${L}__sub-header`,{[`${L}__sub-header-multi`]:f})},t.createElement("div",{className:`${L}__tags`},yt?t.createElement(oe,{path:ee,onClick:at,multi:f}):t.createElement("p",{className:`${L}__tags-label`},Q?J:N),ht&&t.createElement(Ne,{type:"gray",size:"sm"},pe.length)),bt&&t.createElement(de,{setSortAttribute:Pe,setSortDirection:Fe,sortBy:E}))),Tt?t.createElement("div",{className:`${L}__columns`},t.createElement(me,{...Me,items:pe,columnInputPlaceholder:c,header:(Ve=ee[0])==null?void 0:Ve.title,filterByLabel:i,sortByLabel:v})):t.createElement("div",null,je?t.createElement(ce,{...Me,filteredItems:pe,modifiers:p==null?void 0:p.modifiers,appliedModifiers:D,setAppliedModifiers:Be,setParentSelected:ft,parentSelected:xe,parentId:xe||ee[0].id}):t.createElement("div",{className:`${L}__body`},t.createElement(Mt,{subtitle:V,title:Y,illustrationTheme:$}))));return f?t.createElement(zt,{...ze,influencer:f&&t.createElement(ge,{...qt}),influencerPosition:"right"},He):t.createElement(Ht,{...ze},He)});$e.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string,columnInputPlaceholder:e.string,defaultModifiers:e.array,description:e.string,filterByLabel:e.string,globalFilterOpts:e.array,globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.oneOfType([e.func,e.object]),src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.oneOfType([e.func,e.object]),id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired}))}),itemsLabel:e.string,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool,navIconDescription:e.string,noResultsDescription:e.string,noResultsTitle:e.string,noSelectionDescription:e.string,noSelectionTitle:e.string,normalizedItems:e.object,onClose:e.func,onCloseButtonText:e.string,onSubmit:e.func,onSubmitButtonText:e.string,open:e.bool,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string,useNormalizedItems:e.bool};oe.displayName=nr;$e.__docgenInfo={description:"",methods:[],displayName:"AddSelectBody",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},defaultModifiers:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},description:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilterOpts:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!1}}}},itemsLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},normalizedItems:{required:!1,tsType:{name:"object"},description:"",type:{name:"object"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onCloseButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection) => void",signature:{arguments:[{name:"selection"}],return:{name:"void"}}},description:"",type:{name:"func"}},onSubmitButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},open:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},useNormalizedItems:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}}}};const sr="AddSelect",Ie=q.forwardRef(({items:n={entries:[]},globalFilters:a,...s},c)=>{const r=!!n.entries.find(d=>d.children),l=r?Ze(n):null,i=s.multi&&(a!=null&&a.length)?Yt(a,l):null,o=s.multi&&n.modifiers?n.entries.map(d=>{var b;const h=(b=n==null?void 0:n.modifiers)==null?void 0:b.id;return{...{id:d.id},...h&&{[h]:d[h]}}}):[];return t.createElement($e,{...s,ref:c,items:n,normalizedItems:l,useNormalizedItems:r,globalFilterOpts:i,defaultModifiers:o})});Ie.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string.isRequired,columnInputPlaceholder:e.string,description:e.string.isRequired,filterByLabel:e.string,globalFilters:e.arrayOf(e.shape({id:e.string,label:e.string})),globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.func,src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.func,id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired})).isRequired}).isRequired,itemsLabel:e.string.isRequired,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool.isRequired,navIconDescription:e.string,noResultsDescription:e.string.isRequired,noResultsTitle:e.string.isRequired,noSelectionDescription:e.string,noSelectionTitle:e.string,onClose:e.func.isRequired,onCloseButtonText:e.string.isRequired,onSubmit:e.func.isRequired,onSubmitButtonText:e.string.isRequired,open:e.bool.isRequired,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string.isRequired};Ie.displayName=sr;Ie.__docgenInfo={description:"",methods:[],displayName:"AddSelect",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},description:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilters:{required:!1,tsType:{name:"Array",elements:[{name:"Filter"}],raw:"Filter[]"},description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",defaultValue:{value:"{ entries: [] }",computed:!1},type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"func",required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"func",required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!0}}}},itemsLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsTitle:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onCloseButtonText:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onSubmitButtonText:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},open:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"portal target for the all tags modal",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}}}};export{Ie as A};
