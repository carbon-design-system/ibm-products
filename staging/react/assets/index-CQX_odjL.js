import{_ as S,a as Jn}from"./inheritsLoose-DHKJTbHM.js";import{r as p,e as q,P as f,u as Ce,c as Me,_ as Ue,i as Qn,k as Zn,w as ei,m as Vt}from"./iframe-DKsKIeO_.js";import{F as ti}from"./FormContext-DnXssUoQ.js";function Z(t,n){if(t==null)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(n.indexOf(a)!==-1)continue;r[a]=t[a]}return r}const At=t=>typeof t=="object"&&t!=null&&t.nodeType===1,Lt=(t,n)=>(!n||t!=="hidden")&&t!=="visible"&&t!=="clip",Ke=(t,n)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const r=getComputedStyle(t,null);return Lt(r.overflowY,n)||Lt(r.overflowX,n)||(a=>{const i=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch{return null}})(a);return!!i&&(i.clientHeight<a.scrollHeight||i.clientWidth<a.scrollWidth)})(t)}return!1},He=(t,n,r,a,i,e,o,l)=>e<t&&o>n||e>t&&o<n?0:e<=t&&l<=r||o>=n&&l>=r?e-t-a:o>n&&l<r||e<t&&l>r?o-n+i:0,ni=t=>{const n=t.parentElement;return n??(t.getRootNode().host||null)},ii=(t,n)=>{var r,a,i,e;if(typeof document>"u")return[];const{inline:o,boundary:l,skipOverflowHiddenElements:u}=n,g=typeof l=="function"?l:j=>j!==l;if(!At(t))throw new TypeError("Invalid target");const w=document.scrollingElement||document.documentElement,E=[];let C=t;for(;At(C)&&g(C);){if(C=ni(C),C===w){E.push(C);break}C!=null&&C===document.body&&Ke(C)&&!Ke(document.documentElement)||C!=null&&Ke(C,u)&&E.push(C)}const H=(a=(r=window.visualViewport)==null?void 0:r.width)!=null?a:innerWidth,_=(e=(i=window.visualViewport)==null?void 0:i.height)!=null?e:innerHeight,{scrollX:F,scrollY:k}=window,{height:A,width:s,top:c,right:d,bottom:h,left:y}=t.getBoundingClientRect(),{top:B,right:M,left:m}=(j=>{const K=window.getComputedStyle(j);return{top:parseFloat(K.scrollMarginTop)||0,right:parseFloat(K.scrollMarginRight)||0,bottom:parseFloat(K.scrollMarginBottom)||0,left:parseFloat(K.scrollMarginLeft)||0}})(t);let b=c-B,D=o==="center"?y+s/2-m+M:o==="end"?d+M:y-m;const $=[];for(let j=0;j<E.length;j++){const K=E[j],{height:G,width:ee,top:se,right:R,bottom:T,left:O}=K.getBoundingClientRect();if(c>=0&&y>=0&&h<=_&&d<=H&&(K===w&&!Ke(K)||c>=se&&h<=T&&y>=O&&d<=R))return $;const N=getComputedStyle(K),x=parseInt(N.borderLeftWidth,10),I=parseInt(N.borderTopWidth,10),v=parseInt(N.borderRightWidth,10),P=parseInt(N.borderBottomWidth,10);let V=0,W=0;const U="offsetWidth"in K?K.offsetWidth-K.clientWidth-x-v:0,Y="offsetHeight"in K?K.offsetHeight-K.clientHeight-I-P:0,z="offsetWidth"in K?K.offsetWidth===0?0:ee/K.offsetWidth:0,J="offsetHeight"in K?K.offsetHeight===0?0:G/K.offsetHeight:0;if(w===K)V=He(k,k+_,_,I,P,k+b,k+b+A,A),W=o==="start"?D:o==="center"?D-H/2:o==="end"?D-H:He(F,F+H,H,x,v,F+D,F+D+s,s),V=Math.max(0,V+k),W=Math.max(0,W+F);else{V=He(se,T,G,I,P+Y,b,b+A,A),W=o==="start"?D-O-x:o==="center"?D-(O+ee/2)+U/2:o==="end"?D-R+v+U:He(O,R,ee,x,v+U,D,D+s,s);const{scrollLeft:Q,scrollTop:oe}=K;V=J===0?0:Math.max(0,Math.min(oe+V/J,K.scrollHeight-G/J+Y)),W=z===0?0:Math.max(0,Math.min(Q+W/z,K.scrollWidth-ee/z+U)),b+=oe-V,D+=Q-W}$.push({el:K,top:V,left:W})}return $};var xe=function(){return xe=Object.assign||function(n){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},xe.apply(this,arguments)};var ri=0;function Ft(t){return typeof t=="function"?t:ce}function ce(){}function Jt(t,n){if(t){var r=ii(t,{boundary:n});r.forEach(function(a){var i=a.el,e=a.top,o=a.left;i.scrollTop=e,i.scrollLeft=o})}}function Nt(t,n,r){var a=t===n||n instanceof r.Node&&t.contains&&t.contains(n);return a}function je(t,n){var r;function a(){r&&clearTimeout(r)}function i(){for(var e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];a(),r=setTimeout(function(){r=null,t.apply(void 0,o)},n)}return i.cancel=a,i}function L(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(a){for(var i=arguments.length,e=new Array(i>1?i-1:0),o=1;o<i;o++)e[o-1]=arguments[o];return n.some(function(l){return l&&l.apply(void 0,[a].concat(e)),a.preventDownshiftDefault||a.hasOwnProperty("nativeEvent")&&a.nativeEvent.preventDownshiftDefault})}}function le(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(a){n.forEach(function(i){typeof i=="function"?i(a):i&&(i.current=a)})}}function Qt(){return String(ri++)}function oi(t){var n=t.isOpen,r=t.resultCount,a=t.previousResultCount;return n?r?r!==a?r+" result"+(r===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function Wt(t,n){return t=Array.isArray(t)?t[0]:t,!t&&n?n:t}function ai(t){return typeof t.type=="string"}function li(t){return t.props}var ui=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function Re(t){t===void 0&&(t={});var n={};return ui.forEach(function(r){t.hasOwnProperty(r)&&(n[r]=t[r])}),n}function Oe(t,n){return!t||!n?t:Object.keys(t).reduce(function(r,a){return r[a]=_e(n,a)?n[a]:t[a],r},{})}function _e(t,n){return t[n]!==void 0}function we(t){var n=t.key,r=t.keyCode;return r>=37&&r<=40&&n.indexOf("Arrow")!==0?"Arrow"+n:n}function ue(t,n,r,a,i){i===void 0&&(i=!1);var e=r.length;if(e===0)return-1;var o=e-1;(typeof t!="number"||t<0||t>o)&&(t=n>0?-1:o+1);var l=t+n;l<0?l=i?o:0:l>o&&(l=i?0:o);var u=ge(l,n<0,r,a,i);return u===-1?t>=e?-1:t:u}function ge(t,n,r,a,i){i===void 0&&(i=!1);var e=r.length;if(n){for(var o=t;o>=0;o--)if(!a(r[o],o))return o}else for(var l=t;l<e;l++)if(!a(r[l],l))return l;return i?ge(n?e-1:0,n,r,a):-1}function Ve(t,n,r,a){return a===void 0&&(a=!0),r&&n.some(function(i){return i&&(Nt(i,t,r)||a&&Nt(i,r.document.activeElement,r))})}var si=je(function(t){Zt(t).textContent=""},500);function Zt(t){var n=t.getElementById("a11y-status-message");return n||(n=t.createElement("div"),n.setAttribute("id","a11y-status-message"),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-relevant","additions text"),Object.assign(n.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),t.body.appendChild(n),n)}function en(t,n){if(!(!t||!n)){var r=Zt(n);r.textContent=t,si(n)}}function di(t){var n=t?.getElementById("a11y-status-message");n&&n.remove()}var tn=0,nn=1,rn=2,Te=3,Pe=4,on=5,an=6,ln=7,un=8,sn=9,dn=10,cn=11,fn=12,pn=13,gn=14,hn=15,vn=16,ci=Object.freeze({__proto__:null,blurButton:gn,blurInput:dn,changeInput:cn,clickButton:pn,clickItem:sn,controlledPropUpdatedSelectedItem:hn,itemMouseEnter:rn,keyDownArrowDown:Pe,keyDownArrowUp:Te,keyDownEnd:un,keyDownEnter:an,keyDownEscape:on,keyDownHome:ln,keyDownSpaceButton:fn,mouseUp:nn,touchEnd:vn,unknown:tn}),fi=["refKey","ref"],pi=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],gi=["onKeyDown","onBlur","onChange","onInput","onChangeText"],hi=["refKey","ref"],vi=["onMouseMove","onMouseDown","onClick","onPress","index","item"],sr=function(){var t=function(n){function r(i){var e;e=n.call(this,i)||this,e.id=e.props.id||"downshift-"+Qt(),e.menuId=e.props.menuId||e.id+"-menu",e.labelId=e.props.labelId||e.id+"-label",e.inputId=e.props.inputId||e.id+"-input",e.getItemId=e.props.getItemId||function(s){return e.id+"-item-"+s},e.items=[],e.itemCount=null,e.previousResultCount=0,e.timeoutIds=[],e.internalSetTimeout=function(s,c){var d=setTimeout(function(){e.timeoutIds=e.timeoutIds.filter(function(h){return h!==d}),s()},c);e.timeoutIds.push(d)},e.setItemCount=function(s){e.itemCount=s},e.unsetItemCount=function(){e.itemCount=null},e.isItemDisabled=function(s,c){var d=e.getItemNodeFromIndex(c);return d&&d.hasAttribute("disabled")},e.setHighlightedIndex=function(s,c){s===void 0&&(s=e.props.defaultHighlightedIndex),c===void 0&&(c={}),c=Re(c),e.internalSetState(S({highlightedIndex:s},c))},e.clearSelection=function(s){e.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:e.props.defaultHighlightedIndex,isOpen:e.props.defaultIsOpen},s)},e.selectItem=function(s,c,d){c=Re(c),e.internalSetState(S({isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,selectedItem:s,inputValue:e.props.itemToString(s)},c),d)},e.selectItemAtIndex=function(s,c,d){var h=e.items[s];h!=null&&e.selectItem(h,c,d)},e.selectHighlightedItem=function(s,c){return e.selectItemAtIndex(e.getState().highlightedIndex,s,c)},e.internalSetState=function(s,c){var d,h,y={},B=typeof s=="function";return!B&&s.hasOwnProperty("inputValue")&&e.props.onInputValueChange(s.inputValue,S({},e.getStateAndHelpers(),s)),e.setState(function(M){var m;M=e.getState(M);var b=B?s(M):s;b=e.props.stateReducer(M,b),d=b.hasOwnProperty("selectedItem");var D={};return d&&b.selectedItem!==M.selectedItem&&(h=b.selectedItem),(m=b).type||(m.type=tn),Object.keys(b).forEach(function($){M[$]!==b[$]&&(y[$]=b[$]),$!=="type"&&(b[$],_e(e.props,$)||(D[$]=b[$]))}),B&&b.hasOwnProperty("inputValue")&&e.props.onInputValueChange(b.inputValue,S({},e.getStateAndHelpers(),b)),D},function(){Ft(c)();var M=Object.keys(y).length>1;M&&e.props.onStateChange(y,e.getStateAndHelpers()),d&&e.props.onSelect(s.selectedItem,e.getStateAndHelpers()),h!==void 0&&e.props.onChange(h,e.getStateAndHelpers()),e.props.onUserAction(y,e.getStateAndHelpers())})},e.rootRef=function(s){return e._rootNode=s},e.getRootProps=function(s,c){var d,h=s===void 0?{}:s,y=h.refKey,B=y===void 0?"ref":y,M=h.ref,m=Z(h,fi),b=c===void 0?{}:c,D=b.suppressRefError,$=D===void 0?!1:D;e.getRootProps.called=!0,e.getRootProps.refKey=B,e.getRootProps.suppressRefError=$;var j=e.getState(),K=j.isOpen;return S((d={},d[B]=le(M,e.rootRef),d.role="combobox",d["aria-expanded"]=K,d["aria-haspopup"]="listbox",d["aria-owns"]=K?e.menuId:void 0,d["aria-labelledby"]=e.labelId,d),m)},e.keyDownHandlers={ArrowDown:function(c){var d=this;if(c.preventDefault(),this.getState().isOpen){var h=c.shiftKey?5:1;this.moveHighlightedIndex(h,{type:Pe})}else this.internalSetState({isOpen:!0,type:Pe},function(){var y=d.getItemCount();if(y>0){var B=d.getState(),M=B.highlightedIndex,m=ue(M,1,{length:y},d.isItemDisabled,!0);d.setHighlightedIndex(m,{type:Pe})}})},ArrowUp:function(c){var d=this;if(c.preventDefault(),this.getState().isOpen){var h=c.shiftKey?-5:-1;this.moveHighlightedIndex(h,{type:Te})}else this.internalSetState({isOpen:!0,type:Te},function(){var y=d.getItemCount();if(y>0){var B=d.getState(),M=B.highlightedIndex,m=ue(M,-1,{length:y},d.isItemDisabled,!0);d.setHighlightedIndex(m,{type:Te})}})},Enter:function(c){if(c.which!==229){var d=this.getState(),h=d.isOpen,y=d.highlightedIndex;if(h&&y!=null){c.preventDefault();var B=this.items[y],M=this.getItemNodeFromIndex(y);if(B==null||M&&M.hasAttribute("disabled"))return;this.selectHighlightedItem({type:an})}}},Escape:function(c){c.preventDefault(),this.reset(S({type:on},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},e.buttonKeyDownHandlers=S({},e.keyDownHandlers,{" ":function(c){c.preventDefault(),this.toggleMenu({type:fn})}}),e.inputKeyDownHandlers=S({},e.keyDownHandlers,{Home:function(c){var d=this.getState(),h=d.isOpen;if(h){c.preventDefault();var y=this.getItemCount();if(!(y<=0||!h)){var B=ge(0,!1,{length:y},this.isItemDisabled);this.setHighlightedIndex(B,{type:ln})}}},End:function(c){var d=this.getState(),h=d.isOpen;if(h){c.preventDefault();var y=this.getItemCount();if(!(y<=0||!h)){var B=ge(y-1,!0,{length:y},this.isItemDisabled);this.setHighlightedIndex(B,{type:un})}}}}),e.getToggleButtonProps=function(s){var c=s===void 0?{}:s,d=c.onClick;c.onPress;var h=c.onKeyDown,y=c.onKeyUp,B=c.onBlur,M=Z(c,pi),m=e.getState(),b=m.isOpen,D={onClick:L(d,e.buttonHandleClick),onKeyDown:L(h,e.buttonHandleKeyDown),onKeyUp:L(y,e.buttonHandleKeyUp),onBlur:L(B,e.buttonHandleBlur)},$=M.disabled?{}:D;return S({type:"button",role:"button","aria-label":b?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},$,M)},e.buttonHandleKeyUp=function(s){s.preventDefault()},e.buttonHandleKeyDown=function(s){var c=we(s);e.buttonKeyDownHandlers[c]&&e.buttonKeyDownHandlers[c].call(e,s)},e.buttonHandleClick=function(s){if(s.preventDefault(),e.props.environment){var c=e.props.environment.document,d=c.body,h=c.activeElement;d&&d===h&&s.target.focus()}e.internalSetTimeout(function(){return e.toggleMenu({type:pn})})},e.buttonHandleBlur=function(s){var c=s.target;e.internalSetTimeout(function(){if(!(e.isMouseDown||!e.props.environment)){var d=e.props.environment.document.activeElement;(d==null||d.id!==e.inputId)&&d!==c&&e.reset({type:gn})}})},e.getLabelProps=function(s){return S({htmlFor:e.inputId,id:e.labelId},s)},e.getInputProps=function(s){var c=s===void 0?{}:s,d=c.onKeyDown,h=c.onBlur,y=c.onChange,B=c.onInput;c.onChangeText;var M=Z(c,gi),m,b={};m="onChange";var D=e.getState(),$=D.inputValue,j=D.isOpen,K=D.highlightedIndex;if(!M.disabled){var G;b=(G={},G[m]=L(y,B,e.inputHandleChange),G.onKeyDown=L(d,e.inputHandleKeyDown),G.onBlur=L(h,e.inputHandleBlur),G)}return S({"aria-autocomplete":"list","aria-activedescendant":j&&typeof K=="number"&&K>=0?e.getItemId(K):void 0,"aria-controls":j?e.menuId:void 0,"aria-labelledby":M&&M["aria-label"]?void 0:e.labelId,autoComplete:"off",value:$,id:e.inputId},b,M)},e.inputHandleKeyDown=function(s){var c=we(s);c&&e.inputKeyDownHandlers[c]&&e.inputKeyDownHandlers[c].call(e,s)},e.inputHandleChange=function(s){e.internalSetState({type:cn,isOpen:!0,inputValue:s.target.value,highlightedIndex:e.props.defaultHighlightedIndex})},e.inputHandleBlur=function(){e.internalSetTimeout(function(){var s;if(!(e.isMouseDown||!e.props.environment)){var c=e.props.environment.document.activeElement,d=(c==null||(s=c.dataset)==null?void 0:s.toggle)&&e._rootNode&&e._rootNode.contains(c);d||e.reset({type:dn})}})},e.menuRef=function(s){e._menuNode=s},e.getMenuProps=function(s,c){var d,h=s===void 0?{}:s,y=h.refKey,B=y===void 0?"ref":y,M=h.ref,m=Z(h,hi),b=c===void 0?{}:c,D=b.suppressRefError,$=D===void 0?!1:D;return e.getMenuProps.called=!0,e.getMenuProps.refKey=B,e.getMenuProps.suppressRefError=$,S((d={},d[B]=le(M,e.menuRef),d.role="listbox",d["aria-labelledby"]=m&&m["aria-label"]?void 0:e.labelId,d.id=e.menuId,d),m)},e.getItemProps=function(s){var c,d=s===void 0?{}:s,h=d.onMouseMove,y=d.onMouseDown,B=d.onClick;d.onPress;var M=d.index,m=d.item,b=m===void 0?void 0:m,D=Z(d,vi);M===void 0?(e.items.push(b),M=e.items.indexOf(b)):e.items[M]=b;var $="onClick",j=B,K=(c={onMouseMove:L(h,function(){M!==e.getState().highlightedIndex&&(e.setHighlightedIndex(M,{type:rn}),e.avoidScrolling=!0,e.internalSetTimeout(function(){return e.avoidScrolling=!1},250))}),onMouseDown:L(y,function(ee){ee.preventDefault()})},c[$]=L(j,function(){e.selectItemAtIndex(M,{type:sn})}),c),G=D.disabled?{onMouseDown:K.onMouseDown}:K;return S({id:e.getItemId(M),role:"option","aria-selected":e.getState().highlightedIndex===M},G,D)},e.clearItems=function(){e.items=[]},e.reset=function(s,c){s===void 0&&(s={}),s=Re(s),e.internalSetState(function(d){var h=d.selectedItem;return S({isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,inputValue:e.props.itemToString(h)},s)},c)},e.toggleMenu=function(s,c){s===void 0&&(s={}),s=Re(s),e.internalSetState(function(d){var h=d.isOpen;return S({isOpen:!h},h&&{highlightedIndex:e.props.defaultHighlightedIndex},s)},function(){var d=e.getState(),h=d.isOpen,y=d.highlightedIndex;h&&e.getItemCount()>0&&typeof y=="number"&&e.setHighlightedIndex(y,s),Ft(c)()})},e.openMenu=function(s){e.internalSetState({isOpen:!0},s)},e.closeMenu=function(s){e.internalSetState({isOpen:!1},s)},e.updateStatus=je(function(){var s;if((s=e.props)!=null&&(s=s.environment)!=null&&s.document){var c=e.getState(),d=e.items[c.highlightedIndex],h=e.getItemCount(),y=e.props.getA11yStatusMessage(S({itemToString:e.props.itemToString,previousResultCount:e.previousResultCount,resultCount:h,highlightedItem:d},c));e.previousResultCount=h,en(y,e.props.environment.document)}},200);var o=e.props,l=o.defaultHighlightedIndex,u=o.initialHighlightedIndex,g=u===void 0?l:u,w=o.defaultIsOpen,E=o.initialIsOpen,C=E===void 0?w:E,H=o.initialInputValue,_=H===void 0?"":H,F=o.initialSelectedItem,k=F===void 0?null:F,A=e.getState({highlightedIndex:g,isOpen:C,inputValue:_,selectedItem:k});return A.selectedItem!=null&&e.props.initialInputValue===void 0&&(A.inputValue=e.props.itemToString(A.selectedItem)),e.state=A,e}Jn(r,n);var a=r.prototype;return a.internalClearTimeouts=function(){this.timeoutIds.forEach(function(e){clearTimeout(e)}),this.timeoutIds=[]},a.getState=function(e){return e===void 0&&(e=this.state),Oe(e,this.props)},a.getItemCount=function(){var e=this.items.length;return this.itemCount!=null?e=this.itemCount:this.props.itemCount!==void 0&&(e=this.props.itemCount),e},a.getItemNodeFromIndex=function(e){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(e)):null},a.scrollHighlightedItemIntoView=function(){{var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)}},a.moveHighlightedIndex=function(e,o){var l=this.getItemCount(),u=this.getState(),g=u.highlightedIndex;if(l>0){var w=ue(g,e,{length:l},this.isItemDisabled,!0);this.setHighlightedIndex(w,o)}},a.getStateAndHelpers=function(){var e=this.getState(),o=e.highlightedIndex,l=e.inputValue,u=e.selectedItem,g=e.isOpen,w=this.props.itemToString,E=this.id,C=this.getRootProps,H=this.getToggleButtonProps,_=this.getLabelProps,F=this.getMenuProps,k=this.getInputProps,A=this.getItemProps,s=this.openMenu,c=this.closeMenu,d=this.toggleMenu,h=this.selectItem,y=this.selectItemAtIndex,B=this.selectHighlightedItem,M=this.setHighlightedIndex,m=this.clearSelection,b=this.clearItems,D=this.reset,$=this.setItemCount,j=this.unsetItemCount,K=this.internalSetState;return{getRootProps:C,getToggleButtonProps:H,getLabelProps:_,getMenuProps:F,getInputProps:k,getItemProps:A,reset:D,openMenu:s,closeMenu:c,toggleMenu:d,selectItem:h,selectItemAtIndex:y,selectHighlightedItem:B,setHighlightedIndex:M,clearSelection:m,clearItems:b,setItemCount:$,unsetItemCount:j,setState:K,itemToString:w,id:E,highlightedIndex:o,inputValue:l,isOpen:g,selectedItem:u}},a.componentDidMount=function(){var e=this;if(!this.props.environment)this.cleanup=function(){e.internalClearTimeouts()};else{var o=function(){e.isMouseDown=!0},l=function(H){e.isMouseDown=!1;var _=Ve(H.target,[e._rootNode,e._menuNode],e.props.environment);!_&&e.getState().isOpen&&e.reset({type:nn},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},u=function(){e.isTouchMove=!1},g=function(){e.isTouchMove=!0},w=function(H){var _=Ve(H.target,[e._rootNode,e._menuNode],e.props.environment,!1);!e.isTouchMove&&!_&&e.getState().isOpen&&e.reset({type:vn},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},E=this.props.environment;E.addEventListener("mousedown",o),E.addEventListener("mouseup",l),E.addEventListener("touchstart",u),E.addEventListener("touchmove",g),E.addEventListener("touchend",w),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),E.removeEventListener("mousedown",o),E.removeEventListener("mouseup",l),E.removeEventListener("touchstart",u),E.removeEventListener("touchmove",g),E.removeEventListener("touchend",w)}}},a.shouldScroll=function(e,o){var l=this.props.highlightedIndex===void 0?this.getState():this.props,u=l.highlightedIndex,g=o.highlightedIndex===void 0?e:o,w=g.highlightedIndex,E=u&&this.getState().isOpen&&!e.isOpen,C=u!==w;return E||C},a.componentDidUpdate=function(e,o){_e(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:hn,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(o,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},a.componentWillUnmount=function(){this.cleanup()},a.render=function(){var e=Wt(this.props.children,ce);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var o=Wt(e(this.getStateAndHelpers()));if(!o)return null;if(this.getRootProps.called||this.props.suppressRefError)return o;if(ai(o))return p.cloneElement(o,this.getRootProps(li(o)))},r}(p.Component);return t.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:oi,itemToString:function(r){return r==null?"":String(r)},onStateChange:ce,onInputValueChange:ce,onUserAction:ce,onChange:ce,onSelect:ce,onOuterClick:ce,selectedItemChanged:function(r,a){return r!==a},environment:typeof window>"u"?void 0:window,stateReducer:function(r,a){return a},suppressRefError:!1,scrollIntoView:Jt},t.stateChangeTypes=ci,t}(),mn={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function mi(t,n,r){var a=t.props,i=t.type,e={};Object.keys(n).forEach(function(o){Ii(o,t,n,r),r[o]!==n[o]&&(e[o]=r[o])}),a.onStateChange&&Object.keys(e).length&&a.onStateChange(S({type:i},e))}function Ii(t,n,r,a){var i=n.props,e=n.type,o="on"+Ye(t)+"Change";i[o]&&a[t]!==void 0&&a[t]!==r[t]&&i[o](S({type:e},a))}function yi(t,n){return n.changes}var Ut=je(function(t,n){en(t,n)},200),bi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect,In="useId"in q?function(n){var r=n.id,a=n.labelId,i=n.menuId,e=n.getItemId,o=n.toggleButtonId,l=n.inputId,u="downshift-"+q.useId();r||(r=u);var g=p.useRef({labelId:a||r+"-label",menuId:i||r+"-menu",getItemId:e||function(w){return r+"-item-"+w},toggleButtonId:o||r+"-toggle-button",inputId:l||r+"-input"});return g.current}:function(n){var r=n.id,a=r===void 0?"downshift-"+Qt():r,i=n.labelId,e=n.menuId,o=n.getItemId,l=n.toggleButtonId,u=n.inputId,g=p.useRef({labelId:i||a+"-label",menuId:e||a+"-menu",getItemId:o||function(w){return a+"-item-"+w},toggleButtonId:l||a+"-toggle-button",inputId:u||a+"-input"});return g.current};function Xe(t,n,r,a){var i,e;if(t===void 0){if(n===void 0)throw new Error(a);i=r[n],e=n}else e=n===void 0?r.indexOf(t):n,i=t;return[i,e]}function xi(t){return/^\S{1}$/.test(t)}function Ye(t){return""+t.slice(0,1).toUpperCase()+t.slice(1)}function qe(t){var n=p.useRef(t);return n.current=t,n}function yn(t,n,r,a){var i=p.useRef(),e=p.useRef(),o=p.useCallback(function(H,_){e.current=_,H=Oe(H,_.props);var F=t(H,_),k=_.props.stateReducer(H,S({},_,{changes:F}));return k},[t]),l=p.useReducer(o,n,r),u=l[0],g=l[1],w=qe(n),E=p.useCallback(function(H){return g(S({props:w.current},H))},[w]),C=e.current;return p.useEffect(function(){var H=Oe(i.current,C?.props),_=C&&i.current&&!a(H,u);_&&mi(C,H,u),i.current=u},[u,C,a]),[u,E]}function bn(t,n,r,a){var i=yn(t,n,r,a),e=i[0],o=i[1];return[Oe(e,n),o]}var ke={itemToString:function(n){return n?String(n):""},itemToKey:function(n){return n},stateReducer:yi,scrollIntoView:Jt,environment:typeof window>"u"?void 0:window};function fe(t,n,r){r===void 0&&(r=mn);var a=t["default"+Ye(n)];return a!==void 0?a:r[n]}function me(t,n,r){r===void 0&&(r=mn);var a=t[n];if(a!==void 0)return a;var i=t["initial"+Ye(n)];return i!==void 0?i:fe(t,n,r)}function xn(t){var n=me(t,"selectedItem"),r=me(t,"isOpen"),a=wi(t),i=me(t,"inputValue");return{highlightedIndex:a<0&&n&&r?t.items.findIndex(function(e){return t.itemToKey(e)===t.itemToKey(n)}):a,isOpen:r,selectedItem:n,inputValue:i}}function Ie(t,n,r){var a=t.items,i=t.initialHighlightedIndex,e=t.defaultHighlightedIndex,o=t.isItemDisabled,l=t.itemToKey,u=n.selectedItem,g=n.highlightedIndex;return a.length===0?-1:i!==void 0&&g===i&&!o(a[i],i)?i:e!==void 0&&!o(a[e],e)?e:u?a.findIndex(function(w){return l(u)===l(w)}):r<0&&!o(a[a.length-1],a.length-1)?a.length-1:r>0&&!o(a[0],0)?0:-1}function wn(t,n,r){var a=p.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return p.useEffect(function(){if(!t)return ce;var i=r.map(function(w){return w.current});function e(){a.current.isTouchEnd=!1,a.current.isMouseDown=!0}function o(w){a.current.isMouseDown=!1,Ve(w.target,i,t)||n()}function l(){a.current.isTouchEnd=!1,a.current.isTouchMove=!1}function u(){a.current.isTouchMove=!0}function g(w){a.current.isTouchEnd=!0,!a.current.isTouchMove&&!Ve(w.target,i,t,!1)&&n()}return t.addEventListener("mousedown",e),t.addEventListener("mouseup",o),t.addEventListener("touchstart",l),t.addEventListener("touchmove",u),t.addEventListener("touchend",g),function(){t.removeEventListener("mousedown",e),t.removeEventListener("mouseup",o),t.removeEventListener("touchstart",l),t.removeEventListener("touchmove",u),t.removeEventListener("touchend",g)}},[r,t,n]),a.current}var Je=function(){return ce};function Qe(t,n,r,a){a===void 0&&(a={});var i=a.document,e=ze();p.useEffect(function(){if(!(!t||e||!i)){var o=t(n);Ut(o,i)}},r),p.useEffect(function(){return function(){Ut.cancel(),di(i)}},[i])}function Cn(t){var n=t.highlightedIndex,r=t.isOpen,a=t.itemRefs,i=t.getItemNodeFromIndex,e=t.menuElement,o=t.scrollIntoView,l=p.useRef(!0);return bi(function(){n<0||!r||!Object.keys(a.current).length||(l.current===!1?l.current=!0:o(i(n),e))},[n]),l}function Ae(t,n,r){var a;r===void 0&&(r=!0);var i=((a=t.items)==null?void 0:a.length)&&n>=0;return S({isOpen:!1,highlightedIndex:-1},i&&S({selectedItem:t.items[n],isOpen:fe(t,"isOpen"),highlightedIndex:fe(t,"highlightedIndex")},r&&{inputValue:t.itemToString(t.items[n])}))}function Dn(t,n){return t.isOpen===n.isOpen&&t.inputValue===n.inputValue&&t.highlightedIndex===n.highlightedIndex&&t.selectedItem===n.selectedItem}function ze(){var t=q.useRef(!0);return q.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),t.current}function Le(t){var n=fe(t,"highlightedIndex");return n>-1&&t.isItemDisabled(t.items[n],n)?-1:n}function wi(t){var n=me(t,"highlightedIndex");return n>-1&&t.isItemDisabled(t.items[n],n)?-1:n}var $e={environment:f.shape({addEventListener:f.func.isRequired,removeEventListener:f.func.isRequired,document:f.shape({createElement:f.func.isRequired,getElementById:f.func.isRequired,activeElement:f.any.isRequired,body:f.any.isRequired}).isRequired,Node:f.func.isRequired}),itemToString:f.func,itemToKey:f.func,stateReducer:f.func},Sn=S({},$e,{getA11yStatusMessage:f.func,highlightedIndex:f.number,defaultHighlightedIndex:f.number,initialHighlightedIndex:f.number,isOpen:f.bool,defaultIsOpen:f.bool,initialIsOpen:f.bool,selectedItem:f.any,initialSelectedItem:f.any,defaultSelectedItem:f.any,id:f.string,labelId:f.string,menuId:f.string,getItemId:f.func,toggleButtonId:f.string,onSelectedItemChange:f.func,onHighlightedIndexChange:f.func,onStateChange:f.func,onIsOpenChange:f.func,scrollIntoView:f.func});function kn(t,n,r){var a=n.type,i=n.props,e;switch(a){case r.ItemMouseMove:e={highlightedIndex:n.disabled?-1:n.index};break;case r.MenuMouseLeave:e={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:e={isOpen:!t.isOpen,highlightedIndex:t.isOpen?-1:Ie(i,t,0)};break;case r.FunctionOpenMenu:e={isOpen:!0,highlightedIndex:Ie(i,t,0)};break;case r.FunctionCloseMenu:e={isOpen:!1};break;case r.FunctionSetHighlightedIndex:e={highlightedIndex:i.isItemDisabled(i.items[n.highlightedIndex],n.highlightedIndex)?-1:n.highlightedIndex};break;case r.FunctionSetInputValue:e={inputValue:n.inputValue};break;case r.FunctionReset:e={highlightedIndex:Le(i),isOpen:fe(i,"isOpen"),selectedItem:fe(i,"selectedItem"),inputValue:fe(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return S({},t,e)}function Ci(t){for(var n=t.keysSoFar,r=t.highlightedIndex,a=t.items,i=t.itemToString,e=t.isItemDisabled,o=n.toLowerCase(),l=0;l<a.length;l++){var u=(l+r+(n.length<2?1:0))%a.length,g=a[u];if(g!==void 0&&i(g).toLowerCase().startsWith(o)&&!e(g,u))return u}return r}xe(xe({},Sn),{items:f.array.isRequired,isItemDisabled:f.func});var Di=xe(xe({},ke),{isItemDisabled:function(){return!1}}),Be=0,Ze=1,et=2,Fe=3,tt=4,nt=5,it=6,rt=7,ot=8,at=9,lt=10,Ne=11,Mn=12,On=13,ut=14,En=15,Kn=16,Hn=17,Rn=18,st=19,Ge=20,Tn=21,Pn=Object.freeze({__proto__:null,FunctionCloseMenu:Hn,FunctionOpenMenu:Kn,FunctionReset:Tn,FunctionSelectItem:st,FunctionSetHighlightedIndex:Rn,FunctionSetInputValue:Ge,FunctionToggleMenu:En,ItemClick:ut,ItemMouseMove:On,MenuMouseLeave:Mn,ToggleButtonBlur:Ne,ToggleButtonClick:Be,ToggleButtonKeyDownArrowDown:Ze,ToggleButtonKeyDownArrowUp:et,ToggleButtonKeyDownCharacter:Fe,ToggleButtonKeyDownEnd:it,ToggleButtonKeyDownEnter:rt,ToggleButtonKeyDownEscape:tt,ToggleButtonKeyDownHome:nt,ToggleButtonKeyDownPageDown:lt,ToggleButtonKeyDownPageUp:at,ToggleButtonKeyDownSpaceButton:ot});function Si(t,n){var r,a=n.type,i=n.props,e=n.altKey,o;switch(a){case ut:o={isOpen:fe(i,"isOpen"),highlightedIndex:Le(i),selectedItem:i.items[n.index]};break;case Fe:{var l=n.key,u=""+t.inputValue+l,g=!t.isOpen&&t.selectedItem?i.items.findIndex(function(H){return i.itemToKey(H)===i.itemToKey(t.selectedItem)}):t.highlightedIndex,w=Ci({keysSoFar:u,highlightedIndex:g,items:i.items,itemToString:i.itemToString,isItemDisabled:i.isItemDisabled});o={inputValue:u,highlightedIndex:w,isOpen:!0}}break;case Ze:{var E=t.isOpen?ue(t.highlightedIndex,1,i.items,i.isItemDisabled):e&&t.selectedItem==null?-1:Ie(i,t,1);o={highlightedIndex:E,isOpen:!0}}break;case et:if(t.isOpen&&e)o=Ae(i,t.highlightedIndex,!1);else{var C=t.isOpen?ue(t.highlightedIndex,-1,i.items,i.isItemDisabled):Ie(i,t,-1);o={highlightedIndex:C,isOpen:!0}}break;case rt:case ot:o=Ae(i,t.highlightedIndex,!1);break;case nt:o={highlightedIndex:ge(0,!1,i.items,i.isItemDisabled),isOpen:!0};break;case it:o={highlightedIndex:ge(i.items.length-1,!0,i.items,i.isItemDisabled),isOpen:!0};break;case at:o={highlightedIndex:ue(t.highlightedIndex,-10,i.items,i.isItemDisabled)};break;case lt:o={highlightedIndex:ue(t.highlightedIndex,10,i.items,i.isItemDisabled)};break;case tt:o={isOpen:!1,highlightedIndex:-1};break;case Ne:o=S({isOpen:!1,highlightedIndex:-1},t.highlightedIndex>=0&&((r=i.items)==null?void 0:r.length)&&{selectedItem:i.items[t.highlightedIndex]});break;case st:o={selectedItem:n.selectedItem};break;default:return kn(t,n,Pn)}return S({},t,o)}var ki=["onClick"],Mi=["onMouseLeave","refKey","ref"],Oi=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],Ei=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];Ki.stateChangeTypes=Pn;function Ki(t){t===void 0&&(t={});var n=S({},Di,t),r=n.scrollIntoView,a=n.environment,i=n.getA11yStatusMessage,e=bn(Si,n,xn,Dn),o=e[0],l=e[1],u=o.isOpen,g=o.highlightedIndex,w=o.selectedItem,E=o.inputValue,C=p.useRef(null),H=p.useRef(null),_=p.useRef({}),F=p.useRef(null),k=In(n),A=qe({state:o,props:n}),s=p.useCallback(function(R){return _.current[k.getItemId(R)]},[k]);Qe(i,o,[u,g,w,E],a);var c=Cn({menuElement:H.current,highlightedIndex:g,isOpen:u,itemRefs:_,scrollIntoView:r,getItemNodeFromIndex:s});p.useEffect(function(){return F.current=je(function(R){R({type:Ge,inputValue:""})},500),function(){F.current.cancel()}},[]),p.useEffect(function(){E&&F.current(l)},[l,E]),p.useEffect(function(){var R=me(n,"isOpen");R&&C.current&&C.current.focus()},[]);var d=wn(a,p.useCallback(function(){A.current.state.isOpen&&l({type:Ne})},[l,A]),p.useMemo(function(){return[H,C]},[H.current,C.current])),h=Je();p.useEffect(function(){u||(_.current={})},[u]);var y=p.useMemo(function(){return{ArrowDown:function(T){T.preventDefault(),l({type:Ze,altKey:T.altKey})},ArrowUp:function(T){T.preventDefault(),l({type:et,altKey:T.altKey})},Home:function(T){T.preventDefault(),l({type:nt})},End:function(T){T.preventDefault(),l({type:it})},Escape:function(){A.current.state.isOpen&&l({type:tt})},Enter:function(T){T.preventDefault(),l({type:A.current.state.isOpen?rt:Be})},PageUp:function(T){A.current.state.isOpen&&(T.preventDefault(),l({type:at}))},PageDown:function(T){A.current.state.isOpen&&(T.preventDefault(),l({type:lt}))}," ":function(T){T.preventDefault();var O=A.current.state;if(!O.isOpen){l({type:Be});return}O.inputValue?l({type:Fe,key:" "}):l({type:ot})}}},[l,A]),B=p.useCallback(function(){l({type:En})},[l]),M=p.useCallback(function(){l({type:Hn})},[l]),m=p.useCallback(function(){l({type:Kn})},[l]),b=p.useCallback(function(R){l({type:Rn,highlightedIndex:R})},[l]),D=p.useCallback(function(R){l({type:st,selectedItem:R})},[l]),$=p.useCallback(function(){l({type:Tn})},[l]),j=p.useCallback(function(R){l({type:Ge,inputValue:R})},[l]),K=p.useCallback(function(R){var T=R===void 0?{}:R,O=T.onClick,N=Z(T,ki),x=function(){var v;(v=C.current)==null||v.focus()};return S({id:k.labelId,htmlFor:k.toggleButtonId,onClick:L(O,x)},N)},[k]),G=p.useCallback(function(R,T){var O,N=R===void 0?{}:R,x=N.onMouseLeave,I=N.refKey,v=I===void 0?"ref":I,P=N.ref,V=Z(N,Mi),W=T===void 0?{}:T;W.suppressRefError;var U=function(){l({type:Mn})};return S((O={},O[v]=le(P,function(Y){H.current=Y}),O.id=k.menuId,O.role="listbox",O["aria-labelledby"]=V&&V["aria-label"]?void 0:""+k.labelId,O.onMouseLeave=L(x,U),O),V)},[l,h,k]),ee=p.useCallback(function(R,T){var O,N=R===void 0?{}:R,x=N.onBlur,I=N.onClick;N.onPress;var v=N.onKeyDown,P=N.refKey,V=P===void 0?"ref":P,W=N.ref,U=Z(N,Oi),Y=T===void 0?{}:T;Y.suppressRefError;var z=A.current.state,J=function(){l({type:Be})},Q=function(){z.isOpen&&!d.isMouseDown&&l({type:Ne})},oe=function(X){var te=we(X);te&&y[te]?y[te](X):xi(te)&&l({type:Fe,key:te})},ie=S((O={},O[V]=le(W,function(ae){C.current=ae}),O["aria-activedescendant"]=z.isOpen&&z.highlightedIndex>-1?k.getItemId(z.highlightedIndex):"",O["aria-controls"]=k.menuId,O["aria-expanded"]=A.current.state.isOpen,O["aria-haspopup"]="listbox",O["aria-labelledby"]=U&&U["aria-label"]?void 0:""+k.labelId,O.id=k.toggleButtonId,O.role="combobox",O.tabIndex=0,O.onBlur=L(x,Q),O),U);return U.disabled||(ie.onClick=L(I,J),ie.onKeyDown=L(v,oe)),ie},[l,k,A,d,h,y]),se=p.useCallback(function(R){var T,O=R===void 0?{}:R,N=O.item,x=O.index,I=O.onMouseMove,v=O.onClick,P=O.onMouseDown;O.onPress;var V=O.refKey,W=V===void 0?"ref":V,U=O.disabled,Y=O.ref,z=Z(O,Ei);U!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var J=A.current,Q=J.state,oe=J.props,ie=Xe(N,x,oe.items,"Pass either item or index to getItemProps!"),ae=ie[0],X=ie[1],te=oe.isItemDisabled(ae,X),ye=function(){d.isTouchEnd||X===Q.highlightedIndex||(c.current=!1,l({type:On,index:X,disabled:te}))},be=function(){l({type:ut,index:X})},De=function(de){return de.preventDefault()},ne=S((T={},T[W]=le(Y,function(re){re&&(_.current[k.getItemId(X)]=re)}),T["aria-disabled"]=te,T["aria-selected"]=ae===Q.selectedItem,T.id=k.getItemId(X),T.role="option",T),z);return te||(ne.onClick=L(v,be)),ne.onMouseMove=L(I,ye),ne.onMouseDown=L(P,De),ne},[A,k,d,c,l]);return{getToggleButtonProps:ee,getLabelProps:K,getMenuProps:G,getItemProps:se,toggleMenu:B,openMenu:m,closeMenu:M,setHighlightedIndex:b,selectItem:D,reset:$,setInputValue:j,highlightedIndex:g,isOpen:u,selectedItem:w,inputValue:E}}var dt=0,ct=1,ft=2,pt=3,gt=4,ht=5,vt=6,mt=7,It=8,We=9,yt=10,$n=11,Bn=12,bt=13,_n=14,Vn=15,An=16,Ln=17,Fn=18,xt=19,Nn=20,Wn=21,wt=22,Un=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:wt,FunctionCloseMenu:Ln,FunctionOpenMenu:An,FunctionReset:Wn,FunctionSelectItem:xt,FunctionSetHighlightedIndex:Fn,FunctionSetInputValue:Nn,FunctionToggleMenu:Vn,InputBlur:We,InputChange:It,InputClick:yt,InputKeyDownArrowDown:dt,InputKeyDownArrowUp:ct,InputKeyDownEnd:gt,InputKeyDownEnter:mt,InputKeyDownEscape:ft,InputKeyDownHome:pt,InputKeyDownPageDown:vt,InputKeyDownPageUp:ht,ItemClick:bt,ItemMouseMove:Bn,MenuMouseLeave:$n,ToggleButtonClick:_n});function Hi(t){var n=xn(t),r=n.selectedItem,a=n.inputValue;return a===""&&r&&t.defaultInputValue===void 0&&t.initialInputValue===void 0&&t.inputValue===void 0&&(a=t.itemToString(r)),S({},n,{inputValue:a})}S({},Sn,{items:f.array.isRequired,isItemDisabled:f.func,inputValue:f.string,defaultInputValue:f.string,initialInputValue:f.string,inputId:f.string,onInputValueChange:f.func});function Ri(t,n,r,a){var i=p.useRef(),e=yn(t,n,r,a),o=e[0],l=e[1],u=ze();return p.useEffect(function(){if(_e(n,"selectedItem")){if(!u){var g=n.itemToKey(n.selectedItem)!==n.itemToKey(i.current);g&&l({type:wt,inputValue:n.itemToString(n.selectedItem)})}i.current=o.selectedItem===i.current?n.selectedItem:o.selectedItem}},[o.selectedItem,n.selectedItem]),[Oe(o,n),l]}var Ti=S({},ke,{isItemDisabled:function(){return!1}});function Pi(t,n){var r,a=n.type,i=n.props,e=n.altKey,o;switch(a){case bt:o={isOpen:fe(i,"isOpen"),highlightedIndex:Le(i),selectedItem:i.items[n.index],inputValue:i.itemToString(i.items[n.index])};break;case dt:t.isOpen?o={highlightedIndex:ue(t.highlightedIndex,1,i.items,i.isItemDisabled,!0)}:o={highlightedIndex:e&&t.selectedItem==null?-1:Ie(i,t,1),isOpen:i.items.length>=0};break;case ct:t.isOpen?e?o=Ae(i,t.highlightedIndex):o={highlightedIndex:ue(t.highlightedIndex,-1,i.items,i.isItemDisabled,!0)}:o={highlightedIndex:Ie(i,t,-1),isOpen:i.items.length>=0};break;case mt:o=Ae(i,t.highlightedIndex);break;case ft:o=S({isOpen:!1,highlightedIndex:-1},!t.isOpen&&{selectedItem:null,inputValue:""});break;case ht:o={highlightedIndex:ue(t.highlightedIndex,-10,i.items,i.isItemDisabled,!0)};break;case vt:o={highlightedIndex:ue(t.highlightedIndex,10,i.items,i.isItemDisabled,!0)};break;case pt:o={highlightedIndex:ge(0,!1,i.items,i.isItemDisabled)};break;case gt:o={highlightedIndex:ge(i.items.length-1,!0,i.items,i.isItemDisabled)};break;case We:o=S({isOpen:!1,highlightedIndex:-1},t.highlightedIndex>=0&&((r=i.items)==null?void 0:r.length)&&n.selectItem&&{selectedItem:i.items[t.highlightedIndex],inputValue:i.itemToString(i.items[t.highlightedIndex])});break;case It:o={isOpen:!0,highlightedIndex:Le(i),inputValue:n.inputValue};break;case yt:o={isOpen:!t.isOpen,highlightedIndex:t.isOpen?-1:Ie(i,t,0)};break;case xt:o={selectedItem:n.selectedItem,inputValue:i.itemToString(n.selectedItem)};break;case wt:o={inputValue:n.inputValue};break;default:return kn(t,n,Un)}return S({},t,o)}var $i=["onMouseLeave","refKey","ref"],Bi=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],_i=["onClick","onPress","refKey","ref"],Vi=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];Ai.stateChangeTypes=Un;function Ai(t){t===void 0&&(t={});var n=S({},Ti,t),r=n.items,a=n.scrollIntoView,i=n.environment,e=n.getA11yStatusMessage,o=Ri(Pi,n,Hi,Dn),l=o[0],u=o[1],g=l.isOpen,w=l.highlightedIndex,E=l.selectedItem,C=l.inputValue,H=p.useRef(null),_=p.useRef({}),F=p.useRef(null),k=p.useRef(null),A=ze(),s=In(n),c=p.useRef(),d=qe({state:l,props:n}),h=p.useCallback(function(x){return _.current[s.getItemId(x)]},[s]);Qe(e,l,[g,w,E,C],i);var y=Cn({menuElement:H.current,highlightedIndex:w,isOpen:g,itemRefs:_,scrollIntoView:a,getItemNodeFromIndex:h});p.useEffect(function(){var x=me(n,"isOpen");x&&F.current&&F.current.focus()},[]),p.useEffect(function(){A||(c.current=r.length)});var B=wn(i,p.useCallback(function(){d.current.state.isOpen&&u({type:We,selectItem:!1})},[u,d]),p.useMemo(function(){return[H,k,F]},[H.current,k.current,F.current])),M=Je();p.useEffect(function(){g||(_.current={})},[g]),p.useEffect(function(){var x;!g||!(i!=null&&i.document)||!(F!=null&&(x=F.current)!=null&&x.focus)||i.document.activeElement!==F.current&&F.current.focus()},[g,i]);var m=p.useMemo(function(){return{ArrowDown:function(I){I.preventDefault(),u({type:dt,altKey:I.altKey})},ArrowUp:function(I){I.preventDefault(),u({type:ct,altKey:I.altKey})},Home:function(I){d.current.state.isOpen&&(I.preventDefault(),u({type:pt}))},End:function(I){d.current.state.isOpen&&(I.preventDefault(),u({type:gt}))},Escape:function(I){var v=d.current.state;(v.isOpen||v.inputValue||v.selectedItem||v.highlightedIndex>-1)&&(I.preventDefault(),u({type:ft}))},Enter:function(I){var v=d.current.state;!v.isOpen||I.which===229||(I.preventDefault(),u({type:mt}))},PageUp:function(I){d.current.state.isOpen&&(I.preventDefault(),u({type:ht}))},PageDown:function(I){d.current.state.isOpen&&(I.preventDefault(),u({type:vt}))}}},[u,d]),b=p.useCallback(function(x){return S({id:s.labelId,htmlFor:s.inputId},x)},[s]),D=p.useCallback(function(x,I){var v,P=x===void 0?{}:x,V=P.onMouseLeave,W=P.refKey,U=W===void 0?"ref":W,Y=P.ref,z=Z(P,$i),J=I===void 0?{}:I;return J.suppressRefError,S((v={},v[U]=le(Y,function(Q){H.current=Q}),v.id=s.menuId,v.role="listbox",v["aria-labelledby"]=z&&z["aria-label"]?void 0:""+s.labelId,v.onMouseLeave=L(V,function(){u({type:$n})}),v),z)},[u,M,s]),$=p.useCallback(function(x){var I,v,P=x===void 0?{}:x,V=P.item,W=P.index,U=P.refKey,Y=U===void 0?"ref":U,z=P.ref,J=P.onMouseMove,Q=P.onMouseDown,oe=P.onClick;P.onPress;var ie=P.disabled,ae=Z(P,Bi);ie!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var X=d.current,te=X.props,ye=X.state,be=Xe(V,W,te.items,"Pass either item or index to getItemProps!"),De=be[0],ne=be[1],re=te.isItemDisabled(De,ne),de="onClick",he=oe,pe=function(){B.isTouchEnd||ne===ye.highlightedIndex||(y.current=!1,u({type:Bn,index:ne,disabled:re}))},ve=function(){u({type:bt,index:ne})},Xn=function(Yn){return Yn.preventDefault()};return S((I={},I[Y]=le(z,function(Se){Se&&(_.current[s.getItemId(ne)]=Se)}),I["aria-disabled"]=re,I["aria-selected"]=ne===ye.highlightedIndex,I.id=s.getItemId(ne),I.role="option",I),!re&&(v={},v[de]=L(he,ve),v),{onMouseMove:L(J,pe),onMouseDown:L(Q,Xn)},ae)},[u,s,d,B,y]),j=p.useCallback(function(x){var I,v=x===void 0?{}:x,P=v.onClick;v.onPress;var V=v.refKey,W=V===void 0?"ref":V,U=v.ref,Y=Z(v,_i),z=d.current.state,J=function(){u({type:_n})};return S((I={},I[W]=le(U,function(Q){k.current=Q}),I["aria-controls"]=s.menuId,I["aria-expanded"]=z.isOpen,I.id=s.toggleButtonId,I.tabIndex=-1,I),!Y.disabled&&S({},{onClick:L(P,J)}),Y)},[u,d,s]),K=p.useCallback(function(x,I){var v,P=x===void 0?{}:x,V=P.onKeyDown,W=P.onChange,U=P.onInput,Y=P.onBlur;P.onChangeText;var z=P.onClick,J=P.refKey,Q=J===void 0?"ref":J,oe=P.ref,ie=Z(P,Vi),ae=I===void 0?{}:I;ae.suppressRefError;var X=d.current.state,te=function(pe){var ve=we(pe);ve&&m[ve]&&m[ve](pe)},ye=function(pe){u({type:It,inputValue:pe.target.value})},be=function(pe){if(i!=null&&i.document&&X.isOpen&&!B.isMouseDown){var ve=pe.relatedTarget===null&&i.document.activeElement!==i.document.body;u({type:We,selectItem:!ve})}},De=function(){u({type:yt})},ne="onChange",re={};if(!ie.disabled){var de;re=(de={},de[ne]=L(W,U,ye),de.onKeyDown=L(V,te),de.onBlur=L(Y,be),de.onClick=L(z,De),de)}return S((v={},v[Q]=le(oe,function(he){F.current=he}),v["aria-activedescendant"]=X.isOpen&&X.highlightedIndex>-1?s.getItemId(X.highlightedIndex):"",v["aria-autocomplete"]="list",v["aria-controls"]=s.menuId,v["aria-expanded"]=X.isOpen,v["aria-labelledby"]=ie&&ie["aria-label"]?void 0:s.labelId,v.autoComplete="off",v.id=s.inputId,v.role="combobox",v.value=X.inputValue,v),re,ie)},[u,s,i,m,d,B,M]),G=p.useCallback(function(){u({type:Vn})},[u]),ee=p.useCallback(function(){u({type:Ln})},[u]),se=p.useCallback(function(){u({type:An})},[u]),R=p.useCallback(function(x){u({type:Fn,highlightedIndex:x})},[u]),T=p.useCallback(function(x){u({type:xt,selectedItem:x})},[u]),O=p.useCallback(function(x){u({type:Nn,inputValue:x})},[u]),N=p.useCallback(function(){u({type:Wn})},[u]);return{getItemProps:$,getLabelProps:b,getMenuProps:D,getInputProps:K,getToggleButtonProps:j,toggleMenu:G,openMenu:se,closeMenu:ee,setHighlightedIndex:R,setInputValue:O,selectItem:T,reset:N,highlightedIndex:w,isOpen:g,selectedItem:E,inputValue:C}}var jn={activeIndex:-1,selectedItems:[]};function jt(t,n){return me(t,n,jn)}function qt(t,n){return fe(t,n,jn)}function Li(t){var n=jt(t,"activeIndex"),r=jt(t,"selectedItems");return{activeIndex:n,selectedItems:r}}function zt(t){if(t.shiftKey||t.metaKey||t.ctrlKey||t.altKey)return!1;var n=t.target;return!(n instanceof HTMLInputElement&&n.value!==""&&(n.selectionStart!==0||n.selectionEnd!==0))}function Fi(t,n){return t.selectedItems===n.selectedItems&&t.activeIndex===n.activeIndex}$e.stateReducer,$e.itemToKey,$e.environment,f.array,f.array,f.array,f.func,f.number,f.number,f.number,f.func,f.func,f.string,f.string;var Ni={itemToKey:ke.itemToKey,stateReducer:ke.stateReducer,environment:ke.environment,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Ct=0,Dt=1,St=2,kt=3,Mt=4,Ot=5,Et=6,Kt=7,Ht=8,Rt=9,Tt=10,Pt=11,$t=12,Wi=Object.freeze({__proto__:null,DropdownClick:Kt,DropdownKeyDownBackspace:Et,DropdownKeyDownNavigationPrevious:Ot,FunctionAddSelectedItem:Ht,FunctionRemoveSelectedItem:Rt,FunctionReset:$t,FunctionSetActiveIndex:Pt,FunctionSetSelectedItems:Tt,SelectedItemClick:Ct,SelectedItemKeyDownBackspace:St,SelectedItemKeyDownDelete:Dt,SelectedItemKeyDownNavigationNext:kt,SelectedItemKeyDownNavigationPrevious:Mt});function Ui(t,n){var r=n.type,a=n.index,i=n.props,e=n.selectedItem,o=t.activeIndex,l=t.selectedItems,u;switch(r){case Ct:u={activeIndex:a};break;case Mt:u={activeIndex:o-1<0?0:o-1};break;case kt:u={activeIndex:o+1>=l.length?-1:o+1};break;case St:case Dt:{if(o<0)break;var g=o;l.length===1?g=-1:o===l.length-1&&(g=l.length-2),u=S({selectedItems:[].concat(l.slice(0,o),l.slice(o+1))},{activeIndex:g});break}case Ot:u={activeIndex:l.length-1};break;case Et:u={selectedItems:l.slice(0,l.length-1)};break;case Ht:u={selectedItems:[].concat(l,[e])};break;case Kt:u={activeIndex:-1};break;case Rt:{var w=o,E=l.findIndex(function(_){return i.itemToKey(_)===i.itemToKey(e)});if(E<0)break;l.length===1?w=-1:E===l.length-1&&(w=l.length-2),u={selectedItems:[].concat(l.slice(0,E),l.slice(E+1)),activeIndex:w};break}case Tt:{var C=n.selectedItems;u={selectedItems:C};break}case Pt:{var H=n.activeIndex;u={activeIndex:H};break}case $t:u={activeIndex:qt(i,"activeIndex"),selectedItems:qt(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return S({},t,u)}var ji=["refKey","ref","onClick","onKeyDown","selectedItem","index"],qi=["refKey","ref","onKeyDown","onClick","preventKeyAction"];zi.stateChangeTypes=Wi;function zi(t){t===void 0&&(t={});var n=S({},Ni,t),r=n.getA11yStatusMessage,a=n.environment,i=n.keyNavigationNext,e=n.keyNavigationPrevious,o=bn(Ui,n,Li,Fi),l=o[0],u=o[1],g=l.activeIndex,w=l.selectedItems,E=ze(),C=p.useRef(null),H=p.useRef();H.current=[];var _=qe({state:l,props:n});Qe(r,l,[g,w],a),p.useEffect(function(){E||(g===-1&&C.current?C.current.focus():H.current[g]&&H.current[g].focus())},[g]);var F=Je(),k=p.useMemo(function(){var m;return m={},m[e]=function(){u({type:Mt})},m[i]=function(){u({type:kt})},m.Delete=function(){u({type:Dt})},m.Backspace=function(){u({type:St})},m},[u,i,e]),A=p.useMemo(function(){var m;return m={},m[e]=function(b){zt(b)&&u({type:Ot})},m.Backspace=function(D){zt(D)&&u({type:Et})},m},[u,e]),s=p.useCallback(function(m){var b,D=m===void 0?{}:m,$=D.refKey,j=$===void 0?"ref":$,K=D.ref,G=D.onClick,ee=D.onKeyDown,se=D.selectedItem,R=D.index,T=Z(D,ji),O=_.current.state,N=Xe(se,R,O.selectedItems,"Pass either item or index to getSelectedItemProps!"),x=N[1],I=x>-1&&x===O.activeIndex,v=function(){u({type:Ct,index:x})},P=function(W){var U=we(W);U&&k[U]&&k[U](W)};return S((b={},b[j]=le(K,function(V){V&&H.current.push(V)}),b.tabIndex=I?0:-1,b.onClick=L(G,v),b.onKeyDown=L(ee,P),b),T)},[u,_,k]),c=p.useCallback(function(m,b){var D,$=m===void 0?{}:m,j=$.refKey,K=j===void 0?"ref":j,G=$.ref,ee=$.onKeyDown,se=$.onClick,R=$.preventKeyAction,T=R===void 0?!1:R,O=Z($,qi),N=b===void 0?{}:b;N.suppressRefError;var x=function(P){var V=we(P);V&&A[V]&&A[V](P)},I=function(){u({type:Kt})};return S((D={},D[K]=le(G,function(v){v&&(C.current=v)}),D),!T&&{onKeyDown:L(ee,x),onClick:L(se,I)},O)},[u,A,F]),d=p.useCallback(function(m){u({type:Ht,selectedItem:m})},[u]),h=p.useCallback(function(m){u({type:Rt,selectedItem:m})},[u]),y=p.useCallback(function(m){u({type:Tt,selectedItems:m})},[u]),B=p.useCallback(function(m){u({type:Pt,activeIndex:m})},[u]),M=p.useCallback(function(){u({type:$t})},[u]);return{getSelectedItemProps:s,getDropdownProps:c,addSelectedItem:d,removeSelectedItem:h,setSelectedItems:y,setActiveIndex:B,reset:M,selectedItems:w,activeIndex:g}}const Gi=["default","inline"],Xi=["sm","md","lg"],Yi=f.oneOf(Gi),Ji=f.oneOf(Xi),Qi=t=>{t.keyCode===27&&t.stopPropagation()},Zi=t=>{t.preventDefault(),t.stopPropagation()},Bt=p.forwardRef((t,n)=>{const{children:r,className:a,disabled:i=!1,type:e="default",size:o,invalid:l,invalidText:u,invalidTextId:g,warn:w,warnText:E,warnTextId:C,light:H,isOpen:_,...F}=t,k=Ce(),{isFluid:A}=p.useContext(ti),s=!l&&w,c=Me({...a&&{[a]:!0},[`${k}--list-box`]:!0,[`${k}--list-box--${o}`]:o,[`${k}--list-box--inline`]:e==="inline",[`${k}--list-box--disabled`]:i,[`${k}--list-box--light`]:H,[`${k}--list-box--expanded`]:_,[`${k}--list-box--invalid`]:l,[`${k}--list-box--warning`]:s});return q.createElement(q.Fragment,null,q.createElement("div",Ue({},F,{className:c,ref:n,onKeyDown:Qi,onClick:Zi,"data-invalid":l||void 0}),r),A&&q.createElement("hr",{className:`${k}--list-box__divider`}),l?q.createElement("div",{className:`${k}--form-requirement`,id:g},u):null,s?q.createElement("div",{className:`${k}--form-requirement`,id:C},E):null)});Bt.displayName="ListBox";Bt.propTypes={children:f.node,className:f.string,disabled:f.bool,invalid:f.bool,invalidText:f.node,invalidTextId:f.string,isOpen:f.bool,light:Qn(f.bool),size:Ji,type:Yi,warn:f.bool,warnText:f.string,warnTextId:f.string};function qn({children:t,disabled:n,tabIndex:r,...a}){const i=Ce();return q.createElement("div",Ue({className:`${i}--list-box__field`,tabIndex:!n&&r||-1},a),t)}qn.propTypes={"aria-haspopup":f.oneOfType([f.string,f.bool]),children:f.node,disabled:f.bool,role:f.string,tabIndex:f.oneOfType([f.number,f.string])};const er=(t,n=[])=>{const r=p.useRef(null),a=Zn([...t?[t]:[],r]),[i,e]=p.useState(!1);return p.useEffect(()=>{const o=r.current;if(o){const{offsetWidth:l,scrollWidth:u}=o;e(l<u)}},[r,...n]),{isTruncated:i,ref:a}},Ee=p.forwardRef(({children:t,isActive:n=!1,isHighlighted:r=!1,title:a,...i},e)=>{const o=Ce(),l=e&&typeof e!="function"?e.menuItemOptionRef:void 0,{isTruncated:u,ref:g}=er(l,[t]),w=Me(`${o}--list-box__menu-item`,{[`${o}--list-box__menu-item--active`]:n,[`${o}--list-box__menu-item--highlighted`]:r});return q.createElement("li",Ue({},i,{className:w,title:u?a:void 0}),q.createElement("div",{className:`${o}--list-box__menu-item__option`,ref:g},t))});Ee.displayName="ListBoxMenuItem";Ee.propTypes={children:f.node,disabled:f.bool,isActive:f.bool,isHighlighted:f.bool,title:f.string};const tr=p.forwardRef,_t=tr(({children:t,id:n,...r},a)=>{const i=Ce();return q.createElement("ul",Ue({ref:a,id:n,className:`${i}--list-box__menu`,role:"listbox"},r),t)});_t.displayName="ListBoxMenu";_t.propTypes={children:f.oneOfType([f.node,f.arrayOf(f.oneOf([Ee])),f.shape({type:f.oneOf([Ee])}),f.bool]),id:f.string.isRequired};const nr={"close.menu":"Close menu","open.menu":"Open menu"},ir=t=>nr[t],zn=({isOpen:t,translateWithId:n=ir})=>{const r=Ce(),a=Me(`${r}--list-box__menu-icon`,{[`${r}--list-box__menu-icon--open`]:t}),i=n(t?"close.menu":"open.menu");return q.createElement("div",{className:a},q.createElement(ei,{name:"chevron--down","aria-label":i},q.createElement("title",null,i)))};zn.propTypes={isOpen:f.bool.isRequired,translateWithId:f.func};var Gt,Xt;const Yt={"clear.all":"clear.all","clear.selection":"clear.selection"},rr={[Yt["clear.all"]]:"Clear all selected items",[Yt["clear.selection"]]:"Clear selected item"},or=t=>rr[t],Gn=({clearSelection:t,selectionCount:n,translateWithId:r=or,disabled:a,onClearSelection:i,readOnly:e})=>{const o=Ce(),l=Me(`${o}--list-box__selection`,{[`${o}--tag--filter`]:n,[`${o}--list-box__selection--multi`]:n}),u=E=>{E.stopPropagation(),!(a||e)&&(t(E),i&&i(E))},g=r(n?"clear.all":"clear.selection"),w=Me(`${o}--tag`,`${o}--tag--filter`,`${o}--tag--high-contrast`,{[`${o}--tag--disabled`]:a});return n?q.createElement("div",{className:w},q.createElement("span",{className:`${o}--tag__label`,title:`${n}`},n),q.createElement("div",{role:"button",tabIndex:-1,className:`${o}--tag__close-icon`,onClick:u,"aria-label":r("clear.all"),title:g,"aria-disabled":e?!0:void 0},Gt||(Gt=q.createElement(Vt,null)))):q.createElement("div",{role:"button",className:l,tabIndex:-1,onClick:u,"aria-label":g,title:g},n,Xt||(Xt=q.createElement(Vt,null)))};Gn.propTypes={clearSelection:f.func.isRequired,disabled:f.bool,onClearSelection:f.func,readOnly:f.bool,selectionCount:f.number,translateWithId:f.func};const dr=Object.assign(Bt,{Field:qn,Menu:_t,MenuIcon:zn,MenuItem:Ee,Selection:Gn});export{sr as D,dr as L,Yi as a,Ji as b,Ai as c,zi as d,Ki as u};
