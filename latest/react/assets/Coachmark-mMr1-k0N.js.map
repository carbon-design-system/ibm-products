{"version":3,"file":"Coachmark-mMr1-k0N.js","sources":["../../src/components/Coachmark/next/Coachmark/context.ts","../../src/components/Coachmark/next/Coachmark/CoachmarkBubble/CoachmarkBubble.tsx","../../src/components/Coachmark/next/Coachmark/CoachmarkBubble/CoachmarkBubbleHeader.tsx","../../src/components/Coachmark/next/Coachmark/CoachmarkContent.tsx","../../src/components/Coachmark/next/Coachmark/ContentHeader.tsx","../../src/components/Coachmark/next/Coachmark/ContentBody.tsx","../../src/components/Coachmark/next/Coachmark/Coachmark.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { createContext, RefObject } from 'react';\nimport { pkg } from '../../../../settings';\nimport { NewPopoverAlignment } from '@carbon/react';\n\ninterface CoachmarkContextType {\n  onClose?: () => void;\n  open?: boolean;\n  setOpen: (value: boolean) => void;\n  align?: NewPopoverAlignment;\n  triggerRef: RefObject<HTMLElement | null>;\n  position: { x: number; y: number };\n  contentRef: HTMLElement | null;\n  setContentRef: (value: any) => void;\n  floating?: boolean;\n}\n\nexport const CoachmarkContext = createContext<CoachmarkContextType>({\n  open: false,\n  setOpen: () => {},\n  align: 'bottom',\n  triggerRef: { current: null },\n  position: { x: 0, y: 0 },\n  contentRef: null,\n  setContentRef: (value: boolean) => {},\n  floating: false,\n});\n\nexport const blockClass = `${pkg.prefix}--coachmark__next`;\n","/**\n * @license\n *\n * Copyright IBM Corp. 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport cx from 'classnames';\nimport {\n  NewPopoverAlignment,\n  useTheme,\n  usePrefix as useCarbonPrefix,\n} from '@carbon/react';\nimport React, { forwardRef, HTMLProps, RefObject, useRef } from 'react';\nimport {\n  autoUpdate,\n  computePosition,\n  flip,\n  shift,\n  offset,\n  arrow,\n} from '@floating-ui/react';\nimport { pkg } from '../../../../../settings';\nimport { useIsomorphicEffect } from '../../../../../global/js/hooks';\n\ninterface BubbleProps extends Omit<HTMLProps<HTMLDivElement>, 'target'> {\n  /**\n   * 'top' | 'bottom' | 'left' | 'right' | 'top-start' | 'top-end' | 'bottom-start' | 'bottom-end' | 'left-end' | 'left-start' | 'right-end' | 'right-start';\n   **/\n  align?: NewPopoverAlignment;\n  /**\n   * Values can range from an Element, a ref of an Element, a string which will use query selector to select an Element.\n   **/\n  target: Element | RefObject<Element> | string | null | undefined;\n  /**\n   * Specify whether the component should be rendered on high-contrast.\n   */\n  highContrast?: boolean;\n  /**\n   * Specify whether a drop shadow should be rendered on the popover.\n   */\n  dropShadow?: boolean;\n  /**\n   * Specifies whether the component is currently open.\n   */\n  open: boolean;\n  /**\n   * Specify whether a caret should be rendered.\n   */\n  caret?: boolean;\n}\n\nconst CoachmarkBubble = forwardRef<HTMLDivElement, BubbleProps>(\n  (props, ref) => {\n    const {\n      children,\n      align,\n      target,\n      className,\n      dropShadow = true,\n      highContrast = false,\n      caret = false,\n      open,\n      ...rest\n    } = props;\n    const { theme } = useTheme();\n    const carbonPrefix = useCarbonPrefix();\n    const tooltipRef = useRef<HTMLDivElement | null>(null);\n    const arrowRef = useRef<HTMLDivElement | null>(null);\n    const targetRef = useRef<Element | null>(null);\n\n    useIsomorphicEffect(() => {\n      if (target) {\n        if (typeof target === 'string') {\n          if (target === '#' || target.trim() === '') {\n            return;\n          }\n          targetRef.current = document.querySelector(target);\n        } else if ('current' in target) {\n          targetRef.current = target.current;\n        } else {\n          targetRef.current = target;\n        }\n\n        if (\n          targetRef.current &&\n          tooltipRef.current &&\n          arrowRef.current &&\n          open\n        ) {\n          targetRef.current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'center',\n          });\n\n          const middlewares = [\n            offset(10),\n            flip(),\n            shift({ padding: 5 }),\n            arrow({ element: arrowRef.current }),\n          ];\n\n          const cleanup = autoUpdate(\n            targetRef.current,\n            tooltipRef.current,\n            () => {\n              if (targetRef.current && tooltipRef.current) {\n                computePosition(targetRef.current, tooltipRef.current, {\n                  placement: align,\n                  strategy: 'fixed',\n                  middleware: middlewares,\n                }).then(({ x, y, placement, middlewareData }) => {\n                  if (tooltipRef.current) {\n                    Object.assign(tooltipRef.current.style, {\n                      left: `${x}px`,\n                      top: `${y}px`,\n                    });\n                  }\n\n                  const arrowX = middlewareData.arrow?.x;\n                  const arrowY = middlewareData.arrow?.y;\n\n                  const staticSide = {\n                    top: 'bottom',\n                    right: 'left',\n                    bottom: 'top',\n                    left: 'right',\n                  }[placement.split('-')[0]];\n\n                  if (staticSide && arrowRef.current) {\n                    Object.assign(arrowRef.current.style, {\n                      left: arrowX != null ? `${arrowX}px` : '',\n                      top: arrowY != null ? `${arrowY}px` : '',\n                      right: '',\n                      bottom: '',\n                      [staticSide]: '-4px',\n                    });\n                  }\n                });\n              }\n            },\n            { animationFrame: true }\n          );\n\n          return () => {\n            cleanup();\n          };\n        }\n      }\n    }, [target, open, align]);\n\n    if (!target) {\n      return null;\n    }\n\n    const mergedRefs = (node) => {\n      tooltipRef.current = node;\n      if (typeof ref === 'function') {\n        ref(node);\n      } else if (ref) {\n        ref.current = node;\n      }\n    };\n\n    return (\n      <div\n        {...rest}\n        ref={mergedRefs}\n        className={cx(\n          {\n            [`${carbonPrefix}--g100`]:\n              (theme === 'white' && highContrast) ||\n              (theme === 'g100' && !highContrast),\n            [`${carbonPrefix}--g90`]:\n              (theme === 'g10' && highContrast) ||\n              (theme === 'g90' && !highContrast),\n            [`${carbonPrefix}--g10`]:\n              (theme === 'g90' && highContrast) ||\n              (theme === 'g10' && !highContrast),\n            [`${carbonPrefix}--white`]:\n              (theme === 'g100' && highContrast) ||\n              (theme === 'white' && !highContrast),\n            [`${pkg.prefix}__bubble`]: true,\n            [`${pkg.prefix}__bubble-open`]: open,\n            [`${pkg.prefix}__bubble-drop-shadow`]: dropShadow,\n            [`${pkg.prefix}__bubble-high-contrast`]: highContrast,\n            [`${pkg.prefix}__bubble-hidden`]: !targetRef.current,\n          },\n          className\n        )}\n      >\n        <div\n          ref={arrowRef}\n          className={!caret ? `${pkg.prefix}__bubble__arrow` : ''}\n        ></div>\n        {children}\n      </div>\n    );\n  }\n);\n\nCoachmarkBubble.displayName = 'CoachmarkBubble';\n\nexport { CoachmarkBubble };\n","/**\n * @license\n *\n * Copyright IBM Corp. 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { HTMLProps, ReactNode } from 'react';\nimport cx from 'classnames';\nimport { pkg } from '../../../../../settings';\n\ninterface BubbleHeaderProps extends HTMLProps<HTMLElement> {\n  /**\n   * Provide the contents of the Bubble header\n   */\n  children: ReactNode;\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n}\n\nconst CoachmarkBubbleHeader = ({\n  children,\n  className,\n  ...rest\n}: BubbleHeaderProps) => {\n  return (\n    <header\n      {...rest}\n      className={cx(`${pkg.prefix}__bubble__header`, className)}\n    >\n      {children}\n    </header>\n  );\n};\n\nCoachmarkBubbleHeader.displayName = 'CoachmarkBubbleHeader';\n\nexport { CoachmarkBubbleHeader };\n","/**\n * Copyright IBM Corp. 2024, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, {\n  FC,\n  forwardRef,\n  ForwardRefExoticComponent,\n  ReactElement,\n  ReactNode,\n  RefAttributes,\n  useContext,\n  useEffect,\n  useRef,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { pkg } from '../../../../settings';\nimport { blockClass, CoachmarkContext } from './context';\nimport { CoachmarkBubble } from './CoachmarkBubble';\nimport { ContentHeaderProps } from './ContentHeader';\nimport { ContentBodyProps } from './ContentBody';\nimport { NewPopoverAlignment } from '@carbon/react';\nimport cx from 'classnames';\n\nexport interface CoachmarkContentProps {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n  /**\n   * This is a required callback that has to return the content to render in the body section.\n   * It can be a single child or an array of children depending on your need\n   */\n  children: ReactElement | ReactNode;\n  /**\n   * Specify whether the component should be rendered on high-contrast.\n   */\n  highContrast?: boolean;\n  /**\n   * Specify whether a drop shadow should be rendered on the popover.\n   */\n  dropShadow?: boolean;\n}\n\nexport type CoachmarkContentComponent = ForwardRefExoticComponent<\n  CoachmarkContentProps & RefAttributes<HTMLDivElement>\n> & {\n  Header: FC<ContentHeaderProps>;\n  Body: FC<ContentBodyProps>;\n};\n\nconst CoachmarkContent = forwardRef<HTMLDivElement, CoachmarkContentProps>(\n  (props, ref) => {\n    const {\n      className = '',\n      children,\n      highContrast,\n      dropShadow,\n      ...rest\n    } = props;\n    const coachmarkContentBlockClass = `${blockClass}--coachmark-content`;\n    const contentBodyClass = `${blockClass}--content-body`;\n    const { align, open, setOpen, triggerRef, setContentRef, floating } =\n      useContext(CoachmarkContext);\n\n    const targetId = open ? triggerRef?.current?.id : null;\n\n    const handleRef = useRef<HTMLDivElement | null>(null);\n    const bubbleRef = ref || handleRef;\n\n    useEffect(() => {\n      if (open && 'current' in bubbleRef && bubbleRef.current) {\n        requestAnimationFrame(() => {\n          const contentBody = bubbleRef.current?.querySelector(\n            `.${contentBodyClass}`\n          );\n\n          if (contentBody) {\n            const firstFocusable = Array.from(\n              contentBody.querySelectorAll<HTMLElement>('*')\n            ).find((el) => el.tabIndex >= 0);\n            firstFocusable?.focus();\n          }\n        });\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [open]);\n\n    useEffect(() => {\n      const handleOutsideClick = (event: MouseEvent) => {\n        const targetElement = document.getElementById(targetId || '');\n        const bubbleElement =\n          bubbleRef && 'current' in bubbleRef ? bubbleRef.current : null;\n\n        if (\n          bubbleElement &&\n          !bubbleElement.contains(event.target as Node) &&\n          targetElement &&\n          !targetElement.contains(event.target as Node)\n        ) {\n          setOpen?.(false);\n        }\n      };\n\n      const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'Escape') {\n          setOpen?.(false);\n        }\n      };\n\n      if (open) {\n        document.addEventListener('click', handleOutsideClick);\n        window.addEventListener('keydown', handleKeyDown);\n      }\n\n      return () => {\n        document.removeEventListener('click', handleOutsideClick);\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [open, targetId, setOpen]);\n\n    useEffect(() => {\n      if (open && 'current' in bubbleRef && bubbleRef.current) {\n        const dragContainer = bubbleRef.current.querySelector(\n          `.${pkg.prefix}__bubble`\n        );\n        if (dragContainer instanceof HTMLElement) {\n          setContentRef(dragContainer);\n        }\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [open, bubbleRef]);\n\n    return (\n      open && (\n        <div ref={bubbleRef}>\n          <CoachmarkBubble\n            className={cx(coachmarkContentBlockClass, className)}\n            highContrast={highContrast}\n            dropShadow={dropShadow}\n            align={align as NewPopoverAlignment}\n            open={open}\n            target={`#${targetId}`}\n            caret={floating}\n            {...rest}\n          >\n            {children}\n          </CoachmarkBubble>\n        </div>\n      )\n    );\n  }\n) as CoachmarkContentComponent;\n\nexport default CoachmarkContent;\n\nCoachmarkContent.propTypes = {\n  /**\n   * This is a required callback that has to return the content to render in the body section.\n   * It can be a single child or an array of children depending on your need\n   */\n  children: PropTypes.node,\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   * Specify whether a drop shadow should be rendered on the popover.\n   */\n  dropShadow: PropTypes.bool,\n  /**\n   * Specify whether the component should be rendered on high-contrast.\n   */\n  highContrast: PropTypes.bool,\n};\n","/**\n * Copyright IBM Corp. 2024, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */ import { Button } from '@carbon/react';\nimport React, {\n  forwardRef,\n  ReactNode,\n  useContext,\n  useEffect,\n  useRef,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { blockClass, CoachmarkContext } from './context';\nimport { CoachmarkBubbleHeader } from './CoachmarkBubble';\nimport { Close, Draggable } from '@carbon/react/icons';\nimport { makeDraggable } from '../../../../global/js/utils/makeDraggable';\n\nexport interface ContentHeaderProps {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n  /**\n   * Tooltip text and aria label for the Close button icon.\n   */\n  closeIconDescription?: string;\n  /**\n   * Tooltip text and aria label for the Drag button icon.\n   */\n  dragIconDescription?: string;\n  /**\n   * Optional contents of the Coachmark Header.\n   */\n  children?: string;\n}\n\nexport const ContentHeader = forwardRef<HTMLDivElement, ContentHeaderProps>(\n  (props, ref) => {\n    const {\n      className = '',\n      closeIconDescription,\n      dragIconDescription,\n      children,\n      ...rest\n    } = props;\n    const { setOpen, onClose, contentRef, floating } =\n      useContext(CoachmarkContext);\n    const headerRef = useRef<HTMLHeadingElement | null>(null);\n    const dragRef = useRef<HTMLButtonElement | null>(null);\n    const handleRef = ref || headerRef;\n    const contentHeaderBlockClass = `${blockClass}--content-header`;\n\n    const closeBubble = () => {\n      onClose?.();\n      setOpen(false);\n    };\n    useEffect(() => {\n      if (\n        floating &&\n        contentRef &&\n        typeof handleRef === 'object' &&\n        handleRef !== null &&\n        'current' in handleRef &&\n        handleRef.current &&\n        dragRef.current\n      ) {\n        makeDraggable({\n          el: contentRef,\n          dragHandle: handleRef.current,\n          focusableDragHandle: dragRef.current,\n        });\n\n        const onDragStart = () => {\n          if (contentRef) {\n            contentRef.classList.add(`${contentHeaderBlockClass}--is-dragging`);\n            contentRef.setAttribute('aria-label', 'Coachmark is being dragged');\n          }\n        };\n\n        const onDragEnd = () => {\n          if (contentRef) {\n            contentRef.classList.remove(\n              `${contentHeaderBlockClass}--is-dragging`\n            );\n            contentRef.removeAttribute('aria-label');\n          }\n        };\n\n        contentRef.addEventListener('dragstart', onDragStart);\n        contentRef.addEventListener('dragend', onDragEnd);\n      }\n    });\n\n    return (\n      <CoachmarkBubbleHeader\n        ref={handleRef}\n        className={cx(contentHeaderBlockClass, className)}\n        {...rest}\n      >\n        {floating && (\n          <Button\n            kind=\"ghost\"\n            size=\"sm\"\n            ref={dragRef}\n            renderIcon={Draggable}\n            iconDescription={dragIconDescription}\n            hasIconOnly\n            className={`${contentHeaderBlockClass}--drag-icon`}\n          />\n        )}\n        {children}\n        <Button\n          kind=\"ghost\"\n          size=\"sm\"\n          renderIcon={Close}\n          iconDescription={closeIconDescription}\n          hasIconOnly\n          onClick={closeBubble}\n        />\n      </CoachmarkBubbleHeader>\n    );\n  }\n);\n\nContentHeader.propTypes = {\n  /**\n   * Optional contents of the Coachmark Header.\n   */\n  children: PropTypes.node,\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   * Tooltip text and aria label for the Close button icon.\n   */\n  closeIconDescription: PropTypes.string,\n  /**\n   * Tooltip text and aria label for the Drag button icon.\n   */\n  dragIconDescription: PropTypes.string,\n};\n","/**\n * Copyright IBM Corp. 2024, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { forwardRef, ReactNode } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { blockClass } from './context';\n\nexport interface ContentBodyProps {\n  /**\n   * Provide the optional content for header section and will be render after header titles and before progress indicator.\n   * People can make use of this if they want to have custom header.\n   */\n  children: ReactNode;\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n}\n\nexport type EnrichedChildren = {\n  children: ReactNode;\n};\n\nexport const ContentBody = forwardRef<HTMLDivElement, ContentBodyProps>(\n  (props, ref) => {\n    const { className = '', children, ...rest } = props;\n    const ContentBodyBlockClass = `${blockClass}--content-body`;\n    return (\n      <div ref={ref} className={cx(ContentBodyBlockClass, className)}>\n        {children}\n      </div>\n    );\n  }\n);\n\nexport default ContentBody;\n\nContentBody.propTypes = {\n  /**\n   * Provide the optional content for header section and will be render after header titles and before progress indicator.\n   * People can make use of this if they want to have custom header.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n};\n","/**\n * Copyright IBM Corp. 2024, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n// Import portions of React that are needed.\nimport React, {\n  FC,\n  ForwardRefExoticComponent,\n  ReactNode,\n  RefAttributes,\n  RefObject,\n  forwardRef,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../../../global/js/utils/devtools';\nimport { CoachmarkContext, blockClass } from './context';\nimport CoachmarkContent, { CoachmarkContentProps } from './CoachmarkContent';\nimport { NewPopoverAlignment } from '@carbon/react';\nimport { useIsomorphicEffect } from '../../../../global/js/hooks';\nimport { ContentHeader, ContentHeaderProps } from './ContentHeader';\nimport { ContentBody, ContentBodyProps } from './ContentBody';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\n\nconst componentName = 'Coachmark';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\n// Default values can be included here and then assigned to the prop params,\n// e.g. prop = defaults.prop,\n// This gathers default values together neatly and ensures non-primitive\n// values are initialized early to avoid react making unnecessary re-renders.\n// Note that default values are not required for props that are 'required',\n// nor for props where the component can apply undefined values reasonably.\n// Default values should be provided when the component needs to make a choice\n// or assumption when a prop is not supplied.\n\nexport interface CoachmarkPropsNext {\n  /**\n   * Provide the contents of the Coachmark.\n   */\n  children: ReactNode;\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n  /**\n   * Specifies whether the component is currently open.\n   */\n  open?: boolean;\n  /**\n   * Function to call when the close button is clicked.\n   */\n  onClose?: () => void;\n  /**\n   * Where to render the Coachmark relative to its target.\n   */\n  align?: NewPopoverAlignment;\n  /**\n   * Fine tune the position of the target in pixels.\n   */\n  position?: { x: number; y: number };\n  /**\n   * Specifies whether the component is floating or not.\n   */\n  floating?: boolean;\n}\n\ntype CoachmarkContentComponent = FC<CoachmarkContentProps> & {\n  Header: FC<ContentHeaderProps>;\n  Body: FC<ContentBodyProps>;\n};\n// Define the type for Coachmark, extending it to include Trigger and Content\nexport type CoachmarkComponent = ForwardRefExoticComponent<\n  CoachmarkPropsNext & RefAttributes<HTMLDivElement>\n> & {\n  Content: CoachmarkContentComponent;\n};\n\n/**\n * Coachmarks are used to call out specific functionality or concepts\n * within the UI that may not be intuitive but are important for the\n * user to gain understanding of the product's main value and discover new use cases.\n */\nexport const Coachmark = forwardRef<HTMLDivElement, CoachmarkPropsNext>(\n  (props, ref) => {\n    const {\n      children,\n      className,\n      onClose,\n      align = 'bottom',\n      open,\n      position = { x: 0, y: 0 },\n      floating,\n      ...rest\n    } = props;\n    const triggerRef = useRef<HTMLElement>(null);\n    const internalRef = useRef<HTMLDivElement | null>(null);\n    const [contentRef, setContentRef] = useState<HTMLElement | null>(null);\n    const [openState, setOpenState] = useState(false);\n\n    const setOpen = (value: boolean) => {\n      if (!value) {\n        onClose?.();\n      }\n      if (open === undefined) {\n        setOpenState(value);\n      }\n    };\n\n    const currentOpen = open ?? openState;\n\n    useEffect(() => {\n      const container = internalRef.current;\n      if (!container) {\n        return;\n      }\n\n      const focusableElements = Array.from(\n        container.querySelectorAll('*')\n      ) as HTMLElement[];\n\n      const firstFocusable = focusableElements.find(\n        (el) => el.tabIndex >= 0 && !el.hasAttribute('disabled')\n      );\n\n      if (firstFocusable) {\n        triggerRef.current = firstFocusable;\n      }\n    }, [children]);\n\n    useEffect(() => {\n      const el = triggerRef.current;\n      if (el) {\n        el.setAttribute('aria-expanded', String(!!open));\n      }\n    }, [open]);\n\n    useIsomorphicEffect(() => {\n      const { x = 0, y = 0 } = position ?? {};\n      const el = internalRef.current;\n\n      if (el && (x !== 0 || y !== 0)) {\n        el.style.transform = `translate(${x}px, ${y}px)`;\n      }\n    }, [position]);\n\n    const setRef = (node: HTMLDivElement | null) => {\n      internalRef.current = node;\n      if (typeof ref === 'function') {\n        ref(node);\n      } else if (ref) {\n        (ref as RefObject<HTMLDivElement | null>).current = node;\n      }\n    };\n\n    return (\n      <CoachmarkContext.Provider\n        value={{\n          onClose,\n          open: currentOpen,\n          setOpen,\n          align,\n          triggerRef,\n          position,\n          contentRef,\n          setContentRef,\n          floating,\n        }}\n      >\n        <div\n          {...rest}\n          className={cx(\n            blockClass, // Apply the block class to the main HTML element\n            className, // Apply any supplied class names to the main HTML element.\n            { [`${blockClass}--floating`]: floating }\n          )}\n          ref={setRef}\n          {...getDevtoolsProps(componentName)}\n        >\n          <div className={`${blockClass}--container`}>{children}</div>\n        </div>\n      </CoachmarkContext.Provider>\n    );\n  }\n) as CoachmarkComponent;\nCoachmark.Content = CoachmarkContent;\nCoachmark.Content.Header = ContentHeader;\nCoachmark.Content.Body = ContentBody;\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCoachmark.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCoachmark.propTypes = {\n  /**\n   * Where to render the Coachmark relative to its target.\n   */\n  align: PropTypes.string,\n  /**\n   * Provide the contents of the CoachmarkV2.\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   * Specifies whether the component is floating or not.\n   */\n  floating: PropTypes.bool,\n  /**\n   * Function to call when the close button is clicked.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Specifies whether the component is currently open.\n   */\n  open: PropTypes.bool,\n  /**\n   * Fine tune the position of the target in pixels. Applies only to Beacons.\n   */\n  // @ts-ignore\n  position: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n  }),\n};\n"],"names":["CoachmarkContext","createContext","value","blockClass","pkg","CoachmarkBubble","forwardRef","props","ref","children","align","target","className","dropShadow","highContrast","caret","open","rest","theme","useTheme","carbonPrefix","useCarbonPrefix","tooltipRef","useRef","arrowRef","targetRef","useIsomorphicEffect","middlewares","offset","flip","shift","arrow","cleanup","autoUpdate","computePosition","x","y","placement","middlewareData","arrowX","arrowY","staticSide","mergedRefs","node","React","cx","CoachmarkBubbleHeader","CoachmarkContent","coachmarkContentBlockClass","contentBodyClass","setOpen","triggerRef","setContentRef","floating","useContext","targetId","handleRef","bubbleRef","useEffect","contentBody","el","handleOutsideClick","event","targetElement","bubbleElement","handleKeyDown","e","dragContainer","PropTypes","ContentHeader","closeIconDescription","dragIconDescription","onClose","contentRef","headerRef","dragRef","contentHeaderBlockClass","closeBubble","makeDraggable","onDragStart","onDragEnd","Button","Draggable","Close","ContentBody","ContentBodyBlockClass","componentName","Coachmark","position","internalRef","useState","openState","setOpenState","currentOpen","container","firstFocusable","setRef","getDevtoolsProps"],"mappings":"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"}