import{e as n,aN as X,_ as P,ar as $t,r as p,c as h,$ as ae,E as Vt,a1 as Pt,an as yt,a2 as Lt,X as Tt,T as Nt,P as u,g as Ot}from"./iframe-BBf3bqTv.js";import{T as C}from"./Text-CaNb5F2n.js";import{c as Mt}from"./clamp--00YEiB8.js";import{u as Le}from"./useNormalizedInputProps-BgZ5uQfL.js";import{W as Te,a as Ne}from"./bucket-19-zmdOpOwk.js";var Oe,Me,Ie,He,We,Ce,Fe,De,Se,ze,Be,xe,Xe,Ke;const Ae=l=>n.createElement(X.Consumer,null,m=>n.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 24",className:`${m}--slider__thumb-icon ${m}--slider__thumb-icon--lower`},l),Oe||(Oe=n.createElement("path",{d:"M15.08 6.46H16v11.08h-.92zM4.46 17.54c-.25 0-.46-.21-.46-.46V6.92a.465.465 0 0 1 .69-.4l8.77 5.08a.46.46 0 0 1 0 .8l-8.77 5.08c-.07.04-.15.06-.23.06Z"})),Me||(Me=n.createElement("path",{fill:"none",d:"M-4 0h24v24H-4z"})))),qe=l=>n.createElement(X.Consumer,null,m=>n.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 24",className:`${m}--slider__thumb-icon ${m}--slider__thumb-icon--lower ${m}--slider__thumb-icon--focus`},l),Ie||(Ie=n.createElement("path",{d:"M15.08 6.46H16v11.08h-.92zM4.46 17.54c-.25 0-.46-.21-.46-.46V6.92a.465.465 0 0 1 .69-.4l8.77 5.08a.46.46 0 0 1 0 .8l-8.77 5.08c-.07.04-.15.06-.23.06Z"})),He||(He=n.createElement("path",{fill:"none",d:"M-4 0h24v24H-4z"})),We||(We=n.createElement("path",{d:"M15.08 0H16v6.46h-.92z"})),Ce||(Ce=n.createElement("path",{d:"M0 0h.92v24H0zM15.08 0H16v24h-.92z"})),Fe||(Fe=n.createElement("path",{d:"M0 .92V0h16v.92zM0 24v-.92h16V24z"})))),je=l=>n.createElement(X.Consumer,null,m=>n.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 24",className:`${m}--slider__thumb-icon ${m}--slider__thumb-icon--upper`},l),De||(De=n.createElement("path",{d:"M0 6.46h.92v11.08H0zM11.54 6.46c.25 0 .46.21.46.46v10.15a.465.465 0 0 1-.69.4L2.54 12.4a.46.46 0 0 1 0-.8l8.77-5.08c.07-.04.15-.06.23-.06Z"})),Se||(Se=n.createElement("path",{fill:"none",d:"M-4 0h24v24H-4z"})))),ke=l=>n.createElement(X.Consumer,null,m=>n.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 24",className:`${m}--slider__thumb-icon ${m}--slider__thumb-icon--upper ${m}--slider__thumb-icon--focus`},l),ze||(ze=n.createElement("path",{d:"M0 6.46h.92v11.08H0zM11.54 6.46c.25 0 .46.21.46.46v10.15a.465.465 0 0 1-.69.4L2.54 12.4a.46.46 0 0 1 0-.8l8.77-5.08c.07-.04.15-.06.23-.06Z"})),Be||(Be=n.createElement("path",{fill:"none",d:"M-4 0h24v24H-4z"})),xe||(xe=n.createElement("path",{d:"M.92 24H0v-6.46h.92z"})),Xe||(Xe=n.createElement("path",{d:"M16 24h-.92V0H16zM.92 24H0V0h.92z"})),Ke||(Ke=n.createElement("path",{d:"M16 23.08V24H0v-.92zM16 0v.92H0V0z"}))));function It(l,m=0,E={}){typeof E!="object"&&(E={});const{leading:y=!0,trailing:O=!0,signal:Z}=E;return $t(l,m,{leading:y,trailing:O,signal:Z,maxWait:m})}const Ze=({hasTooltip:l,className:m,style:E,children:y,...O})=>l?n.createElement(Nt,P({className:m,style:E},O),y):n.createElement("div",{className:m,style:E},y),Ge={"carbon.slider.auto-correct-announcement":"carbon.slider.auto-correct-announcement"},Ht={[Ge["carbon.slider.auto-correct-announcement"]]:'The inputted value "{correctedValue}" was corrected to the nearest allowed digit.'},Wt=(l,m)=>{const E=Ht[l];return m?.correctedValue?E.replace("{correctedValue}",m.correctedValue):E},Ct=(l,m)=>`${l}${m??""}`,Ft=16,le=new Set(["mousemove","touchmove"]),ne=new Set(["mouseup","touchend","touchcancel"]);var v=function(l){return l.LOWER="lower",l.UPPER="upper",l}(v||{});const Dt=l=>{var m,E,y,O;const Z={value:l.value,valueUpper:l.unstable_valueUpper,left:0,leftUpper:0,needsOnRelease:!1,isValid:!0,isValidUpper:!0,activeHandle:void 0,correctedValue:null,correctedPosition:null,isRtl:!1},[i,d]=p.useReducer((t,a)=>({...t,...a}),Z),L=p.useRef(i);p.useEffect(()=>{L.current=i},[i]);const G=p.useRef(l);p.useEffect(()=>{G.current=l},[l]);const T=p.useRef(null),F=p.useRef(null),D=p.useRef(null),_=p.useRef(null),Ye=p.useRef(null),re=p.useRef(""),$=()=>typeof i.valueUpper<"u",c=$();p.useEffect(()=>{if(_.current){const t=document?.dir==="rtl";if($()){const{value:a,left:e}=w({value:L.current.value,useRawValue:!0}),{value:r,left:s}=w({value:L.current.valueUpper,useRawValue:!0});d({isRtl:t,value:a,left:e,valueUpper:r,leftUpper:s})}else{const{value:a,left:e}=w({value:L.current.value,useRawValue:!0});d({isRtl:t,value:a,left:e})}}return()=>{ne.forEach(t=>_.current?.ownerDocument.removeEventListener(t,J)),le.forEach(t=>_.current?.ownerDocument.removeEventListener(t,Y))}},[]),p.useEffect(()=>{$()?D.current&&(D.current.style.transform=i.isRtl?`translate(${100-i.leftUpper}%, -50%) scaleX(${(i.leftUpper-i.left)/100})`:`translate(${i.left}%, -50%) scaleX(${(i.leftUpper-i.left)/100})`):D.current&&(D.current.style.transform=i.isRtl?`translate(100%, -50%) scaleX(-${i.left/100})`:`translate(0%, -50%) scaleX(${i.left/100})`)},[i.left,i.leftUpper,i.isRtl]);const ie=p.useRef(null);p.useEffect(()=>{const t=ie.current;t&&(t.value!==i.value||t.valueUpper!==i.valueUpper)&&typeof l.onChange=="function"&&l.onChange({value:i.value,valueUpper:i.valueUpper}),ie.current={value:i.value,valueUpper:i.valueUpper}},[i.value,i.valueUpper,l.onChange]),p.useEffect(()=>{i.needsOnRelease&&typeof l.onRelease=="function"&&(l.onRelease({value:i.value,valueUpper:i.valueUpper}),d({needsOnRelease:!1}))},[i.needsOnRelease,i.value,i.valueUpper,l.onRelease]);const se=p.useRef(null);p.useEffect(()=>{const t=se.current,a=[l.value,l.unstable_valueUpper,l.max,l.min];if(!t||t[0]!==a[0]||t[1]!==a[1]||t[2]!==a[2]||t[3]!==a[3]){if(d(w({value:l.value,useRawValue:!0})),typeof l.unstable_valueUpper<"u"){const{value:e,left:r}=w({value:l.unstable_valueUpper,useRawValue:!0});d({valueUpper:e,leftUpper:r})}else d({valueUpper:void 0,leftUpper:void 0});se.current=a}},[l.value,l.unstable_valueUpper,l.max,l.min]);const S=(t=0)=>{const a=(l.step?.toString().split(".")[1]||"").length;return Number(t.toFixed(a))},Y=t=>{(t instanceof globalThis.MouseEvent||t instanceof globalThis.TouchEvent)&&oe(t)},ue=t=>{if(l.disabled||l.readOnly)return;t.preventDefault(),ne.forEach(s=>{_.current?.ownerDocument.addEventListener(s,J)}),le.forEach(s=>{_.current?.ownerDocument.addEventListener(s,Y)});const a=ge(t.nativeEvent);let e;if($()){if(t.target==T.current)e=v.LOWER;else if(t.target==F.current)e=v.UPPER;else if(a){const s=pe(v.LOWER,a),o=pe(v.UPPER,a);s<=o?e=v.LOWER:e=v.UPPER}}const r={preventScroll:!0};$()?T.current&&e===v.LOWER?T.current.focus(r):F.current&&e===v.UPPER&&F.current.focus(r):T.current&&T.current.focus(r),d({activeHandle:e}),oe(t.nativeEvent,e)},J=()=>{l.disabled||l.readOnly||(ne.forEach(t=>{_.current?.ownerDocument.removeEventListener(t,J)}),le.forEach(t=>{_.current?.ownerDocument.removeEventListener(t,Y)}),d({needsOnRelease:!0,isValid:!0,isValidUpper:!0}))},ce=p.useRef(null);ce.current=(t,a)=>{if(a=a??L.current.activeHandle,G.current.disabled||G.current.readOnly||!t)return;const e=ge(t),{value:r,left:s}=w({clientX:e,value:L.current.value});$()&&a?Q(a,{value:S(r),left:s}):d({value:S(r),left:s,isValid:!0}),d({correctedValue:null,correctedPosition:null})};const oe=p.useMemo(()=>It((t,a)=>{ce.current?.(t,a)},Ft,{leading:!0,trailing:!1}),[]),Je=t=>{if(l.disabled||l.readOnly)return;const{step:a=1,stepMultiplier:e=4}=l;let r=0;if(ae(t,[Pt,yt]))r=-a;else if(ae(t,[Lt,Tt]))r=a;else return;if(t.shiftKey&&(r*=e),$()&&i.activeHandle){const s=i.activeHandle===v.LOWER?i.value:i.valueUpper,{value:o,left:f}=w({value:fe(s??l.min,r,l.step)});Q(i.activeHandle,{value:S(o),left:f})}else{const{value:s,left:o}=w({value:fe(i.value,r,l.step)});d({value:S(s),left:o,isValid:!0})}d({correctedValue:null,correctedPosition:null})},de=t=>{if(l.disabled||l.readOnly||!t||!("target"in t)||typeof t.target.value!="string")return;const a=t.target.dataset.handlePosition??v.LOWER,e=Number.parseFloat(t.target.value);$()?isNaN(e)?he(a,t.target.value):tt({handle:a,value:e,min:l.min,max:l.max})?K(t.target):he(a,e):isNaN(e)?d({value:t.target.value}):be({value:e,min:l.min,max:l.max})?K(t.target):d({value:e})},me=t=>{if(!t||!("target"in t)||typeof t.target.value!="string")return;const{value:a}=t.target;K(t.target),l.onBlur?.({value:a,handlePosition:t.target.dataset.handlePosition})},ve=t=>{l.disabled||l.readOnly||!(t.target instanceof HTMLInputElement)||!t||!("target"in t)||typeof t.target.value!="string"||ae(t,[Vt])&&K(t.target)},K=t=>{d({correctedValue:null,correctedPosition:null});const a=Number.parseFloat(t.value),e=!isNaN(a),r=t.dataset.handlePosition;if(r===v.LOWER?d({isValid:e}):r===v.UPPER&&d({isValidUpper:e}),d({isValid:e}),e){const s=r?at({handle:r,value:a,min:l.min,max:l.max}):Ee({value:a,min:l.min,max:l.max});d(s!==a?{correctedValue:a.toString(),correctedPosition:r??null}:{correctedValue:null,correctedPosition:null});const{value:o,left:f}=w({value:s,useRawValue:!0});r?Q(r,{value:S(o),left:f}):d({value:o,left:f})}},Qe=({clientX:t,value:a,range:e})=>{const r=_.current?.getBoundingClientRect?.();let s=r?r.right-r.left:0;return s<=0&&(s=1),t?(i.isRtl?(r?.right??0)-t:t-(r?.left??0))/s:a!==null&&typeof a<"u"&&e?e===0?0:(a-l.min)/e:0},et=({leftPercent:t})=>{const{step:a=1,min:e,max:r}=l,s=Math.floor((r-e)/a)+1,o=Math.round(t*(s-1)),f=o===s-1?r:e+a*o,W=o/(s-1);return{discreteValue:f,discretePercent:W}},w=({clientX:t,value:a,useRawValue:e})=>{const r=l.max-l.min,s=Qe({clientX:t,value:a,range:r}),o=Mt(s,0,1);if(e)return{value:a,left:o*100};const{discreteValue:f,discretePercent:W}=et({leftPercent:o});return{value:f,left:W*100}},pe=(t,a)=>{const e=lt(t),r=e.left+e.width/2;return Math.abs(r-a)},fe=(t,a,e=1)=>{const s=(a>0?Math.round(t/e)*e:t)+a,o=(e.toString().split(".")[1]||"").length;return Number(s.toFixed(o))},Q=(t,{value:a,left:e})=>{const{value:r,valueUpper:s,left:o,leftUpper:f}=i;t===v.LOWER?d({value:s&&a>s?s:a,left:s&&a>s?f:e,isValid:!0}):d({valueUpper:r&&a<r?r:a,leftUpper:r&&a<r?o:e,isValidUpper:!0})},he=(t,a)=>{t===v.LOWER?d({value:a,isValid:!0}):d({valueUpper:a,isValidUpper:!0})},tt=({handle:t,value:a,min:e,max:r})=>{const{value:s,valueUpper:o}=i;return be({value:a,min:e,max:r})?t===v.LOWER?!o||a<=o:t===v.UPPER?!s||a>=s:!1:!1},be=({value:t,min:a,max:e})=>!(t<a||t>e),at=({handle:t,value:a,min:e,max:r})=>{const{value:s,valueUpper:o}=i;let f=Ee({value:a,min:e,max:r});return t===v.LOWER&&o?f=f>o?o:f:t===v.UPPER&&s&&(f=f<s?s:f),f},Ee=({value:t,min:a,max:e})=>(t<a&&(t=a),t>e&&(t=e),t),lt=t=>{let a;return t===v.LOWER?a=T.current?.getBoundingClientRect():a=F.current?.getBoundingClientRect(),a??new DOMRect},ge=t=>{let a;return"clientX"in t?a=t.clientX:"touches"in t&&0 in t.touches&&"clientX"in t.touches[0]&&(a=t.touches[0].clientX),a};p.useEffect(()=>{const{isValid:t,isValidUpper:a}=L.current,e={};l.invalid===!0?(t===!0&&(e.isValid=!1),a===!0&&(e.isValidUpper=!1)):l.invalid===!1&&(t===!1&&(e.isValid=!0),a===!1&&(e.isValidUpper=!0)),Object.keys(e).length&&d(e)},[l.invalid]);const{ariaLabelInput:R,unstable_ariaLabelInputUpper:M,className:nt,hideTextInput:I=!1,id:N=re.current=re.current||`__carbon-slider_${Math.random().toString(36).substr(2)}`,min:A,minLabel:rt,max:z,maxLabel:it,formatLabel:B=Ct,labelText:st,hideLabel:ut,step:_e=1,stepMultiplier:St,inputType:we="number",invalidText:ct,required:Re,disabled:U=!1,name:Ue,unstable_nameUpper:ot,light:dt,readOnly:g=!1,warn:$e=!1,warnText:mt,translateWithId:vt=Wt,...q}=l,{value:H,valueUpper:j,isValid:ee,isValidUpper:Ve,correctedValue:k,correctedPosition:Pe,isRtl:x}=i,b=Le({id:N,disabled:U,readOnly:g,invalid:!ee,warn:$e}),V=Le({id:N,disabled:U,readOnly:g,invalid:!Ve,warn:$e});return(()=>{delete q.onRelease,delete q.invalid,delete q.unstable_valueUpper;const t=b.warn||typeof k!==null&&Pe===v.LOWER&&ee,a=V.warn||typeof k!==null&&Pe===(c?v.UPPER:v.LOWER)&&(c?Ve:ee);return n.createElement(X.Consumer,null,e=>{const r=`${N}-label`,s=h(`${e}--label`,{[`${e}--visually-hidden`]:ut,[`${e}--label--disabled`]:U}),o=h(`${e}--slider-container`,{[`${e}--slider-container--two-handles`]:c,[`${e}--slider-container--disabled`]:U,[`${e}--slider-container--readonly`]:g,[`${e}--slider-container--rtl`]:x}),f=h(`${e}--slider`,{[`${e}--slider--disabled`]:U,[`${e}--slider--readonly`]:g}),W=[`${e}--text-input`,`${e}--slider-text-input`],ye={[`${e}--text-input--light`]:dt},pt=h([...W,`${e}--slider-text-input--lower`,ye,{[`${e}--text-input--invalid`]:b.invalid,[`${e}--slider-text-input--warn`]:t}]),ft=h([...W,`${e}--slider-text-input--upper`,ye,{[`${e}--text-input--invalid`]:c?V.invalid:b.invalid,[`${e}--slider-text-input--warn`]:a}]),ht=h([`${e}--text-input-wrapper`,`${e}--slider-text-input-wrapper`,`${e}--slider-text-input-wrapper--lower`,{[`${e}--text-input-wrapper--readonly`]:g,[`${e}--slider-text-input-wrapper--hidden`]:I}]),bt=h([`${e}--text-input-wrapper`,`${e}--slider-text-input-wrapper`,`${e}--slider-text-input-wrapper--upper`,{[`${e}--text-input-wrapper--readonly`]:g,[`${e}--slider-text-input-wrapper--hidden`]:I}]),Et=h(`${e}--slider__thumb`,{[`${e}--slider__thumb--lower`]:c}),gt=h(`${e}--slider__thumb`,{[`${e}--slider__thumb--upper`]:c}),_t=h([`${e}--icon-tooltip`,`${e}--slider__thumb-wrapper`,{[`${e}--slider__thumb-wrapper--lower`]:c}]),wt=h([`${e}--icon-tooltip`,`${e}--slider__thumb-wrapper`,{[`${e}--slider__thumb-wrapper--upper`]:c}]),Rt={style:{insetInlineStart:`${i.left}%`}},Ut={style:{insetInlineStart:`${i.leftUpper}%`}};return n.createElement("div",{className:h(`${e}--form-item`,nt)},n.createElement(C,{as:"label",htmlFor:c?void 0:N,className:s,id:r},st),n.createElement("div",{className:o},c?n.createElement("div",{className:ht},n.createElement("input",{type:I?"hidden":we,id:`${N}-lower-input-for-slider`,name:Ue,className:pt,value:H,"aria-label":R,disabled:U,required:Re,min:A,max:z,step:_e,onChange:de,onBlur:me,onKeyUp:l.onInputKeyUp,onKeyDown:ve,"data-invalid":b.invalid?!0:null,"data-handle-position":v.LOWER,"aria-invalid":b.invalid?!0:void 0,readOnly:g}),b.invalid&&n.createElement(Te,{className:`${e}--slider__invalid-icon`}),t&&n.createElement(Ne,{className:`${e}--slider__invalid-icon ${e}--slider__invalid-icon--warning`})):null,n.createElement(C,{className:`${e}--slider__range-label`},B(A,rt)),n.createElement("div",P({className:f,ref:te=>{_.current=te},onMouseDown:ue,onTouchStart:ue,onKeyDown:Je,role:"presentation",tabIndex:-1,"data-invalid":(c?b.invalid||V.invalid:b.invalid)?!0:null},q),n.createElement(Ze,P({hasTooltip:I,className:_t,label:B(H,void 0),align:"top"},Rt),n.createElement("div",{className:Et,role:"slider",id:c?void 0:N,tabIndex:g||U?void 0:0,"aria-valuetext":B(H,void 0),"aria-valuemax":c?j:z,"aria-valuemin":A,"aria-valuenow":H,"aria-labelledby":c?void 0:r,"aria-label":c?R:void 0,ref:T,onFocus:()=>d({activeHandle:v.LOWER})},c&&!x?m||(m=n.createElement(n.Fragment,null,n.createElement(Ae,{"aria-label":R}),n.createElement(qe,{"aria-label":R}))):c&&x?E||(E=n.createElement(n.Fragment,null,n.createElement(je,{"aria-label":M}),n.createElement(ke,{"aria-label":M}))):void 0)),c?n.createElement(Ze,P({hasTooltip:I,className:wt,label:B(j??0,void 0),align:"top"},Ut),n.createElement("div",{className:gt,role:"slider",tabIndex:g||U?void 0:0,"aria-valuemax":z,"aria-valuemin":H,"aria-valuenow":j,"aria-label":M,ref:F,onFocus:()=>d({activeHandle:v.UPPER})},c&&!x?y||(y=n.createElement(n.Fragment,null,n.createElement(je,{"aria-label":M}),n.createElement(ke,{"aria-label":M}))):c&&x?O||(O=n.createElement(n.Fragment,null,n.createElement(Ae,{"aria-label":R}),n.createElement(qe,{"aria-label":R}))):void 0)):null,n.createElement("div",{className:`${e}--slider__track`,ref:te=>{Ye.current=te}}),n.createElement("div",{className:`${e}--slider__filled-track`,ref:D})),n.createElement(C,{className:`${e}--slider__range-label`},B(z,it)),n.createElement("div",{className:bt},n.createElement("input",{type:I?"hidden":we,id:`${N}-${c?"upper-":""}input-for-slider`,name:c?ot:Ue,className:ft,value:c?j:H,"aria-labelledby":!R&&!c?r:void 0,"aria-label":c?M:R||void 0,disabled:U,required:Re,min:A,max:z,step:_e,onChange:de,onBlur:me,onKeyDown:ve,onKeyUp:l.onInputKeyUp,"data-invalid":(c?V.invalid:b.invalid)?!0:null,"data-handle-position":c?v.UPPER:null,"aria-invalid":(c?V.invalid:b.invalid)?!0:void 0,readOnly:g}),(c?V.invalid:b.invalid)&&n.createElement(Te,{className:`${e}--slider__invalid-icon`}),a&&n.createElement(Ne,{className:`${e}--slider__invalid-icon ${e}--slider__invalid-icon--warning`}))),(b.invalid||V.invalid)&&n.createElement(C,{as:"div",className:h(`${e}--slider__validation-msg`,`${e}--slider__validation-msg--invalid`,`${e}--form-requirement`)},ct),(b.warn||V.warn)&&n.createElement(C,{as:"div",className:h(`${e}--slider__validation-msg`,`${e}--form-requirement`)},mt),k&&n.createElement(C,{as:"div",role:"alert",className:h(`${e}--slider__status-msg`,`${e}--form-requirement`)},vt(Ge["carbon.slider.auto-correct-announcement"],{correctedValue:k})))})})()};Dt.propTypes={ariaLabelInput:u.string,children:u.node,className:u.string,disabled:u.bool,formatLabel:u.func,hideTextInput:u.bool,id:u.string,inputType:u.string,invalid:u.bool,invalidText:u.node,labelText:u.node,hideLabel:u.bool,light:Ot(u.bool),max:u.number.isRequired,maxLabel:u.string,min:u.number.isRequired,minLabel:u.string,name:u.string,onBlur:u.func,onChange:u.func,onInputKeyUp:u.func,onRelease:u.func,readOnly:u.bool,required:u.bool,step:u.number,stepMultiplier:u.number,translateWithId:u.func,unstable_ariaLabelInputUpper:u.string,unstable_nameUpper:u.string,unstable_valueUpper:u.number,value:u.number.isRequired,warn:u.bool,warnText:u.node};export{Ae as L,Dt as S,je as U};
//# sourceMappingURL=Slider-BWLZv_wm.js.map
