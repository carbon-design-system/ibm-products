import{P as n,e as _e,d as ye,b as j,c as A,l as q,_ as k,V as Le,O as we,j as me,C as Ce,v as Ne,A as ve,W as he,X as pe,Y as ge,i as F,Z as Te}from"./index-CXyjPnaX.js";import{k as le,T as Ee,h as Pe}from"./settings-iwZeeh4T.js";import{r,e as t}from"./index-CPiZ6Cnx.js";import{r as ae}from"./ComposedModal-BZzRRIGC.js";import{u as Se}from"./useControllableState-uQXf5Mu5.js";import{g as ce}from"./useNoInteractiveChildren-DSuYsaq5.js";import{b as ie}from"./index-DJK44odq.js";import{u as Re}from"./useMatchMedia-FpSN34ox.js";import{T as U}from"./Text-vNWzJqus.js";function oe(p){const d=r.useRef(p),m=r.useRef(!1);r.useEffect(()=>{d.current=p}),r.useEffect(()=>{m.current!==!0&&(m.current=!0,d.current())},[])}function ue(p){let{onPress:d,onPressIn:m,onPressOut:o,onLongPress:v,delayLongPressMs:f=500}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=r.useRef(d),u=r.useRef(m),h=r.useRef(o),I=r.useRef(v),[$,y]=r.useState(!1),[e,E]=r.useState(!1),w=r.useRef({longPress:!1});r.useEffect(()=>{l.current=d},[d]),r.useEffect(()=>{u.current=m},[m]),r.useEffect(()=>{h.current=o},[o]),r.useEffect(()=>{I.current=v},[v]),r.useEffect(()=>{const{current:c}=p;function L(i){var B;y(!0),(B=u.current)==null||B.call(u),i.preventDefault()}function R(){var i;y(!1),E(!1),(i=h.current)==null||i.call(h,w.current)}function g(){var i;y(!1),E(!1),(i=h.current)==null||i.call(h),w.current.longPress=!1}function b(){var i;y(!1),E(!1),(i=h.current)==null||i.call(h),w.current.longPress=!1}function s(){var i;E(!1),y(!1),(i=l.current)==null||i.call(l,w.current),w.current.longPress=!1}function N(i){i.preventDefault()}return c.addEventListener("pointerdown",L),c.addEventListener("pointerup",R),c.addEventListener("pointercancel",g),c.addEventListener("pointerleave",b),c.addEventListener("click",s),c.addEventListener("contextmenu",N),()=>{c.removeEventListener("pointerdown",L),c.removeEventListener("pointerup",R),c.removeEventListener("pointercancel",g),c.removeEventListener("pointerleave",b),c.removeEventListener("click",s),c.removeEventListener("contextmenu",N)}},[p]),r.useEffect(()=>{if($){const c=setTimeout(()=>{y(!1),E(!0)},f);return()=>{clearTimeout(c)}}},[$,f]),r.useEffect(()=>{var c;if(e)return w.current.longPress=!0,(c=I.current)==null?void 0:c.call(I)},[e])}var de,fe;const X=t.createContext({baseId:"",activeIndex:0,defaultSelectedIndex:0,dismissable:!1,onTabCloseRequest(){},setActiveIndex(){},selectedIndex:0,setSelectedIndex(){}}),xe=t.createContext({index:0,hasSecondaryLabel:!1}),We=`(min-width: ${Pe.lg.width})`,Ie=t.createContext(0);function Be(p){let{children:d,defaultSelectedIndex:m=0,onChange:o,selectedIndex:v,dismissable:f,onTabCloseRequest:l}=p;const u=ye("ccs"),[h,I]=r.useState(m),[$,y]=Se({value:v,defaultValue:m,onChange:E=>o==null?void 0:o({selectedIndex:E})}),e={baseId:u,activeIndex:h,defaultSelectedIndex:m,dismissable:f,onTabCloseRequest:l,setActiveIndex:I,selectedIndex:$,setSelectedIndex:y};return t.createElement(X.Provider,{value:e},d)}Be.propTypes={children:n.node,defaultSelectedIndex:n.number,dismissable:n.bool,onChange:n.func,onTabCloseRequest:p=>{if(p.dismissable&&!p.onTabCloseRequest)return new Error("dismissable property specified without also providing an onTabCloseRequest property.")},selectedIndex:n.number};n.node,n.number,n.string,n.func,n.number;function De(p,d,m){switch(!0){case F(p,ve):return(m+1)%d;case F(p,he):return(d+m-1)%d;case F(p,pe):return 0;case F(p,ge):return d-1;default:return m}}function Ae(p){let{activation:d="automatic","aria-label":m,children:o,className:v,contained:f=!1,fullWidth:l=!1,iconSize:u,leftOverflowButtonProps:h,light:I,rightOverflowButtonProps:$,scrollDebounceWait:y=200,scrollIntoView:e,...E}=p;const{activeIndex:w,selectedIndex:c,setSelectedIndex:L,setActiveIndex:R,dismissable:g}=t.useContext(X),b=j(),s=r.useRef(null),N=r.useRef(null),i=r.useRef(null),[B,z]=r.useState(!1),[T,P]=r.useState(0);let H=!1;f&&(H=t.Children.toArray(o).some(a=>ae.isElement(a)&&!!a.props.secondaryLabel));const Y=Re(We),Z=l&&f&&Y&&t.Children.toArray(o).length<9,J=A(`${b}--tabs`,{[`${b}--tabs--contained`]:f,[`${b}--tabs--light`]:I,[`${b}--tabs__icon--default`]:u==="default",[`${b}--tabs__icon--lg`]:u==="lg",[`${b}--layout--size-lg`]:u==="lg",[`${b}--tabs--tall`]:H,[`${b}--tabs--full-width`]:Z,[`${b}--tabs--dismissable`]:g},v),D=44,[K,ee]=r.useState(s.current?T+D+s.current.clientWidth<s.current.scrollWidth:!1),te=s.current?B&&T>0:!1,G=A(`${b}--tab--overflow-nav-button`,`${b}--tab--overflow-nav-button--previous`,{[`${b}--tab--overflow-nav-button--hidden`]:!te}),Q=A(`${b}--tab--overflow-nav-button`,`${b}--tab--overflow-nav-button--next`,{[`${b}--tab--overflow-nav-button--hidden`]:!K}),C=r.useRef([]),ne=r.useCallback(()=>le(a=>{P(a.target.scrollLeft)},y),[y]);function _(a){var x;if(Ne(a,[ve,he,pe,ge])){a.preventDefault();const V=C.current.filter(re=>re!==null).filter(re=>!re.disabled),se=V.indexOf(C.current[d==="automatic"?c:w]),O=C.current.indexOf(V[De(a,V.length,se)]);d==="automatic"?L(O):d==="manual"&&R(O),(x=C.current[O])==null||x.focus()}}function W(a){var S;let{relatedTarget:x}=a;(S=s.current)!=null&&S.contains(x)||d==="manual"&&R(c)}function M(a){if(!(!B||!s.current)&&a){const{width:x}=a.getBoundingClientRect(),S=a.offsetLeft,V=a.offsetLeft+x,se=s.current.scrollLeft+D,O=s.current.scrollLeft+s.current.clientWidth-D;S<se&&P(S-D),V>O&&P(V+D-s.current.clientWidth)}}return oe(()=>{const a=C.current[c];e&&a&&a.scrollIntoView({block:"nearest",inline:"nearest"})}),r.useEffect(()=>{ee(s.current?T+D+s.current.clientWidth+1<s.current.scrollWidth:!1),g&&s.current&&z(s.current.scrollWidth>s.current.clientWidth)},[T,o,g,B]),oe(()=>{var a;if((a=C.current[c])!=null&&a.disabled){const x=C.current.filter(S=>!S.disabled);if(x.length>0){const S=x[0];L(C.current.indexOf(S))}}}),q(()=>{s.current&&z(s.current.scrollWidth>s.current.clientWidth+1);function a(){s.current&&z(s.current.scrollWidth>s.current.clientWidth+1)}const x=le(a,200);return window.addEventListener("resize",x),()=>{x.cancel(),window.removeEventListener("resize",x)}},[]),q(()=>{T!==null&&s.current&&(s.current.scrollLeft=T)},[T]),q(()=>{const a=d==="manual"?C.current[w]:C.current[c];M(a)},[d,w]),q(()=>{const a=C.current[c];M(a)},[c,B,o]),ue(N,{onPress(a){let{longPress:x}=a;!x&&s.current&&P(Math.max(T-s.current.scrollWidth/C.current.length*1.5,0))},onLongPress(){return be(s,"backward",P)}}),ue(i,{onPress(a){let{longPress:x}=a;!x&&s.current&&P(Math.min(T+s.current.scrollWidth/C.current.length*1.5,s.current.scrollWidth-s.current.clientWidth))},onLongPress(){return be(s,"forward",P)}}),t.createElement("div",{className:J},t.createElement("button",k({"aria-hidden":"true",tabIndex:-1,"aria-label":"Scroll left",ref:N,className:G,type:"button"},h),de||(de=t.createElement(Le,null))),t.createElement("div",k({},E,{"aria-label":m,ref:s,role:"tablist",className:`${b}--tab--list`,onScroll:ne,onKeyDown:_,onBlur:W}),t.Children.map(o,(a,x)=>ae.isElement(a)?t.createElement(xe.Provider,{value:{index:x,hasSecondaryLabel:H,contained:f}},t.cloneElement(a,{ref:S=>{C.current[x]=S}})):null)),t.createElement("button",k({"aria-hidden":"true",tabIndex:-1,"aria-label":"Scroll right",ref:i,className:Q,type:"button"},$),fe||(fe=t.createElement(we,null))))}Ae.propTypes={activation:n.oneOf(["automatic","manual"]),"aria-label":n.string.isRequired,children:n.node,className:n.string,contained:n.bool,fullWidth:n.bool,iconSize:n.oneOf(["default","lg"]),leftOverflowButtonProps:n.object,light:_e(n.bool),rightOverflowButtonProps:n.object,scrollDebounceWait:n.number,scrollIntoView:n.bool};n.oneOf(["automatic","manual"]),n.string.isRequired,n.node,n.string;function be(p,d,m){const o=p.current;if(!o)return()=>{};const v=o==null?void 0:o.style["scroll-behavior"];o.style["scroll-behavior"]="auto";const f=d==="forward"?5:-5;let l=null;function u(){o&&(o.scrollLeft=o.scrollLeft+f,l=requestAnimationFrame(u))}return l=requestAnimationFrame(u),()=>{o.style["scroll-behavior"]=v,m(o.scrollLeft),l&&cancelAnimationFrame(l)}}const $e=r.forwardRef(function(d,m){let{as:o="button",children:v,className:f,disabled:l,onClick:u,onKeyDown:h,secondaryLabel:I,renderIcon:$,...y}=d;const e=j(),{selectedIndex:E,setSelectedIndex:w,baseId:c,dismissable:L,onTabCloseRequest:R}=t.useContext(X),{index:g,hasSecondaryLabel:b,contained:s}=t.useContext(xe),N=r.useRef(null),i=r.useRef(null),B=me([m,i]),[z,T]=r.useState(!1),P=`${c}-tab-${g}`,H=`${c}-tabpanel-${g}`,[Y,Z]=r.useState(!1),J=_=>(Z(_.offsetHeight<_.scrollHeight),_.offsetHeight<_.scrollHeight),D=A(`${e}--tabs__nav-item`,`${e}--tabs__nav-link`,{[`${e}--tabs__nav-item--selected`]:E===g,[`${e}--tabs__nav-item--disabled`]:l,[`${e}--tabs__nav-item--hover-off`]:z},f),K=o,ee=_=>{s&&i.current&&(_.stopPropagation(),T(!0),i.current.classList.add(`${e}--tabs__nav-item--hover-off`))},te=()=>{s&&i.current&&(i.current.classList.remove(`${e}--tabs__nav-item--hover-off`),T(!1))};ie(N,"mouseover",ee),ie(N,"mouseleave",te),q(()=>{function _(){const W=document.getElementById(`${P}`)||i.current;if(W!=null&&W.closest(`.${e}--tabs--vertical`)){const M=W==null?void 0:W.getElementsByClassName(`${e}--tabs__nav-item-label`)[0];J(M)}}return _(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[e,P]);const G=_=>{var W;if(_.stopPropagation(),R==null||R(g),i.current&&i.current.parentElement){const M=Array.from(i.current.parentElement.childNodes).filter(a=>{const x=a;return x.classList.contains(`${e}--tabs__nav-link`)&&!x.classList.contains(`${e}--tabs__nav-item--disabled`)}).length;if(i.current&&g+1!==M)i.current.focus();else{const a=(M-2)*2;(W=i.current.parentElement.childNodes[a])==null||W.focus()}}},Q=_=>{L&&F(_,Te)&&G(_),h==null||h(_)},C=t.createElement("div",{className:A({[`${e}--tabs__nav-item--close`]:L,[`${e}--tabs__nav-item--close--hidden`]:!L})},t.createElement("button",{type:"button",tabIndex:E===g&&L?0:-1,"aria-disabled":l,"aria-hidden":E===g&&L?"false":"true",disabled:l,className:A({[`${e}--tabs__nav-item--close-icon`]:L,[`${e}--visually-hidden`]:!L,[`${e}--tabs__nav-item--close-icon--selected`]:E===g,[`${e}--tabs__nav-item--close-icon--disabled`]:l}),onClick:G,title:`Remove ${typeof v=="string"?v:""} tab`,ref:N},t.createElement(Ce,{"aria-hidden":E===g&&L?"false":"true","aria-label":`Press delete to remove ${typeof v=="string"?v:""} tab`}))),ne=$??L;return Y?t.createElement(Ee,{label:v,align:"top",leaveDelayMs:0,autoAlign:!0,onMouseEnter:()=>!1,closeOnActivation:!0},t.createElement(K,k({},y,{"aria-controls":H,"aria-disabled":l,"aria-selected":E===g,ref:B,id:P,role:"tab",className:D,disabled:l,title:v,onClick:_=>{l||(w(g),u==null||u(_))},onKeyDown:Q,tabIndex:E===g?"0":"-1",type:"button"}),t.createElement("div",{className:`${e}--tabs__nav-item-label-wrapper`},t.createElement(U,{className:`${e}--tabs__nav-item-label`},v)),b&&I&&t.createElement(U,{as:"div",className:`${e}--tabs__nav-item-secondary-label`,title:I},I))):t.createElement(t.Fragment,null,t.createElement(K,k({},y,{"aria-controls":H,"aria-disabled":l,"aria-selected":E===g,ref:B,id:P,role:"tab",className:D,disabled:l,onClick:_=>{l||(w(g),u==null||u(_))},onKeyDown:Q,tabIndex:E===g?"0":"-1",type:"button"}),t.createElement("div",{className:`${e}--tabs__nav-item-label-wrapper`},L&&$&&t.createElement("div",{className:`${e}--tabs__nav-item--icon-left`},t.createElement($,{size:16})),t.createElement(U,{className:`${e}--tabs__nav-item-label`},v),!L&&$&&t.createElement("div",{className:A(`${e}--tabs__nav-item--icon`,{[`${e}--visually-hidden`]:!ne})},!L&&$&&t.createElement($,{size:16}))),b&&I&&t.createElement(U,{as:"div",className:`${e}--tabs__nav-item-secondary-label`,title:I},I)),C)});$e.propTypes={as:n.oneOfType([n.string,n.elementType]),children:n.node,className:n.string,disabled:n.bool,onClick:n.func,onKeyDown:n.func,renderButton:n.func,renderIcon:n.oneOfType([n.func,n.object]),secondaryLabel:n.string};const Me=t.forwardRef(function(d,m){let{children:o,className:v,defaultOpen:f=!1,enterDelayMs:l,leaveDelayMs:u,label:h,...I}=d;const $=j(),y=A(`${$}--tabs__nav-item--icon-only`,v);return t.createElement(Ee,{align:"bottom",defaultOpen:f,className:`${$}--icon-tooltip`,enterDelayMs:l,label:h,leaveDelayMs:u},t.createElement($e,k({className:y,ref:m},I),o))});Me.propTypes={children:n.node,className:n.string,defaultOpen:n.bool,enterDelayMs:n.number,label:n.node.isRequired,leaveDelayMs:n.number};const ke=t.forwardRef(function(d,m){let{children:o,className:v,...f}=d;const l=j(),u=r.useRef(null),h=me([m,u]),[I,$]=r.useState(0),[y,e]=r.useState(!1),{selectedIndex:E,baseId:w}=t.useContext(X),c=t.useContext(Ie),L=`${w}-tabpanel-${c}`,R=`${w}-tab-${c}`,g=A(`${l}--tab-content`,v,{[`${l}--tab-content--interactive`]:y});return oe(()=>{if(!u.current)return;ce(u.current)&&(e(!0),$(-1))}),r.useEffect(()=>{const b=u.current;if(!b)return;function s(){ce(b)?(e(!0),$(-1)):(e(!1),$(0))}const N=new MutationObserver(s);return N.observe(b,{childList:!0,subtree:!0}),()=>N.disconnect()},[]),t.createElement("div",k({},f,{"aria-labelledby":R,id:L,className:g,ref:h,role:"tabpanel",tabIndex:I,hidden:E!==c}),o)});ke.propTypes={children:n.node,className:n.string};function He(p){let{children:d}=p;const m=j(),o=r.useRef([]),v=r.useRef([]);return q(()=>{var h,I;const f=(h=o.current[0])==null?void 0:h.previousElementSibling,l=f==null?void 0:f.classList.contains(`${m}--tabs--vertical`),u=(I=f==null?void 0:f.parentElement)==null?void 0:I.style.height;if(l&&!u){v.current=o.current.map(e=>(e==null?void 0:e.hidden)||!1),o.current.forEach(e=>{e&&(e.hidden=!1)});const $=o.current.map(e=>(e==null?void 0:e.offsetHeight)||0),y=Math.max(...$);f.style.height=y+"px",o.current.forEach((e,E)=>{e&&(e.hidden=v.current[E])})}}),t.createElement(t.Fragment,null,t.Children.map(d,(f,l)=>ae.isElement(f)?t.createElement(Ie.Provider,{value:l},t.cloneElement(f,{ref:u=>{o.current[l]=u}})):null))}He.propTypes={children:n.node};export{Ae as T,$e as a,Be as b,He as c,ke as d};
