{"version":3,"file":"EditTearsheet.stories-FAaOUI7w.js","sources":["../../src/components/EditTearsheet/EditTearsheet.docs-page.js","../../src/components/EditTearsheet/preview-components/MultiFormEditTearsheet.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport { StoryDocsPage } from '../../global/js/utils/StoryDocsPage';\nimport * as stories from './EditTearsheet.stories';\n\nconst DocsPage = () => {\n  return (\n    <StoryDocsPage\n      altGuidelinesHref=\"https://pages.github.ibm.com/carbon/ibm-products/patterns/edit-and-update/usage/#tearsheet-edit\"\n      blocks={[\n        {\n          story: stories.multiFormEditTearsheet,\n          description: `This is used when you have one section per step. This can be created by passing\nin the overall \\`<EditTearsheet />\\` component and the \\`<EditTearsheetForm />\\`\ncomponent with form items as children:`,\n          source: {\n            code: `<EditTearsheet {...props}>\n  <EditTearsheetForm\n    title=\"Required title\"\n    subtitle=\"Optional subtitle\"\n    description=\"Optional description\"\n    onNext={() => {\n      'Optional function';\n    }}\n  >\n    <TextInput\n      id=\"test-1\"\n      invalidText=\"A valid value is required\"\n      labelText=\"Topic name\"\n      placeholder=\"Enter topic name\"\n    />\n  </EditTearsheetForm>\n</EditTearsheet>`,\n          },\n        },\n        {\n          title: 'Using custom components',\n          description: `It is possible to use custom components that return \\`EditTearsheetForms\\` in\norder to help reduce the amount of logic in the component that contains the main\n\\`EditTearsheet\\`. _It is required that each child of the \\`EditTearsheet\\` either\nbe a custom step or a \\`EditTearsheetForm\\`_. An example of this could look like\nthe following:`,\n          source: {\n            code: `const CreateFormCustom = ({ subtitle, ...rest }) => {\n  return (\n    <EditTearsheetForm {...rest} subtitle={subtitle} title=\"Form 1\">\n      form content here\n    </EditTearsheetForm>\n  );\n};\n\nconst CreateComponent = () => {\n  return (\n    <EditTearsheet {...EditTearsheetProps}>\n      <CreateFormCustom subtitle=\"Custom form subtitle\" />\n      <EditTearsheetForm\n        title=\"Topic name\"\n        fieldsetLegendText=\"Topic information\"\n        subtitle=\"This is the unique name used to recognize your topic\"\n        description=\"It will also be used by your producers and consumers as part of the\n        connection information, so make it something easy to recognize.\"\n      >\n        Content for second form\n      </EditTearsheetForm>\n    </EditTearsheet>\n  );\n};`,\n          },\n        },\n        {\n          title: `Class names`,\n          description: `Additionally, to get the preferred styling when including your own children as\nsections, you can utilize the below included class names.\n\n| Class name                                            | Element     | Features                                                   |\n| ----------------------------------------------------- | ----------- | ---------------------------------------------------------- |\n| \\`#{$pkg-prefix}--create-tearsheet__form--title\\`       | title       | \\`productive-heading-04\\` & \\`margin-bottom\\` of \\`$spacing-05\\` |\n| \\`#{$pkg-prefix}--create-tearsheet__form--subtitle\\`    | subtitle    | \\`productive-heading-01\\` & \\`margin-bottom\\` of \\`$spacing-03\\` |\n| \\`#{$pkg-prefix}--create-tearsheet__form--description\\` | description | \\`body-long-01\\` & \\`margin-bottom\\` of \\`$spacing-06\\`          |\n| \\`#{$pkg-prefix}--create-tearsheet__form--fieldset\\`    | fieldset    | \\`margin-bottom\\` of \\`$spacing-05\\` to all children elements  |\n`,\n        },\n      ]}\n    />\n  );\n};\n\nexport default DocsPage;\n","/* eslint-disable react/prop-types */\n/**\n * Copyright IBM Corp. 2022, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState } from 'react';\nimport {\n  Button,\n  Column,\n  InlineNotification,\n  RadioButtonGroup,\n  RadioButton,\n  TextInput,\n  Toggle,\n  NumberInput,\n} from '@carbon/react';\nimport cx from 'classnames';\nimport { pkg } from '../../../settings';\nimport { EditTearsheet } from '../EditTearsheet';\nimport { EditTearsheetForm } from '../EditTearsheetForm';\nimport { action } from 'storybook/actions';\nimport { SlugSample } from '../../../global/js/story-parts/slug';\n\nconst blockClass = `${pkg.prefix}--tearsheet-edit-multi-form`;\n\nexport const MultiFormEditTearsheet = ({\n  cancelButtonText,\n  className,\n  description,\n  influencerWidth,\n  label,\n  slug,\n  submitButtonText,\n  title,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [hasSubmitError, setHasSubmitError] = useState(false);\n  const [formOneTextInputValue, setFormOneTextInputValue] =\n    useState('Topic name here');\n  const [topicDescriptionValue, setTopicDescriptionValue] = useState(\n    'Topic description here'\n  );\n  const [topicVersionValue, setTopicVersionValue] =\n    useState('Topic value here');\n  const [topicLocationValue, setTopicLocationValue] = useState('Location here');\n  const [formTwoTextInputValue, setFormTwoTextInputValue] = useState(1);\n  const [formThreeTextInputValue, setFormThreeTextInputValue] =\n    useState('one-day');\n  const [isInvalid, setIsInvalid] = useState(false);\n\n  const clearCreateData = () => {\n    setFormOneTextInputValue(formOneTextInputValue);\n    setTopicDescriptionValue(topicDescriptionValue);\n    setTopicVersionValue(topicVersionValue);\n    setTopicLocationValue(topicLocationValue);\n    setFormTwoTextInputValue(1);\n    setFormThreeTextInputValue('one-day');\n    setHasSubmitError(false);\n    setIsInvalid(false);\n    setOpen(false);\n  };\n\n  const onClose = () => {\n    clearCreateData();\n    action('onClose')();\n  };\n\n  const onSubmit = async () => {\n    //emulate submit processing time\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n    setOpen(false);\n    action('onSubmit')();\n  };\n\n  const handleFormChange = () => {\n    action('handleFormChange')();\n  };\n\n  return (\n    <div>\n      <style>{`.${blockClass} { opacity: 0 }`};</style>\n      <Button onClick={() => setOpen(!open)}>\n        {open ? 'Close EditTearsheet' : 'Open EditTearsheet'}\n      </Button>\n      <EditTearsheet\n        influencerWidth={influencerWidth}\n        label={label}\n        className={cx(blockClass, className)}\n        submitButtonText={submitButtonText}\n        cancelButtonText={cancelButtonText}\n        description={description}\n        title={title}\n        open={open}\n        onRequestSubmit={onSubmit}\n        onClose={onClose}\n        onFormChange={handleFormChange}\n        slug={slug && SlugSample()}\n      >\n        <EditTearsheetForm\n          title=\"Topic name\"\n          fieldsetLegendText=\"Topic information\"\n          subtitle=\"This is the unique name used to recognize your topic\"\n          description=\"It will also be used by your producers and consumers as part of the\n          connection information, so make it something easy to recognize.\"\n        >\n          <Column xlg={8} lg={8} md={8} sm={8}>\n            <TextInput\n              labelText=\"Topic name\"\n              placeholder=\"Enter topic name\"\n              id=\"tearsheet-multi-form-story-text-input-multi-form-1\"\n              value={formOneTextInputValue}\n              onChange={(event) => {\n                if (event.target.value.length) {\n                  setIsInvalid(false);\n                }\n                setFormOneTextInputValue(event.target.value);\n              }}\n              invalid={isInvalid}\n              invalidText=\"This is a required field\"\n              onBlur={() => {\n                if (!formOneTextInputValue.length) {\n                  setIsInvalid(true);\n                }\n              }}\n            />\n            <TextInput\n              labelText=\"Topic description (optional)\"\n              id=\"tearsheet-multi-form-story-text-input-multi-form-1-input-2\"\n              value={topicDescriptionValue}\n              placeholder=\"Enter topic description\"\n              onChange={(event) => setTopicDescriptionValue(event.target.value)}\n            />\n            <TextInput\n              labelText=\"Topic version (optional)\"\n              id=\"tearsheet-multi-form-story-text-input-multi-form-1-input-3\"\n              value={topicVersionValue}\n              placeholder=\"Enter topic version\"\n              onChange={(event) => setTopicVersionValue(event.target.value)}\n            />\n            {hasSubmitError && (\n              <InlineNotification\n                kind=\"error\"\n                title=\"Error\"\n                subtitle=\"Resolve errors to continue\"\n                onClose={() => setHasSubmitError(!hasSubmitError)}\n              />\n            )}\n            <Toggle\n              className={`${blockClass}__error--toggle`}\n              id=\"simulated-error-toggle\"\n              size=\"sm\"\n              labelText=\"Simulate error\"\n              onToggle={() => setHasSubmitError(!hasSubmitError)}\n              toggled={hasSubmitError}\n            />\n          </Column>\n        </EditTearsheetForm>\n        <EditTearsheetForm\n          title=\"Location\"\n          subtitle=\"Custom form subtitle\"\n          fieldsetLegendText=\"\"\n          description=\"Custom form description (see storybook implementation for new custom form capability)\"\n        >\n          <Column xlg={8} lg={8} md={8} sm={8}>\n            <TextInput\n              value={topicLocationValue}\n              onChange={(event) => setTopicLocationValue(event.target.value)}\n              id=\"custom-form-input\"\n              labelText=\"Location\"\n              placeholder=\"Enter location\"\n            />\n          </Column>\n        </EditTearsheetForm>\n        <EditTearsheetForm\n          title=\"Partitions\"\n          subtitle=\"One or more partitions make up a topic. A partition is an ordered\n          list of messages.\"\n          description=\"Partitions are distributed across the brokers in order to increase\n          the scalability of your topic. You can also use them to distribute\n          messages across the members of a consumer group.\"\n          fieldsetLegendText=\"Partition information\"\n        >\n          <Column xlg={3} lg={3} md={8} sm={4}>\n            <NumberInput\n              id=\"carbon-number\"\n              min={1}\n              max={100}\n              value={formTwoTextInputValue}\n              label=\"Partitions\"\n              helperText=\"1 partition is sufficient for getting started but, production systems often have more.\"\n              invalidText=\"Max partitions is 100, min is 1\"\n              onChange={(event) =>\n                setFormTwoTextInputValue(event.imaginaryTarget.value)\n              }\n            />\n          </Column>\n        </EditTearsheetForm>\n        <EditTearsheetForm\n          title=\"Message retention\"\n          subtitle=\"This is how long messages are retained before they are deleted.\"\n          description=\"If your messages are not read by a consumer within this time, they\n          will be missed.\"\n          fieldsetLegendText=\"Message retention scheduling\"\n        >\n          <Column xlg={8} lg={8} md={8} sm={8}>\n            <RadioButtonGroup\n              legendText=\"Message retention\"\n              name=\"radio-button-group\"\n              defaultSelected={formThreeTextInputValue}\n              onChange={(value) => setFormThreeTextInputValue(value)}\n              orientation=\"vertical\"\n            >\n              <RadioButton labelText=\"A day\" value=\"one-day\" id=\"one-day\" />\n              <RadioButton labelText=\"A week\" value=\"one-week\" id=\"one-week\" />\n              <RadioButton\n                labelText=\"A month\"\n                value=\"one-month\"\n                id=\"one-month\"\n              />\n            </RadioButtonGroup>\n          </Column>\n        </EditTearsheetForm>\n      </EditTearsheet>\n    </div>\n  );\n};\n"],"names":["DocsPage","React","StoryDocsPage","stories.multiFormEditTearsheet","action","blockClass","pkg","MultiFormEditTearsheet","cancelButtonText","className","description","influencerWidth","label","slug","submitButtonText","title","open","setOpen","useState","hasSubmitError","setHasSubmitError","formOneTextInputValue","setFormOneTextInputValue","topicDescriptionValue","setTopicDescriptionValue","topicVersionValue","setTopicVersionValue","topicLocationValue","setTopicLocationValue","formTwoTextInputValue","setFormTwoTextInputValue","formThreeTextInputValue","setFormThreeTextInputValue","isInvalid","setIsInvalid","clearCreateData","onClose","onSubmit","resolve","handleFormChange","Button","EditTearsheet","cx","SlugSample","EditTearsheetForm","Column","TextInput","event","InlineNotification","Toggle","NumberInput","RadioButtonGroup","value","RadioButton"],"mappings":"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"}