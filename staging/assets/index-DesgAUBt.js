import{_ as C}from"./extends-CCbyfPlC.js";import{P as o}from"./index-Dk74W0Oi.js";import{r as c,R as I}from"./index-BwDkhjyp.js";import"./index-DcAOwtUU.js";import{a as we}from"./tslib.es6-B4_xh3D5.js";import{b as re,c as ge,_ as Ee,e as Tt,G as Ot,C as ze}from"./index-CQ0F2wkl.js";import{F as Et}from"./FormContext-C7kRVu4t.js";function ce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Ge=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Xe=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Re=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return Xe(n.overflowY,t)||Xe(n.overflowX,t)||(r=>{const i=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},be=(e,t,n,r,i,l,u,s)=>l<e&&u>t||l>e&&u<t?0:l<=e&&s<=n||u>=t&&s>=n?l-e-r:u>t&&s<n||l<e&&s>n?u-t+i:0,Rt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Dt=(e,t)=>{var n,r,i,l;if(typeof document>"u")return[];const{scrollMode:u,block:s,inline:d,boundary:m,skipOverflowHiddenElements:a}=t,T=typeof m=="function"?m:N=>N!==m;if(!Ge(e))throw new TypeError("Invalid target");const M=document.scrollingElement||document.documentElement,y=[];let v=e;for(;Ge(v)&&T(v);){if(v=Rt(v),v===M){y.push(v);break}v!=null&&v===document.body&&Re(v)&&!Re(document.documentElement)||v!=null&&Re(v,a)&&y.push(v)}const R=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,S=(l=(i=window.visualViewport)==null?void 0:i.height)!=null?l:innerHeight,{scrollX:x,scrollY:A}=window,{height:b,width:F,top:J,right:O,bottom:oe,left:z}=e.getBoundingClientRect(),{top:G,right:le,bottom:Q,left:me}=(N=>{const p=window.getComputedStyle(N);return{top:parseFloat(p.scrollMarginTop)||0,right:parseFloat(p.scrollMarginRight)||0,bottom:parseFloat(p.scrollMarginBottom)||0,left:parseFloat(p.scrollMarginLeft)||0}})(e);let k=s==="start"||s==="nearest"?J-G:s==="end"?oe+Q:J+b/2-G+Q,B=d==="center"?z+F/2-me+le:d==="end"?O+le:z-me;const ue=[];for(let N=0;N<y.length;N++){const p=y[N],{height:Z,width:ee,top:te,right:se,bottom:ae,left:h}=p.getBoundingClientRect();if(u==="if-needed"&&J>=0&&z>=0&&oe<=S&&O<=R&&J>=te&&oe<=ae&&z>=h&&O<=se)return ue;const g=getComputedStyle(p),f=parseInt(g.borderLeftWidth,10),w=parseInt(g.borderTopWidth,10),L=parseInt(g.borderRightWidth,10),H=parseInt(g.borderBottomWidth,10);let E=0,D=0;const $="offsetWidth"in p?p.offsetWidth-p.clientWidth-f-L:0,P="offsetHeight"in p?p.offsetHeight-p.clientHeight-w-H:0,K="offsetWidth"in p?p.offsetWidth===0?0:ee/p.offsetWidth:0,V="offsetHeight"in p?p.offsetHeight===0?0:Z/p.offsetHeight:0;if(M===p)E=s==="start"?k:s==="end"?k-S:s==="nearest"?be(A,A+S,S,w,H,A+k,A+k+b,b):k-S/2,D=d==="start"?B:d==="center"?B-R/2:d==="end"?B-R:be(x,x+R,R,f,L,x+B,x+B+F,F),E=Math.max(0,E+A),D=Math.max(0,D+x);else{E=s==="start"?k-te-w:s==="end"?k-ae+H+P:s==="nearest"?be(te,ae,Z,w,H+P,k,k+b,b):k-(te+Z/2)+P/2,D=d==="start"?B-h-f:d==="center"?B-(h+ee/2)+$/2:d==="end"?B-se+L+$:be(h,se,ee,f,L+$,B,B+F,F);const{scrollLeft:W,scrollTop:X}=p;E=V===0?0:Math.max(0,Math.min(X+E/V,p.scrollHeight-Z/V+P)),D=K===0?0:Math.max(0,Math.min(W+D/K,p.scrollWidth-ee/K+$)),k+=X-E,B+=W-D}ue.push({el:p,top:E,left:D})}return ue};var St=0;function it(){}function kt(e,t){if(e){var n=Dt(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(r){var i=r.el,l=r.top,u=r.left;i.scrollTop=l,i.scrollLeft=u})}}function Ye(e,t,n){var r=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return r}function Be(e,t){var n;function r(){n&&clearTimeout(n)}function i(){for(var l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];r(),n=setTimeout(function(){n=null,e.apply(void 0,u)},t)}return i.cancel=r,i}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return t.some(function(s){return s&&s.apply(void 0,[r].concat(l)),r.preventDownshiftDefault||r.hasOwnProperty("nativeEvent")&&r.nativeEvent.preventDownshiftDefault})}}function De(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){t.forEach(function(i){typeof i=="function"?i(r):i&&(i.current=r)})}}function Bt(){return String(St++)}function $t(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(n===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function Se(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,r){return n[r]=Lt(t,r)?t[r]:e[r],n},{})}function Lt(e,t){return e[t]!==void 0}function Ht(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function xe(e,t,n,r,i){i===void 0&&(i=!1);var l=n.length;if(l===0)return-1;var u=l-1;(typeof e!="number"||e<0||e>u)&&(e=t>0?-1:u+1);var s=e+t;s<0?s=i?u:0:s>u&&(s=i?0:u);var d=Ce(s,t<0,n,r,i);return d===-1?e>=l?-1:e:d}function Ce(e,t,n,r,i){i===void 0&&(i=!1);var l=n.length;if(t){for(var u=e;u>=0;u--)if(!r(n[u],u))return u}else for(var s=e;s<l;s++)if(!r(n[s],s))return s;return i?Ce(t?l-1:0,t,n,r):-1}function Je(e,t,n,r){return r===void 0&&(r=!0),n&&t.some(function(i){return i&&(Ye(i,e,n)||r&&Ye(i,n.document.activeElement,n))})}var Kt=Be(function(e){rt(e).textContent=""},500);function rt(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function At(e,t){if(!(!e||!t)){var n=rt(t);n.textContent=e,Kt(t)}}var Ft=["highlightedIndex","items","environment"],ot={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Pt(e,t,n){var r=e.props,i=e.type,l={};Object.keys(t).forEach(function(u){Vt(u,e,t,n),n[u]!==t[u]&&(l[u]=n[u])}),r.onStateChange&&Object.keys(l).length&&r.onStateChange(C({type:i},l))}function Vt(e,t,n,r){var i=t.props,l=t.type,u="on"+$e(e)+"Change";i[u]&&r[e]!==void 0&&r[e]!==n[e]&&i[u](C({type:l},r))}function Nt(e,t){return t.changes}function Wt(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""}var qt=Be(function(e,t){At(e(),t)},200),_t=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect,jt="useId"in I?function(t){var n=t.id,r=t.labelId,i=t.menuId,l=t.getItemId,u=t.toggleButtonId,s=t.inputId,d="downshift-"+I.useId();n||(n=d);var m=c.useRef({labelId:r||n+"-label",menuId:i||n+"-menu",getItemId:l||function(a){return n+"-item-"+a},toggleButtonId:u||n+"-toggle-button",inputId:s||n+"-input"});return m.current}:function(t){var n=t.id,r=n===void 0?"downshift-"+Bt():n,i=t.labelId,l=t.menuId,u=t.getItemId,s=t.toggleButtonId,d=t.inputId,m=c.useRef({labelId:i||r+"-label",menuId:l||r+"-menu",getItemId:u||function(a){return r+"-item-"+a},toggleButtonId:s||r+"-toggle-button",inputId:d||r+"-input"});return m.current};function Ut(e,t,n,r){var i,l;if(e===void 0){if(t===void 0)throw new Error(r);i=n[t],l=t}else l=t===void 0?n.indexOf(e):t,i=e;return[i,l]}function zt(e){return/^\S{1}$/.test(e)}function $e(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function lt(e){var t=c.useRef(e);return t.current=e,t}function Gt(e,t,n,r){var i=c.useRef(),l=c.useRef(),u=c.useCallback(function(y,v){l.current=v,y=Se(y,v.props);var R=e(y,v),S=v.props.stateReducer(y,C({},v,{changes:R}));return S},[e]),s=c.useReducer(u,t,n),d=s[0],m=s[1],a=lt(t),T=c.useCallback(function(y){return m(C({props:a.current},y))},[a]),M=l.current;return c.useEffect(function(){var y=Se(i.current,M==null?void 0:M.props),v=M&&i.current&&!r(y,d);v&&Pt(M,y,d),i.current=d},[d,M,r]),[d,T]}function Xt(e,t,n,r){var i=Gt(e,t,n,r),l=i[0],u=i[1];return[Se(l,t),u]}var ie={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:Nt,getA11ySelectionMessage:Wt,scrollIntoView:kt,environment:typeof window>"u"?void 0:window};function j(e,t,n){n===void 0&&(n=ot);var r=e["default"+$e(t)];return r!==void 0?r:n[t]}function fe(e,t,n){n===void 0&&(n=ot);var r=e[t];if(r!==void 0)return r;var i=e["initial"+$e(t)];return i!==void 0?i:j(e,t,n)}function Yt(e){var t=fe(e,"selectedItem"),n=fe(e,"isOpen"),r=fe(e,"highlightedIndex"),i=fe(e,"inputValue");return{highlightedIndex:r<0&&t&&n?e.items.findIndex(function(l){return e.itemToKey(l)===e.itemToKey(t)}):r,isOpen:n,selectedItem:t,inputValue:i}}function Me(e,t,n){var r=e.items,i=e.initialHighlightedIndex,l=e.defaultHighlightedIndex,u=e.itemToKey,s=t.selectedItem,d=t.highlightedIndex;return r.length===0?-1:i!==void 0&&d===i?i:l!==void 0?l:s?r.findIndex(function(m){return u(s)===u(m)}):n===0?-1:n<0?r.length-1:0}function Jt(e,t,n){var r=c.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return c.useEffect(function(){if(!e)return it;var i=t.map(function(a){return a.current});function l(){r.current.isTouchEnd=!1,r.current.isMouseDown=!0}function u(a){r.current.isMouseDown=!1,Je(a.target,i,e)||n()}function s(){r.current.isTouchEnd=!1,r.current.isTouchMove=!1}function d(){r.current.isTouchMove=!0}function m(a){r.current.isTouchEnd=!0,!r.current.isTouchMove&&!Je(a.target,i,e,!1)&&n()}return e.addEventListener("mousedown",l),e.addEventListener("mouseup",u),e.addEventListener("touchstart",s),e.addEventListener("touchmove",d),e.addEventListener("touchend",m),function(){e.removeEventListener("mousedown",l),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",d),e.removeEventListener("touchend",m)}},[e,n]),r.current}var Qt=function(){return it};function Qe(e,t,n){var r=n.highlightedIndex,i=n.items,l=n.environment,u=ce(n,Ft),s=ut();c.useEffect(function(){s||!(l!=null&&l.document)||qt(function(){return e(C({highlightedIndex:r,highlightedItem:i[r],resultCount:i.length},u))},l.document)},t)}function Zt(e){var t=e.highlightedIndex,n=e.isOpen,r=e.itemRefs,i=e.getItemNodeFromIndex,l=e.menuElement,u=e.scrollIntoView,s=c.useRef(!0);return _t(function(){t<0||!n||!Object.keys(r.current).length||(s.current===!1?s.current=!0:u(i(t),l))},[t]),s}function Ze(e,t,n){var r,i=((r=e.items)==null?void 0:r.length)&&t>=0;return C({isOpen:!1,highlightedIndex:-1},i&&C({selectedItem:e.items[t],isOpen:j(e,"isOpen"),highlightedIndex:j(e,"highlightedIndex")},n))}function en(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function ut(){var e=I.useRef(!0);return I.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}var st={environment:o.shape({addEventListener:o.func.isRequired,removeEventListener:o.func.isRequired,document:o.shape({createElement:o.func.isRequired,getElementById:o.func.isRequired,activeElement:o.any.isRequired,body:o.any.isRequired}).isRequired,Node:o.func.isRequired}),itemToString:o.func,itemToKey:o.func,stateReducer:o.func},at=C({},st,{getA11yStatusMessage:o.func,highlightedIndex:o.number,defaultHighlightedIndex:o.number,initialHighlightedIndex:o.number,isOpen:o.bool,defaultIsOpen:o.bool,initialIsOpen:o.bool,selectedItem:o.any,initialSelectedItem:o.any,defaultSelectedItem:o.any,id:o.string,labelId:o.string,menuId:o.string,getItemId:o.func,toggleButtonId:o.string,onSelectedItemChange:o.func,onHighlightedIndexChange:o.func,onStateChange:o.func,onIsOpenChange:o.func,scrollIntoView:o.func});function tn(e,t,n){var r=t.type,i=t.props,l;switch(r){case n.ItemMouseMove:l={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:l={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:l={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Me(i,e,0)};break;case n.FunctionOpenMenu:l={isOpen:!0,highlightedIndex:Me(i,e,0)};break;case n.FunctionCloseMenu:l={isOpen:!1};break;case n.FunctionSetHighlightedIndex:l={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:l={inputValue:t.inputValue};break;case n.FunctionReset:l={highlightedIndex:j(i,"highlightedIndex"),isOpen:j(i,"isOpen"),selectedItem:j(i,"selectedItem"),inputValue:j(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return C({},e,l)}function nn(e){for(var t=e.keysSoFar,n=e.highlightedIndex,r=e.items,i=e.itemToString,l=e.isItemDisabled,u=t.toLowerCase(),s=0;s<r.length;s++){var d=(s+n+(t.length<2?1:0))%r.length,m=r[d];if(m!==void 0&&i(m).toLowerCase().startsWith(u)&&!l(m,d))return d}return n}we(we({},at),{items:o.array.isRequired,isItemDisabled:o.func,getA11ySelectionMessage:o.func});function rn(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}var on=we(we({},ie),{getA11yStatusMessage:rn,isItemDisabled:function(){return!1}}),ye=0,Le=1,He=2,Te=3,Ke=4,Ae=5,Fe=6,Pe=7,Ve=8,Ne=9,We=10,Oe=11,dt=12,ct=13,qe=14,ft=15,gt=16,ht=17,mt=18,_e=19,ke=20,vt=21,pt=Object.freeze({__proto__:null,ToggleButtonClick:ye,ToggleButtonKeyDownArrowDown:Le,ToggleButtonKeyDownArrowUp:He,ToggleButtonKeyDownCharacter:Te,ToggleButtonKeyDownEscape:Ke,ToggleButtonKeyDownHome:Ae,ToggleButtonKeyDownEnd:Fe,ToggleButtonKeyDownEnter:Pe,ToggleButtonKeyDownSpaceButton:Ve,ToggleButtonKeyDownPageUp:Ne,ToggleButtonKeyDownPageDown:We,ToggleButtonBlur:Oe,MenuMouseLeave:dt,ItemMouseMove:ct,ItemClick:qe,FunctionToggleMenu:ft,FunctionOpenMenu:gt,FunctionCloseMenu:ht,FunctionSetHighlightedIndex:mt,FunctionSelectItem:_e,FunctionSetInputValue:ke,FunctionReset:vt});function ln(e,t){var n,r=t.type,i=t.props,l=t.altKey,u;switch(r){case qe:u={isOpen:j(i,"isOpen"),highlightedIndex:j(i,"highlightedIndex"),selectedItem:i.items[t.index]};break;case Te:{var s=t.key,d=""+e.inputValue+s,m=!e.isOpen&&e.selectedItem?i.items.findIndex(function(y){return i.itemToKey(y)===i.itemToKey(e.selectedItem)}):e.highlightedIndex,a=nn({keysSoFar:d,highlightedIndex:m,items:i.items,itemToString:i.itemToString,isItemDisabled:i.isItemDisabled});u={inputValue:d,highlightedIndex:a,isOpen:!0}}break;case Le:{var T=e.isOpen?xe(e.highlightedIndex,1,i.items,i.isItemDisabled):l&&e.selectedItem==null?-1:Me(i,e,1);u={highlightedIndex:T,isOpen:!0}}break;case He:if(e.isOpen&&l)u=Ze(i,e.highlightedIndex,!1);else{var M=e.isOpen?xe(e.highlightedIndex,-1,i.items,i.isItemDisabled):Me(i,e,-1);u={highlightedIndex:M,isOpen:!0}}break;case Pe:case Ve:u=Ze(i,e.highlightedIndex,!1);break;case Ae:u={highlightedIndex:Ce(0,!1,i.items,i.isItemDisabled),isOpen:!0};break;case Fe:u={highlightedIndex:Ce(i.items.length-1,!0,i.items,i.isItemDisabled),isOpen:!0};break;case Ne:u={highlightedIndex:xe(e.highlightedIndex,-10,i.items,i.isItemDisabled)};break;case We:u={highlightedIndex:xe(e.highlightedIndex,10,i.items,i.isItemDisabled)};break;case Ke:u={isOpen:!1,highlightedIndex:-1};break;case Oe:u=C({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=i.items)==null?void 0:n.length)&&{selectedItem:i.items[e.highlightedIndex]});break;case _e:u={selectedItem:t.selectedItem};break;default:return tn(e,t,pt)}return C({},e,u)}var un=["onClick"],sn=["onMouseLeave","refKey","ref"],an=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],dn=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];cn.stateChangeTypes=pt;function cn(e){e===void 0&&(e={});var t=C({},on,e),n=t.items,r=t.scrollIntoView,i=t.environment,l=t.itemToString,u=t.getA11ySelectionMessage,s=t.getA11yStatusMessage,d=Xt(ln,t,Yt,en),m=d[0],a=d[1],T=m.isOpen,M=m.highlightedIndex,y=m.selectedItem,v=m.inputValue,R=c.useRef(null),S=c.useRef(null),x=c.useRef({}),A=c.useRef(null),b=jt(t),F=c.useRef(),J=ut(),O=lt({state:m,props:t}),oe=c.useCallback(function(h){return x.current[b.getItemId(h)]},[b]);Qe(s,[T,M,v,n],C({previousResultCount:F.current,items:n,environment:i,itemToString:l},m)),Qe(u,[y],C({previousResultCount:F.current,items:n,environment:i,itemToString:l},m));var z=Zt({menuElement:S.current,highlightedIndex:M,isOpen:T,itemRefs:x,scrollIntoView:r,getItemNodeFromIndex:oe});c.useEffect(function(){return A.current=Be(function(h){h({type:ke,inputValue:""})},500),function(){A.current.cancel()}},[]),c.useEffect(function(){v&&A.current(a)},[a,v]),c.useEffect(function(){J||(F.current=n.length)}),c.useEffect(function(){var h=fe(t,"isOpen");h&&R.current&&R.current.focus()},[]);var G=Jt(i,[R,S],c.useCallback(function(){O.current.state.isOpen&&a({type:Oe})},[a,O])),le=Qt();c.useEffect(function(){T||(x.current={})},[T]);var Q=c.useMemo(function(){return{ArrowDown:function(g){g.preventDefault(),a({type:Le,altKey:g.altKey})},ArrowUp:function(g){g.preventDefault(),a({type:He,altKey:g.altKey})},Home:function(g){g.preventDefault(),a({type:Ae})},End:function(g){g.preventDefault(),a({type:Fe})},Escape:function(){O.current.state.isOpen&&a({type:Ke})},Enter:function(g){g.preventDefault(),a({type:O.current.state.isOpen?Pe:ye})},PageUp:function(g){O.current.state.isOpen&&(g.preventDefault(),a({type:Ne}))},PageDown:function(g){O.current.state.isOpen&&(g.preventDefault(),a({type:We}))}," ":function(g){g.preventDefault();var f=O.current.state;if(!f.isOpen){a({type:ye});return}f.inputValue?a({type:Te,key:" "}):a({type:Ve})}}},[a,O]),me=c.useCallback(function(){a({type:ft})},[a]),k=c.useCallback(function(){a({type:ht})},[a]),B=c.useCallback(function(){a({type:gt})},[a]),ue=c.useCallback(function(h){a({type:mt,highlightedIndex:h})},[a]),N=c.useCallback(function(h){a({type:_e,selectedItem:h})},[a]),p=c.useCallback(function(){a({type:vt})},[a]),Z=c.useCallback(function(h){a({type:ke,inputValue:h})},[a]),ee=c.useCallback(function(h){var g=h===void 0?{}:h,f=g.onClick,w=ce(g,un),L=function(){var E;(E=R.current)==null||E.focus()};return C({id:b.labelId,htmlFor:b.toggleButtonId,onClick:U(f,L)},w)},[b]),te=c.useCallback(function(h,g){var f,w=h===void 0?{}:h,L=w.onMouseLeave,H=w.refKey,E=H===void 0?"ref":H,D=w.ref,$=ce(w,sn),P=g===void 0?{}:g;P.suppressRefError;var K=function(){a({type:dt})};return C((f={},f[E]=De(D,function(V){S.current=V}),f.id=b.menuId,f.role="listbox",f["aria-labelledby"]=$&&$["aria-label"]?void 0:""+b.labelId,f.onMouseLeave=U(L,K),f),$)},[a,le,b]),se=c.useCallback(function(h,g){var f,w=h===void 0?{}:h,L=w.onBlur,H=w.onClick;w.onPress;var E=w.onKeyDown,D=w.refKey,$=D===void 0?"ref":D,P=w.ref,K=ce(w,an),V=g===void 0?{}:g;V.suppressRefError;var W=O.current.state,X=function(){a({type:ye})},ve=function(){W.isOpen&&!G.isMouseDown&&a({type:Oe})},pe=function(q){var _=Ht(q);_&&Q[_]?Q[_](q):zt(_)&&a({type:Te,key:_})},ne=C((f={},f[$]=De(P,function(Y){R.current=Y}),f["aria-activedescendant"]=W.isOpen&&W.highlightedIndex>-1?b.getItemId(W.highlightedIndex):"",f["aria-controls"]=b.menuId,f["aria-expanded"]=O.current.state.isOpen,f["aria-haspopup"]="listbox",f["aria-labelledby"]=K&&K["aria-label"]?void 0:""+b.labelId,f.id=b.toggleButtonId,f.role="combobox",f.tabIndex=0,f.onBlur=U(L,ve),f),K);return K.disabled||(ne.onClick=U(H,X),ne.onKeyDown=U(E,pe)),ne},[a,b,O,G,le,Q]),ae=c.useCallback(function(h){var g,f=h===void 0?{}:h,w=f.item,L=f.index,H=f.onMouseMove,E=f.onClick,D=f.onMouseDown;f.onPress;var $=f.refKey,P=$===void 0?"ref":$,K=f.disabled,V=f.ref,W=ce(f,dn);K!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var X=O.current,ve=X.state,pe=X.props,ne=Ut(w,L,pe.items,"Pass either item or index to getItemProps!"),Y=ne[0],q=ne[1],_=pe.isItemDisabled(Y,q),yt=function(){G.isTouchEnd||q===ve.highlightedIndex||(z.current=!1,a({type:ct,index:q,disabled:_}))},wt=function(){a({type:qe,index:q})},Ct=function(Mt){return Mt.preventDefault()},Ie=C((g={},g[P]=De(V,function(de){de&&(x.current[b.getItemId(q)]=de)}),g["aria-disabled"]=_,g["aria-selected"]=""+(Y===ve.selectedItem),g.id=b.getItemId(q),g.role="option",g),W);return _||(Ie.onClick=U(E,wt)),Ie.onMouseMove=U(H,yt),Ie.onMouseDown=U(D,Ct),Ie},[O,b,G,z,a]);return{getToggleButtonProps:se,getLabelProps:ee,getMenuProps:te,getItemProps:ae,toggleMenu:me,openMenu:B,closeMenu:k,setHighlightedIndex:ue,selectItem:N,reset:p,setInputValue:Z,highlightedIndex:M,isOpen:T,selectedItem:y,inputValue:v}}C({},at,{items:o.array.isRequired,isItemDisabled:o.func,selectedItemChanged:o.func,getA11ySelectionMessage:o.func,inputValue:o.string,defaultInputValue:o.string,initialInputValue:o.string,inputId:o.string,onInputValueChange:o.func});C({},ie,{getA11yStatusMessage:$t,isItemDisabled:function(){return!1}});function fn(e){var t=e.removedSelectedItem,n=e.itemToString;return n(t)+" has been removed."}C({},st,{selectedItems:o.array,initialSelectedItems:o.array,defaultSelectedItems:o.array,getA11yRemovalMessage:o.func,activeIndex:o.number,initialActiveIndex:o.number,defaultActiveIndex:o.number,onActiveIndexChange:o.func,onSelectedItemsChange:o.func,keyNavigationNext:o.string,keyNavigationPrevious:o.string});ie.itemToString,ie.itemToKey,ie.stateReducer,ie.environment;const gn=["default","inline"],hn=["sm","md","lg"],mn=o.oneOf(gn),vn=o.oneOf(hn),pn=e=>{e.keyCode===27&&e.stopPropagation()},In=e=>{e.preventDefault(),e.stopPropagation()},je=I.forwardRef(function(t,n){let{children:r,className:i,disabled:l=!1,type:u="default",size:s,invalid:d,invalidText:m,invalidTextId:a,warn:T,warnText:M,warnTextId:y,light:v,isOpen:R,...S}=t;const x=re(),{isFluid:A}=c.useContext(Et),b=!d&&T,F=ge({...i&&{[i]:!0},[`${x}--list-box`]:!0,[`${x}--list-box--${s}`]:s,[`${x}--list-box--inline`]:u==="inline",[`${x}--list-box--disabled`]:l,[`${x}--list-box--light`]:v,[`${x}--list-box--expanded`]:R,[`${x}--list-box--invalid`]:d,[`${x}--list-box--warning`]:b});return I.createElement(I.Fragment,null,I.createElement("div",Ee({},S,{className:F,ref:n,onKeyDown:pn,onClick:In,"data-invalid":d||void 0}),r),A&&I.createElement("hr",{className:`${x}--list-box__divider`}),d?I.createElement("div",{className:`${x}--form-requirement`,id:a},m):null,b?I.createElement("div",{className:`${x}--form-requirement`,id:y},M):null)});je.displayName="ListBox";je.propTypes={children:o.node,className:o.string,disabled:o.bool,invalid:o.bool,invalidText:o.node,invalidTextId:o.string,isOpen:o.bool,light:Tt(o.bool),size:vn,type:mn,warn:o.bool,warnText:o.string,warnTextId:o.string};function It(e){let{children:t,disabled:n,tabIndex:r,...i}=e;const l=re();return I.createElement("div",Ee({className:`${l}--list-box__field`,tabIndex:!n&&r||-1},i),t)}It.propTypes={"aria-haspopup":o.oneOfType([o.string,o.bool]),children:o.node,disabled:o.bool,role:o.string,tabIndex:o.oneOfType([o.number,o.string])};function bn(e){const[t,n]=c.useState(!1);return c.useEffect(()=>{const r=e.current,{offsetWidth:i,scrollWidth:l}=r;n(i<l)},[e,n]),t}const he=I.forwardRef(function(t,n){let{children:r,isActive:i=!1,isHighlighted:l=!1,title:u,...s}=t;const d=re(),m=c.useRef(null),a=bn((n==null?void 0:n.menuItemOptionRef)||m),T=ge(`${d}--list-box__menu-item`,{[`${d}--list-box__menu-item--active`]:i,[`${d}--list-box__menu-item--highlighted`]:l});return I.createElement("li",Ee({},s,{className:T,title:a?u:void 0}),I.createElement("div",{className:`${d}--list-box__menu-item__option`,ref:(n==null?void 0:n.menuItemOptionRef)||m},r))});he.displayName="ListBoxMenuItem";he.propTypes={children:o.node,disabled:o.bool,isActive:o.bool,isHighlighted:o.bool,title:o.string};const Ue=I.forwardRef(function(t,n){let{children:r,id:i,...l}=t;const u=re();return I.createElement("ul",Ee({ref:n,id:i,className:`${u}--list-box__menu`,role:"listbox"},l),r)});Ue.displayName="ListBoxMenu";Ue.propTypes={children:o.oneOfType([o.node,o.arrayOf(o.oneOf([he])),o.shape({type:o.oneOf([he])}),o.bool]),id:o.string.isRequired};const xn={"close.menu":"Close menu","open.menu":"Open menu"},yn=e=>xn[e],bt=e=>{let{isOpen:t,translateWithId:n=yn}=e;const r=re(),i=ge(`${r}--list-box__menu-icon`,{[`${r}--list-box__menu-icon--open`]:t}),l=n(t?"close.menu":"open.menu");return I.createElement("div",{className:i},I.createElement(Ot,{name:"chevron--down","aria-label":l},I.createElement("title",null,l)))};bt.propTypes={isOpen:o.bool.isRequired,translateWithId:o.func};var et,tt;const nt={"clear.all":"clear.all","clear.selection":"clear.selection"},wn={[nt["clear.all"]]:"Clear all selected items",[nt["clear.selection"]]:"Clear selected item"},Cn=e=>wn[e],xt=e=>{let{clearSelection:t,selectionCount:n,translateWithId:r=Cn,disabled:i,onClearSelection:l,readOnly:u}=e;const s=re(),d=ge(`${s}--list-box__selection`,{[`${s}--tag--filter`]:n,[`${s}--list-box__selection--multi`]:n}),m=M=>{M.stopPropagation(),!(i||u)&&(t(M),l&&l(M))},a=r(n?"clear.all":"clear.selection"),T=ge(`${s}--tag`,`${s}--tag--filter`,`${s}--tag--high-contrast`,{[`${s}--tag--disabled`]:i});return n?I.createElement("div",{className:T},I.createElement("span",{className:`${s}--tag__label`,title:`${n}`},n),I.createElement("div",{role:"button",tabIndex:-1,className:`${s}--tag__close-icon`,onClick:m,"aria-label":r("clear.all"),title:a,"aria-disabled":u?!0:void 0},et||(et=I.createElement(ze,null)))):I.createElement("div",{role:"button",className:d,tabIndex:-1,onClick:m,"aria-label":a,title:a},n,tt||(tt=I.createElement(ze,null)))};xt.propTypes={clearSelection:o.func.isRequired,disabled:o.bool,onClearSelection:o.func,readOnly:o.bool,selectionCount:o.number,translateWithId:o.func};const kn=Object.assign(je,{Field:It,Menu:Ue,MenuIcon:bt,MenuItem:he,Selection:xt});export{kn as L,vn as a,mn as b,cn as u};
