import{R as y,r as a}from"./index-BwDkhjyp.js";import{l as T}from"./lottie-D0UQuq7-.js";import{c as v}from"./clamp-Bg2yowlN.js";import{P as i}from"./index-Dk74W0Oi.js";import{c as b}from"./index-CO-HQMMN.js";import{g as N}from"./devtools-7ohusRRR.js";import{p as P}from"./settings-9_3hiHpE.js";const j=`${P.prefix}--stepped-animated-media`,g="SteppedAnimatedMedia",x={playStep:0},l=y.forwardRef(({className:R,playStep:f=x.playStep,filePaths:n,...h},w)=>{const[r,A]=a.useState([]),t=a.useRef(void 0),S=a.useRef(null),u=w??S,p=u.current;return a.useEffect(()=>{const m=e=>e.includes(".json");async function s(){if(n&&n.every(m)){const e=n.map(d=>fetch(d)),o=(await Promise.all(e)).map(d=>d.json()),M=await Promise.all(o);A(M)}}s()},[n]),a.useEffect(()=>{var s,e,c;const m=window!=null&&window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!0;return p&&((s=t.current)==null||s.destroy(),t.current=T.loadAnimation({container:p,renderer:"svg",animationData:r[v(f,0,r.length-1)],loop:!1,autoplay:!1,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}}),m?(e=t.current)==null||e.goToAndStop(0):(c=t.current)==null||c.goToAndPlay(0)),()=>{var o;return(o=t.current)==null?void 0:o.destroy()}},[r,p,f]),r?y.createElement("div",{...h,className:b(j,R),role:"img",ref:u,...N(g)}):null});l.displayName=g;l.propTypes={className:i.string,filePaths:i.arrayOf(i.string).isRequired,playStep:i.number};l.__docgenInfo={description:"The SteppedAnimatedMedia is an Onboarding internal component and is not intended for general use.",methods:[],displayName:"SteppedAnimatedMedia",props:{className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},filePaths:{required:!0,tsType:{name:"union",raw:"string[] | undefined",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"undefined"}]},description:"The file path(s) to json formatted Lottie animation files.",type:{name:"arrayOf",value:{name:"string"}}},playStep:{required:!1,tsType:{name:"number"},description:"Which animation step from the filePaths array to play.",defaultValue:{value:"0",computed:!1},type:{name:"number"}}}};export{l as S};
