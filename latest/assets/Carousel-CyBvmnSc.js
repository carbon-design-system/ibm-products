import{p as T,j as c}from"./settings-DrdbGLhD.js";import{R as g,r as s}from"./index-BwDkhjyp.js";import{P as i}from"./index-Dk74W0Oi.js";import{c as C}from"./deprecate-D9ms-jbM.js";import{g as A}from"./devtools-B_UYo462.js";const F=`${T.prefix}--carousel__item`,W="CarouselItem",b=g.forwardRef(({children:f,className:w,...m},o)=>c.jsx("div",{...m,className:C(F,w),...A(W),ref:o,children:f}));b.displayName=W;b.propTypes={children:i.node.isRequired,className:i.string};b.__docgenInfo={description:"TODO: A description of the component.",methods:[],displayName:"CarouselItem",props:{children:{description:"Provide the contents of the CarouselItem.",type:{name:"node"},required:!0},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1}}};const d=`${T.prefix}--carousel`,O="Carousel",y={disableArrowScroll:!1,onScroll:()=>{},onChangeIsScrollable:()=>{}},k=g.forwardRef(({children:f,className:w,disableArrowScroll:m=y.disableArrowScroll,fadedEdgeColor:o,onChangeIsScrollable:x=y.onChangeIsScrollable,onScroll:R=y.onScroll,...B},D)=>{const N=s.useRef(null),r=s.useRef(null),v=s.useRef(Array(g.Children.count(f)).fill(s.useRef(null))),I=typeof o=="object"?o==null?void 0:o.left:o,L=typeof o=="object"?o==null?void 0:o.right:o,a=s.useCallback(()=>{var p,j,q;if(!r.current)return;const e=(p=r.current)==null?void 0:p.clientWidth,t=parseInt(`${(j=r.current)==null?void 0:j.scrollLeft}`,10),n=(q=r.current)==null?void 0:q.scrollWidth,l=n-e,u=parseFloat((t/l).toFixed(2))||0;x(n>e),R(u)},[x,R]),S=s.useCallback((e,t)=>{const n=t.left>=e.left,l=t.right<=e.right;return n&&l},[]),V=s.useCallback(()=>{var n;const e=(n=r==null?void 0:r.current)==null?void 0:n.getBoundingClientRect();return v.current.filter(l=>S(e,l.getBoundingClientRect()))},[S]),h=s.useCallback(()=>{var l;const e=(l=r==null?void 0:r.current)==null?void 0:l.getBoundingClientRect(),t=V().map(u=>u.getBoundingClientRect()),n=t.reduce((u,p)=>u+p.width,0);return{containerRect:e,elementRectsInView:t,visibleWidth:n}},[V]),E=s.useCallback(()=>{if(!r.current)return;const{containerRect:e,visibleWidth:t}=h(),n=t>0?t:e==null?void 0:e.width;r.current.scrollLeft+=n},[h]),P=s.useCallback(()=>{if(!r.current)return;const{containerRect:e,elementRectsInView:t,visibleWidth:n}=h(),l=n>0?n-t[0].left:((e==null?void 0:e.width)??0)+((e==null?void 0:e.left)??0);r.current.scrollLeft-=l},[h]),_=s.useCallback(()=>{r.current&&(r.current.scrollLeft=0,a())},[a]),$=s.useCallback(e=>{v.current[e].scrollIntoView()},[]);return s.useEffect(()=>{setTimeout(()=>{a()},0)},[]),s.useEffect(()=>{const e=()=>{r.current&&(r.current.scrollLeft=0,a())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a]),s.useEffect(()=>{const e=()=>{a()},t=r.current;return t==null||t.addEventListener("scrollend",e),()=>t==null?void 0:t.removeEventListener("scrollend",e)},[a]),s.useEffect(()=>{function e(n){n.shiftKey&&(n.stopPropagation(),n.preventDefault(),n.cancelBubble=!1)}const t=r.current;if(t)return t.addEventListener("wheel",e,{passive:!1}),()=>{t.removeEventListener("wheel",e)}},[]),s.useEffect(()=>{function e(n){const{key:l}=n;(l==="ArrowLeft"||l==="ArrowRight")&&m&&(n.stopPropagation(),n.preventDefault(),n.cancelBubble=!1)}const t=N.current;if(t)return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},[m]),s.useImperativeHandle(D,()=>({scrollNext(){E()},scrollPrev(){P()},scrollReset(){_()},scrollToView(e){$(e)}}),[E,P,_,$]),c.jsx("div",{...B,tabIndex:-1,className:C(d,w),ref:N,role:"main",...A(O),children:c.jsxs("div",{className:C(`${d}__elements-container`),children:[c.jsx("div",{className:`${d}__elements`,ref:r,children:g.Children.map(f,(e,t)=>c.jsx(b,{ref:n=>v.current[t]=n,children:e},t))}),I&&c.jsx("div",{className:`${d}__elements-container--scrolled`,style:{background:`linear-gradient(90deg, ${I}, transparent)`}}),L&&c.jsx("div",{className:`${d}__elements-container--scroll-max`,style:{background:`linear-gradient(270deg, ${L}, transparent)`}})]})})});k.displayName=O;k.propTypes={children:i.node.isRequired,className:i.string,disableArrowScroll:i.bool,fadedEdgeColor:i.oneOfType([i.string,i.shape({left:i.string,right:i.string})]),onChangeIsScrollable:i.func,onScroll:i.func};k.__docgenInfo={description:`The Carousel acts as a scaffold for other Onboarding content.

This component is not intended for general use.

Expected scrolling behavior.
1. Scroll the maximum number of visible items at a time.
2. The left-most item should always be left-aligned in the viewport.

Exception.
1. After scrolling to the last (right-most) item,
     if some of its content remains hidden,
     then nudge it to the right until it is right-aligned.
2. From the right-aligned position, when scrolling left,
     the left-most item should again be left-aligned.`,methods:[{name:"scrollNext",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollPrev",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollReset",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollToView",docblock:null,modifiers:[],params:[{name:"itemNumber",optional:!1,type:null}],returns:null}],displayName:"Carousel",props:{disableArrowScroll:{defaultValue:{value:"false",computed:!1},description:`Disables the ability of the Carousel to scroll
use a keyboard's left and right arrow keys.`,type:{name:"bool"},required:!1},onChangeIsScrollable:{defaultValue:{value:"() => {}",computed:!1},description:"An optional callback function that returns `true`\nwhen the carousel has enough content to be scrollable,\nand `false` when there is not enough content.",type:{name:"func"},required:!1},onScroll:{defaultValue:{value:"() => {}",computed:!1},description:`An optional callback function that returns the scroll position as
a value between 0 and 1.`,type:{name:"func"},required:!1},children:{description:"Provide the contents of the Carousel.",type:{name:"node"},required:!0},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},fadedEdgeColor:{description:"Enables the edges of the component to have faded styling.\n\nPass a single string (`$color`) to specify the same color for left and right.\n\nOr pass an object (`{ left: $color1, right: $color2 }`) to specify different colors.",type:{name:"union",value:[{name:"string"},{name:"shape",value:{left:{name:"string",required:!1},right:{name:"string",required:!1}}}]},required:!1}}};export{k as C};
