import{e as t,r as b}from"./index-CPiZ6Cnx.js";import{j as B}from"./jsx-runtime-Dc-z7RWI.js";import{useMDXComponents as Pn}from"./index-CUO_02de.js";import"./chunk-NUUEMKO5-BdrV4PMo.js";import{al as lt,aw as st,ak as ut}from"./index-t1iuulR4.js";import{b as _e,_ as se,c as R,P as n,e as dt,H as ct,C as jn,a1 as $n}from"./index-CXyjPnaX.js";import{T as Ln}from"./TextInput-D6QswYlg.js";import{d as Dn,az as Bn}from"./bucket-6-BQYdmIZX.js";import{a5 as Re}from"./bucket-7-DdSKRZLi.js";import{s as pt,p as Hn,T as mt,B as Gn,a0 as Mn,bj as Rn,_ as Fn}from"./settings-iwZeeh4T.js";import{a6 as Vn}from"./bucket-17-Ddrrb1BH.js";import{B as gt,C as Pe}from"./bucket-1-EQaPuUyr.js";import{u as x}from"./uuidv4-BQrI85uz.js";import{g as yt}from"./devtools-CjVY-wQW.js";import{L as ft}from"./index-Dcfl0vi2.js";import{P as vt,a as bt}from"./index-DJK44odq.js";import{W as ht,a as Wn,b0 as Ie}from"./bucket-18-By6NmkK1.js";import{A as zn,t as wt}from"./bucket-0-DUfmGMOu.js";import{S as Kn}from"./Search-soxfLq4A.js";import{C as Un,a_ as Tt,aY as Ct}from"./bucket-2-L5Cs0C3i.js";import{N as qt}from"./NumberInput-7N1NynOx.js";import{T as At}from"./TextArea-q8NMVixJ.js";import{D as rn,a as He}from"./DatePicker-BtYXwe2U.js";import{S as Ge}from"./SelectItem-CBhng3Ob.js";import{aN as Zn}from"./bucket-16-DAqQSLfq.js";import"./_commonjsHelpers-BosuxZz1.js";import"./iframe-rw3uFrCz.js";import"../sb-preview/runtime.js";import"./react-18-C6q_qjn2.js";import"./index-Bsyy8W_U.js";import"./index-BSHYryQu.js";import"./index-Df9so8jS.js";import"./index-DMCuvgYY.js";import"./index-DrFu-skq.js";import"./useNormalizedInputProps-Dv8FHz9Q.js";import"./Text-vNWzJqus.js";import"./FormContext-CgeSXHS1.js";import"./useAnnouncer-Dwt0jqXi.js";import"./events-OVwOsPzJ.js";import"./LayerContext-BGhaVt7n.js";import"./bucket-14-BKxafgTW.js";const Yn=e=>{let{hideLabel:a,className:r,...i}=e;const s=_e();return t.createElement("div",se({className:R(`${s}--form-item`,r)},i),!a&&t.createElement("span",{className:`${s}--label ${s}--skeleton`}),t.createElement("div",{className:`${s}--select ${s}--skeleton`},t.createElement("div",{className:`${s}--select-input`})))};Yn.propTypes={className:n.string,hideLabel:n.bool};const kt=Array.from({length:pt.length-1}).map((e,a)=>a+1),Jn=t.forwardRef(function(a,r){const{as:i="div",children:s,className:l,gap:u,orientation:d="vertical",...p}=a,c=_e(),m=R(l,{[`${c}--stack-${d}`]:!0,[`${c}--stack-scale-${u}`]:typeof u=="number"}),w={};return typeof u=="string"&&(w[`--${c}-stack-gap`]=u),t.createElement(i,se({},p,{ref:r,className:m,style:w}),s)});Jn.propTypes={as:n.elementType,children:n.node,className:n.string,gap:n.oneOfType([n.string,n.oneOf(kt)]),orientation:n.oneOf(["horizontal","vertical"])};const Ot=t.forwardRef(function(a,r){return t.createElement(Jn,se({},a,{ref:r,orientation:"vertical"}))}),Xn=t.forwardRef(function(a,r){let{children:i,className:s,disabled:l=!1,hideLabel:u,id:d,invalidText:p="Invalid time format.",invalid:c=!1,warningText:m="Warning message.",warning:w=!1,labelText:g,light:y=!1,maxLength:C=5,onChange:A=()=>{},onClick:v=()=>{},onBlur:T=()=>{},pattern:O="(1[012]|[1-9]):[0-5][0-9](\\s)?",placeholder:H="hh:mm",readOnly:q,size:_="md",type:L="text",value:$,...z}=a;const E=_e(),[N,S]=t.useState($),[G,U]=t.useState($);$!==G&&(S($),U($));function te(V){l||(q||S(N),v(V))}function ae(V){!l&&!q&&(S(N),A(V))}function k(V){l||(q||S(N),T(V))}const f=R(`${E}--time-picker__input-field`,`${E}--text-input`,[s],{[`${E}--text-input--light`]:y,[`${E}--time-picker__input-field-error`]:c||w}),h=R({[`${E}--time-picker`]:!0,[`${E}--time-picker--light`]:y,[`${E}--time-picker--invalid`]:c,[`${E}--time-picker--warning`]:w,[`${E}--time-picker--readonly`]:q,[`${E}--time-picker--${_}`]:_,...s&&{[s]:!0}}),j=R(`${E}--label`,{[`${E}--visually-hidden`]:u,[`${E}--label--disabled`]:l}),P=g?t.createElement("label",{htmlFor:d,className:j},g):null;function I(){const V={onMouseDown:Y=>{q&&(Y.preventDefault(),Y.target.focus())},onKeyDown:Y=>{q&&["ArrowDown","ArrowUp"," "].includes(Y.key)&&Y.preventDefault()}};return t.Children.map(i,Y=>{const X=Y;if(X)return t.cloneElement(X,{...X.props,disabled:X.props.disabled??l,readOnly:q,...V})})}const F={readOnly:q};return t.createElement("div",{className:R(`${E}--form-item`,s)},P,t.createElement("div",{className:h},t.createElement("div",{className:`${E}--time-picker__input`},t.createElement("input",se({className:f,"data-invalid":c||void 0,disabled:l,id:d,maxLength:C,onClick:te,onChange:ae,onBlur:k,placeholder:H,pattern:O,ref:r,type:L,value:$},z,F)),(c||w)&&t.createElement("div",{className:`${E}--time-picker__error__icon`},c?t.createElement(ht,{className:`${E}--checkbox__invalid-icon`,size:16}):t.createElement(Wn,{className:`${E}--text-input__invalid-icon--warning`,size:16}))),I()),(c||w)&&t.createElement("div",{className:`${E}--form-requirement`},c?p:m))});Xn.propTypes={children:n.node,className:n.string,disabled:n.bool,hideLabel:n.bool,id:n.string.isRequired,invalid:n.bool,invalidText:n.node,labelText:n.node,light:dt(n.bool),maxLength:n.number,onBlur:n.func,onChange:n.func,onClick:n.func,pattern:n.string,placeholder:n.string,readOnly:n.bool,size:n.oneOf(["sm","md","lg"]),type:n.string,value:n.string,warning:n.bool,warningText:n.node};const Fe=t.forwardRef(function(a,r){let{["aria-label"]:i="open list of options",children:s,id:l,disabled:u=!1,className:d,...p}=a;const c=_e(),m=R({[`${c}--select`]:!0,[`${c}--time-picker__select`]:!0,...d&&{[d]:!0}});return t.createElement("div",{className:m},t.createElement("select",se({"aria-label":i,className:`${c}--select-input`,disabled:u,id:l,ref:r},p),s),t.createElement(ct,{className:`${c}--select__arrow`,"aria-hidden":"true"}))});Fe.propTypes={children:n.node,className:n.string,defaultValue:n.any,disabled:n.bool,id:n.string.isRequired};const Ve=t.createContext(1),Ke=t.forwardRef(function(a,r){let{as:i="section",level:s,...l}=a;const u=t.useContext(Ve),d=s??u+1,p=i;return t.createElement(Ve.Provider,{value:Math.min(d,6)},t.createElement(p,se({ref:r},l)))});Ke.propTypes={as:n.elementType,children:n.node,className:n.string,level:n.number};const Ue=t.forwardRef(function(a,r){const i=`h${t.useContext(Ve)}`;return t.createElement(i,se({ref:r},a))});Ue.propTypes={children:n.node,className:n.string};const o=`${Hn.prefix}--condition-builder`,ue="Non-Hierarchical",W="Hierarchical",Ae=(e,a)=>{e&&setTimeout(()=>{var r,i,s,l,u;Z((r=e.target.closest('[role="gridcell"]'))==null?void 0:r.querySelector("button"),a),(s=(i=e.target.closest('[role="gridcell"]'))==null?void 0:i.querySelector("button"))==null||s.click(),(u=(l=e.target.closest('[role="gridcell"]'))==null?void 0:l.querySelector("button"))==null||u.focus()},0)},ie=(e,a)=>{setTimeout(()=>{Z(e,a)},0)},We=(e,a,r,i,s,l)=>{e==document.activeElement?a!==r.length-1?ie(r[a+1],l):ie(r[i?0:r.length-1],l):Array.from(r).indexOf(document.activeElement)==-1&&s&&ie(r[0],l)},ze=(e,a,r,i,s,l)=>{e==document.activeElement?ie(a!==0?r[a-1]:r[i?r.length-1:0],l):Array.from(r).indexOf(document.activeElement)==-1&&s&&ie(r[r.length-1],l)},_t=(e,a)=>e[a],me=e=>e&&e!=="INVALID",Z=(e,a)=>{var i,s;const r=(e==null?void 0:e.closest(`.${o}__content-container`))??(e==null?void 0:e.closest(`.${o}__actions-container`));r&&Array.from(r.querySelectorAll('[tabindex="0"]')).map(l=>l==null?void 0:l.setAttribute("tabindex","-1")),e==null||e.setAttribute("tabindex","0"),(s=(i=a.current)==null?void 0:i.querySelector(`.${o}__statement-button`))==null||s.setAttribute("tabindex","1"),e==null||e.focus()},Me=e=>{const a=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return`${a}/${r}/${i}`},Et={text:e=>e,textarea:e=>e,time:e=>e,number:e=>e,option:e=>e&&typeof e!="string"?(Array.isArray(e)?e:[e]).map(r=>r.label).join(", "):e,date:e=>{if(Array.isArray(e)&&e.length>1){const a=e!=null&&e[0]&&!isNaN(new Date(e[0]))?Me(new Date(e[0])):"",r=e!=null&&e[1]&&!isNaN(new Date(e[1]))?Me(new Date(e[1])):"";return`${a} To ${r}`}else return Array.isArray(e)&&!isNaN(new Date(e[0]))?Me(new Date(e[0])):e},custom:e=>e},ne=({className:e,label:a,hideLabel:r,tooltipAlign:i,renderIcon:s,onClick:l,showToolTip:u,wrapperProps:d,onBlur:p,onFocus:c,onMouseEnter:m,onMouseLeave:w,isInvalid:g,wrapperClassName:y,tabIndex:C,...A})=>{const v=_e(),T=()=>{const O=A["data-name"]??"";return t.createElement("button",{tabIndex:C!==void 0?C:-1,className:R([e,`${o}__button`,{[`${o}__text-ellipsis`]:u&&!r&&!g},{[`${o}__invalid-input`]:g}]),type:"button",onClick:l,onBlur:p,onFocus:c,onMouseEnter:m,onMouseLeave:w,"data-name":O,...A},s&&t.createElement(s,null),!r&&t.createElement("span",null,a),g&&t.createElement(Wn,null))};return r||u?t.createElement(mt,{label:a,align:i,className:`${y} ${o}__tooltip ${v}--icon-tooltip`,...d,leaveDelayMs:0},T()):t.createElement(t.Fragment,null,T())};ne.propTypes={className:n.string,hideLabel:n.bool,isInvalid:n.bool,label:n.string,onBlur:n.func,onClick:n.func,onFocus:n.func,onMouseEnter:n.func,onMouseLeave:n.func,renderIcon:n.oneOfType([n.func,n.object]),showToolTip:n.bool,tabIndex:n.number,tooltipAlign:n.string,wrapperClassName:n.string,wrapperProps:n.object};ne.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderButton",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},label:{required:!1,tsType:{name:"string"},description:"label of the button",type:{name:"string"}},hideLabel:{required:!1,tsType:{name:"boolean"},description:"decides if label and tooltip to be hidden",type:{name:"bool"}},tooltipAlign:{required:!1,tsType:{name:"PopoverAlignment"},description:"tooltip position",type:{name:"string"}},renderIcon:{required:!1,tsType:{name:"CarbonIconType"},description:"Optional prop to allow overriding the icon rendering.",type:{name:"union",value:[{name:"func"},{name:"object"}]}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:"callback triggered on click of add button",type:{name:"func"}},onBlur:{required:!1,tsType:{name:"ReactFocusEventHandler",raw:"React.FocusEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:"mouse events callbacks",type:{name:"func"}},onFocus:{required:!1,tsType:{name:"ReactFocusEventHandler",raw:"React.FocusEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:"",type:{name:"func"}},onMouseEnter:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:"",type:{name:"func"}},onMouseLeave:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:"",type:{name:"func"}},showToolTip:{required:!1,tsType:{name:"boolean"},description:"decides if  tooltip to be shown",type:{name:"bool"}},wrapperProps:{required:!1,tsType:{name:"object"},description:"optional props for tree grid to add role and aria-label to wrapper span",type:{name:"object"}},isInvalid:{required:!1,tsType:{name:"boolean"},description:"boolean to know the updated value in not valid",type:{name:"bool"}},wrapperClassName:{required:!1,tsType:{name:"string"},description:"classname applies to the wrapper of popover",type:{name:"string"}},tabIndex:{required:!1,tsType:{name:"number"},description:"Tab index",type:{name:"number"}}}};const xt={operator:"or",groups:[{groupOperator:"and",statement:"ifAll",id:x(),conditions:[{property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:x()}]}]},J=b.createContext({rootState:{groups:[]}}),Ze=e=>{const[a,r]=b.useState({groups:[]}),[i,s]=b.useState([]),l={rootState:a,setRootState:r,actionState:i,setActionState:s,inputConfig:e.inputConfig,popOverSearchThreshold:e.popOverSearchThreshold,getOptions:e.getOptions,variant:e.variant,translateWithId:e.translateWithId,conditionBuilderRef:e.conditionBuilderRef};return t.createElement(J.Provider,{value:l},e.children)};Ze.propTypes={children:n.node.isRequired,conditionBuilderRef:n.object,getOptions:n.func,inputConfig:n.shape({properties:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired,icon:n.oneOfType([n.func,n.object]),type:n.oneOf(["text","textarea","number","date","option","time","custom"]).isRequired,config:n.shape({options:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired,icon:n.oneOfType([n.func,n.object])})),component:n.func,operators:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired})),long:n.bool})}))}).isRequired,popOverSearchThreshold:n.number.isRequired,translateWithId:n.func,variant:n.string.isRequired};Ze.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderProvider",props:{rootState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},description:""},setRootState:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}}],raw:"SetStateAction<ConditionBuilderState>"}],raw:"Dispatch<SetStateAction<ConditionBuilderState>>"},description:""},actionState:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},description:""},setActionState:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"}],raw:"SetStateAction<Action[]>"}],raw:"Dispatch<SetStateAction<Action[]>>"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:"Provide the contents of the ConditionBuilder.",type:{name:"node"}},inputConfig:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  properties: Property[];
}`,signature:{properties:[{key:"properties",value:{name:"Array",elements:[{name:"intersection",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
} & (
  | PropertyConfig['option']
  | PropertyConfig['text']
  | PropertyConfig['number']
  | PropertyConfig['date']
  | PropertyConfig['textarea']
  | PropertyConfig['time']
  | PropertyConfig['custom']
)`,elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}},{name:"unknown"}]}],raw:"Property[]",required:!0}}]}},description:"This is a mandatory prop that defines the input to the condition builder.",type:{name:"shape",value:{properties:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'textarea'",computed:!1},{value:"'number'",computed:!1},{value:"'date'",computed:!1},{value:"'option'",computed:!1},{value:"'time'",computed:!1},{value:"'custom'",computed:!1}],required:!0},config:{name:"shape",value:{options:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1}}},required:!1},component:{name:"func",required:!1},operators:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0}}},required:!1},long:{name:"bool",required:!1}},required:!1}}},required:!1}}}},popOverSearchThreshold:{required:!0,tsType:{name:"number"},description:"Provide an mandatory numeric value that will be used to enable search option in the popovers with list.",type:{name:"number"}},getOptions:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  state: ConditionBuilderState,
  condition: Condition
) => Promise<Option[]>`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},name:"state"},{type:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"},{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},name:"condition"}],return:{name:"Promise",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"}],raw:"Promise<Option[]>"}}},description:`This is an optional callback function that will be triggered when options array is not passed in the inputConfig against a property. 
This can be a asynchronous function that need  to  return a promise, so it will allow to fetch options from API call.
options has to be in valid format
[{
          label: 'label',
          id: 'id',
        },...]`,type:{name:"func"}},variant:{required:!0,tsType:{name:"string"},description:"Provide the condition builder variant: Non-Hierarchical/ Hierarchical",type:{name:"string"}},translateWithId:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => string",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"string"}}},description:`Optional prop if you want to pass translation to the texts used . Otherwise this will the defined defaults.
This callback function will receive the message id and you need to return the corresponding text for that id.
The message key will be one of [   "ifText",   "addConditionText",   "addConditionGroupText",   "addSubgroupText",   "conditionText",   "propertyText",   "operatorText",   "valueText",   "connectorText",   "conditionRowText",   "removeConditionText",   "addConditionRowText",   "startText",   "endText",   "clearSearchText",   "actionsText",   "then",   "removeActionText",   "addActionText",   "invalidText",   "invalidNumberWarnText"
]`,type:{name:"func"}},conditionBuilderRef:{required:!1,tsType:{name:"ForwardedRef",elements:[{name:"HTMLDivElement"}],raw:"ForwardedRef<HTMLDivElement>"},description:"ref of condition builder",type:{name:"object"}}},composes:["PropsWithChildren"]};const on={ifText:"if",unlessText:"unless",excl_if:"excl.if",and:"and",or:"or",is:"is",ifAll:"if all",ifAny:"if any",unlessAll:"unless all",unlessAny:"unless any",greater:"is greater than",greaterEqual:"is greater than or equal to",lower:"is lower than",lowerEqual:"is lower than or equal to",startsWith:"starts with",endsWith:"ends with",contains:"contains",oneOf:"is one of",before:"is before",after:"is after",between:"is between",addConditionText:"Add condition",addConditionGroupText:"Add condition group",addSubgroupText:"Add subgroup",conditionText:"Condition",propertyText:"Property",operatorText:"Operator",valueText:"Value",connectorText:"Connector",conditionRowText:"Condition row",conditionRowGroupText:"Condition row group",removeConditionText:"Delete condition",addConditionRowText:"Add condition row",startText:"Start",endText:"End",clearSearchText:"Clear search input",actionsText:"Actions",then:"then",removeActionText:"Remove Action",addActionText:"Add action",invalidText:"Incomplete",invalidNumberWarnText:"Invalid number, must be 0 or greater",conditionBuilderText:"Condition Builder",actionSectionText:"Action Section",conditionHeadingText:"Condition",addPropertyText:"Add property",addOperatorText:"Add operator",addValueText:"Add value",conditionBuilderHierarchicalText:"Condition Builder Hierarchical"},K=(e,a)=>{const{translateWithId:r}=b.useContext(J);return e.map(i=>(a!=null&&a[i]&&(i=a[i]),r!=null&&r(i)?r(i):on[i]?on[i]:i))},St=(e,a,r)=>{var s;(s=document.activeElement.closest(`.${o}__popover`))!=null&&s.querySelector('[role="dialog"]')||jt(e,a,r)},Nt=(e,a,r)=>{It(e)||Pt(e,r==null?void 0:r.current,a)},It=e=>!["Escape"].includes(e.key)&&(e.target.closest(`.${o}__item-date`)||e.target.closest(`.${o}__item-time`)),Pt=(e,a,r)=>{var p,c,m,w,g,y;const i=e.key,s=_t(e,"shiftKey"),l=(p=a.querySelector("ul"))==null?void 0:p.dataset.multiSelect,u=(c=a.querySelectorAll('[role="option"]'))==null?void 0:c.length;let d=[];if(i==="Escape"&&(Ae(e,r),e.preventDefault()),u)switch(i){case"ArrowUp":e.preventDefault(),a.querySelectorAll('[role="option"]').forEach((C,A,v)=>{ze(C,A,v,null,null,r)}),Array.from(((m=e.target.closest("ul"))==null?void 0:m.querySelectorAll("li"))??[]).indexOf(e.target)===1&&(a.querySelector(`.${o}__popover-content-wrapper`).scrollTop=0);break;case"ArrowDown":e.preventDefault(),a.querySelectorAll('[role="option"]').forEach((C,A,v)=>{We(C,A,v,null,null,r)});break;case"Tab":d=[...Array.from(a.querySelectorAll(`.${o}__selectAll-button,[role="searchbox"]`)),a.querySelector('[role="option"]')],d.forEach((C,A,v)=>{s?ze(C,A,v,!0,!0,r):We(C,A,v,!0,!0,r)}),e.preventDefault();break;case" ":l==="true"&&(document.activeElement.type!=="button"&&((w=document.activeElement)==null||w.click()),e.preventDefault());break;case"Enter":l==="true"?document.activeElement.type!=="button"&&(e.preventDefault(),(g=document.activeElement)==null||g.click()):document.activeElement.type!=="button"&&(Ae(e,r),(y=document.activeElement)==null||y.click());break}},jt=(e,a,r)=>{var i,s,l,u,d,p;switch(e.key){case"ArrowRight":if(e.preventDefault(),r==W){let c=Array.from((i=e.target.closest('[role="row"]'))==null?void 0:i.querySelectorAll('[role="gridcell"] button'));if(c.length===1)e.target=e.target.closest('[role="row"]'),ln(e,a,r);else if(e.target.getAttribute("role")=="row")Z(c[0],a);else{let m=c.indexOf(e.target);m<c.length-1&&ie(c[m+1],a)}}else sn(e,a);break;case"ArrowLeft":if(e.preventDefault(),r==W){if(e.target.getAttribute("role")!=="row"){let c=Array.from((s=e.target.closest('[role="row"]'))==null?void 0:s.querySelectorAll('[role="gridcell"] button')),m=c.indexOf(e.target);if(m>0)ie(c[m-1],a);else{let w=e.target.closest('[role="row"]');Z(w,a)}}}else sn(e,a);break;case"ArrowUp":case"ArrowDown":e.preventDefault(),r==W?ln(e,a,r):$t(e,a,r);break;case"Enter":((u=(l=document.activeElement)==null?void 0:l.querySelectorAll("button"))==null?void 0:u.length)===1&&((p=(d=document.activeElement)==null?void 0:d.querySelectorAll("button")[0])==null||p.click());break}},Ye=e=>{var a;return Array.from((a=e.current)==null?void 0:a.querySelectorAll('[role="row"]'))},Qn=(e,a)=>Ye(a).findIndex(i=>i.contains(e)),$t=(e,a,r)=>{const i=Ye(a),s=Qn(e.target,a);et(e,s,i,r,a)},ln=(e,a,r)=>{const i=Ye(a),s=Qn(e.target,a);let l=s;e.target.getAttribute("role")=="row"?(["ArrowDown","ArrowRight"].includes(e.key)?l+=1:e.key==="ArrowUp"&&(l-=1),l<0?l=0:l>=i.length&&(l=i.length-1),l!==s&&Z(i[l],a)):et(e,s,i,r,a)},et=(e,a,r,i,s)=>{let l=a;e.key==="ArrowUp"&&(l=a==0?a:a-1),e.key==="ArrowDown"&&(l=a===r.length-1?r.length-1:a+1);const u=r[l],d=e.target.dataset.name;u!=null&&u.querySelector(`[data-name="${d}"]`)?Z(u==null?void 0:u.querySelector(`[data-name="${d}"]`),s):i===W&&Z(u,s)},sn=(e,a)=>{a.current.querySelectorAll('[role="gridcell"] button').forEach((r,i,s)=>{e.key==="ArrowRight"?We(r,i,s,null,null,a):ze(r,i,s,null,null,a)})},M=({children:e,className:a,label:r,renderIcon:i,title:s,type:l,showToolTip:u,condition:d,popOverClassName:p,config:c,renderChildren:m,onChange:w,...g})=>{const y=b.useRef(null),[C,A]=b.useState(!1),v={ifAll:"if",ifAny:"if",unlessAll:"unless",unlessAny:"unless"},[T,O,H,q,_,L]=K(["invalidText","addConditionText","addPropertyText","addOperatorText","addValueText",r],v),{conditionBuilderRef:$}=b.useContext(J),z=()=>{const{property:f,operator:h}=d||{};return r==="INVALID"||g["data-name"]==="propertyField"&&f==="INVALID"||g["data-name"]==="operatorField"&&h==="INVALID"?{propertyLabel:T,isInvalid:!0}:{isInvalid:!1,propertyLabel:g["data-name"]=="valueField"&&l?Et[l](r,c):L}},{propertyLabel:E,isInvalid:N}=z();b.useEffect(()=>{if(d){const f=g["data-name"];(d.popoverToOpen&&f!==d.popoverToOpen||f=="valueField"&&l=="option"&&(d==null?void 0:d.operator)!=="oneOf")&&G(),d.popoverToOpen==f&&U()}else G()},[d,r]),b.useEffect(()=>{var f;if(C&&y.current){const h=(f=y==null?void 0:y.current)==null?void 0:f.querySelector("input,textarea");h&&setTimeout(()=>h.focus(),0)}},[y,C]);const S=()=>{(g["data-name"]==="propertyField"&&!(d!=null&&d.property)||g["data-name"]==="operatorField"&&!(d!=null&&d.operator)||g["data-name"]==="valueField"&&!(d!=null&&d.value))&&(w==null||w("INVALID"))},G=()=>{C&&S(),A(!1)},U=()=>A(!0),te=()=>{(e||m)&&A(!C)},ae=f=>{Nt(f,$,y),f.key==="Escape"&&S()},k=()=>E||(g["data-name"]==="propertyField"?H:g["data-name"]==="operatorField"?q:g["data-name"]==="valueField"?_:O);return t.createElement(vt,{open:C,isTabTip:!0,role:"gridcell",className:`${p} ${o}__popover`,ref:y,onRequestClose:G},t.createElement(ne,{label:k(),hideLabel:!r,onClick:te,className:a,"aria-haspopup":!0,"aria-expanded":C,renderIcon:i||(r==null?zn:void 0),showToolTip:u,isInvalid:N,...g}),C&&t.createElement(bt,{className:`${o}__popover-content-wrapper`,role:"dialog","aria-label":s,onKeyDown:ae},t.createElement(ft,null,t.createElement("h1",{className:`${o}__item__title`},s),t.createElement("div",{className:`${o}__popover-content`},m?m(y):e))))};M.propTypes={children:n.node,className:n.string,condition:n.object,config:n.object,label:n.oneOfType([n.string,n.array,n.object]),onChange:n.func,popOverClassName:n.string,renderChildren:n.func,renderIcon:n.oneOfType([n.func,n.object]),showToolTip:n.bool,title:n.string,type:n.string};M.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItem",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},label:{required:!1,tsType:{name:"union",raw:"string | Option | Option[]",elements:[{name:"string"},{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"}]},description:"text to be displayed in the field",type:{name:"union",value:[{name:"string"},{name:"array"},{name:"object"}]}},renderIcon:{required:!1,tsType:{name:"CarbonIconType"},description:"Optional prop to allow overriding the icon rendering.",type:{name:"union",value:[{name:"func"},{name:"object"}]}},title:{required:!1,tsType:{name:"string"},description:"title of the popover",type:{name:"string"}},showToolTip:{required:!1,tsType:{name:"boolean"},description:"show tool tip",type:{name:"bool"}},popOverClassName:{required:!1,tsType:{name:"string"},description:"class name for popover",type:{name:"string"}},type:{required:!1,tsType:{name:"string"},description:"input type",type:{name:"string"}},condition:{required:!1,tsType:{name:"intersection",raw:"Action & Condition",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"},{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}}]},description:"current condition state object",type:{name:"object"}},config:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  option: PropertyConfigOption;
  text: PropertyConfigText;
  textarea: PropertyConfigTextArea;
  number: PropertyConfigNumber;
  date: PropertyConfigDate;
  time: PropertyConfigTime;
  custom: PropertyConfigCustom;
}`,signature:{properties:[{key:"option",value:{name:"signature",type:"object",raw:`{
  type: 'option';
  config?: {
    options?: {
      id: string;
      label: string;
      icon?: CarbonIconType;
    }[];
  };
}`,signature:{properties:[{key:"type",value:{name:"literal",value:"'option'",required:!0}},{key:"config",value:{name:"signature",type:"object",raw:`{
  options?: {
    id: string;
    label: string;
    icon?: CarbonIconType;
  }[];
}`,signature:{properties:[{key:"options",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}[]`,required:!1}}]},required:!1}}]},required:!0}},{key:"text",value:{name:"PropertyConfigText",required:!0}},{key:"textarea",value:{name:"PropertyConfigTextArea",required:!0}},{key:"number",value:{name:"PropertyConfigNumber",required:!0}},{key:"date",value:{name:"signature",type:"object",raw:`{
  type: 'date';
  config: object;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:"'date'",required:!0}},{key:"config",value:{name:"object",required:!0}}]},required:!0}},{key:"time",value:{name:"signature",type:"object",raw:`{
  type: 'time';
  config: {
    timeZones: string[];
  };
}`,signature:{properties:[{key:"type",value:{name:"literal",value:"'time'",required:!0}},{key:"config",value:{name:"signature",type:"object",raw:`{
  timeZones: string[];
}`,signature:{properties:[{key:"timeZones",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]},required:!0}}]},required:!0}},{key:"custom",value:{name:"signature",type:"object",raw:`{
  type: 'custom';
  config: {
    component: React.ComponentType<any>;
    operators: {
      label: string;
      id: string;
    }[];
  };
}`,signature:{properties:[{key:"type",value:{name:"literal",value:"'custom'",required:!0}},{key:"config",value:{name:"signature",type:"object",raw:`{
  component: React.ComponentType<any>;
  operators: {
    label: string;
    id: string;
  }[];
}`,signature:{properties:[{key:"component",value:{name:"ReactComponentType",raw:"React.ComponentType<any>",elements:[{name:"any"}],required:!0}},{key:"operators",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  id: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"id",value:{name:"string",required:!0}}]}}],raw:`{
  label: string;
  id: string;
}[]`,required:!0}}]},required:!0}}]},required:!0}}]}},description:"this is the config object again the current property from inputConfig",type:{name:"object"}},renderChildren:{required:!1,tsType:{name:"signature",type:"function",raw:"(ref: RefObject<HTMLDivElement>) => ReactNode",signature:{arguments:[{type:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},name:"ref"}],return:{name:"ReactNode"}}},description:"callback prop that returns the jsx for children",type:{name:"func"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(val: string) => void",signature:{arguments:[{type:{name:"string"},name:"val"}],return:{name:"void"}}},description:"callback to update the current condition of the state tree",type:{name:"func"}},tabIndex:{required:!1,tsType:{name:"number"},description:""},onMouseEnter:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:""},onMouseLeave:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"ReactFocusEventHandler",raw:"React.FocusEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},onBlur:{required:!1,tsType:{name:"ReactFocusEventHandler",raw:"React.FocusEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},children:{description:"provide the contents of the popover",type:{name:"node"},required:!1}},composes:["PropsWithChildren"]};const oe=({conditionState:e={},config:a={},onChange:r})=>{const{popOverSearchThreshold:i}=b.useContext(J),s=b.useRef(null),[l,u]=K(["propertyText","clearSearchText"]),d=a.options,[p,c]=b.useState(""),m=e.value,w=p?d==null?void 0:d.filter(v=>{var T;return(T=v.label)==null?void 0:T.toLowerCase().includes(p.toLowerCase())}):d;b.useEffect(()=>{var v;if(s.current){const T=(v=s.current)==null?void 0:v.querySelector("input, button,li");T&&T.focus()}},[d]);const g=(v,T)=>{r(T.id,v)},y=v=>{const{value:T}=v.target;c(T)},C=()=>e.label?e.label:l,A=v=>t.createElement("div",{className:`${o}__statement_wrapper`},t.createElement("div",null,v.text1," (",v.connector,")"),t.createElement("div",null,v.text2));if(d)return t.createElement("div",{className:`${o}__item-option`,ref:s},i&&d.length>i&&t.createElement("div",{className:`${o}__item-option__search`},t.createElement(Kn,{size:"sm",labelText:u,closeButtonLabelText:u,onChange:y})),t.createElement("ul",{"aria-label":C(),role:"listbox"},w==null?void 0:w.map(v=>{const T=m===v.id,O=v.icon;return t.createElement("li",{tabIndex:0,key:v.id,role:"option","aria-selected":T,className:`${o}__item-option__option`,onKeyUp:()=>!1,onClick:H=>g(H,v)},t.createElement("div",{className:`${o}__item-option__option-content`},t.createElement("span",{className:`${o}__item-option__option-label`},O&&t.createElement(O,null),a.isStatement?A(v):v.label),T&&t.createElement(Un,{className:`${o}__checkmark`})))})))};oe.propTypes={conditionState:n.object,config:n.object,onChange:n.func};oe.__docgenInfo={description:"",methods:[],displayName:"ItemOption",props:{conditionState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  label?: string;
  value?: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!1}},{key:"value",value:{name:"string",required:!1}}]}},description:"current condition object",defaultValue:{value:"{}",computed:!1},type:{name:"object"}},config:{required:!1,tsType:{name:"intersection",raw:"PropertyConfigOption['config'] & { isStatement?: boolean }",elements:[{name:"signature",raw:"PropertyConfigOption['config']"},{name:"signature",type:"object",raw:"{ isStatement?: boolean }",signature:{properties:[{key:"isStatement",value:{name:"boolean",required:!1}}]}}]},description:"current config object that this property is part of",defaultValue:{value:"{}",computed:!1},type:{name:"object"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string, e: Event) => void",signature:{arguments:[{type:{name:"string"},name:"value"},{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:"callback to update state oin date change",type:{name:"func"}}}};const Le=()=>{const[e,a,r,i,s,l,u,d,p,c,m,w,g,y,C,A,v,T]=K(["ifAll","ifAny","unlessAll","unlessAny","and","or","is","greater","greaterEqual","lower","lowerEqual","startsWith","endsWith","contains","oneOf","before","after","between"]);return{statementConfig:[{label:"ifText",id:"ifAll",connector:"and",text1:e,text2:"(a && b)"},{label:"ifText",id:"ifAny",connector:"or",text1:a,text2:"(a || b)"},{label:"unlessText",id:"unlessAll",connector:"and",text1:r,text2:"! (a && b)"},{label:"unlessText",id:"unlessAny",connector:"or",text1:i,text2:"! (a || b)"}],connectorConfig:[{label:s,id:"and"},{label:l,id:"or"}],operatorConfig:[{label:u,id:"is",type:"all"},{label:d,id:"greater",type:"number"},{label:p,id:"greaterEqual",type:"number"},{label:c,id:"lower",type:"number"},{label:m,id:"lowerEqual",type:"number"},{label:w,id:"startsWith",type:"text,textarea"},{label:g,id:"endsWith",type:"text,textarea"},{label:y,id:"contains",type:"text,textarea"},{label:C,id:"oneOf",type:"option"},{label:A,id:"before",type:"date,time"},{label:v,id:"after",type:"date,time"},{label:T,id:"between",type:"date"}]}},Ee=({operator:e,className:a,onChange:r,...i})=>{const{variant:s,conditionBuilderRef:l}=b.useContext(J),[u]=K(["connectorText"]),{connectorConfig:d}=Le(),p=b.useCallback((g,y)=>{y?g.classList.add("hoveredConnector"):g.classList.remove("hoveredConnector")},[]),c=g=>{const y=g==null?void 0:g.currentTarget.closest(".eachGroup");p(y,!0)},m=g=>{const y=g==null?void 0:g.currentTarget.closest(".eachGroup");p(y,!1)},w=(g,y)=>{r==null||r(g),Ae(y,l)};return s==W?t.createElement("span",{className:`${a} ${o}__connector--disabled`},t.createElement(ne,{label:e})):t.createElement(M,{label:e,title:u,"data-name":"connectorField",onMouseEnter:c,onMouseLeave:m,onFocus:c,onBlur:m,...i,popOverClassName:a,className:`${o}__connector-button`},t.createElement(oe,{config:{options:d},conditionState:{value:e,label:u},onChange:w}))};Ee.propTypes={className:n.string,onChange:n.func,operator:n.string};Ee.__docgenInfo={description:"",methods:[],displayName:"ConditionConnector",props:{operator:{required:!1,tsType:{name:"string"},description:"string that defines the connector operator (and/or)",type:{name:"string"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(op: string) => void",signature:{arguments:[{type:{name:"string"},name:"op"}],return:{name:"void"}}},description:"callback to update the current condition of the state tree",type:{name:"func"}}}};const Je=({conditionState:e,config:a,onChange:r})=>{var d;const[i]=K(["invalidNumberWarnText"]),s=(p,{value:c})=>{c!==""&&!isNaN(c)&&l(c)?r(`${c} ${a.unit??""}`):r("INVALID")},l=p=>!(a.max!==void 0&&a.min===void 0&&p>a.max||a.min!==void 0&&a.max===void 0&&p<a.min||a.max!==void 0&&a.min!==void 0&&(p>a.max||p<a.min)),u=()=>{var p,c;return((c=(p=e.value)==null?void 0:p.split(" "))==null?void 0:c[0])??""};return t.createElement("div",{className:`${o}__item-number`},t.createElement(qt,{...a,label:e.property,hideLabel:!0,id:(d=e.property)==null?void 0:d.replace(/\s/g,""),invalidText:i,allowEmpty:!0,onChange:s,defaultValue:u()}))};Je.propTypes={conditionState:n.object,config:n.object,onChange:n.func};Je.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemNumber",props:{conditionState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"},{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},description:"current condition object",type:{name:"object"}},config:{required:!1,tsType:{name:"PropertyConfigNumber['config']",raw:"PropertyConfigNumber['config']"},description:"current config object that this property is part of",type:{name:"object"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"callback to update state oin date change",type:{name:"func"}}}};const je=({conditionState:e,onChange:a,config:r,type:i})=>{var l;const s={...r,hideLabel:!0,value:me(e.value)?e.value:"",id:(l=e.property)==null?void 0:l.replace(/\s/g,""),onChange:u=>{a(u.target.value)},labelText:e.property};return t.createElement("div",{className:`${o}__item-text`},i=="textarea"?t.createElement(At,{...s}):t.createElement(Ln,{...s}))};je.propTypes={conditionState:n.object,config:n.object,onChange:n.func,type:n.string};je.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemText",props:{conditionState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"},{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},description:"current condition object",type:{name:"object"}},config:{required:!1,tsType:{name:"union",raw:"PropertyConfigText | PropertyConfigTextArea",elements:[{name:"PropertyConfigText"},{name:"PropertyConfigTextArea"}]},description:"config of the current property",type:{name:"object"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"callback to update state oin date change",type:{name:"func"}},type:{required:!1,tsType:{name:"union",raw:"'textarea' | 'text'",elements:[{name:"literal",value:"'textarea'"},{name:"literal",value:"'text'"}]},description:"current input type",type:{name:"string"}}}};const Xe=({conditionState:e,onChange:a,parentRef:r})=>{const i=b.useRef(null),[s,l]=K(["startText","endText"]),u=e.operator=="between"?"range":"single",d=p=>{a(p&&p.length>0?p:"INVALID")};return t.createElement("div",{className:`${o}__item-date `},u=="single"&&t.createElement(rn,{ref:i,dateFormat:"d/m/Y",datePickerType:"single",value:e.value,onClose:d,appendTo:r==null?void 0:r.current},t.createElement(He,{id:"datePicker",placeholder:"dd/mm/yyyy",labelText:e.property})),u=="range"&&t.createElement(rn,{ref:i,dateFormat:"d/m/Y",datePickerType:u,onClose:d,value:e.value,appendTo:r==null?void 0:r.current},t.createElement(He,{id:"datePickerStart",placeholder:"dd/mm/yyyy",labelText:s}),t.createElement(He,{id:"datePickerEnd",placeholder:"dd/mm/yyyy",labelText:l})))};Xe.propTypes={conditionState:n.object,onChange:n.func,parentRef:n.object};Xe.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemDate",props:{conditionState:{description:"current condition object",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1},parentRef:{description:"reference to the popover node",type:{name:"object"},required:!1}}};const Qe=({onChange:e,config:a})=>{var w,g;const[r,i]=b.useState(""),[s,l]=b.useState("AM"),[u,d]=b.useState((w=a==null?void 0:a.timeZones)==null?void 0:w[0]);b.useEffect(()=>{const y=`${r??""} ${s??""} ${u??""}`;e(r?y:void 0)},[r,s,u]);const p=y=>{d(y.target.value)},c=y=>{l(y.target.value)},m=y=>{i(y.target.value)};return t.createElement("div",{className:`${o}__item-time`},t.createElement(Xn,{id:"time-picker",labelText:"Select a time",onChange:m},t.createElement(Fe,{id:"time-picker-day-zone",onChange:c},t.createElement(Ge,{value:"AM",text:"AM"}),t.createElement(Ge,{value:"PM",text:"PM"})),t.createElement(Fe,{id:"time-picker-time-zone",onChange:p},(g=a==null?void 0:a.timeZones)==null?void 0:g.map((y,C)=>t.createElement(Ge,{key:C,value:y,text:y})))))};Qe.propTypes={config:n.object,onChange:n.func};Qe.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemTime",props:{config:{description:"current config object that this property is part of",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1}}};const ke=({className:e,onClick:a,addConditionSubGroupHandler:r,showConditionSubGroupPreviewHandler:i,hideConditionSubGroupPreviewHandler:s,showConditionPreviewHandler:l,hideConditionPreviewHandler:u,enableSubGroup:d,buttonLabel:p,tabIndex:c})=>{const[m,w,g]=K(["addConditionText","addConditionRowText","addSubgroupText"]),y=()=>{u==null||u(),a()},C=()=>d?{onMouseEnter:l,onMouseLeave:u,onFocus:l,onBlur:u}:{},A=()=>({onMouseEnter:i,onMouseLeave:s,onFocus:i,onBlur:s}),v=()=>p||(d?void 0:w),T=d?{role:"gridcell"}:{};return t.createElement("div",{className:`${e} ${o}__add-button-wrapper`,role:d?"none":"gridcell","aria-label":v()},t.createElement(ne,{renderIcon:wt,onClick:y,...C(),wrapperProps:T,className:`${o}__add-button`,hideLabel:!0,"data-name":"addButton",label:p??m,tabIndex:c,wrapperClassName:`${o}__add-condition-wrapper`}),d&&t.createElement(ne,{renderIcon:Zn,onClick:r,className:R(`${o}__add-condition-sub-group`),hideLabel:!0,label:g,wrapperProps:T,wrapperClassName:`${o}__add-condition-sub-group-wrapper ${o}__gap-left`,...A()}))};ke.propTypes={addConditionSubGroupHandler:n.func,buttonLabel:n.string,className:n.string,enableSubGroup:n.bool,hideConditionPreviewHandler:n.func,hideConditionSubGroupPreviewHandler:n.func,onClick:n.func,showConditionPreviewHandler:n.func,showConditionSubGroupPreviewHandler:n.func,tabIndex:n.number};ke.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderAdd",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"callback triggered on click of add button",type:{name:"func"}},addConditionSubGroupHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for hiding sub group preview",type:{name:"func"}},showConditionSubGroupPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},hideConditionSubGroupPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},showConditionPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},hideConditionPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for hiding sub group preview",type:{name:"func"}},enableSubGroup:{required:!1,tsType:{name:"boolean"},description:"boolean to enable sub groups for the tree variant",type:{name:"bool"}},buttonLabel:{required:!1,tsType:{name:"string"},description:"tooltip label for plus button",type:{name:"string"}},tabIndex:{required:!1,tsType:{name:"number"},description:"Tab index",type:{name:"number"}}}};const De=({conditionState:e={},config:a={},onChange:r})=>{const i=e.operator==="oneOf",{popOverSearchThreshold:s,getOptions:l,rootState:u}=b.useContext(J),[d,p]=K(["propertyText","clearSearchText"]),c=b.useRef(null),[m,w]=b.useState(a.options),[g,y]=b.useState(""),C=m==null?void 0:m.filter(q=>q.label.toLowerCase().includes(g.toLowerCase())),A=Array.isArray(e.value)?e.value:e.value!==void 0?[e.value]:[];b.useEffect(()=>{!m&&l&&(async()=>{const _=await l(u,e);(_==null?void 0:_.length)>0&&Object.keys(_[0]).includes("label")&&Object.keys(_[0]).includes("id")&&w(_)})()},[]),b.useEffect(()=>{if(c.current){const q=c.current.querySelector("input, button,li");q&&(q==null||q.focus())}},[m]);const v=q=>{q.currentTarget.dataset.selectedAll=="false"?r(void 0):r(m)},T=q=>{const{value:_}=q.target;y(_)},O=(q,_,L)=>{const $=A.filter(z=>z!=="INVALID");if(i)if(L){const z=$.filter(E=>E.id!==_.id);r(z.length>0?z:void 0)}else r([...$,_]);else r(_,q);q.target instanceof SVGElement&&q.stopPropagation()},H=()=>e.label?e.label:e.property?e.property:d;return m?t.createElement("div",{className:`${o}__item-option`,ref:c},s&&m.length>s&&t.createElement("div",{className:`${o}__item-option__search`},t.createElement(Kn,{size:"sm",labelText:p,closeButtonLabelText:p,onChange:T})),i&&t.createElement("div",{className:`${o}__multiselectSelectionStatusContainer`},t.createElement("h4",null,t.createElement("label",null,A.length,"/",m.length," Selected")),t.createElement(Gn,{kind:"ghost",size:"sm","data-selected-all":`${A.length==0}`,onClick:v,className:`${o}__selectAll-button`},A.length==0?"Select all":"Deselect all")),t.createElement("ul",{"aria-label":H(),role:"listbox","data-multi-select":i},C==null?void 0:C.map(q=>{const _=A.map($=>$.id).includes(q.id),L=q.icon;return t.createElement("li",{tabIndex:0,key:q.id,role:"option","aria-selected":_,className:`${o}__item-option__option`,onKeyUp:()=>!1,onClick:$=>O($,q,_)},t.createElement("div",{className:`${o}__item-option__option-content`},i?t.createElement(t.Fragment,null,t.createElement("span",{className:`${o}__option-check-box`},_?t.createElement(Tt,null):t.createElement(Ct,null)),t.createElement("span",{className:`${o}__item-option__option-label`},q.label),L&&t.createElement("span",{className:`${o}__option-icon`},t.createElement(L,null))):t.createElement(t.Fragment,null,t.createElement("span",{className:`${o}__item-option__option-label`},L&&t.createElement(L,null),q.label),_&&t.createElement(Un,{className:`${o}__checkmark`}))))}))):t.createElement(Yn,null)};De.propTypes={conditionState:n.object,config:n.object,onChange:n.func};De.__docgenInfo={description:"",methods:[],displayName:"ItemOptionForValueField",props:{conditionState:{required:!1,tsType:{name:"intersection",raw:"Condition & { label?: string }",elements:[{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"},{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:"{ label?: string }",signature:{properties:[{key:"label",value:{name:"string",required:!1}}]}}]},description:"current condition object",defaultValue:{value:"{}",computed:!1},type:{name:"object"}},config:{required:!1,tsType:{name:"signature",raw:"PropertyConfigOption['config']"},description:"current config object that this property is part of",defaultValue:{value:"{}",computed:!1},type:{name:"object"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: any, e?: Event) => void",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:"callback to update state oin date change",type:{name:"func"}}}};const $e=e=>{const{onRemove:a,onChange:r,condition:i={},conjunction:s,onConnectorOperatorChange:l,isStatement:u,group:d,onStatementChange:p,conditionIndex:c,addConditionHandler:m,addConditionSubGroupHandler:w,aria:g,hideConditionSubGroupPreviewHandler:y,showConditionSubGroupPreviewHandler:C,hideConditionPreviewHandler:A,showConditionPreviewHandler:v,isLastCondition:T}=e,{property:O,value:H,operator:q}=i,{inputConfig:_,variant:L,conditionBuilderRef:$}=b.useContext(J),[z,E]=b.useState(!1),[N,S]=b.useState(!1),[G,U,te,ae,k]=K(["conditionRowText","conditionText","propertyText","operatorText","removeConditionText"]),{statementConfig:f,operatorConfig:h}=Le(),j=D=>{var ee;return((ee=_==null?void 0:_.properties)==null?void 0:ee.find(ot=>ot.id==D))??{}},{icon:P,type:I,config:F,label:V}=j(O),Y={text:je,number:Je,date:Xe,time:Qe,option:De,custom:F==null?void 0:F.component,textarea:je}[I],X=()=>{S(!0)},Te=()=>{S(!1)},Se=(D,ee)=>{Ae(ee,$),p==null||p(D)},Ce=D=>{r({...i,property:D,operator:void 0,value:"",popoverToOpen:me(D)?"operatorField":""})},Q=D=>{r({...i,operator:D,value:void 0,popoverToOpen:me(D)?"valueField":""})},ce=D=>{const ee={...i};delete ee.popoverToOpen,r({...ee,value:D})},qe=()=>{E(!0)},pe=()=>{E(!1)},Ne=(D,ee)=>L===W?!0:T(D,ee),at=()=>F!=null&&F.operators?F.operators:h.filter(D=>D.type.indexOf(I)!=-1||D.type=="all"),rt=()=>L==W?{"aria-level":g.level,"aria-posinset":g.posinset,"aria-setsize":g.setsize}:{},it=D=>t.createElement(Y,{conditionState:{property:O,operator:q,value:H},onChange:ce,config:F,"data-name":"valueField",parentRef:D,type:I});return t.createElement("div",{className:R(`${o}__condition-block`,{[`${o}__condition__deletion-preview`]:z},{[`${o}__gap-bottom`]:L==W},{[`${o}__gap ${o}__gap-bottom`]:L==ue},{[`${o}__condition--interacting`]:N}),role:"row","aria-label":G,...rt(),tabIndex:-1,onMouseEnter:X,onMouseLeave:Te,onBlur:Te},s?t.createElement(Ee,{className:`${o}__gap`,operator:s,onChange:D=>l==null?void 0:l(D)}):"",u&&t.createElement(M,{label:d.statement,title:U,"data-name":"connectorField",popOverClassName:`${o}__gap`,className:`${o}__statement-button`,tabIndex:0},t.createElement(oe,{conditionState:{value:d.statement,label:U},onChange:Se,config:{options:f,isStatement:!0}})),t.createElement(M,{label:V??(i==null?void 0:i.property),title:te,renderIcon:P??void 0,className:`${o}__property-field`,"data-name":"propertyField",condition:i,type:I,onChange:Ce},t.createElement(oe,{conditionState:{value:O,label:te},onChange:Ce,config:{options:_==null?void 0:_.properties}})),me(O)&&t.createElement(M,{label:q,title:ae,"data-name":"operatorField",condition:i,type:I,onChange:Q},t.createElement(oe,{config:{options:at()},conditionState:{value:q,label:ae},onChange:Q})),me(O)&&me(q)&&t.createElement(M,{label:H,type:I,title:V,showToolTip:!0,"data-name":"valueField",condition:i,config:F,onChange:ce,renderChildren:it}),t.createElement("span",{role:"gridcell","aria-label":k},t.createElement(ne,{hideLabel:!0,label:k,onClick:a,onMouseEnter:qe,onMouseLeave:pe,onFocus:qe,onBlur:pe,renderIcon:jn,className:`${o}__close-condition`,"data-name":"closeCondition",wrapperClassName:`${o}__close-condition-wrapper`})),Ne(c,d.conditions)&&t.createElement(ke,{onClick:()=>{m==null||m(c)},addConditionSubGroupHandler:()=>{w==null||w(c)},showConditionSubGroupPreviewHandler:C,hideConditionSubGroupPreviewHandler:y,enableSubGroup:L==W,showConditionPreviewHandler:v,hideConditionPreviewHandler:A,className:`${o}__gap ${o}__gap-left`}))};$e.propTypes={addConditionHandler:n.func,addConditionSubGroupHandler:n.func,aria:n.object,condition:n.object,conditionIndex:n.number,conjunction:n.string,group:n.object,hideConditionPreviewHandler:n.func,hideConditionSubGroupPreviewHandler:n.func,isLastCondition:n.func,isStatement:n.bool,onChange:n.func,onConnectorOperatorChange:n.func,onRemove:n.func,onStatementChange:n.func,showConditionPreviewHandler:n.func,showConditionSubGroupPreviewHandler:n.func,state:n.object};$e.__docgenInfo={description:"",methods:[],displayName:"ConditionBlock",props:{condition:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"},{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},description:"",type:{name:"object"}},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:"callback for Remove a condition",type:{name:"func"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(condition: Condition) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"},{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},name:"condition"}],return:{name:"void"}}},description:"callback to update the current condition of the state tree",type:{name:"func"}},onConnectorOperatorChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(op: string) => void",signature:{arguments:[{type:{name:"string"},name:"op"}],return:{name:"void"}}},description:"callback to handle the connector(and/or) change",type:{name:"func"}},onStatementChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(v: string) => void",signature:{arguments:[{type:{name:"string"},name:"v"}],return:{name:"void"}}},description:"callback to handle the statement(if/ excl.if) change",type:{name:"func"}},addConditionHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"(conditionIndex: number) => void",signature:{arguments:[{type:{name:"number"},name:"conditionIndex"}],return:{name:"void"}}},description:"callback to add a new condition",type:{name:"func"}},addConditionSubGroupHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"(conditionIndex: number) => void",signature:{arguments:[{type:{name:"number"},name:"conditionIndex"}],return:{name:"void"}}},description:"callback to add a new condition subgroup",type:{name:"func"}},hideConditionSubGroupPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for hiding sub group preview",type:{name:"func"}},showConditionSubGroupPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for showing sub group preview",type:{name:"func"}},hideConditionPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for hiding sub group preview",type:{name:"func"}},showConditionPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for showing add condition preview",type:{name:"func"}},conjunction:{required:!1,tsType:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},description:"string that decides to show the condition connector",type:{name:"string"}},isStatement:{required:!1,tsType:{name:"boolean"},description:"boolean that decides to show the statement(if/ excl.if)",type:{name:"bool"}},group:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}},description:"object that hold the current group object where is condition is part of",type:{name:"object"}},conditionIndex:{required:!1,tsType:{name:"number"},description:"",type:{name:"number"}},aria:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  level: number;
  posinset: number;
  setsize?: number;
}`,signature:{properties:[{key:"level",value:{name:"number",required:!0}},{key:"posinset",value:{name:"number",required:!0}},{key:"setsize",value:{name:"number",required:!1}}]}},description:"object hold aria attributes",type:{name:"object"}},isLastCondition:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  index: number,
  conditions: (ConditionGroup | Condition)[]
) => void`,signature:{arguments:[{type:{name:"number"},name:"index"},{type:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]"},name:"conditions"}],return:{name:"void"}}},description:"",type:{name:"func"}},state:{description:"object that hold the current condition",type:{name:"object"},required:!1}}};const Oe=({previewType:e,group:a,colorIndex:r})=>{const[i,s]=b.useState(!1),[l,u,d,p]=K(["valueText","operatorText","propertyText","ifText"]);b.useEffect(()=>{s(!0)},[]);const c=()=>t.createElement("div",{className:`${o}__preview-condition`},t.createElement(M,{label:l,renderIcon:gt}),t.createElement(M,{label:u}),t.createElement(M,{label:d}));return t.createElement(t.Fragment,null,e=="newGroup"&&t.createElement(t.Fragment,null,t.createElement("div",{className:R([`${o}__group__row ${o}__group-preview `,{[`${o}__group-preview-animate`]:i}])},t.createElement(M,{className:`${o}__statement-button`,label:a.groupOperator})),t.createElement("div",{"data-color-index":r,"aria-hidden":!0,className:R([`${o}__group ${o}__condition-wrapper ${o}__group-preview ${o}__group-wrapper `,{[`${o}__group-preview-animate`]:i}])},t.createElement("div",{className:`${o}__gap`},t.createElement(M,{className:`${o}__statement-button`,label:p})),c())),e=="subGroup"&&t.createElement("div",{className:R([`${o}__group__row ${o}__group-preview ${o}__gap-bottom`,{[`${o}__group-preview-animate`]:i}])},t.createElement("div",{className:`${o}__condition-block  ${o}__gap`},t.createElement(M,{label:a.groupOperator,className:`${o}__statement-button`,popOverClassName:`${o}__gap`}),t.createElement("div",{className:`${o}__group ${o}__condition-wrapper`},t.createElement(Ee,{className:`${o}__gap ${o}__groupConnector`,operator:p}),c()))),e=="condition"&&t.createElement("div",{className:R([`${o}__group__row ${o}__group-preview ${o}__gap-bottom`,{[`${o}__group-preview-animate`]:i}])},t.createElement("div",{className:`${o}__condition-block  ${o}__gap`},t.createElement(M,{label:a.groupOperator,className:`${o}__statement-button`,popOverClassName:`${o}__gap`}),c())))};Oe.propTypes={colorIndex:n.number,group:n.object,previewType:n.oneOf(["condition","subGroup","newGroup"])};Oe.__docgenInfo={description:"",methods:[],displayName:"ConditionPreview",props:{previewType:{required:!1,tsType:{name:"union",raw:"'newGroup' | 'subGroup' | 'condition'",elements:[{name:"literal",value:"'newGroup'"},{name:"literal",value:"'subGroup'"},{name:"literal",value:"'condition'"}]},description:"type of review to be displayed",type:{name:"enum",value:[{value:"'condition'",computed:!1},{value:"'subGroup'",computed:!1},{value:"'newGroup'",computed:!1}]}},group:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}},description:"current conditional group",type:{name:"object"}},colorIndex:{required:!1,tsType:{name:"number"},description:"index of the color for next group",type:{name:"number"}}}};const Be=({group:e,aria:a,onRemove:r,onChange:i,className:s})=>{const[l,u,d]=K(["conditionBuilderGroupText","conditionText","conditionBuilderText"]),{statementConfig:p}=Le(),{variant:c,conditionBuilderRef:m}=b.useContext(J),[w,g]=b.useState(-1),[y,C]=b.useState(-1);b.useState(!1);const A=b.useRef(null),v=(k,f,h)=>{var j;if(e&&e.conditions&&e.conditions.length>1)if(c==W?_(f):q(f,h),T(e.conditions,k)){const P=e.conditions.filter(I=>k!==I.id);if((P==null?void 0:P[0]).conditions){const I=P[0];P.splice(0,1,...I==null?void 0:I.conditions)}i==null||i({...e,conditions:P})}else{const P=(j=e==null?void 0:e.conditions)==null?void 0:j.reduce((I,F)=>{const V=F;return V.conditions?I.concat(V.conditions):I},[]);i==null||i({...e,conditions:P})}else r==null||r(f)},T=(k,f)=>k.find(h=>!h.conditions&&h.id!==f),O=(k,f)=>{const h=[...e!=null&&e.conditions?e.conditions.slice(0,f):[],k,...e!=null&&e.conditions?e.conditions.slice(f+1):[]];i==null||i({...e,conditions:h,id:(e==null?void 0:e.id)??x()})},H=k=>{const f={property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:x()};i==null||i({...e,conditions:[...e.conditions?e.conditions.slice(0,k+1):[],f,...e.conditions?e.conditions.slice(k+1):[]]})},q=(k,f)=>{var j;const h=(j=k.currentTarget.closest(`.${o}__group`))==null?void 0:j.querySelectorAll('[data-name="closeCondition"]');f==h.length-1?Z(h[f-1],m):Z(h[f+1],m)},_=k=>{var I,F,V,xe,Y,X,Te,Se,Ce;const f=(F=(I=k.currentTarget)==null?void 0:I.closest('[role="row"]'))==null?void 0:F.getAttribute("aria-level"),h=(xe=(V=k.currentTarget)==null?void 0:V.closest('[role="row"]'))==null?void 0:xe.getAttribute("aria-posinset"),j=(Y=A.current)==null?void 0:Y.querySelector(`[aria-level="${f}"][aria-posinset="${Number(h)+1}"]`),P=(X=A.current)==null?void 0:X.querySelector(`[aria-level="${f}"][aria-posinset="${Number(h)-1}"]`);if(j!=null&&j.classList.contains(`${o}__condition-block`))Z(j==null?void 0:j.querySelector('[data-name="closeCondition"]'),m);else if(P!=null&&P.classList.contains(`${o}__condition-block`))Z(P==null?void 0:P.querySelector('[data-name="closeCondition"]'),m);else{const Q=(Te=A.current)==null?void 0:Te.querySelectorAll(`[aria-level="${Number(f)-1}"][role="row"]`),ce=(Se=A.current)==null?void 0:Se.querySelector(`[aria-level="${Number(f)+1}"][role="row"]`);if(ce){const qe={ariaLevel:Number(ce.ariaLevel)-1,ariaPosInSet:ce.ariaPosInSet};setTimeout(()=>{var Ne;const pe=(Ne=A.current)==null?void 0:Ne.querySelector(`[role="row"][aria-level="${qe.ariaLevel}"][aria-posinset="${qe.ariaPosInSet}"]`);Z(pe==null?void 0:pe.querySelector('[data-name="closeCondition"]'),m)},0)}else Q!=null&&Q.length&&Q.length>1&&Z((Ce=Q[Q.length-2])==null?void 0:Ce.querySelector('[data-name="closeCondition"]'),m)}},L=k=>{i({...e,conditions:[...e.conditions?e.conditions.slice(0,k+1):[],{statement:"ifAll",groupOperator:"and",conditions:[{property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:x()}],id:x()},...e.conditions?e.conditions.slice(k+1):[]]})},$=(k,f)=>k+1>=f.length||f.length-1!=k&&f[k+1].conditions,z=k=>{C(k)},E=()=>{C(-1)},N=k=>{g(k)},S=()=>{g(-1)},G=k=>{var h;const f=(h=p.find(j=>j.id==k))==null?void 0:h.connector;i({...e,groupOperator:f,statement:k})},U=k=>{i({...e,groupOperator:k})},te=()=>{var k;return t.createElement("div",{className:`${s}  eachGroup`},t.createElement("div",{className:`${o}__condition-wrapper`,role:"grid","aria-label":d},(k=e==null?void 0:e.conditions)==null?void 0:k.map((f,h)=>{var j;return t.createElement("div",{key:f.id,className:`${o}__group-wrapper`},t.createElement($e,{conjunction:h>0?e.groupOperator:void 0,aria:{level:a.level+1,posinset:h+1,setsize:(j=e==null?void 0:e.conditions)==null?void 0:j.length},isStatement:h==0,condition:f,group:e,conditionIndex:h,onChange:P=>{O(P,h)},addConditionHandler:H,onRemove:P=>{v(f.id,P,h)},onConnectorOperatorChange:U,onStatementChange:G,isLastCondition:$}))})))},ae=()=>{var k;return t.createElement("div",{className:`${s} ${o}__condition-wrapper`,role:a.level===1?"rowgroup":void 0,"aria-label":a.level==1?l:void 0,ref:A},t.createElement("div",{tabIndex:0,role:"row","aria-level":a.level,"aria-posinset":a.posinset,"aria-setsize":a.setsize},t.createElement(M,{label:e.statement,title:u,"data-name":"connectorField",popOverClassName:`${o}__gap`,className:`${o}__statement-button`},t.createElement(oe,{conditionState:{value:e.statement,label:u},onChange:(f,h)=>{Ae(h,m),G(f)},config:{options:p,isStatement:!0}}))),(k=e==null?void 0:e.conditions)==null?void 0:k.map((f,h)=>{var j,P;return t.createElement(b.Fragment,{key:f.id},f.conditions?t.createElement("div",{className:R(`${o}__condition-block subgroup  ${o}__gap`,{[`${o}__gap-bottom`]:e&&e.conditions&&e.conditions.length<h+1},{})},t.createElement(Ee,{className:`${o}__gap ${o}__gap-bottom ${o}__groupConnector`,operator:e.groupOperator,"aria-hidden":!0}),t.createElement(Be,{aria:{level:a.level+1,posinset:h+1,setsize:((j=e.conditions)==null?void 0:j.length)??0},className:`${o}__group`,group:f,onChange:I=>{O(I,h)},onRemove:I=>{v(f.id,I,h)}})):t.createElement("div",null,t.createElement($e,{conjunction:h>0?e.groupOperator:void 0,aria:{level:a.level+1,posinset:h+1,setsize:((P=e.conditions)==null?void 0:P.length)??0},isStatement:!1,condition:f,group:e,conditionIndex:h,addConditionHandler:H,addConditionSubGroupHandler:L,onChange:I=>{O(I,h)},onRemove:I=>{v(f.id,I,h)},onConnectorOperatorChange:U,onStatementChange:G,showConditionSubGroupPreviewHandler:()=>{z(h)},hideConditionSubGroupPreviewHandler:E,showConditionPreviewHandler:()=>{N(h)},hideConditionPreviewHandler:S,isLastCondition:$})),h==y&&t.createElement(Oe,{previewType:"subGroup",group:e}),h==w&&t.createElement(Oe,{previewType:"condition",group:e}))}))};return t.createElement(t.Fragment,null,c==W&&ae(),c==ue&&te())};Be.propTypes={aria:n.object,className:n.string,group:n.object,onChange:n.func,onRemove:n.func};Be.__docgenInfo={description:"",methods:[],displayName:"ConditionGroupBuilder",props:{group:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}},description:"",type:{name:"object"}},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:"call back to remove the particular group from the state tree",type:{name:"func"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(group: ConditionGroup) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}},name:"group"}],return:{name:"void"}}},description:"callback to update the current condition of the state tree",type:{name:"func"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},aria:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  level: number;
  posinset: number;
  setsize: number;
}`,signature:{properties:[{key:"level",value:{name:"number",required:!0}},{key:"posinset",value:{name:"number",required:!0}},{key:"setsize",value:{name:"number",required:!0}}]}},description:"object contains the aria attributes",type:{name:"object"}}}};const nt=()=>{const{rootState:e,setRootState:a}=b.useContext(J),[r]=K(["conditionText"]),{connectorConfig:i}=Le(),s=l=>{a({...e,operator:l})};return t.createElement("div",{className:`${o}__group-separator ${o}__group-separator-row`,role:"row",tabIndex:-1,"aria-level":1},t.createElement(M,{label:e.operator,title:r,"data-name":"connectorField",popOverClassName:`${o}__gap`,className:`${o}__statement-button`},t.createElement(oe,{conditionState:{value:e.operator,label:r},onChange:s,config:{options:i}})))};nt.__docgenInfo={description:"",methods:[],displayName:"GroupConnector"};const en=({actions:e,className:a})=>{const{actionState:r=[],setActionState:i}=b.useContext(J),[s,l]=b.useState(-1),[u,d,p,c,m,w]=K(["actionsText","then","and","removeActionText","addActionText","actionSectionText"]),g=()=>{const T={id:x(),label:void 0,popoverToOpen:"valueField"};i==null||i([...r,T])},y=(T,O)=>{const q={...e.find(_=>_.id===T),id:r[O].id};i==null||i([...r.slice(0,O),q,...r.slice(O+1)])},C=T=>{i==null||i(r.filter(O=>O.id!==T))},A=T=>{l(T)},v=()=>{l(-1)};return t.createElement("div",{className:a},t.createElement(Ke,{className:`${o}__heading`,level:4},t.createElement(Ue,null,u)),t.createElement("div",{className:`${o}__condition-wrapper`,role:"grid","aria-label":w},r==null?void 0:r.map((T,O)=>t.createElement("div",{key:T.id,role:"row",className:R(`${o}__condition-block ${o}__gap ${o}__gap-bottom`,{[`${o}__condition__deletion-preview`]:s==O})},t.createElement(M,{className:`${o}__statement-button`,tabIndex:0,popOverClassName:`${o}__gap`,label:O===0?d:p}),t.createElement(M,{label:T.label,title:u,condition:T,"data-name":"valueField",type:"option"},t.createElement(De,{conditionState:{value:T.label},onChange:H=>y(H.id,O),config:{options:e}})),t.createElement("span",{role:"gridcell","aria-label":c},t.createElement(ne,{hideLabel:!0,label:c,onClick:()=>C(T.id),onMouseEnter:()=>A(O),onMouseLeave:v,onFocus:()=>A(O),onBlur:v,renderIcon:jn,className:`${o}__close-condition`,"data-name":"closeCondition"})),r.length===O+1&&t.createElement(ke,{onClick:g,className:`${o}__gap ${o}__gap-left`,buttonLabel:m,tabIndex:0}))),r.length===0&&t.createElement(ke,{onClick:g,className:`${o}__gap ${o}__gap-left`,buttonLabel:m,tabIndex:0})))};en.propTypes={actions:n.arrayOf(n.shape({id:n.oneOfType([n.string,n.number]).isRequired,label:n.string.isRequired})),className:n.string};en.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderActions",props:{actions:{required:!1,tsType:{name:"union",raw:"Action[] | Option[]",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"}]},description:"optional array of object that give the list of actions.",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!0},label:{name:"string",required:!0}}}}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}}}};const nn=({startConditionLabel:e,getConditionState:a,getActionsState:r,initialState:i,actions:s})=>{var E;const{rootState:l,setRootState:u,variant:d,actionState:p}=b.useContext(J),c=b.useRef(i!=null&&i.state?JSON.parse(JSON.stringify(i==null?void 0:i.state)):null),[m,w]=b.useState(!1),[g,y]=b.useState(!1),[C,A,v]=K(["addConditionGroupText","conditionHeadingText","conditionBuilderHierarchicalText"]),T=()=>{y(!0)},O=()=>{y(!1)};b.useEffect(()=>{var N;(N=l==null?void 0:l.groups)!=null&&N.length?w(!0):w(!1),a&&a(l??{})},[l]),b.useEffect(()=>{r==null||r(p??[])},[p]),b.useEffect(()=>{i!=null&&i.enabledDefault&&(u==null||u(i.state))},[i]);const H=()=>{var N,S;w(!0),(S=(N=c==null?void 0:c.current)==null?void 0:N.groups)!=null&&S.length?(u==null||u(c.current),c.current=null):u==null||u(xt)},q=b.useCallback(N=>{var G;const S=(G=l==null?void 0:l.groups)==null?void 0:G.filter(U=>N!==(U==null?void 0:U.id));u==null||u({...l,groups:l?S:[]}),(S==null?void 0:S.length)===0&&(c.current=null)},[u,l]),_=(N,S)=>{if(l&&l.groups){const G=[...l.groups?l.groups.slice(0,S):[],N,...l.groups?l.groups.slice(S+1):[]];u==null||u({...l,groups:G})}},L=()=>{const N={statement:"ifAll",groupOperator:"and",id:x(),conditions:[{property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:x()}]};u==null||u({...l,groups:l&&l.groups?[...l.groups,N]:[N]})},$=()=>{var S;return(((S=l==null?void 0:l.groups)==null?void 0:S.length)??0)%5};if(!m)return t.createElement(Gn,{className:`${o}__addConditionText-button`,renderIcon:N=>t.createElement(zn,{...N}),iconDescription:e,kind:"ghost",size:"sm",onClick:H},e);const z=d===W?{role:"treegrid","aria-label":v}:null;return t.createElement(t.Fragment,null,t.createElement(Ke,{className:`${o}__heading`,level:4},t.createElement(Ue,null,A)),t.createElement("div",{className:`${o}__content-container`,...z},l&&((E=l==null?void 0:l.groups)==null?void 0:E.map((N,S)=>t.createElement("div",{key:N.id,className:`${o}__group-wrapper`},t.createElement(Be,{className:`${o}__group`,aria:{level:1,posinset:S*2+1,setsize:(l.groups&&l.groups.length*2)??0},group:N,onRemove:()=>{q(N.id)},onChange:G=>{_(G,S)}}),l.groups&&S<l.groups.length-1&&t.createElement(nt,null)))),d==W&&t.createElement("div",{role:"row",tabIndex:-1,"aria-level":1,className:`${o}__add-group`},t.createElement(ne,{renderIcon:Zn,onClick:L,onMouseEnter:T,onMouseLeave:O,onFocus:T,onBlur:O,className:`${o}__add-condition-group `,hideLabel:!0,label:C,wrapperProps:{role:"gridcell","aria-label":C}})),g&&t.createElement(Oe,{previewType:"newGroup",colorIndex:$(),group:{groupOperator:l==null?void 0:l.operator,id:x()}})),s&&t.createElement(en,{actions:s,className:`${o}__actions-container`}))};nn.propTypes={actions:n.arrayOf(n.shape({id:n.oneOfType([n.string,n.number]).isRequired,label:n.string.isRequired})),getActionsState:n.func,getConditionState:n.func.isRequired,initialState:n.shape({state:n.shape({groups:n.arrayOf(n.shape({groupOperator:n.string,statement:n.string,conditions:n.arrayOf(n.oneOfType([n.shape({property:n.string,operator:n.string,value:n.oneOfType([n.string,n.arrayOf(n.shape({id:n.string,label:n.string})),n.shape({id:n.string,label:n.string})])}),n.object]))})),operator:n.string}),enabledDefault:n.bool}),startConditionLabel:n.string.isRequired};nn.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderContent",props:{startConditionLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},getConditionState:{required:!0,tsType:{name:"signature",type:"function",raw:"(state: ConditionBuilderState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},name:"state"}],return:{name:"void"}}},description:"This is a callback function that returns the updated state",type:{name:"func"}},getActionsState:{required:!1,tsType:{name:"signature",type:"function",raw:"(state: Action[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},name:"state"}],return:{name:"void"}}},description:"callback functions that will provide the updated action state back.",type:{name:"func"}},initialState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  state: ConditionBuilderState;
  enabledDefault?: boolean;
}`,signature:{properties:[{key:"state",value:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]},required:!0}},{key:"enabledDefault",value:{name:"boolean",required:!1}}]}},description:"Optional prop if the condition building need to start from a predefined initial state",type:{name:"shape",value:{state:{name:"shape",value:{groups:{name:"arrayOf",value:{name:"shape",value:{groupOperator:{name:"string",required:!1},statement:{name:"string",required:!1},conditions:{name:"arrayOf",value:{name:"union",value:[{name:"shape",value:{property:{name:"string",required:!1},operator:{name:"string",required:!1},value:{name:"union",value:[{name:"string"},{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}},{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}],required:!1}}},{name:"object"}]},required:!1}}},required:!1},operator:{name:"string",required:!1}},required:!1},enabledDefault:{name:"bool",required:!1}}}},actions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},description:"optional array of object that give the list of actions.",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!0},label:{name:"string",required:!0}}}}}}};const tn="ConditionBuilder";let le=t.forwardRef(({className:e,inputConfig:a,startConditionLabel:r="Add Condition",popOverSearchThreshold:i,getOptions:s,initialState:l,getConditionState:u,getActionsState:d,variant:p=ue,actions:c,translateWithId:m,...w},g)=>{const y=b.useRef(null),C=g||y,A=v=>{St(v,C,p)};return t.createElement(Ze,{inputConfig:a,popOverSearchThreshold:i,getOptions:s,variant:p,translateWithId:m,conditionBuilderRef:C},t.createElement("div",{...w,className:R(o,e,{}),ref:C,...yt(tn)},t.createElement(Ot,{className:`${o}__${p}`,onKeyDown:A},t.createElement(nn,{startConditionLabel:r,getConditionState:u,getActionsState:d,initialState:l,actions:c}))))});le=Hn.checkComponentEnabled(le,tn);le.displayName=tn;le.propTypes={actions:n.arrayOf(n.shape({id:n.oneOfType([n.string,n.number]).isRequired,label:n.string.isRequired})),className:n.string,getActionsState:n.func,getConditionState:n.func.isRequired,getOptions:n.func,initialState:n.shape({state:n.shape({groups:n.arrayOf(n.shape({groupOperator:n.string,statement:n.string,conditions:n.arrayOf(n.oneOfType([n.shape({property:n.string,operator:n.string,value:n.oneOfType([n.string,n.arrayOf(n.shape({id:n.string,label:n.string})),n.shape({id:n.string,label:n.string})])}),n.object]))})),operator:n.string}),enabledDefault:n.bool}),inputConfig:n.shape({properties:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired,icon:n.oneOfType([n.func,n.object]),type:n.oneOf(["text","textarea","number","date","option","time","custom"]).isRequired,config:n.shape({options:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired,icon:n.oneOfType([n.func,n.object])})),component:n.func,operators:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired}))})}))}).isRequired,popOverSearchThreshold:n.number.isRequired,startConditionLabel:n.string,translateWithId:n.func,variant:n.oneOf(["Non-Hierarchical","Hierarchical"])};le.__docgenInfo={description:"TODO: A description of the component.",methods:[],displayName:"ConditionBuilder",props:{inputConfig:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  properties: Property[];
}`,signature:{properties:[{key:"properties",value:{name:"Array",elements:[{name:"intersection",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
} & (
  | PropertyConfig['option']
  | PropertyConfig['text']
  | PropertyConfig['number']
  | PropertyConfig['date']
  | PropertyConfig['textarea']
  | PropertyConfig['time']
  | PropertyConfig['custom']
)`,elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}},{name:"unknown"}]}],raw:"Property[]",required:!0}}]}},description:"This is a mandatory prop that defines the input to the condition builder.",type:{name:"shape",value:{properties:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'textarea'",computed:!1},{value:"'number'",computed:!1},{value:"'date'",computed:!1},{value:"'option'",computed:!1},{value:"'time'",computed:!1},{value:"'custom'",computed:!1}],required:!0},config:{name:"shape",value:{options:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1}}},required:!1},component:{name:"func",required:!1},operators:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0}}},required:!1}},required:!1}}},required:!1}}}},initialState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  state: ConditionBuilderState;
  enabledDefault?: boolean;
}`,signature:{properties:[{key:"state",value:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]},required:!0}},{key:"enabledDefault",value:{name:"boolean",required:!1}}]}},description:`Optional prop if you want to pass a saved condition state, pass as "initialState.state".
"initialState.enabledDefault" will populate the builder with the provided initial state before clicking Add Condition button.

 This state should respect the structure of condition state that is available in getConditionState callback`,type:{name:"shape",value:{state:{name:"shape",value:{groups:{name:"arrayOf",value:{name:"shape",value:{groupOperator:{name:"string",required:!1},statement:{name:"string",required:!1},conditions:{name:"arrayOf",value:{name:"union",value:[{name:"shape",value:{property:{name:"string",required:!1},operator:{name:"string",required:!1},value:{name:"union",value:[{name:"string"},{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}},{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}],required:!1}}},{name:"object"}]},required:!1}}},required:!1},operator:{name:"string",required:!1}},required:!1},enabledDefault:{name:"bool",required:!1}}}},getActionsState:{required:!1,tsType:{name:"signature",type:"function",raw:"(state: Action[] | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"Action[] | undefined",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},{name:"undefined"}]},name:"state"}],return:{name:"void"}}},description:"This is a callback that gives back the updated action state",type:{name:"func"}},getConditionState:{required:!0,tsType:{name:"signature",type:"function",raw:"(state: ConditionBuilderState | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"ConditionBuilderState | undefined",elements:[{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},{name:"undefined"}]},name:"state"}],return:{name:"void"}}},description:"This is a callback that gives back updated condition state",type:{name:"func"}},getOptions:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  state: ConditionBuilderState,
  condition: Condition
) => Promise<Option[]>`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},name:"state"},{type:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"},{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},name:"condition"}],return:{name:"Promise",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}],raw:"Option[]"}],raw:"Promise<Option[]>"}}},description:`This is a callback that get triggered when  you want to dynamically fetch options.
 Component call this when the option array is not passed against a property with type as option in the input config.
This is an asynchronous callback that can return a promise , and you need to resolve the promise with options array in the valid format.
You will receive the root condition state and current condition as the 2 arguments.
eg: const getOptions = async (conditionState,condition) => {
  switch (condition.property) {
    case 'continent':
      return new Promise((resolve) => {
        const continents=[{
      label: 'Africa',
      id: 'Africa',
    },...]
          resolve(continents);
      });
      default:
      return [];
  }
};`,type:{name:"func"}},actions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},description:"optional array of actions",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!0},label:{name:"string",required:!0}}}}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},popOverSearchThreshold:{required:!0,tsType:{name:"number"},description:"Provide an mandatory numeric value that will be used to enable search option in the popovers with list.",type:{name:"number"}},startConditionLabel:{required:!1,tsType:{name:"string"},description:"Provide a label to the button that starts condition builder",defaultValue:{value:"'Add Condition'",computed:!1},type:{name:"string"}},variant:{required:!1,tsType:{name:"union",raw:"'Non-Hierarchical' | 'Hierarchical'",elements:[{name:"literal",value:"'Non-Hierarchical'"},{name:"literal",value:"'Hierarchical'"}]},description:"Provide the condition builder variant: Non-Hierarchical/ Hierarchical",defaultValue:{value:"'Non-Hierarchical'",computed:!1},type:{name:"enum",value:[{value:"'Non-Hierarchical'",computed:!1},{value:"'Hierarchical'",computed:!1}]}},translateWithId:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => string",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"string"}}},description:`Optional prop, if you need to pass translations to the texts on the component instead of the defined defaults.
This callback function will receive the message id and you need to return the corresponding text for that id.
The message id will be one of [   "ifText","addConditionText",   "addConditionGroupText",   "addSubgroupText",   "conditionText",   "propertyText",   "operatorText",   "valueText",   "connectorText",   "conditionRowText","conditionRowGroupText","conditionBuilderText","actionSectionText",   "removeConditionText",   "addConditionRowText",   "startText",   "endText",   "clearSearchText",   "actionsText",   "then",   "removeActionText",   "addActionText",   "invalidText",  "invalidNumberWarnText"]
]`,type:{name:"func"}}}};function un(e){const a={a:"a",h1:"h1",h2:"h2",li:"li",ul:"ul",...Pn(),...e.components};return B.jsxs(B.Fragment,{children:[B.jsx(a.h1,{id:"conditionbuilder",children:"ConditionBuilder"}),`
`,B.jsx(a.h2,{id:"table-of-contents",children:"Table of Contents"}),`
`,B.jsxs(a.ul,{children:[`
`,B.jsx(a.li,{children:B.jsx(a.a,{href:"#overview",children:"Overview"})}),`
`,B.jsx(a.li,{children:B.jsx(a.a,{href:"#example-usage",children:"Example usage"})}),`
`,B.jsx(a.li,{children:B.jsx(a.a,{href:"#component-api",children:"Component API"})}),`
`]}),`
`,B.jsx(a.h2,{id:"overview",children:"Overview"}),`
`,`
`,B.jsx(a.h2,{id:"example-usage",children:"Example usage"}),`
`,`
`,B.jsx(lt,{children:B.jsx(st,{of:re})}),`
`,B.jsx(a.h2,{id:"code-sample",children:"Code sample"}),`
`,`
`,B.jsx(a.h2,{id:"component-api",children:"Component API"}),`
`,B.jsx(ut,{})]})}function Lt(e={}){const{wrapper:a}={...Pn(),...e.components};return a?B.jsx(a,{...e,children:B.jsx(un,{...e})}):un(e)}const Dt="",an=({onChange:e,conditionState:a})=>{const r=i=>{e(i.target.value)};return t.createElement("div",{className:"custom-component"},t.createElement(Ln,{labelText:"labelText",hideLabel:!0,value:a.value??"",id:"customInput",onChange:r}))};an.propTypes={conditionState:n.object,onChange:n.func};an.__docgenInfo={description:"",methods:[],displayName:"CustomInput",props:{conditionState:{description:"current condition state",type:{name:"object"},required:!1},onChange:{description:"This function need to be called that provides a label which should be shown in the condition after a user has made their selection / set their value",type:{name:"func"},required:!1}}};const Bt=[["AF","Afghanistan"],["AX","Åland Islands"],["AL","Albania"],["DZ","Algeria"],["AS","American Samoa"],["AD","Andorra"],["AO","Angola"],["AI","Anguilla"],["AQ","Antarctica"],["AG","Antigua & Barbuda"],["AR","Argentina"],["AM","Armenia"],["AW","Aruba"],["AC","Ascension Island"],["AU","Australia"],["AT","Austria"],["AZ","Azerbaijan"],["BS","Bahamas"],["BH","Bahrain"],["BD","Bangladesh"],["BB","Barbados"],["BY","Belarus"],["BE","Belgium"],["BZ","Belize"],["BJ","Benin"],["BM","Bermuda"],["BT","Bhutan"],["BO","Bolivia"],["BA","Bosnia & Herzegovina"],["BW","Botswana"],["BV","Bouvet Island"],["BR","Brazil"],["IO","British Indian Ocean Territory"],["VG","British Virgin Islands"],["BN","Brunei"],["BG","Bulgaria"],["BF","Burkina Faso"],["BI","Burundi"],["KH","Cambodia"],["CM","Cameroon"],["CA","Canada"],["IC","Canary Islands"],["CV","Cape Verde"],["BQ","Caribbean Netherlands"],["KY","Cayman Islands"],["CF","Central African Republic"],["EA","Ceuta & Melilla"],["TD","Chad"],["CL","Chile"],["CN","China"],["CX","Christmas Island"],["CP","Clipperton Island"],["CC","Cocos (Keeling) Islands"],["CO","Colombia"],["KM","Comoros"],["CG","Congo - Brazzaville"],["CD","Congo - Kinshasa"],["CK","Cook Islands"],["CR","Costa Rica"],["CI","Côte d'Ivoire"],["HR","Croatia"],["CU","Cuba"],["CW","Curaçao"],["CY","Cyprus"],["CZ","Czechia"],["DK","Denmark"],["DG","Diego Garcia"],["DJ","Djibouti"],["DM","Dominica"],["DO","Dominican Republic"],["EC","Ecuador"],["EG","Egypt"],["SV","El Salvador"],["GQ","Equatorial Guinea"],["ER","Eritrea"],["EE","Estonia"],["SZ","Eswatini"],["ET","Ethiopia"],["EU","European Union"],["FK","Falkland Islands"],["FO","Faroe Islands"],["FJ","Fiji"],["FI","Finland"],["FR","France"],["GF","French Guiana"],["PF","French Polynesia"],["TF","French Southern Territories"],["GA","Gabon"],["GM","Gambia"],["GE","Georgia"],["DE","Germany"],["GH","Ghana"],["GI","Gibraltar"],["GR","Greece"],["GL","Greenland"],["GD","Grenada"],["GP","Guadeloupe"],["GU","Guam"],["GT","Guatemala"],["GG","Guernsey"],["GN","Guinea"],["GW","Guinea-Bissau"],["GY","Guyana"],["HT","Haiti"],["HM","Heard & McDonald Islands"],["HN","Honduras"],["HK","Hong Kong SAR China"],["HU","Hungary"],["IS","Iceland"],["IN","India"],["ID","Indonesia"],["IR","Iran"],["IQ","Iraq"],["IE","Ireland"],["IM","Isle of Man"],["IL","Israel"],["IT","Italy"],["JM","Jamaica"],["JP","Japan"],["JE","Jersey"],["JO","Jordan"],["KZ","Kazakhstan"],["KE","Kenya"],["KI","Kiribati"],["XK","Kosovo"],["KW","Kuwait"],["KG","Kyrgyzstan"],["LA","Laos"],["LV","Latvia"],["LB","Lebanon"],["LS","Lesotho"],["LR","Liberia"],["LY","Libya"],["LI","Liechtenstein"],["LT","Lithuania"],["LU","Luxembourg"],["MO","Macao SAR China"],["MG","Madagascar"],["MW","Malawi"],["MY","Malaysia"],["MV","Maldives"],["ML","Mali"],["MT","Malta"],["MH","Marshall Islands"],["MQ","Martinique"],["MR","Mauritania"],["MU","Mauritius"],["YT","Mayotte"],["MX","Mexico"],["FM","Micronesia"],["MD","Moldova"],["MC","Monaco"],["MN","Mongolia"],["ME","Montenegro"],["MS","Montserrat"],["MA","Morocco"],["MZ","Mozambique"],["MM","Myanmar (Burma)"],["NA","Namibia"],["NR","Nauru"],["NP","Nepal"],["NL","Netherlands"],["NC","New Caledonia"],["NZ","New Zealand"],["NI","Nicaragua"],["NE","Niger"],["NG","Nigeria"],["NU","Niue"],["NF","Norfolk Island"],["KP","North Korea"],["MK","North Macedonia"],["MP","Northern Mariana Islands"],["NO","Norway"],["OM","Oman"],["PK","Pakistan"],["PW","Palau"],["PS","Palestinian Territories"],["PA","Panama"],["PG","Papua New Guinea"],["PY","Paraguay"],["PE","Peru"],["PH","Philippines"],["PN","Pitcairn Islands"],["PL","Poland"],["PT","Portugal"],["PR","Puerto Rico"],["QA","Qatar"],["RE","Réunion"],["RO","Romania"],["RU","Russia"],["RW","Rwanda"],["BL","St. Barthélemy"],["SH","St. Helena"],["KN","St. Kitts & Nevis"],["LC","St. Lucia"],["MF","St. Martin"],["PM","St. Pierre & Miquelon"],["VC","St. Vincent & Grenadines"],["WS","Samoa"],["SM","San Marino"],["ST","São Tomé & Príncipe"],["SA","Saudi Arabia"],["SN","Senegal"],["RS","Serbia"],["SC","Seychelles"],["SL","Sierra Leone"],["SG","Singapore"],["SX","Sint Maarten"],["SK","Slovakia"],["SI","Slovenia"],["SB","Solomon Islands"],["SO","Somalia"],["ZA","South Africa"],["GS","South Georgia & South Sandwich Islands"],["KR","South Korea"],["SS","South Sudan"],["ES","Spain"],["LK","Sri Lanka"],["SD","Sudan"],["SR","Suriname"],["SJ","Svalbard & Jan Mayen"],["SE","Sweden"],["CH","Switzerland"],["SY","Syria"],["TW","Taiwan"],["TJ","Tajikistan"],["TZ","Tanzania"],["TH","Thailand"],["TL","Timor-Leste"],["TG","Togo"],["TK","Tokelau"],["TO","Tonga"],["TT","Trinidad & Tobago"],["TA","Tristan da Cunha"],["TN","Tunisia"],["TR","Turkey"],["TM","Turkmenistan"],["TC","Turks & Caicos Islands"],["TV","Tuvalu"],["UG","Uganda"],["UA","Ukraine"],["AE","United Arab Emirates"],["GB","United Kingdom"],["UN","United Nations"],["US","United States"],["UM","U.S. Outlying Islands"],["VI","U.S. Virgin Islands"],["UY","Uruguay"],["UZ","Uzbekistan"],["VU","Vanuatu"],["VA","Vatican City"],["VE","Venezuela"],["VN","Vietnam"],["WF","Wallis & Futuna"],["EH","Western Sahara"],["YE","Yemen"],["ZM","Zambia"],["ZW","Zimbabwe"]],Ht=["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson",`cyan
(synonym of aqua)`,"darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","transparent","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple"],Gt=[{label:"is greater than",id:"greater"},{label:"is greater than or equal to",id:"greaterEqual"}],we={properties:[{id:"continent",label:"Continent",icon:Dn,type:"option",config:{options:[{label:"Africa",id:"Africa"},{label:"Antarctica",id:"Antarctica"},{label:"Asia",id:"Asia"},{label:"Australia",id:"Australia"},{label:"Europe",id:"Europe"}]}},{id:"region",label:"Region",icon:Bn,type:"option",config:{options:Bt.map(([e,a])=>({id:e,label:a,icon:()=>t.createElement("span",null,String.fromCodePoint(...[...e].map(r=>127397+r.charCodeAt(0))))}))}},{id:"color",label:"Color",icon:$n,type:"option",config:{options:Ht.map(e=>({id:e,label:e,icon:()=>t.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},t.createElement("rect",{x:"0",y:"0",width:"12",height:"12",rx:"1",fill:e}))}))}},{id:"id",label:"ID",icon:Re,type:"text",config:{}},{id:"id_long",label:"Id Long",icon:Re,type:"textarea",config:{}},{id:"price",label:"Price",icon:Mn,type:"number",config:{min:0,step:1,unit:"Dollars"}},{id:"date",label:"Date",icon:Pe,type:"date",config:{}},{id:"time",label:"Time",icon:Pe,type:"time",config:{timeZones:["IST","CET","UTC","LOCAL"]}},{id:"delivery",label:"Delivery",icon:Rn,type:"option",config:{options:[{label:"Processing",id:"Processing"},{label:"Preparing for dispatch",id:"Preparing for dispatch"},{label:"Dispatched",id:"Dispatched"},{label:"In delivery",id:"In delivery"},{label:"Delivered",id:"Delivered"}]}},{id:"season",label:"Season",icon:Vn,type:"option",config:{options:[{label:"Winter",id:"Winter"},{label:"Spring",id:"Spring"},{label:"Summer",id:"Summer"},{label:"Fall",id:"Fall"}]}},{id:"product",label:"Product",icon:Fn,type:"custom",config:{component:an,operators:Gt}}]},Mt={properties:[{id:"continent",label:"Continent",icon:Dn,type:"option",config:{}},{id:"region",label:"Region",icon:Bn,type:"option",config:{}},{id:"color",label:"Color",icon:$n,type:"option",config:{}},{id:"id",label:"ID",icon:Re,type:"text",config:{}},{id:"price",label:"Price",icon:Mn,type:"number",config:{min:0,step:1,unit:"Dollars"}},{id:"date",label:"Date",icon:Pe,type:"date",config:{}},{id:"time",label:"Time",icon:Pe,type:"time",config:{timeZones:["IST","CET","UTC","LOCAL"]}},{id:"product",label:"Product",icon:Fn,type:"text",config:{}},{id:"delivery",label:"Delivery",icon:Rn,type:"option",config:{options:[{label:"Processing",id:"Processing"},{label:"Preparing for dispatch",id:"Preparing for dispatch"},{label:"Dispatched",id:"Dispatched"},{label:"In delivery",id:"In delivery"},{label:"Delivered",id:"Delivered"}]}},{id:"season",label:"Season",icon:Vn,type:"option",config:{options:[{label:"Winter",id:"Winter"},{label:"Spring",id:"Spring"},{label:"Summer",id:"Summer"},{label:"Fall",id:"Fall"}]}}]},Rt={operator:"or",groups:[{groupOperator:"and",statement:"ifAll",id:x(),conditions:[{property:"continent",operator:"is",value:{label:"Africa",id:"Africa"},id:x()},{property:"region",operator:"oneOf",value:[{label:"Algeria",id:"DZ"},{label:"Andorra",id:"AD"}],id:x()},{statement:"unlessAll",groupOperator:"and",conditions:[{property:"delivery",operator:"is",value:{label:"Delivered",id:"Delivered"},id:x()},{property:"id",operator:"startsWith",value:"#delivered",id:x()}],id:x()},{statement:"ifAny",groupOperator:"or",conditions:[{property:"season",operator:"is",value:{label:"Summer",id:"Summer"},id:x()},{property:"season",operator:"is",value:{label:"Fall",id:"Fall"},id:x()}],id:x()}]},{statement:"ifAll",groupOperator:"and",id:x(),conditions:[{property:"delivery",operator:"oneOf",value:[{label:"Processing",id:"Processing"},{label:"Preparing for dispatch",id:"Preparing for dispatch"}],id:x()},{statement:"ifAll",groupOperator:"and",conditions:[{property:"price",operator:"greater",value:"50 Dollars",id:x()},{property:"id",operator:"is",value:"#proccessing",id:x()}],id:x()}]}]},Ft={groups:[{groupOperator:"and",statement:"ifAll",id:x(),conditions:[{property:"continent",operator:"is",value:{label:"Asia",id:"Asia"},id:x()},{property:"region",operator:"oneOf",value:[{label:"Afghanistan",id:"AF"},{label:"India",id:"IN"}],id:x()},{property:"date",operator:"between",value:["2024-12-04T18:30:00.000Z","2024-12-18T18:30:00.000Z"],id:x()},{property:"season",operator:"is",value:{label:"Fall",id:"Fall"},id:x()}]}],operator:"or"},Da={title:"Experimental/Components/ConditionBuilder",component:le,tags:["autodocs"],parameters:{layout:"fullscreen",styles:Dt,docs:{page:Lt}}},Vt=()=>[{label:"Africa",id:"Africa"},{label:"Antarctica",id:"Antarctica"},{label:"Asia",id:"Asia"},{label:"Australia",id:"Australia"},{label:"Europe",id:"Europe"}],Wt=()=>[{label:"Afghanistan",id:"AF",icon:Ie},{label:"Albania",id:"AL",icon:Ie},{label:"Algeria",id:"AG",icon:Ie},{label:"Andorra",id:"AN",icon:Ie}],zt=()=>[{label:"black",id:"black"},{label:"silver",id:"silver"},{label:"gray",id:"gray"},{label:"white",id:"white"},{label:"maroon",id:"maroon"},{label:"red",id:"red"},{label:"purple",id:"purple"},{label:"fuchsia",id:"fuchsia"},{label:"green",id:"green"},{label:"lime",id:"lime"},{label:"olive",id:"olive"},{label:"yellow",id:"yellow"},{label:"navy",id:"navy"},{label:"blue",id:"blue"},{label:"teal",id:"teal"},{label:"aqua",id:"aqua"}],Kt=async(e,{property:a})=>{switch(a){case"continent":return new Promise(r=>{setTimeout(()=>{r(Vt())},2e3)});case"region":return new Promise(r=>{setTimeout(()=>{r(Wt())},2e3)});case"color":return new Promise(r=>{setTimeout(()=>{r(zt())},2e3)});default:return[]}},Ut={startConditionLabel:"Add condition",popOverSearchThreshold:4,getConditionState:e=>{console.log(e)}},tt=[{id:x(),label:"Add item to cart"},{id:x(),label:"Proceed item to checkout"}],Zt=e=>({ifText:"if",addConditionText:"Add condition",addConditionGroupText:"Add condition group",addSubgroupText:"Add subgroup"})[e],de=e=>{const a=b.useRef(void 0);return t.createElement(le,{...e,ref:a,...Ut})},re=de.bind({});re.storyName="Condition Builder";re.args={inputConfig:we,variant:ue};const ge=de.bind({});ge.storyName="With dynamic options";ge.args={inputConfig:Mt,getOptions:Kt,variant:ue};const ye=de.bind({});ye.storyName="With initial state";ye.args={initialState:{state:Ft,enabledDefault:!0},inputConfig:we,variant:ue,translateWithId:Zt};const fe=de.bind({});fe.storyName="With Actions";fe.args={inputConfig:we,variant:ue,actions:tt,getActionsState:e=>{console.log("action state",e)}};const ve=de.bind({});ve.storyName="Condition Builder (Hierarchical)";ve.args={inputConfig:we,variant:W};const be=de.bind({});be.storyName="With initial state (Hierarchical)";be.args={initialState:{state:Rt,enabledDefault:!1},inputConfig:we,variant:W};const he=de.bind({});he.storyName="With Actions (Hierarchical)";he.args={inputConfig:we,variant:W,actions:tt,getActionsState:e=>{}};var dn,cn,pn,mn,gn;re.parameters={...re.parameters,docs:{...(dn=re.parameters)==null?void 0:dn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(pn=(cn=re.parameters)==null?void 0:cn.docs)==null?void 0:pn.source},description:{story:`TODO: Declare one or more stories, generally one per design scenario.
NB no need for a 'Playground' because all stories have all controls anyway.`,...(gn=(mn=re.parameters)==null?void 0:mn.docs)==null?void 0:gn.description}}};var yn,fn,vn;ge.parameters={...ge.parameters,docs:{...(yn=ge.parameters)==null?void 0:yn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(vn=(fn=ge.parameters)==null?void 0:fn.docs)==null?void 0:vn.source}}};var bn,hn,wn;ye.parameters={...ye.parameters,docs:{...(bn=ye.parameters)==null?void 0:bn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(wn=(hn=ye.parameters)==null?void 0:hn.docs)==null?void 0:wn.source}}};var Tn,Cn,qn;fe.parameters={...fe.parameters,docs:{...(Tn=fe.parameters)==null?void 0:Tn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(qn=(Cn=fe.parameters)==null?void 0:Cn.docs)==null?void 0:qn.source}}};var An,kn,On;ve.parameters={...ve.parameters,docs:{...(An=ve.parameters)==null?void 0:An.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(On=(kn=ve.parameters)==null?void 0:kn.docs)==null?void 0:On.source}}};var _n,En,xn;be.parameters={...be.parameters,docs:{...(_n=be.parameters)==null?void 0:_n.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(xn=(En=be.parameters)==null?void 0:En.docs)==null?void 0:xn.source}}};var Sn,Nn,In;he.parameters={...he.parameters,docs:{...(Sn=he.parameters)==null?void 0:Sn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(In=(Nn=he.parameters)==null?void 0:Nn.docs)==null?void 0:In.source}}};const Ba=["conditionBuilder","conditionBuilderDynamicOptions","conditionBuilderWithInitialState","conditionBuilderWithActions","conditionBuilderHierarchical","conditionBuilderWithInitialStateHierarchical","conditionBuilderWithActionsHierarchical"];export{Ba as __namedExportsOrder,re as conditionBuilder,ge as conditionBuilderDynamicOptions,ve as conditionBuilderHierarchical,fe as conditionBuilderWithActions,he as conditionBuilderWithActionsHierarchical,ye as conditionBuilderWithInitialState,be as conditionBuilderWithInitialStateHierarchical,Da as default};
