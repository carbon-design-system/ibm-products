import{r as e,p as v,u as F,W as z,g as K,eJ as M,eK as U,f as V,eL as W,e as y,c as T,P as r,B as A,m as J}from"./iframe-Cx5KSUkN.js";import{g as X}from"./devtools-CqSmu32c.js";import{u as Y}from"./index-_jMLRox9.js";import{m as G}from"./makeDraggable-DVDwDKbH.js";import{d as Q}from"./bucket-6-CTMsIO5l.js";import{u as Z}from"./useIsomorphicEffect-Bv6TiHW8.js";const $=e.createContext({open:!1,setOpen:()=>{},align:"bottom",triggerRef:{current:null},position:{x:0,y:0},contentRef:null,setContentRef:m=>{},floating:!1}),q=`${v.prefix}--coachmark__next`;/**
 * @license
 *
 * Copyright IBM Corp. 2025
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */const S=e.forwardRef((m,l)=>{const{children:f,align:C,target:o,className:R,dropShadow:w=!0,highContrast:d=!1,caret:k=!1,open:a,...s}=m,{theme:i}=Y(),h=F(),c=e.useRef(null),u=e.useRef(null),p=e.useRef(null);if(e.useLayoutEffect(()=>{if(o){if(typeof o=="string"){if(o==="#"||o.trim()==="")return;p.current=document.querySelector(o)}else"current"in o?p.current=o.current:p.current=o;if(p.current&&c.current&&u.current&&a){p.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const t=[z(10),K(),M({padding:5}),U({element:u.current})],g=V(p.current,c.current,()=>{p.current&&c.current&&W(p.current,c.current,{placement:C,strategy:"fixed",middleware:t}).then(({x:n,y:b,placement:E,middlewareData:x})=>{c.current&&Object.assign(c.current.style,{left:`${n}px`,top:`${b}px`});const D=x.arrow?.x,H=x.arrow?.y,L={top:"bottom",right:"left",bottom:"top",left:"right"}[E.split("-")[0]];L&&u.current&&Object.assign(u.current.style,{left:D!=null?`${D}px`:"",top:H!=null?`${H}px`:"",right:"",bottom:"",[L]:"-4px"})})},{animationFrame:!0});return()=>{g()}}}},[o,a,C]),!o)return null;const N=t=>{c.current=t,typeof l=="function"?l(t):l&&(l.current=t)};return y.createElement("div",{...s,ref:N,className:T({[`${h}--g100`]:i==="white"&&d||i==="g100"&&!d,[`${h}--g90`]:i==="g10"&&d||i==="g90"&&!d,[`${h}--g10`]:i==="g90"&&d||i==="g10"&&!d,[`${h}--white`]:i==="g100"&&d||i==="white"&&!d,[`${v.prefix}__bubble`]:!0,[`${v.prefix}__bubble-open`]:a,[`${v.prefix}__bubble-drop-shadow`]:w,[`${v.prefix}__bubble-high-contrast`]:d,[`${v.prefix}__bubble-hidden`]:!p.current},R)},y.createElement("div",{ref:u,className:k?"":`${v.prefix}__bubble__arrow`}),f)});S.displayName="CoachmarkBubble";S.__docgenInfo={description:"",methods:[],displayName:"CoachmarkBubble",props:{align:{required:!1,tsType:{name:"NewPopoverAlignment"},description:"'top' | 'bottom' | 'left' | 'right' | 'top-start' | 'top-end' | 'bottom-start' | 'bottom-end' | 'left-end' | 'left-start' | 'right-end' | 'right-start';"},target:{required:!0,tsType:{name:"union",raw:"Element | RefObject<Element> | string | null | undefined",elements:[{name:"Element"},{name:"RefObject",elements:[{name:"Element"}],raw:"RefObject<Element>"},{name:"string"},{name:"null"},{name:"undefined"}]},description:"Values can range from an Element, a ref of an Element, a string which will use query selector to select an Element."},highContrast:{required:!1,tsType:{name:"boolean"},description:"Specify whether the component should be rendered on high-contrast."},dropShadow:{required:!1,tsType:{name:"boolean"},description:"Specify whether a drop shadow should be rendered on the popover."},open:{required:!0,tsType:{name:"boolean"},description:"Specifies whether the component is currently open."},caret:{required:!1,tsType:{name:"boolean"},description:"Specify whether a caret should be rendered."}},composes:["Omit"]};/**
 * @license
 *
 * Copyright IBM Corp. 2025
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */const I=({children:m,className:l,...f})=>y.createElement("header",{...f,className:T(`${v.prefix}__bubble__header`,l)},m);I.displayName="CoachmarkBubbleHeader";I.__docgenInfo={description:"",methods:[],displayName:"CoachmarkBubbleHeader",props:{children:{required:!0,tsType:{name:"ReactNode"},description:"Provide the contents of the Bubble header"},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node."}},composes:["HTMLProps"]};const B=e.forwardRef((m,l)=>{const{className:f="",children:C,highContrast:o,dropShadow:R,...w}=m,d=`${q}--coachmark-content`,k=`${q}--content-body`,{align:a,open:s,setOpen:i,triggerRef:h,setContentRef:c,floating:u}=e.useContext($),p=s?h?.current?.id:null,N=e.useRef(null),t=l||N;return e.useEffect(()=>{s&&"current"in t&&t.current&&requestAnimationFrame(()=>{const g=t.current?.querySelector(`.${k}`);g&&Array.from(g.querySelectorAll("*")).find(b=>b.tabIndex>=0)?.focus()})},[s]),e.useEffect(()=>{const g=b=>{const E=document.getElementById(p||""),x=t&&"current"in t?t.current:null;x&&!x.contains(b.target)&&E&&!E.contains(b.target)&&i?.(!1)},n=b=>{b.key==="Escape"&&i?.(!1)};return s&&(document.addEventListener("click",g),window.addEventListener("keydown",n)),()=>{document.removeEventListener("click",g),window.removeEventListener("keydown",n)}},[s,p,i]),e.useEffect(()=>{if(s&&"current"in t&&t.current){const g=t.current.querySelector(`.${v.prefix}__bubble`);g instanceof HTMLElement&&c(g)}},[s,t]),s&&y.createElement("div",{ref:t},y.createElement(S,{className:T(d,f),highContrast:o,dropShadow:R,align:a,open:s,target:`#${p}`,caret:u,...w},C))});B.propTypes={children:r.node,className:r.string,dropShadow:r.bool,highContrast:r.bool};B.__docgenInfo={description:"",methods:[],displayName:"CoachmarkContent",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},children:{required:!1,tsType:{name:"union",raw:"ReactElement | ReactNode",elements:[{name:"ReactElement"},{name:"ReactNode"}]},description:`This is a required callback that has to return the content to render in the body section.
It can be a single child or an array of children depending on your need`,type:{name:"node"}},highContrast:{required:!1,tsType:{name:"boolean"},description:"Specify whether the component should be rendered on high-contrast.",type:{name:"bool"}},dropShadow:{required:!1,tsType:{name:"boolean"},description:"Specify whether a drop shadow should be rendered on the popover.",type:{name:"bool"}}}};const P=e.forwardRef((m,l)=>{const{className:f="",closeIconDescription:C,dragIconDescription:o,children:R,...w}=m,{setOpen:d,onClose:k,contentRef:a,floating:s}=e.useContext($),i=e.useRef(null),h=e.useRef(null),c=l||i,u=`${q}--content-header`,p=()=>{k?.(),d(!1)};return e.useEffect(()=>{if(s&&a&&typeof c=="object"&&c!==null&&"current"in c&&c.current&&h.current){G({el:a,dragHandle:c.current,focusableDragHandle:h.current});const N=()=>{a&&(a.classList.add(`${u}--is-dragging`),a.setAttribute("aria-label","Coachmark is being dragged"))},t=()=>{a&&(a.classList.remove(`${u}--is-dragging`),a.removeAttribute("aria-label"))};a.addEventListener("dragstart",N),a.addEventListener("dragend",t)}}),y.createElement(I,{ref:c,className:T(u,f),...w},s&&y.createElement(A,{kind:"ghost",size:"sm",ref:h,renderIcon:Q,iconDescription:o,hasIconOnly:!0,className:`${u}--drag-icon`}),R,y.createElement(A,{kind:"ghost",size:"sm",renderIcon:J,iconDescription:C,hasIconOnly:!0,onClick:p}))});P.propTypes={children:r.node,className:r.string,closeIconDescription:r.string,dragIconDescription:r.string};P.__docgenInfo={description:"",methods:[],displayName:"ContentHeader",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"}},dragIconDescription:{required:!1,tsType:{name:"string"},description:"Tooltip text and aria label for the Drag button icon.",type:{name:"string"}},children:{required:!1,tsType:{name:"string"},description:"Optional contents of the Coachmark Header.",type:{name:"node"}}}};const O=e.forwardRef((m,l)=>{const{className:f="",children:C,...o}=m,R=`${q}--content-body`;return y.createElement("div",{ref:l,className:T(R,f)},C)});O.propTypes={children:r.node.isRequired,className:r.string};O.__docgenInfo={description:"",methods:[],displayName:"ContentBody",props:{children:{required:!0,tsType:{name:"ReactNode"},description:`Provide the optional content for header section and will be render after header titles and before progress indicator.
People can make use of this if they want to have custom header.`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}}}};const j="Coachmark",_=e.forwardRef((m,l)=>{const{children:f,className:C,onClose:o,align:R="bottom",open:w,position:d={x:0,y:0},floating:k,...a}=m,s=e.useRef(null),i=e.useRef(null),[h,c]=e.useState(null),[u,p]=e.useState(!1),N=n=>{n||o?.(),w===void 0&&p(n)},t=w??u;e.useEffect(()=>{const n=i.current;if(!n)return;const E=Array.from(n.querySelectorAll("*")).find(x=>x.tabIndex>=0&&!x.hasAttribute("disabled"));E&&(s.current=E)},[f]),e.useEffect(()=>{const n=s.current;n&&n.setAttribute("aria-expanded",String(!!w))},[w]),Z(()=>{const{x:n=0,y:b=0}=d??{},E=i.current;E&&(n!==0||b!==0)&&(E.style.transform=`translate(${n}px, ${b}px)`)},[d]);const g=n=>{i.current=n,typeof l=="function"?l(n):l&&(l.current=n)};return y.createElement($.Provider,{value:{onClose:o,open:t,setOpen:N,align:R,triggerRef:s,position:d,contentRef:h,setContentRef:c,floating:k}},y.createElement("div",{...a,className:T(q,C,{[`${q}--floating`]:k}),ref:g,...X(j)},y.createElement("div",{className:`${q}--container`},f)))});_.Content=B;_.Content.Header=P;_.Content.Body=O;_.displayName=j;_.propTypes={align:r.string,children:r.node.isRequired,className:r.string,floating:r.bool,onClose:r.func,open:r.bool,position:r.shape({x:r.number,y:r.number})};_.__docgenInfo={description:`Coachmarks are used to call out specific functionality or concepts
within the UI that may not be intuitive but are important for the
user to gain understanding of the product's main value and discover new use cases.`,methods:[],displayName:"Coachmark",props:{children:{required:!0,tsType:{name:"ReactNode"},description:"Provide the contents of the Coachmark.",type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},open:{required:!1,tsType:{name:"boolean"},description:"Specifies whether the component is currently open.",type:{name:"bool"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Function to call when the close button is clicked.",type:{name:"func"}},align:{required:!1,tsType:{name:"NewPopoverAlignment"},description:"Where to render the Coachmark relative to its target.",type:{name:"string"}},position:{required:!1,tsType:{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},description:"Fine tune the position of the target in pixels.",type:{name:"shape",value:{x:{name:"number",required:!1},y:{name:"number",required:!1}}}},floating:{required:!1,tsType:{name:"boolean"},description:"Specifies whether the component is floating or not.",type:{name:"bool"}}}};export{_ as C};
