import{b as I}from"./index-CMVdkQrl.js";import{p as x}from"./settings-C3kz8lqM.js";import{r as u}from"./index-DtHxqM--.js";const L=(s,i)=>{const c=s==null?void 0:s.querySelector(i);return i&&!(c!=null&&c.disabled)?c:null},j=(s,i)=>{var l,y,$,p;const c=I(),q=`${x.prefix}--tearsheet`,f=`${x.prefix}--side-panel`,o=`:not(.${c}--visually-hidden,.${q}__header--no-close-icon,.${c}--btn--disabled,[aria-hidden="true"],[tabindex="-1"],[disabled])`,b=`button${o}`,g=`input${o}`,S=`select${o}`,k=`textarea${o}`,w=`[href]${o}`,C=`a${o}`,T=`[tabindex="0"]${o}`,D=`.${f}--scrolls`,a=`${b},${w},${C},${g},${S},${k},${T},${D}`,n=u.useCallback(()=>{var d;let t=(d=s==null?void 0:s.current)==null?void 0:d.querySelectorAll(`${a}`);t!=null&&t.length&&(t=Array.prototype.filter.call(t,F=>{var h;return((h=window==null?void 0:window.getComputedStyle(F))==null?void 0:h.display)!=="none"}));const e=t==null?void 0:t[0],r=t==null?void 0:t[(t==null?void 0:t.length)-1],K=t,P=L(s==null?void 0:s.current,i);return{first:e,last:r,all:K,specified:P}},[s,a,i]);u.useEffect(()=>{n()},[n,s]);const A=async t=>{if(t.key==="Tab"){const{first:e,last:r}=n();t.shiftKey&&(document==null?void 0:document.activeElement)===e?(t.preventDefault(),r==null||r.focus()):!t.shiftKey&&(document==null?void 0:document.activeElement)===r&&(t.preventDefault(),e==null||e.focus())}},B=u.useCallback(()=>{var r;const{first:t,specified:e}=n();e&&((r=window==null?void 0:window.getComputedStyle(e))==null?void 0:r.display)!=="none"&&(e==null?void 0:e.tabIndex)!==-1?setTimeout(()=>e.focus(),0):setTimeout(()=>t==null?void 0:t.focus(),0)},[n]);return{firstElement:(l=n())==null?void 0:l.first,lastElement:(y=n())==null?void 0:y.last,allElements:($=n())==null?void 0:$.all,specifiedElement:(p=n())==null?void 0:p.specified,keyDownListener:A,getFocusable:n,claimFocus:B}};export{L as g,j as u};
