import { Story, ArgsTable, Source, Canvas } from '@storybook/addon-docs';
import {
  getStoryId,
  CodesandboxLink,
} from '../../global/js/utils/story-helper';
import { CreateModal } from '.';

# CreateModal

[Carbon create flows guidelines](https://www.carbondesignsystem.com/community/patterns/create-flows/#modal)

## Table of Contents

- [Overview](#overview)
- [Example usage](#example-usage)
- [Form validation](#form-validation)
- [Component API](#component-api)

## Overview

The `CreateModal` component provides a way for a user to quickly generate a new
resource. It is triggered by a userâ€™s action, appears on top of the main page
content, and is persistent until dismissed. The purpose of this modal should be
immediately apparent to the user, with a clear and obvious path to completion.

## Example usage

Here it is in use.

<Canvas>
  <Story id={getStoryId(CreateModal.displayName, 'with-form-validation')} />
</Canvas>

## Form validation

All forms, including that within the `CreateModal` should follow C&CS guidelines
for form validation.

This includes the following:

- The `Submit` button in the modal should be disabled, until all required inputs
  are filled in and valid
- All required inputs should _only_ throw an invalid error _after_ the element
  loses focus
- All optional form fields should have an `(optional)` text at the end of the
  input `labelText`. Optional should always be in parentheses

You can find more information on how to validate your form fields in
[Carbon's Form usage page](https://www.carbondesignsystem.com/components/form/usage).

### Overriding the Carbon theme

The design recommendation is to use a dark theme for the CreateModal if the
application is currently using a light theme, and vice versa. The theme applied
to the CreateModal can easily be customized as follows:

In SCSS:

```SCSS
  .#{$pkg-prefix}--create-modal {
    @include carbon--theme(
      $theme: $carbon--theme--g90
    );
  }
```

Alternatively, the required Carbon theme can be set as above in a custom CSS
class which is then applied to the CreateModal using the `className` prop.

## Code sample

<CodesandboxLink exampleDirectory="CreateModal" />

## Component API

<ArgsTable />
