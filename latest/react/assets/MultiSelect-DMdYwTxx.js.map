{"version":3,"file":"MultiSelect-DMdYwTxx.js","sources":["../../../../node_modules/react-fast-compare/index.js","../../../../node_modules/@carbon/react/es/components/MultiSelect/MultiSelectPropTypes.js","../../../../node_modules/@carbon/react/es/components/MultiSelect/tools/sorting.js","../../../../node_modules/@carbon/react/es/internal/Selection.js","../../../../node_modules/@carbon/react/es/components/MultiSelect/MultiSelect.js"],"sourcesContent":["/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.3\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    // START: Modifications:\n    // Apply guards for `Object.create(null)` handling. See:\n    // - https://github.com/FormidableLabs/react-fast-compare/issues/64\n    // - https://github.com/epoberezkin/fast-deep-equal/issues/49\n    if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === 'function' && typeof b.valueOf === 'function') return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString && typeof a.toString === 'function' && typeof b.toString === 'function') return a.toString() === b.toString();\n    // END: Modifications\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport PropTypes from 'prop-types';\n\nconst sortingPropTypes = {\n  /**\n   * Provide a compare function that is used to determine the ordering of\n   * options. `compareItems` has the following function signature:\n   *\n   * compareFunction :\n   *  (itemA: string, itemB: string, { locale: string }) => number\n   */\n  compareItems: PropTypes.func,\n  /**\n   * Provide a method that sorts all options in the control. Overriding this\n   * prop means that you also have to handle the sort logic for selected versus\n   * un-selected items. If you just want to control ordering, consider the\n   * `compareItems` prop instead.\n   *\n   * `sortItems` has the following signature:\n   *\n   * sortItems :\n   *   (items: Array<Item>, {\n   *     selectedItems: Array<Item>,\n   *     itemToString: Item => string,\n   *     compareItems: (itemA: string, itemB: string, {\n   *       locale: string\n   *     }) => number,\n   *     locale: string,\n   *   }) => Array<Item>\n   */\n  sortItems: PropTypes.func\n};\n\nexport { sortingPropTypes };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Use the locale `localeCompare` with the `numeric` option to sort two\n * alpha-numeric strings.\n *\n * @param {string} itemA - The first string to compare.\n * @param {string} itemB - The second string to compare.\n * @param {object} options - Options for comparing.\n * @param {string} options.locale - The locale to use for comparison.\n * @returns {number} A negative number if itemA comes before itemB, a positive\n *   number if itemA comes after itemB, or 0 if they are equal.\n */\nconst defaultCompareItems = (itemA, itemB, {\n  locale\n}) => itemA.localeCompare(itemB, locale, {\n  numeric: true\n});\n\n/**\n * Default sorting algorithm for options in a selection control\n */\nconst defaultSortItems = (items, {\n  selectedItems = [],\n  itemToString,\n  compareItems,\n  locale = 'en'\n}) => {\n  return items.sort((itemA, itemB) => {\n    // Always place \"select all\" option at the beginning\n    if (itemA.isSelectAll) return -1;\n    if (itemB.isSelectAll) return 1;\n    const hasItemA = selectedItems.includes(itemA);\n    const hasItemB = selectedItems.includes(itemB);\n    if (hasItemA && !hasItemB) return -1;\n    if (hasItemB && !hasItemA) return 1;\n    return compareItems(itemToString(itemA), itemToString(itemB), {\n      locale\n    });\n  });\n};\n\nexport { defaultCompareItems, defaultSortItems };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useRef, useState, useCallback, useEffect } from 'react';\nimport isEqual from 'react-fast-compare';\n\nconst callOnChangeHandler = ({\n  isControlled,\n  isMounted,\n  onChangeHandlerControlled,\n  onChangeHandlerUncontrolled,\n  selectedItems\n}) => {\n  if (isControlled) {\n    if (isMounted && onChangeHandlerControlled) {\n      // Use setTimeout to defer the controlled onChange call,\n      // avoiding React’s warning: \"Cannot update a component while rendering a different component\".\n      // This ensures the parent state updates after rendering completes.\n      setTimeout(() => {\n        onChangeHandlerControlled({\n          selectedItems\n        });\n      }, 0);\n    }\n  } else {\n    onChangeHandlerUncontrolled(selectedItems);\n  }\n};\nconst useSelection = ({\n  disabled,\n  onChange,\n  initialSelectedItems = [],\n  selectedItems: controlledItems,\n  selectAll = false,\n  filteredItems = []\n}) => {\n  const isMounted = useRef(false);\n  const savedOnChange = useRef(onChange);\n  const [uncontrolledItems, setUncontrolledItems] = useState(initialSelectedItems);\n  const isControlled = !!controlledItems;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- https://github.com/carbon-design-system/carbon/issues/20452\n  const selectedItems = isControlled ? controlledItems : uncontrolledItems;\n  const onItemChange = useCallback(item => {\n    if (disabled) return;\n\n    // Assert special properties (e.g., `disabled`, `isSelectAll`, etc.) are\n    // `any` since those properties aren’t part of the generic type.\n    const allSelectableItems = filteredItems.filter(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n    item => !item?.disabled && !item?.isSelectAll);\n    const disabledItemCount = filteredItems.filter(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n    item => item?.disabled).length;\n    let newSelectedItems;\n\n    // deselect all on click to All/indeterminate option\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n    if (item?.isSelectAll && selectedItems.length > 0) {\n      newSelectedItems = [];\n    }\n    // select all options\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n    else if (item?.isSelectAll && selectedItems.length === 0) {\n      newSelectedItems = allSelectableItems;\n    } else {\n      const selectedIndex = selectedItems.findLastIndex(selectedItem => isEqual(selectedItem, item));\n      if (selectedIndex === -1) {\n        newSelectedItems = selectedItems.concat(item);\n        // checking if all items are selected then We should select mark the 'select All' option as well\n        if (selectAll && filteredItems.length - 1 === newSelectedItems.length + disabledItemCount) {\n          newSelectedItems = allSelectableItems;\n        }\n      } else {\n        newSelectedItems = removeAtIndex(selectedItems, selectedIndex);\n        newSelectedItems = newSelectedItems.filter(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n        item => !item?.isSelectAll);\n      }\n    }\n    callOnChangeHandler({\n      isControlled,\n      isMounted: isMounted.current,\n      onChangeHandlerControlled: savedOnChange.current,\n      onChangeHandlerUncontrolled: setUncontrolledItems,\n      selectedItems: newSelectedItems\n    });\n  }, [disabled, selectedItems, filteredItems, selectAll, isControlled]);\n  const clearSelection = useCallback(() => {\n    if (disabled) return;\n    callOnChangeHandler({\n      isControlled,\n      isMounted: isMounted.current,\n      onChangeHandlerControlled: savedOnChange.current,\n      onChangeHandlerUncontrolled: setUncontrolledItems,\n      selectedItems: []\n    });\n  }, [disabled, isControlled]);\n  const toggleAll = useCallback(items => {\n    callOnChangeHandler({\n      isControlled,\n      isMounted: isMounted.current,\n      onChangeHandlerControlled: savedOnChange.current,\n      onChangeHandlerUncontrolled: setUncontrolledItems,\n      selectedItems: items\n    });\n  }, [isControlled]);\n  useEffect(() => {\n    savedOnChange.current = onChange;\n  }, [onChange]);\n  useEffect(() => {\n    if (isMounted.current && savedOnChange.current && !isControlled) {\n      savedOnChange.current({\n        selectedItems\n      });\n    }\n  }, [isControlled, selectedItems]);\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return {\n    clearSelection,\n    onItemChange,\n    toggleAll,\n    selectedItems\n  };\n};\n\n/**\n * Generic utility for safely removing an element at a given index from an\n * array.\n */\nconst removeAtIndex = (array, index) => {\n  const result = array.slice();\n  result.splice(index, 1);\n  return result;\n};\n\nexport { useSelection };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { WarningFilled, WarningAltFilled } from '@carbon/icons-react';\nimport cx from 'classnames';\nimport { useSelect } from 'downshift';\nimport isEqual from 'react-fast-compare';\nimport PropTypes from 'prop-types';\nimport React, { useMemo, useContext, useState, useLayoutEffect, useRef, isValidElement, useCallback, cloneElement } from 'react';\nimport ListBox from '../ListBox/index.js';\nimport { sortingPropTypes } from './MultiSelectPropTypes.js';\nimport { defaultSortItems, defaultCompareItems } from './tools/sorting.js';\nimport { useSelection } from '../../internal/Selection.js';\nimport { useId } from '../../internal/useId.js';\nimport { mergeRefs } from '../../tools/mergeRefs.js';\nimport { deprecate } from '../../prop-types/deprecate.js';\nimport { Delete, Escape, Space, ArrowDown, Enter } from '../../internal/keyboard/keys.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport '../FluidForm/FluidForm.js';\nimport { FormContext } from '../FluidForm/FormContext.js';\nimport Checkbox from '../Checkbox/Checkbox.js';\nimport '../Checkbox/Checkbox.Skeleton.js';\nimport { noopFn } from '../../internal/noopFn.js';\nimport { useFloating, autoUpdate, flip, size, hide } from '@floating-ui/react';\nimport { useFeatureFlag } from '../FeatureFlags/index.js';\nimport { AILabel } from '../AILabel/index.js';\nimport { defaultItemToString } from '../../internal/defaultItemToString.js';\nimport { isComponentElement } from '../../internal/utils.js';\nimport { ListBoxTypePropType, ListBoxSizePropType } from '../ListBox/ListBoxPropTypes.js';\n\nconst {\n  ItemClick,\n  ToggleButtonBlur,\n  ToggleButtonKeyDownArrowDown,\n  ToggleButtonKeyDownArrowUp,\n  ToggleButtonKeyDownEnter,\n  ToggleButtonKeyDownEscape,\n  ToggleButtonKeyDownSpaceButton,\n  ItemMouseMove,\n  MenuMouseLeave,\n  ToggleButtonClick,\n  ToggleButtonKeyDownPageDown,\n  ToggleButtonKeyDownPageUp,\n  FunctionSetHighlightedIndex\n} = useSelect.stateChangeTypes;\nconst MultiSelect = /*#__PURE__*/React.forwardRef(({\n  autoAlign = false,\n  className: containerClassName,\n  decorator,\n  id,\n  items,\n  itemToElement,\n  itemToString = defaultItemToString,\n  titleText = false,\n  hideLabel,\n  helperText,\n  label,\n  type = 'default',\n  size: size$1,\n  disabled = false,\n  initialSelectedItems = [],\n  sortItems = defaultSortItems,\n  compareItems = defaultCompareItems,\n  clearSelectionText = 'To clear selection, press Delete or Backspace',\n  clearAnnouncement = 'all items have been cleared',\n  clearSelectionDescription = 'Total items selected: ',\n  light,\n  invalid,\n  invalidText,\n  warn,\n  warnText,\n  useTitleInItem,\n  translateWithId,\n  downshiftProps,\n  open = false,\n  selectionFeedback = 'top-after-reopen',\n  onChange,\n  onMenuChange,\n  direction = 'bottom',\n  selectedItems: selected,\n  readOnly,\n  locale = 'en',\n  slug\n}, ref) => {\n  const filteredItems = useMemo(() => {\n    return items.filter(item => {\n      if (typeof item === 'object' && item !== null) {\n        for (const key in item) {\n          if (Object.hasOwn(item, key) && item[key] === undefined) {\n            return false; // Return false if any property has an undefined value\n          }\n        }\n      }\n      return true; // Return true if item is not an object with undefined values\n    });\n  }, [items]);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n  const selectAll = filteredItems.some(item => item.isSelectAll);\n  const prefix = usePrefix();\n  const {\n    isFluid\n  } = useContext(FormContext);\n  const multiSelectInstanceId = useId();\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- https://github.com/carbon-design-system/carbon/issues/20452\n  const [isFocused, setIsFocused] = useState(false);\n  const [inputFocused, setInputFocused] = useState(false);\n  const [isOpen, setIsOpen] = useState(open || false);\n  const [prevOpenProp, setPrevOpenProp] = useState(open);\n  const [topItems, setTopItems] = useState([]);\n  const [itemsCleared, setItemsCleared] = useState(false);\n  const enableFloatingStyles = useFeatureFlag('enable-v12-dynamic-floating-styles') || autoAlign;\n  const {\n    refs,\n    floatingStyles,\n    middlewareData\n  } = useFloating(enableFloatingStyles ? {\n    placement: direction,\n    // The floating element is positioned relative to its nearest\n    // containing block (usually the viewport). It will in many cases also\n    // “break” the floating element out of a clipping ancestor.\n    // https://floating-ui.com/docs/misc#clipping\n    strategy: 'fixed',\n    // Middleware order matters, arrow should be last\n    middleware: [autoAlign && flip({\n      crossAxis: false\n    }), size({\n      apply({\n        rects,\n        elements\n      }) {\n        Object.assign(elements.floating.style, {\n          width: `${rects.reference.width}px`\n        });\n      }\n    }), autoAlign && hide()],\n    whileElementsMounted: autoUpdate\n  } : {});\n  useLayoutEffect(() => {\n    if (enableFloatingStyles) {\n      const updatedFloatingStyles = {\n        ...floatingStyles,\n        visibility: middlewareData.hide?.referenceHidden ? 'hidden' : 'visible'\n      };\n      Object.keys(updatedFloatingStyles).forEach(style => {\n        if (refs.floating.current) {\n          refs.floating.current.style[style] = updatedFloatingStyles[style];\n        }\n      });\n    }\n  }, [enableFloatingStyles, floatingStyles, refs.floating, middlewareData, open]);\n  const {\n    selectedItems: controlledSelectedItems,\n    onItemChange,\n    clearSelection\n  } = useSelection({\n    disabled,\n    initialSelectedItems,\n    onChange,\n    selectedItems: selected,\n    selectAll,\n    filteredItems\n  });\n  const sortOptions = {\n    selectedItems: controlledSelectedItems,\n    itemToString,\n    compareItems,\n    locale\n  };\n  const selectProps = {\n    stateReducer,\n    isOpen,\n    itemToString: filteredItems => {\n      return Array.isArray(filteredItems) && filteredItems.map(item => {\n        return itemToString(item);\n      }).join(', ') || '';\n    },\n    selectedItem: controlledSelectedItems,\n    items: filteredItems,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars -- https://github.com/carbon-design-system/carbon/issues/20452\n    isItemDisabled(item, _index) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n      return item?.disabled;\n    },\n    ...downshiftProps\n  };\n  const {\n    getToggleButtonProps,\n    getLabelProps,\n    getMenuProps,\n    getItemProps,\n    selectedItem,\n    highlightedIndex,\n    setHighlightedIndex\n  } = useSelect(selectProps);\n  const toggleButtonProps = getToggleButtonProps({\n    onFocus: () => {\n      setInputFocused(true);\n    },\n    onBlur: () => {\n      setInputFocused(false);\n    },\n    onKeyDown: e => {\n      if (!disabled) {\n        if ((match(e, Delete) || match(e, Escape)) && !isOpen) {\n          clearSelection();\n          e.stopPropagation();\n        }\n        if (!isOpen && match(e, Delete) && selectedItems.length > 0) {\n          setItemsCleared(true);\n        }\n        if ((match(e, Space) || match(e, ArrowDown) || match(e, Enter)) && !isOpen) {\n          setHighlightedIndex(0);\n          setItemsCleared(false);\n          setIsOpenWrapper(true);\n        }\n        if (match(e, ArrowDown) && selectedItems.length === 0) {\n          setInputFocused(false);\n          setIsFocused(false);\n        }\n        if (match(e, Escape) && isOpen) {\n          setInputFocused(true);\n        }\n        if (match(e, Enter) && isOpen) {\n          setInputFocused(true);\n        }\n      }\n    }\n  });\n  const toggleButtonRef = useRef(null);\n  const mergedRef = mergeRefs(toggleButtonProps.ref, ref, toggleButtonRef);\n  const selectedItems = selectedItem;\n\n  /**\n   * wrapper function to forward changes to consumer\n   */\n  const setIsOpenWrapper = open => {\n    setIsOpen(open);\n    if (onMenuChange) {\n      onMenuChange(open);\n    }\n  };\n\n  /**\n   * programmatically control this `open` prop\n   */\n  if (prevOpenProp !== open) {\n    setIsOpenWrapper(open);\n    setPrevOpenProp(open);\n  }\n  const inline = type === 'inline';\n  const showWarning = !invalid && warn;\n  const wrapperClasses = cx(`${prefix}--multi-select__wrapper`, `${prefix}--list-box__wrapper`, containerClassName, {\n    [`${prefix}--multi-select__wrapper--inline`]: inline,\n    [`${prefix}--list-box__wrapper--inline`]: inline,\n    [`${prefix}--multi-select__wrapper--inline--invalid`]: inline && invalid,\n    [`${prefix}--list-box__wrapper--inline--invalid`]: inline && invalid,\n    [`${prefix}--list-box__wrapper--fluid--invalid`]: isFluid && invalid,\n    [`${prefix}--list-box__wrapper--slug`]: slug,\n    [`${prefix}--list-box__wrapper--decorator`]: decorator\n  });\n  const titleClasses = cx(`${prefix}--label`, {\n    [`${prefix}--label--disabled`]: disabled,\n    [`${prefix}--visually-hidden`]: hideLabel\n  });\n  const helperId = !helperText ? undefined : `multiselect-helper-text-${multiSelectInstanceId}`;\n  const fieldLabelId = `multiselect-field-label-${multiSelectInstanceId}`;\n  const helperClasses = cx(`${prefix}--form__helper-text`, {\n    [`${prefix}--form__helper-text--disabled`]: disabled\n  });\n  const className = cx(`${prefix}--multi-select`, {\n    [`${prefix}--multi-select--invalid`]: invalid,\n    [`${prefix}--multi-select--invalid--focused`]: invalid && inputFocused,\n    [`${prefix}--multi-select--warning`]: showWarning,\n    [`${prefix}--multi-select--inline`]: inline,\n    [`${prefix}--multi-select--selected`]: selectedItems && selectedItems.length > 0,\n    [`${prefix}--list-box--up`]: direction === 'top',\n    [`${prefix}--multi-select--readonly`]: readOnly,\n    [`${prefix}--autoalign`]: enableFloatingStyles,\n    [`${prefix}--multi-select--selectall`]: selectAll\n  });\n\n  // needs to be capitalized for react to render it correctly\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const ItemToElement = itemToElement;\n  if (selectionFeedback === 'fixed') {\n    sortOptions.selectedItems = [];\n  } else if (selectionFeedback === 'top-after-reopen') {\n    sortOptions.selectedItems = topItems;\n  }\n  function stateReducer(state, actionAndChanges) {\n    const {\n      changes,\n      props,\n      type\n    } = actionAndChanges;\n    const {\n      highlightedIndex\n    } = changes;\n    if (changes.isOpen && !isOpen) {\n      setTopItems(controlledSelectedItems);\n    }\n    switch (type) {\n      case ToggleButtonKeyDownSpaceButton:\n      case ToggleButtonKeyDownEnter:\n        if (changes.selectedItem === undefined) {\n          break;\n        }\n        if (Array.isArray(changes.selectedItem)) {\n          break;\n        }\n        onItemChange(changes.selectedItem);\n        return {\n          ...changes,\n          highlightedIndex: state.highlightedIndex\n        };\n      case ToggleButtonBlur:\n      case ToggleButtonKeyDownEscape:\n        setIsOpenWrapper(false);\n        break;\n      case ToggleButtonClick:\n        setIsOpenWrapper(changes.isOpen || false);\n        return {\n          ...changes,\n          highlightedIndex: controlledSelectedItems.length > 0 ? 0 : undefined\n        };\n      case ItemClick:\n        setHighlightedIndex(changes.selectedItem);\n        onItemChange(changes.selectedItem);\n        return {\n          ...changes,\n          highlightedIndex: state.highlightedIndex\n        };\n      case MenuMouseLeave:\n        return {\n          ...changes,\n          highlightedIndex: state.highlightedIndex\n        };\n      case FunctionSetHighlightedIndex:\n        if (!isOpen) {\n          return {\n            ...changes,\n            highlightedIndex: 0\n          };\n        } else {\n          return {\n            ...changes,\n            highlightedIndex: filteredItems.indexOf(highlightedIndex)\n          };\n        }\n      case ToggleButtonKeyDownArrowDown:\n      case ToggleButtonKeyDownArrowUp:\n      case ToggleButtonKeyDownPageDown:\n      case ToggleButtonKeyDownPageUp:\n        if (highlightedIndex > -1) {\n          const itemArray = document.querySelectorAll(`li.${prefix}--list-box__menu-item[role=\"option\"]`);\n          props.scrollIntoView(itemArray[highlightedIndex]);\n        }\n        if (highlightedIndex === -1) {\n          return {\n            ...changes,\n            highlightedIndex: 0\n          };\n        }\n        return changes;\n      case ItemMouseMove:\n        return {\n          ...changes,\n          highlightedIndex: state.highlightedIndex\n        };\n    }\n    return changes;\n  }\n  const multiSelectFieldWrapperClasses = cx(`${prefix}--list-box__field--wrapper`, {\n    [`${prefix}--list-box__field--wrapper--input-focused`]: inputFocused\n  });\n  const handleFocus = evt => {\n    // eslint-disable-next-line  @typescript-eslint/no-unused-expressions -- https://github.com/carbon-design-system/carbon/issues/20452\n    evt.target.classList.contains(`${prefix}--tag__close-icon`) ? setIsFocused(false) : setIsFocused(evt.type === 'focus' ? true : false);\n  };\n  const readOnlyEventHandlers = readOnly ? {\n    onClick: evt => {\n      // NOTE: does not prevent click\n      evt.preventDefault();\n      // focus on the element as per readonly input behavior\n      if (toggleButtonRef.current) {\n        toggleButtonRef.current.focus();\n      }\n    },\n    onKeyDown: evt => {\n      const selectAccessKeys = ['ArrowDown', 'ArrowUp', ' ', 'Enter'];\n      // This prevents the select from opening for the above keys\n      if (selectAccessKeys.includes(evt.key)) {\n        evt.preventDefault();\n      }\n    }\n  } : {};\n\n  // AILabel always size `mini`\n  const candidate = slug ?? decorator;\n  const candidateIsAILabel = isComponentElement(candidate, AILabel);\n  const normalizedDecorator = candidateIsAILabel ? /*#__PURE__*/cloneElement(candidate, {\n    size: 'mini'\n  }) : candidate;\n  const itemsSelectedText = selectedItems.length > 0 && selectedItems.map(item => item?.text);\n  const selectedItemsLength = selectAll ?\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n  selectedItems.filter(item => !item.isSelectAll).length : selectedItems.length;\n\n  // Memoize the value of getMenuProps to avoid an infinite loop\n  const menuProps = useMemo(() => getMenuProps({\n    ref: enableFloatingStyles ? refs.setFloating : null\n  }), [enableFloatingStyles, getMenuProps, refs.setFloating]);\n  const allLabelProps = getLabelProps();\n  const labelProps = /*#__PURE__*/isValidElement(titleText) ? {\n    id: allLabelProps.id\n  } : allLabelProps;\n  const getSelectionStats = useCallback((selectedItems, filteredItems) => {\n    const hasIndividualSelections = selectedItems.some(selected => !selected.isSelectAll);\n    const nonSelectAllSelectedCount = selectedItems.filter(selected => !selected.isSelectAll).length;\n    const totalSelectableCount = filteredItems.filter(item => !item.isSelectAll && !item.disabled).length;\n    return {\n      hasIndividualSelections,\n      nonSelectAllSelectedCount,\n      totalSelectableCount\n    };\n  },\n  // eslint-disable-next-line  react-hooks/exhaustive-deps -- https://github.com/carbon-design-system/carbon/issues/20452\n  [selectedItems, filteredItems]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapperClasses\n  }, /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: titleClasses\n  }, labelProps), titleText && titleText, selectedItems.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefix}--visually-hidden`\n  }, clearSelectionDescription, \" \", selectedItems.length, ' ', itemsSelectedText, \",\", clearSelectionText)), /*#__PURE__*/React.createElement(ListBox, {\n    onFocus: isFluid ? handleFocus : undefined,\n    onBlur: isFluid ? handleFocus : undefined,\n    type: type,\n    size: size$1,\n    className: className,\n    disabled: disabled,\n    light: light,\n    invalid: invalid,\n    invalidText: invalidText,\n    warn: warn,\n    warnText: warnText,\n    isOpen: isOpen,\n    id: id\n  }, invalid && /*#__PURE__*/React.createElement(WarningFilled, {\n    className: `${prefix}--list-box__invalid-icon`\n  }), showWarning && /*#__PURE__*/React.createElement(WarningAltFilled, {\n    className: `${prefix}--list-box__invalid-icon ${prefix}--list-box__invalid-icon--warning`\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: multiSelectFieldWrapperClasses,\n    ref: enableFloatingStyles ? refs.setReference : null\n  }, selectedItems.length > 0 && /*#__PURE__*/React.createElement(ListBox.Selection, {\n    readOnly: readOnly,\n    clearSelection: !disabled && !readOnly ? clearSelection : noopFn,\n    selectionCount: selectedItemsLength\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    ,\n    translateWithId: translateWithId,\n    disabled: disabled\n  }), /*#__PURE__*/React.createElement(\"button\", _extends({\n    type: \"button\",\n    className: `${prefix}--list-box__field`,\n    disabled: disabled,\n    \"aria-disabled\": disabled || readOnly,\n    \"aria-describedby\": !inline && !invalid && !warn && helperText ? helperId : undefined\n  }, toggleButtonProps, {\n    ref: mergedRef\n  }, readOnlyEventHandlers), /*#__PURE__*/React.createElement(\"span\", {\n    id: fieldLabelId,\n    className: `${prefix}--list-box__label`\n  }, label), /*#__PURE__*/React.createElement(ListBox.MenuIcon, {\n    isOpen: isOpen,\n    translateWithId: translateWithId\n  })), slug ? normalizedDecorator : decorator ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--list-box__inner-wrapper--decorator`\n  }, normalizedDecorator) : ''), /*#__PURE__*/React.createElement(ListBox.Menu, menuProps, isOpen &&\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- https://github.com/carbon-design-system/carbon/issues/20452\n  sortItems(filteredItems, sortOptions).map((item, index) => {\n    const {\n      hasIndividualSelections,\n      nonSelectAllSelectedCount,\n      totalSelectableCount\n    } = getSelectionStats(selectedItems, filteredItems);\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n    const isChecked = item.isSelectAll ? nonSelectAllSelectedCount === totalSelectableCount && totalSelectableCount > 0 : selectedItems.some(selected => isEqual(selected, item));\n    const isIndeterminate =\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\n    item.isSelectAll && hasIndividualSelections && nonSelectAllSelectedCount < totalSelectableCount;\n    const itemProps = getItemProps({\n      item,\n      // we don't want Downshift to set aria-selected for us\n      // we also don't want to set 'false' for reader verbosity's sake\n      ['aria-selected']: isChecked\n    });\n    const itemText = itemToString(item);\n    return /*#__PURE__*/React.createElement(ListBox.MenuItem, _extends({\n      key: itemProps.id,\n      isActive: isChecked && !item['isSelectAll'],\n      \"aria-label\": itemText,\n      isHighlighted: highlightedIndex === index,\n      title: itemText,\n      disabled: itemProps['aria-disabled']\n    }, itemProps), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${prefix}--checkbox-wrapper`\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      id: `${itemProps.id}__checkbox`,\n      labelText: itemToElement ? /*#__PURE__*/React.createElement(ItemToElement, _extends({\n        key: itemProps.id\n      }, item)) : itemText,\n      checked: isChecked,\n      title: useTitleInItem ? itemText : undefined,\n      indeterminate: isIndeterminate,\n      disabled: disabled\n    })));\n  })), itemsCleared && /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-live\": \"assertive\",\n    \"aria-label\": clearAnnouncement\n  })), !inline && !invalid && !warn && helperText && /*#__PURE__*/React.createElement(\"div\", {\n    id: helperId,\n    className: helperClasses\n  }, helperText));\n});\nMultiSelect.displayName = 'MultiSelect';\nMultiSelect.propTypes = {\n  ...sortingPropTypes,\n  /**\n   * **Experimental**: Will attempt to automatically align the floating\n   * element to avoid collisions with the viewport and being clipped by\n   * ancestor elements. Requires React v17+\n   * @see https://github.com/carbon-design-system/carbon/issues/18714\n   */\n  autoAlign: PropTypes.bool,\n  /**\n   * Provide a custom class name to be added to the outermost node in the\n   * component\n   */\n  className: PropTypes.string,\n  /**\n   * Specify the text that should be read for screen readers that describes total items selected\n   */\n  clearSelectionDescription: PropTypes.string,\n  /**\n   * Specify the text that should be read for screen readers to clear selection.\n   */\n  clearSelectionText: PropTypes.string,\n  /**\n   * Provide a compare function that is used to determine the ordering of\n   * options. See 'sortItems' for more control. Consider\n   * declaring function with `useCallback` to prevent unnecessary re-renders.\n   */\n  compareItems: PropTypes.func,\n  /**\n   * **Experimental**: Provide a decorator component to be rendered inside the `MultiSelect` component\n   */\n  decorator: PropTypes.node,\n  /**\n   * Specify the direction of the multiselect dropdown. Can be either top or bottom.\n   */\n  direction: PropTypes.oneOf(['top', 'bottom']),\n  /**\n   * Disable the control\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Additional props passed to Downshift.\n   *\n   * **Use with caution:** anything you define here overrides the components'\n   * internal handling of that prop. Downshift APIs and internals are subject to\n   * change, and in some cases they can not be shimmed by Carbon to shield you\n   * from potentially breaking changes.\n   */\n  downshiftProps: PropTypes.object,\n  /**\n   * Provide helper text that is used alongside the control label for\n   * additional help\n   */\n  helperText: PropTypes.node,\n  /**\n   * Specify whether the title text should be hidden or not\n   */\n  hideLabel: PropTypes.bool,\n  /**\n   * Specify a custom `id`\n   */\n  id: PropTypes.string.isRequired,\n  /**\n   * Allow users to pass in arbitrary items from their collection that are\n   * pre-selected\n   */\n  initialSelectedItems: PropTypes.array,\n  /**\n   * Is the current selection invalid?\n   */\n  invalid: PropTypes.bool,\n  /**\n   * If invalid, what is the error?\n   */\n  invalidText: PropTypes.node,\n  /**\n   * Function to render items as custom components instead of strings.\n   * Defaults to null and is overridden by a getter\n   */\n  itemToElement: PropTypes.func,\n  /**\n   * Helper function passed to downshift that allows the library to render a\n   * given item to a string label. By default, it extracts the `label` field\n   * from a given item to serve as the item label in the list. Consider\n   * declaring function with `useCallback` to prevent unnecessary re-renders.\n   */\n  itemToString: PropTypes.func,\n  /**\n   * We try to stay as generic as possible here to allow individuals to pass\n   * in a collection of whatever kind of data structure they prefer\n   */\n  items: PropTypes.array.isRequired,\n  /**\n   * Generic `label` that will be used as the textual representation of what\n   * this field is for\n   */\n  label: PropTypes.node.isRequired,\n  /**\n   * `true` to use the light version.\n   */\n  light: deprecate(PropTypes.bool, 'The `light` prop for `MultiSelect` has ' + 'been deprecated in favor of the new `Layer` component. It will be removed in the next major release.'),\n  /**\n   * Specify the locale of the control. Used for the default `compareItems`\n   * used for sorting the list of items in the control.\n   */\n  locale: PropTypes.string,\n  /**\n   * `onChange` is a utility for this controlled component to communicate to a\n   * consuming component what kind of internal state changes are occurring.\n   */\n  onChange: PropTypes.func,\n  /**\n   * `onMenuChange` is a utility for this controlled component to communicate to a\n   * consuming component that the menu was open(`true`)/closed(`false`).\n   */\n  onMenuChange: PropTypes.func,\n  /**\n   * Initialize the component with an open(`true`)/closed(`false`) menu.\n   */\n  open: PropTypes.bool,\n  /**\n   * Whether or not the Dropdown is readonly\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * For full control of the selected items\n   */\n  selectedItems: PropTypes.array,\n  /**\n   * Specify feedback (mode) of the selection.\n   * `top`: selected item jumps to top\n   * `fixed`: selected item stays at it's position\n   * `top-after-reopen`: selected item jump to top after reopen dropdown\n   */\n  selectionFeedback: PropTypes.oneOf(['top', 'fixed', 'top-after-reopen']),\n  /**\n   * Specify the size of the ListBox. Currently supports either `sm`, `md` or `lg` as an option.\n   */\n  size: ListBoxSizePropType,\n  slug: deprecate(PropTypes.node, 'The `slug` prop has been deprecated and will be removed in the next major version. Use the decorator prop instead.'),\n  /**\n   * Provide a method that sorts all options in the control. Overriding this\n   * prop means that you also have to handle the sort logic for selected versus\n   * un-selected items. If you just want to control ordering, consider the\n   * `compareItems` prop instead.\n   *\n   * The return value should be a number whose sign indicates the relative order\n   * of the two elements: negative if a is less than b, positive if a is greater\n   * than b, and zero if they are equal.\n   *\n   * sortItems :\n   *   (items: Array<Item>, {\n   *     selectedItems: Array<Item>,\n   *     itemToString: Item => string,\n   *     compareItems: (itemA: string, itemB: string, {\n   *       locale: string\n   *     }) => number,\n   *     locale: string,\n   *   }) => Array<Item>\n   */\n  sortItems: PropTypes.func,\n  /**\n   * Provide text to be used in a `<label>` element that is tied to the\n   * multiselect via ARIA attributes.\n   */\n  titleText: PropTypes.node,\n  /**\n   * Translates component strings using your i18n tool.\n   */\n  translateWithId: PropTypes.func,\n  /**\n   * Specify 'inline' to create an inline multi-select.\n   */\n  type: ListBoxTypePropType,\n  /**\n   * Specify title to show title on hover\n   */\n  useTitleInItem: PropTypes.bool,\n  /**\n   * Specify whether the control is currently in warning state\n   */\n  warn: PropTypes.bool,\n  /**\n   * Provide the text that is displayed when the control is in warning state\n   */\n  warnText: PropTypes.node\n};\n\nexport { MultiSelect };\n"],"names":["hasElementType","hasMap","hasSet","hasArrayBuffer","equal","a","b","length","i","keys","it","reactFastCompare","error","sortingPropTypes","PropTypes","defaultCompareItems","itemA","itemB","locale","defaultSortItems","items","selectedItems","itemToString","compareItems","hasItemA","hasItemB","callOnChangeHandler","isControlled","isMounted","onChangeHandlerControlled","onChangeHandlerUncontrolled","useSelection","disabled","onChange","initialSelectedItems","controlledItems","selectAll","filteredItems","useRef","savedOnChange","uncontrolledItems","setUncontrolledItems","useState","onItemChange","useCallback","item","allSelectableItems","disabledItemCount","newSelectedItems","selectedIndex","isEqual","selectedItem","removeAtIndex","clearSelection","toggleAll","useEffect","array","index","result","ItemClick","ToggleButtonBlur","ToggleButtonKeyDownArrowDown","ToggleButtonKeyDownArrowUp","ToggleButtonKeyDownEnter","ToggleButtonKeyDownEscape","ToggleButtonKeyDownSpaceButton","ItemMouseMove","MenuMouseLeave","ToggleButtonClick","ToggleButtonKeyDownPageDown","ToggleButtonKeyDownPageUp","FunctionSetHighlightedIndex","useSelect","MultiSelect","React","autoAlign","containerClassName","decorator","id","itemToElement","defaultItemToString","titleText","hideLabel","helperText","label","type","size$1","sortItems","clearSelectionText","clearAnnouncement","clearSelectionDescription","light","invalid","invalidText","warn","warnText","useTitleInItem","translateWithId","downshiftProps","open","selectionFeedback","onMenuChange","direction","selected","readOnly","slug","ref","useMemo","key","prefix","usePrefix","isFluid","useContext","FormContext","multiSelectInstanceId","useId","isFocused","setIsFocused","inputFocused","setInputFocused","isOpen","setIsOpen","prevOpenProp","setPrevOpenProp","topItems","setTopItems","itemsCleared","setItemsCleared","enableFloatingStyles","useFeatureFlag","refs","floatingStyles","middlewareData","useFloating","flip","size","rects","elements","hide","autoUpdate","useLayoutEffect","updatedFloatingStyles","style","controlledSelectedItems","sortOptions","selectProps","stateReducer","_index","getToggleButtonProps","getLabelProps","getMenuProps","getItemProps","highlightedIndex","setHighlightedIndex","toggleButtonProps","match","Delete","Escape","Space","ArrowDown","Enter","setIsOpenWrapper","toggleButtonRef","mergedRef","mergeRefs","inline","showWarning","wrapperClasses","cx","titleClasses","helperId","fieldLabelId","helperClasses","className","ItemToElement","state","actionAndChanges","changes","props","itemArray","multiSelectFieldWrapperClasses","handleFocus","evt","readOnlyEventHandlers","candidate","normalizedDecorator","isComponentElement","AILabel","cloneElement","itemsSelectedText","selectedItemsLength","menuProps","allLabelProps","labelProps","isValidElement","getSelectionStats","hasIndividualSelections","nonSelectAllSelectedCount","totalSelectableCount","_extends","ListBox","WarningFilled","WarningAltFilled","noopFn","isChecked","isIndeterminate","itemProps","itemText","Checkbox","deprecate","ListBoxSizePropType","ListBoxTypePropType"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}