import{e as r,u as R,r as l,i as ae,k as se,c as N,_ as re,l as I,m as ne,T as ce,n as g,o as d,E as oe,q as le,P as e,g as w,t as ie}from"./iframe-BBf3bqTv.js";import{F as ue}from"./FormContext-CW3fTVyM.js";import{S as fe}from"./bucket-15-BCSW9ZGk.js";var D;const O=r.forwardRef(({autoComplete:i="off",className:u,closeButtonLabelText:b="Clear search input",defaultValue:y,disabled:m,isExpanded:c=!0,id:K,labelText:E,light:j,onChange:$=()=>{},onClear:k=()=>{},onKeyDown:q,onExpand:a,placeholder:C="Search",renderIcon:B,role:V,size:h="md",type:_="search",value:o,...H},M)=>{const W=!!(o||y),t=R(),{isFluid:x}=l.useContext(ue),n=l.useRef(null),A=ae([M,n]),v=l.useRef(null),G=se("search-input"),f=K||G,T=`${f}-search`,[J,p]=l.useState(W||!1),[L,Q]=l.useState(o),U=N({[`${t}--search`]:!0,[`${t}--search--sm`]:h==="sm",[`${t}--search--md`]:h==="md",[`${t}--search--lg`]:h==="lg",[`${t}--search--light`]:j,[`${t}--search--disabled`]:m,[`${t}--search--fluid`]:x},u),X=N({[`${t}--search-close`]:!0,[`${t}--search-close--hidden`]:!J||!c});o!==L&&(p(!!o),Q(o));function S(){if(!o&&n.current&&(n.current.value=""),n.current){const s=Object.assign({},n.current,{value:""}),te={bubbles:!1,cancelable:!1,currentTarget:n.current,defaultPrevented:!1,eventPhase:0,isDefaultPrevented:()=>!1,isPropagationStopped:()=>!1,isTrusted:!1,nativeEvent:new Event("change"),persist:g,preventDefault:g,stopPropagation:g,target:s,timeStamp:0,type:"change"};$(te)}k(),p(!1),n.current?.focus()}function Y(s){p(s.target.value!=="")}function Z(s){d(s,ie)&&(s.stopPropagation(),n.current?.value?S():a&&c&&v.current?.focus())}function z(s){(d(s,oe)||d(s,le))&&(s.stopPropagation(),a&&a(s))}const P=r.createElement("div",{"aria-labelledby":a?T:void 0,role:a?"button":void 0,className:`${t}--search-magnifier`,onClick:a,onKeyDown:z,tabIndex:a&&!c?0:-1,ref:v,"aria-expanded":a&&c?!0:a&&!c?!1:void 0,"aria-controls":a?f:void 0},r.createElement(F,{icon:B})),ee=a&&!c?r.createElement(ce,{className:`${t}--search-tooltip ${t}--search-magnifier-tooltip`,align:"top",label:"Search"},P):P;return r.createElement("div",{role:"search","aria-label":C,className:U},ee,r.createElement("label",{id:T,htmlFor:f,className:`${t}--label`},E),r.createElement("input",re({autoComplete:i,className:`${t}--search-input`,defaultValue:y,disabled:m,role:V,ref:A,id:f,onChange:I([$,Y]),onKeyDown:I([q,Z]),placeholder:C,type:_,value:o,tabIndex:a&&!c?-1:void 0},H)),r.createElement("button",{"aria-label":b,className:X,disabled:m,onClick:S,title:b,type:"button"},D||(D=r.createElement(ne,null))))});O.displayName="Search";O.propTypes={autoComplete:e.string,className:e.string,closeButtonLabelText:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,id:e.string,isExpanded:e.bool,labelText:e.node.isRequired,light:w(e.bool),onChange:e.func,onClear:e.func,onExpand:e.func,onKeyDown:e.func,placeholder:e.string,renderIcon:e.oneOfType([e.func,e.object]),role:w(e.string),size:e.oneOf(["sm","md","lg"]),type:e.string,value:e.oneOfType([e.string,e.number])};function F({icon:i}){const u=R();return i?r.createElement(i,{className:`${u}--search-magnifier-icon`}):r.createElement(fe,{className:`${u}--search-magnifier-icon`})}F.propTypes={icon:e.oneOfType([e.func,e.object])};export{O as S};
//# sourceMappingURL=Search-Cp-mgmER.js.map
