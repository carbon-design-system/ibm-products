{"version":3,"file":"CoachmarkOverlayElements-BIrdMf7L.js","sources":["../../src/components/Coachmark/utils/enums.ts","../../src/components/Coachmark/utils/context.ts","../../src/components/Coachmark/CoachmarkDragbar.tsx","../../src/components/Coachmark/CoachmarkHeader.tsx","../../src/components/Coachmark/utils/constants.js","../../src/components/Coachmark/CoachmarkOverlay.tsx","../../src/components/CoachmarkOverlayElement/CoachmarkOverlayElement.tsx","../../src/components/CoachmarkOverlayElements/CoachmarkOverlayElements.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2024, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Reserved for future expansion, i.e. \"RING\".\n */\nexport enum BEACON_KIND {\n  DEFAULT = 'default',\n}\n\n/**\n * Describes the style and behavior of a Coachmark.\n * @param TOOLTIP includes a caret pointing to the animated beacon.\n * @param FLOATING includes a drag handle across the top.\n * @param FIXED is fixed to the bottom-right of the viewport.\n * @param STACKED is fixed to the bottom-right of the viewport, includes links to show more, stackable Coachmarks if included.\n */\nexport enum COACHMARK_OVERLAY_KIND {\n  TOOLTIP = 'tooltip',\n  FLOATING = 'floating',\n  FIXED = 'fixed',\n  STACKED = 'stacked',\n}\n/**\n * Where to render the Coachmark relative to its target.\n * Applies only to Floating and Tooltip Coachmarks.\n */\nexport enum COACHMARK_ALIGNMENT {\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n}\n","/**\n * Copyright IBM Corp. 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { PopoverAlignment } from '@carbon/react';\nimport { ButtonProps } from '@carbon/react';\nimport { createContext, useContext } from 'react';\n\nexport interface CoachmarkContextType {\n  buttonProps: ButtonProps<React.ElementType>;\n  closeButtonProps: {\n    onClick: () => void;\n  };\n  targetRect?: DOMRect;\n  targetOffset?: {\n    x: number;\n    y: number;\n  };\n  align?: PopoverAlignment;\n  positionTune?: {\n    x: number;\n    y: number;\n  };\n  isOpen: boolean;\n  closeIconDescription?: string;\n}\n\nexport const CoachmarkContext = createContext<CoachmarkContextType | null>(\n  null\n);\n\nexport const useCoachmark = () => {\n  return useContext(CoachmarkContext);\n};\n","/**\n * Copyright IBM Corp. 2023, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React, { useEffect, useState } from 'react';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { Close, Draggable } from '@carbon/react/icons';\nimport { Button } from '@carbon/react';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg /*, carbon */ } from '../../settings';\nimport { useCoachmark } from './utils/context';\n\n// Carbon and package components we use.\n/* TODO: @import(s) of carbon components and other package components. */\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--coachmark-dragbar`;\nconst overlayBlockClass = `${pkg.prefix}--coachmark-overlay`;\nconst componentName = 'CoachmarkDragbar';\n\nconst defaults = {\n  onDrag: () => {},\n  onClose: () => {},\n  showCloseButton: true,\n  theme: 'light',\n};\n\ninterface CoachmarkDragbarProps {\n  /**\n   * Handler to manage keyboard interactions with the dragbar.\n   */\n  a11yKeyboardHandler: (event: React.KeyboardEvent<HTMLButtonElement>) => void;\n  /**\n   * Function to call when the close button is clicked.\n   */\n  onClose?: () => void;\n  /**\n   * Function to call when the user clicks and drags the Coachmark.\n   * For internal use only by the parent CoachmarkOverlay.\n   */\n  onDrag?: (movementX: number, movementY: number) => void;\n  /**\n   * Show/hide the \"X\" close button.\n   */\n  showCloseButton?: boolean;\n  /**\n   * Determines the theme of the component.\n   */\n  theme?: 'light' | 'dark';\n  /**\n   * Additional props passed to the component.\n   */\n  [key: string]: any;\n}\n\n/**\n * DO NOT USE. This component is for the exclusive use\n * of other Onboarding components.\n * @deprecated This component is deprecated.\n */\nexport const CoachmarkDragbar = React.forwardRef<\n  HTMLElement,\n  CoachmarkDragbarProps\n>(\n  (\n    {\n      a11yKeyboardHandler,\n      onClose = defaults.onClose,\n      onDrag = defaults.onDrag,\n      showCloseButton = defaults.showCloseButton,\n      theme = defaults.theme,\n      ...rest\n    },\n    ref\n  ) => {\n    const [isDragging, setIsDragging] = useState(false);\n    useEffect(() => {\n      const handleDragStop = () => setIsDragging(false);\n      window.addEventListener('mouseup', handleDragStop);\n      return () => {\n        window.removeEventListener('mouseup', handleDragStop);\n      };\n    }, []);\n\n    useEffect(() => {\n      const handleDrag = (event) => {\n        onDrag(event.movementX, event.movementY);\n      };\n      if (isDragging) {\n        window.addEventListener('mousemove', handleDrag);\n      }\n      return () => {\n        window.removeEventListener('mousemove', handleDrag);\n      };\n    }, [isDragging, onDrag]);\n\n    const handleDragStart = () => setIsDragging(true);\n\n    const closeIconDescription = useCoachmark()?.closeIconDescription;\n\n    return (\n      <header\n        {\n          // Pass through any other property values as HTML attributes.\n          ...rest\n        }\n        className={cx(\n          blockClass, // Apply the block class to the main HTML element\n          `${blockClass}__${theme}`,\n          // example: `${blockClass}__template-string-class-${kind}-n-${size}`,\n          {\n            // switched classes dependant on props or state\n            // example: [`${blockClass}__here-if-small`]: size === 'sm',\n          }\n        )}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n      >\n        <button\n          type=\"button\"\n          className={`${overlayBlockClass}__handle`}\n          onMouseDown={handleDragStart}\n          onKeyDown={a11yKeyboardHandler}\n          // TODO: i18n\n          title=\"Drag Handle\"\n        >\n          <Draggable size=\"16\" />\n        </button>\n\n        {showCloseButton && (\n          <Button\n            kind=\"ghost\"\n            size=\"sm\"\n            renderIcon={Close}\n            iconDescription={closeIconDescription}\n            hasIconOnly\n            className={`${overlayBlockClass}--close-btn`}\n            onClick={onClose}\n          />\n        )}\n      </header>\n    );\n  }\n);\n\n/**@ts-ignore*/\nCoachmarkDragbar.deprecated = {\n  level: 'warn',\n  details: `${componentName} is deprecated.`,\n};\n\n// Return a placeholder if not released and not enabled by feature flag\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCoachmarkDragbar.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCoachmarkDragbar.propTypes = {\n  /**\n   * Handler to manage keyboard interactions with the dragbar.\n   */\n  a11yKeyboardHandler: PropTypes.func.isRequired,\n  /**\n   * Function to call when the close button is clicked.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Function to call when the user clicks and drags the Coachmark.\n   * For internal use only by the parent CoachmarkOverlay.\n   */\n  onDrag: PropTypes.func,\n  /**\n   * Show/hide the \"X\" close button.\n   */\n  showCloseButton: PropTypes.bool,\n  /**\n   * Determines the theme of the component.\n   */\n  theme: PropTypes.oneOf(['light', 'dark']),\n};\n","/**\n * Copyright IBM Corp. 2023, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React from 'react';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { Close } from '@carbon/react/icons';\nimport { Button } from '@carbon/react';\n\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg /*, carbon */ } from '../../settings';\nimport { useCoachmark } from './utils/context';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--coachmark-header`;\nconst overlayBlockClass = `${pkg.prefix}--coachmark-overlay`;\nconst componentName = 'CoachmarkHeader';\n\nconst defaults = {\n  onClose: () => {},\n  showCloseButton: true,\n  theme: 'light',\n};\n\ninterface CoachmarkHeaderProps {\n  /**\n   * Function to call when the close button is clicked.\n   */\n  onClose?: () => void;\n  /**\n   * Show/hide the \"X\" close button.\n   */\n  showCloseButton?: boolean;\n  /**\n   * Determines the theme of the component.\n   */\n  theme?: 'light' | 'dark';\n}\n\n/**\n * DO NOT USE. This component is for the exclusive use\n * of other Onboarding components.\n * @deprecated This component is deprecated.\n */\nexport const CoachmarkHeader = React.forwardRef<\n  HTMLElement,\n  CoachmarkHeaderProps\n>(\n  (\n    {\n      onClose = defaults.onClose,\n      showCloseButton = defaults.showCloseButton,\n      theme = defaults.theme,\n      // Collect any other property values passed in.\n      ...rest\n    },\n    ref\n  ) => {\n    const closeIconDescription = useCoachmark()?.closeIconDescription;\n\n    return (\n      <header\n        {\n          // Pass through any other property values as HTML attributes.\n          ...rest\n        }\n        className={cx(blockClass, `${blockClass}__${theme}`)}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n      >\n        {showCloseButton && (\n          <div className={`${overlayBlockClass}--close-btn-container`}>\n            <Button\n              kind=\"ghost\"\n              size=\"sm\"\n              renderIcon={Close}\n              iconDescription={closeIconDescription}\n              hasIconOnly\n              className={`${overlayBlockClass}--close-btn`}\n              onClick={onClose}\n            />\n          </div>\n        )}\n      </header>\n    );\n  }\n);\n\n/**@ts-ignore*/\nCoachmarkHeader.deprecated = {\n  level: 'warn',\n  details: `${componentName} is deprecated.`,\n};\n\n// Return a placeholder if not released and not enabled by feature flag\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCoachmarkHeader.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCoachmarkHeader.propTypes = {\n  /**\n   * Tooltip text and aria label for the Close button icon.\n   */\n  closeIconDescription: PropTypes.string,\n  /**\n   * Function to call when the close button is clicked.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Show/hide the \"X\" close button.\n   */\n  showCloseButton: PropTypes.bool,\n  /**\n   * Determines the theme of the component.\n   */\n  theme: PropTypes.oneOf(['light', 'dark']),\n};\n","/**\n * Copyright IBM Corp. 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { COACHMARK_ALIGNMENT, COACHMARK_OVERLAY_KIND } from './enums';\n\n/**\n * If the coachmark's target is a link, button, etc. (i.e. not a beacon),\n * this adjusts the coachmark's position based on the position and size of the target.\n * @param {object} coachmark target reference\n * @param {string} kind type of coachmark\n * @returns {object} {top:number, left:number}\n */\n\nexport const getOffsetTune = (coachmark, kind) => {\n  // for future reference\n  // const coachmarkTarget = {\n  //   x: coachmark.targetOffset.x,\n  //   y: coachmark.targetOffset.y,\n  //   width: coachmark.targetRect.width,\n  //   height: coachmark.targetRect.height,\n  // };\n\n  const { width, height } = coachmark.targetRect;\n  const distanceOffset = 24; // see also _coachmark-overlay.scss > $distance-offset\n  let top = 0;\n  let left = 0;\n\n  if (kind !== COACHMARK_OVERLAY_KIND.TOOLTIP) {\n    switch (coachmark.align) {\n      case COACHMARK_ALIGNMENT.TOP:\n        left = width / 2;\n        break;\n      case COACHMARK_ALIGNMENT.TOP_LEFT:\n        left = distanceOffset;\n        break;\n      case COACHMARK_ALIGNMENT.TOP_RIGHT:\n        left = width - distanceOffset;\n        break;\n      case COACHMARK_ALIGNMENT.BOTTOM:\n        top = height;\n        left = width / 2;\n        break;\n      case COACHMARK_ALIGNMENT.BOTTOM_LEFT:\n        top = height;\n        left = distanceOffset;\n        break;\n      case COACHMARK_ALIGNMENT.BOTTOM_RIGHT:\n        top = height;\n        left = width - distanceOffset;\n        break;\n      case COACHMARK_ALIGNMENT.LEFT:\n        top = height / 2;\n        break;\n      case COACHMARK_ALIGNMENT.LEFT_TOP:\n        top = distanceOffset;\n        break;\n      case COACHMARK_ALIGNMENT.LEFT_BOTTOM:\n        top = height - distanceOffset;\n        break;\n      case COACHMARK_ALIGNMENT.RIGHT:\n        top = height / 2;\n        left = width;\n        break;\n      case COACHMARK_ALIGNMENT.RIGHT_TOP:\n        top = distanceOffset;\n        left = width;\n        break;\n      case COACHMARK_ALIGNMENT.RIGHT_BOTTOM:\n        top = height - distanceOffset;\n        left = width;\n        break;\n    }\n  }\n\n  return { top, left };\n};\n","/**\n * Copyright IBM Corp. 2023, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React, {\n  forwardRef,\n  useRef,\n  useState,\n  useEffect,\n  ReactNode,\n  useMemo,\n} from 'react';\nimport uuidv4 from '../../global/js/utils/uuidv4';\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg /*, carbon */ } from '../../settings';\n\nimport { CoachmarkDragbar } from './CoachmarkDragbar';\nimport { CoachmarkHeader } from './CoachmarkHeader';\nimport { getOffsetTune } from './utils/constants';\nimport { useCoachmark } from './utils/context';\nimport { COACHMARK_OVERLAY_KIND } from './utils/enums';\nimport { useIsomorphicEffect } from '../../global/js/hooks';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--coachmark-overlay`;\nconst componentName = 'CoachmarkOverlay';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\nconst defaults = {\n  kind: COACHMARK_OVERLAY_KIND.FLOATING,\n  theme: 'light',\n};\n\ninterface CoachmarkOverlayProps {\n  /**\n   * The CoachmarkOverlayElements child components.\n   * Validation is handled in the parent Coachmark component.\n   */\n  children: ReactNode;\n  /**\n   * Optional class name for this component.\n   */\n  className?: string;\n  /**\n   * The visibility of CoachmarkOverlay is\n   * managed in the parent Coachmark component.\n   */\n  fixedIsVisible: boolean;\n  /**\n   * What kind or style of Coachmark to render.\n   */\n  kind?: COACHMARK_OVERLAY_KIND;\n  /**\n   * Function to call when the Coachmark closes.\n   */\n  onClose: () => void;\n  /**\n   * Determines the theme of the component.\n   */\n  theme?: 'light' | 'dark';\n  /**\n   * Additional props passed to the component.\n   */\n  [key: string]: any;\n}\n\ntype StyledTune = {\n  left?: number;\n  top?: number;\n};\n\n/**\n * DO NOT USE. This component is for the exclusive use\n * of other Onboarding components.\n * @deprecated This component is deprecated.\n */\nexport const CoachmarkOverlay = forwardRef<\n  HTMLDivElement,\n  CoachmarkOverlayProps\n>((props, ref) => {\n  const {\n    children,\n    onClose,\n    fixedIsVisible,\n    className,\n    kind = defaults.kind,\n    theme = defaults.theme,\n    ...rest\n  } = props;\n  const { winHeight, winWidth } = useWindowDimensions();\n  const [a11yDragMode, setA11yDragMode] = useState(false);\n  const overlayRef = useRef<HTMLDivElement>(null);\n  const coachmark = useCoachmark();\n  const isBeacon = kind === COACHMARK_OVERLAY_KIND.TOOLTIP;\n  const isDraggable = kind === COACHMARK_OVERLAY_KIND.FLOATING;\n  const isVisible = className?.includes('is-visible');\n\n  const handleKeyPress = (event) => {\n    const { shiftKey, key } = event;\n    /* istanbul ignore next */\n    if (key === 'Enter' || key === ' ') {\n      setA11yDragMode((prevVal) => !prevVal);\n    } else if (a11yDragMode) {\n      const distanceToMove = shiftKey ? 128 : 32;\n      switch (key) {\n        case 'ArrowLeft':\n          handleDrag(distanceToMove * -1, 0);\n          break;\n        case 'ArrowRight':\n          handleDrag(distanceToMove, 0);\n          break;\n        case 'ArrowUp':\n          handleDrag(0, distanceToMove * -1);\n          break;\n        case 'ArrowDown':\n          handleDrag(0, distanceToMove);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const styledTune: StyledTune = useMemo(() => {\n    const style: StyledTune = {};\n    if (isBeacon || isDraggable) {\n      if (coachmark?.targetRect) {\n        style.left = coachmark.targetRect.x + window.scrollX;\n        style.top = coachmark.targetRect.y + window.scrollY;\n      }\n      if (style.left && style.top) {\n        if (isBeacon) {\n          style.left = style.left + 16;\n          style.top = style.top + 16;\n        }\n        if (isDraggable) {\n          const offsetTune = getOffsetTune(coachmark, kind);\n\n          style.left = style.left + offsetTune.left;\n          style.top = style.top + offsetTune.top;\n        }\n      }\n    }\n    return style;\n  }, [isBeacon, isDraggable, coachmark, kind]);\n\n  /* istanbul ignore next */\n  function handleDragBounds(x, y) {\n    let xRes = x;\n    let yRes = y;\n    const xMax = winWidth - 288;\n    const yMax = winHeight - 150;\n    if (xRes < 0) {\n      xRes = 0;\n    } else if (xRes > xMax) {\n      xRes = xMax;\n    }\n    if (yRes < 0) {\n      yRes = 0;\n    } else if (yRes > yMax) {\n      yRes = yMax;\n    }\n\n    return { targetX: xRes, targetY: yRes };\n  }\n\n  function handleDrag(movementX, movementY) {\n    const overlay = overlayRef.current;\n    if (!overlay) {\n      return;\n    }\n    const { x, y } = overlay.getBoundingClientRect();\n\n    const { targetX, targetY } = handleDragBounds(x + movementX, y + movementY);\n\n    overlay.style.transform = 'none';\n    overlay.style.position = 'fixed';\n    overlay.style.left = `${targetX}px`;\n    overlay.style.top = `${targetY}px`;\n    overlay.style.bottom = 'auto';\n  }\n  const contentId = uuidv4();\n\n  useIsomorphicEffect(() => {\n    if (overlayRef.current) {\n      const currentStyle = overlayRef.current?.style;\n      Object.keys(styledTune).forEach((key) => {\n        const value = styledTune[key];\n        currentStyle.setProperty(key, `${value}px`);\n      });\n    }\n  }, [styledTune, overlayRef]);\n\n  return (\n    <div\n      {...rest}\n      className={cx(\n        blockClass,\n        `${blockClass}--${kind}`,\n        `${blockClass}__${theme}`,\n        (isBeacon || isDraggable) &&\n          coachmark?.align &&\n          `${blockClass}--${coachmark.align}`,\n        fixedIsVisible && `${blockClass}--is-visible`,\n        a11yDragMode && `${blockClass}--is-dragmode`,\n        className\n      )}\n      ref={overlayRef}\n      aria-labelledby={contentId}\n      tabIndex={-1}\n      {...getDevtoolsProps(componentName)}\n    >\n      {isDraggable ? (\n        <CoachmarkDragbar\n          a11yKeyboardHandler={handleKeyPress}\n          onBlur={() => setA11yDragMode(false)}\n          onDrag={handleDrag}\n          theme={theme}\n          onClose={onClose}\n        />\n      ) : (\n        <CoachmarkHeader onClose={onClose} />\n      )}\n      <div className={`${blockClass}__body`} ref={ref} id={contentId}>\n        {React.Children.map(children, (child) => {\n          return React.cloneElement(child as React.ReactElement<any>, {\n            isVisible,\n          });\n        })}\n      </div>\n    </div>\n  );\n});\n\nfunction getWindowDimensions() {\n  const { innerWidth: winWidth, innerHeight: winHeight } = window;\n  return {\n    winWidth,\n    winHeight,\n  };\n}\n\nconst useWindowDimensions = () => {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    /* istanbul ignore next */\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return windowDimensions;\n};\n\n/**@ts-ignore*/\nCoachmarkOverlay.deprecated = {\n  level: 'warn',\n  details: `${componentName} is deprecated.`,\n};\n\n// Return a placeholder if not released and not enabled by feature flag\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCoachmarkOverlay.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCoachmarkOverlay.propTypes = {\n  /**\n   * The CoachmarkOverlayElements child components.\n   * Validation is handled in the parent Coachmark component.\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * Optional class name for this component.\n   */\n  className: PropTypes.string,\n  /**\n   * The visibility of CoachmarkOverlay is\n   * managed in the parent Coachmark component.\n   */\n  fixedIsVisible: PropTypes.bool.isRequired,\n  /**\n   * What kind or style of Coachmark to render.\n   */\n  kind: PropTypes.oneOf(Object.values(COACHMARK_OVERLAY_KIND)),\n  /**\n   * Function to call when the Coachmark closes.\n   */\n  onClose: PropTypes.func.isRequired,\n  /**\n   * Determines the theme of the component.\n   */\n  theme: PropTypes.oneOf(['light', 'dark']),\n};\n","/**\n * Copyright IBM Corp. 2023, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React, { ReactNode } from 'react';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--coachmark-overlay-element`;\nconst componentName = 'CoachmarkOverlayElement';\n\nexport interface CoachmarkOverlayElementProps {\n  /**\n   * An optional button can be rendered below the description.\n   * This can be a link, button, Coachmark button, etc.\n   */\n  button?: ReactNode;\n  /**\n   * Optional class name for this component.\n   */\n  className?: string;\n  /**\n   * The description of the Coachmark.\n   */\n  description: ReactNode;\n  /**\n   * The title of the Coachmark.\n   */\n  title: string;\n}\n\n/**\n * Component to be displayed within a CoachmarkOverlayElements container.\n * Can be used 1 to N number, to display content in a Coachmark's overlay\n * in a carousel fashion.\n * @deprecated This component is deprecated.\n */\nexport const CoachmarkOverlayElement = React.forwardRef<\n  HTMLDivElement,\n  CoachmarkOverlayElementProps\n>(\n  (\n    {\n      button,\n      className,\n      description,\n      title,\n\n      // Collect any other property values passed in.\n      ...rest\n    },\n    ref\n  ) => {\n    return (\n      <div\n        {\n          // Pass through any other property values as HTML attributes.\n          ...rest\n        }\n        className={cx(\n          blockClass, // Apply the block class to the main HTML element\n          className, // Apply any supplied class names to the main HTML element.\n          // example: `${blockClass}__template-string-class-${kind}-n-${size}`,\n          {\n            // switched classes dependant on props or state\n            // example: [`${blockClass}__here-if-small`]: size === 'sm',\n          }\n        )}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n      >\n        <div className={`${blockClass}__content`}>\n          {title && <h2 className={`${blockClass}__title`}>{title}</h2>}\n          {description && (\n            <p className={`${blockClass}__body`}>{description}</p>\n          )}\n        </div>\n        {button && <div className={`${blockClass}__button`}>{button}</div>}\n      </div>\n    );\n  }\n);\n\n/**@ts-ignore*/\nCoachmarkOverlayElement.deprecated = {\n  level: 'warn',\n  details: `${componentName} is deprecated.`,\n};\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCoachmarkOverlayElement.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCoachmarkOverlayElement.propTypes = {\n  /**\n   * An optional button can be rendered below the description.\n   * This can be a link, button, Coachmark button, etc.\n   */\n  button: PropTypes.node,\n  /**\n   * Optional class name for this component.\n   */\n  className: PropTypes.string,\n  /**\n   * The description of the Coachmark.\n   */\n  description: PropTypes.node.isRequired,\n  /**\n   * The title of the Coachmark.\n   */\n  title: PropTypes.string.isRequired,\n};\n","/**\n * Copyright IBM Corp. 2023, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Carbon and package components we use.\nimport { Button, ButtonProps } from '@carbon/react';\n// Import portions of React that are needed.\nimport React, {\n  Children,\n  ReactNode,\n  RefObject,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\n//TODO THIS PATH WILL NEED TO BE UPDATED ONCE IN IBM PRODUCTS\nimport { Carousel } from '../Carousel';\nimport { CarouselProps } from '../Carousel/Carousel';\n// Other standard imports.\nimport PropTypes from 'prop-types';\n//TODO THIS PATH WILL NEED TO BE UPDATED ONCE IN IBM PRODUCTS\nimport { clamp } from '../../global/js/utils/clamp';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport pconsole from '../../global/js/utils/pconsole';\nimport { pkg } from '../../settings';\nimport { useCoachmark } from '../Coachmark';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--coachmark-overlay-elements`;\nconst componentName = 'CoachmarkOverlayElements';\n\nexport interface CoachmarkOverlayElementsProps {\n  /**\n   * CoachmarkOverlayElements should be used with one or many CoachmarkOverlayElement components as children.\n   * @see CoachmarkOverlayElement\n   */\n  children: ReactNode;\n  /**\n   * Optional class name for this component.\n   */\n  className?: string;\n  /**\n   * The visibility of CoachmarkOverlayElements is\n   * managed in the parent component.\n   */\n  isVisible?: boolean;\n\n  /**\n   * Optional prop to render any media like images or any animated media.\n   */\n  renderMedia?: (params) => ReactNode;\n  /**\n   * The label for the Next button.\n   */\n  nextButtonText?: string;\n  /**\n   * The label for the Previous button.\n   */\n  previousButtonLabel?: string;\n  /**\n   * The label for the Close button.\n   */\n  closeButtonLabel?: string;\n  /**\n   * Callback called when clicking on the Next button.\n   */\n  onNext?: () => void;\n  /**\n   * Callback called when clicking on the Previous button.\n   */\n  onBack?: () => void;\n  /**\n   * Current step of the coachmarks.\n   */\n  currentStep?: number;\n}\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\n// Default values can be included here and then assigned to the prop params,\n// e.g. prop = defaults.prop,\n// This gathers default values together neatly and ensures non-primitive\n// values are initialized early to avoid react making unnecessary re-renders.\n// Note that default values are not required for props that are 'required',\n// nor for props where the component can apply undefined values reasonably.\n// Default values should be provided when the component needs to make a choice\n// or assumption when a prop is not supplied.\n\n// Default values for props\nconst defaults = {\n  isVisible: false,\n  nextButtonText: 'Next',\n  previousButtonLabel: 'Back',\n  closeButtonLabel: 'Got it',\n  onNext: undefined,\n  onBack: undefined,\n  currentStep: 0,\n};\n/**\n * Composable container to allow for the displaying of CoachmarkOverlayElement\n * components in a carousel fashion.\n * @deprecated This component is deprecated.\n */\nexport const CoachmarkOverlayElements = React.forwardRef<\n  HTMLDivElement,\n  CoachmarkOverlayElementsProps\n>(\n  (\n    {\n      className,\n      children,\n      isVisible = defaults.isVisible,\n      renderMedia,\n      currentStep = defaults.currentStep,\n      nextButtonText = defaults.nextButtonText,\n      previousButtonLabel = defaults.previousButtonLabel,\n      closeButtonLabel = defaults.closeButtonLabel,\n      onNext = defaults.onNext,\n      onBack = defaults.onBack,\n      // Collect any other property values passed in.\n      ...rest\n    },\n    ref\n  ) => {\n    const buttonFocusRef = useRef<ButtonProps<any> | undefined>(undefined);\n    const scrollRef = useRef<CarouselProps | undefined>(undefined);\n    const [scrollPosition, setScrollPosition] = useState(0);\n    const [currentProgStep, _setCurrentProgStep] = useState(currentStep);\n    const coachmark = useCoachmark();\n\n    const setCurrentProgStep = (value) => {\n      if (currentProgStep > 0 && value === 0 && buttonFocusRef.current) {\n        setTimeout(() => {\n          buttonFocusRef.current?.focus();\n        }, 1000);\n      }\n      _setCurrentProgStep(value);\n    };\n\n    const numProgSteps = Children.count(children);\n    const progStepFloor = 0;\n    const progStepCeil = numProgSteps - 1;\n\n    const renderMediaContent = useMemo(\n      () => renderMedia?.({ playStep: currentProgStep }),\n      [currentProgStep, renderMedia]\n    );\n\n    useEffect(() => {\n      // When current step is set by props\n      // scroll to the appropriate view on the carrousel\n      const targetStep = clamp(currentStep, progStepFloor, progStepCeil);\n\n      scrollRef?.current?.scrollToView?.(targetStep);\n      // Avoid circular call to this hook\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentStep]);\n\n    useEffect(() => {\n      // On mount, one of the two primary buttons (\"next\" or \"close\")\n      // will be rendered and must have focus. (a11y)\n      if (buttonFocusRef.current) {\n        buttonFocusRef.current.focus();\n      }\n    }, []);\n\n    useEffect(() => {\n      setTimeout(() => {\n        if (buttonFocusRef.current && isVisible) {\n          buttonFocusRef.current.focus();\n        }\n      }, 100);\n    }, [isVisible]);\n\n    if (!coachmark) {\n      return pconsole.warn(\n        `The ${componentName} is a composable container element which should be used only within the scope of a Coachmark or a CoachmarkFixed component.`\n      );\n    }\n\n    return (\n      <section\n        {\n          // Pass through any other property values as HTML attributes.\n          ...rest\n        }\n        className={cx(\n          blockClass, // Apply the block class to the main HTML element\n          className, // Apply any supplied class names to the main HTML element.\n          // example: `${blockClass}__template-string-class-${kind}-n-${size}`,\n          {\n            // switched classes dependant on props or state\n            // example: [`${blockClass}__here-if-small`]: size === 'sm',\n          }\n        )}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n      >\n        {renderMedia && (\n          <div className={`${blockClass}__element-stepped-media`}>\n            {renderMediaContent}\n          </div>\n        )}\n\n        {numProgSteps === 1 ? (\n          <>\n            {children}\n            {closeButtonLabel && (\n              <div\n                className={cx(\n                  `${blockClass}__footer`,\n                  'coachmark-carousel-controls'\n                )}\n              >\n                <Button\n                  size=\"sm\"\n                  {...coachmark.closeButtonProps}\n                  ref={buttonFocusRef}\n                >\n                  {closeButtonLabel}\n                </Button>\n              </div>\n            )}\n          </>\n        ) : (\n          <>\n            <Carousel\n              ref={scrollRef as RefObject<HTMLDivElement>}\n              onScroll={(scrollPercent) => {\n                setScrollPosition(scrollPercent);\n              }}\n            >\n              {children}\n            </Carousel>\n            <div className={cx(`${blockClass}__footer`)}>\n              <div className={`${blockClass}--controls-progress`}>{`${\n                currentProgStep + 1\n              } / ${numProgSteps}`}</div>\n              {scrollPosition > 0 && (\n                <Button\n                  size=\"sm\"\n                  kind=\"ghost\"\n                  title={previousButtonLabel}\n                  disabled={scrollPosition === 0}\n                  onClick={() => {\n                    const targetStep = clamp(\n                      currentProgStep - 1,\n                      progStepFloor,\n                      progStepCeil\n                    );\n                    scrollRef?.current?.scrollToView?.(targetStep);\n                    setCurrentProgStep(targetStep);\n                    onBack?.();\n                  }}\n                >\n                  {previousButtonLabel}\n                </Button>\n              )}\n\n              {currentProgStep < progStepCeil ? (\n                <Button\n                  size=\"sm\"\n                  ref={buttonFocusRef}\n                  title={nextButtonText}\n                  disabled={scrollPosition === 1}\n                  onClick={() => {\n                    const targetStep = clamp(\n                      currentProgStep + 1,\n                      progStepFloor,\n                      progStepCeil\n                    );\n                    scrollRef?.current?.scrollToView?.(targetStep);\n                    setCurrentProgStep(targetStep);\n                    onNext?.();\n                  }}\n                >\n                  {nextButtonText}\n                </Button>\n              ) : (\n                closeButtonLabel && (\n                  <Button\n                    size=\"sm\"\n                    ref={buttonFocusRef}\n                    {...coachmark.closeButtonProps}\n                  >\n                    {closeButtonLabel}\n                  </Button>\n                )\n              )}\n            </div>\n          </>\n        )}\n      </section>\n    );\n  }\n);\n\n/**@ts-ignore*/\nCoachmarkOverlayElements.deprecated = {\n  level: 'warn',\n  details: `${componentName} is deprecated.`,\n};\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCoachmarkOverlayElements.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCoachmarkOverlayElements.propTypes = {\n  // TODO: UPDATE COMMENT HERE - UPDATE MDX TO HAVE DIRECTION TO USE ONLY OVERLAY ELEMENTS>...CoachmarkOverlayElements will accept only one or more CoachmarkOverlayElement as child components.\n\n  /**\n   * CoachmarkOverlayElements should be used with one or many CoachmarkOverlayElement components as children.\n   * @see CoachmarkOverlayElement\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * Optional class name for this component.\n   */\n  className: PropTypes.string,\n  /**\n   * The label for the Close button.\n   */\n  closeButtonLabel: PropTypes.string,\n  /**\n   * Current step of the coachmarks\n   */\n  currentStep: PropTypes.number,\n  /**\n   * The visibility of CoachmarkOverlayElements is\n   * managed in the parent component.\n   */\n  isVisible: PropTypes.bool,\n\n  /**\n   * The label for the Next button.\n   */\n  nextButtonText: PropTypes.string,\n  /**\n   * Optional callback called when clicking on the Previous button.\n   */\n  onBack: PropTypes.func,\n  /**\n   * Optional callback called when clicking on the Next button.\n   */\n  onNext: PropTypes.func,\n  /**\n   * The label for the Previous button.\n   */\n  previousButtonLabel: PropTypes.string,\n  /**\n   * Optional prop to render any media like images or animated media.\n   */\n  renderMedia: PropTypes.func,\n};\n"],"names":["BEACON_KIND","COACHMARK_OVERLAY_KIND","COACHMARK_ALIGNMENT","CoachmarkContext","createContext","useCoachmark","useContext","blockClass","pkg","overlayBlockClass","componentName","defaults","CoachmarkDragbar","React","a11yKeyboardHandler","onClose","onDrag","showCloseButton","theme","rest","ref","isDragging","setIsDragging","useState","useEffect","handleDragStop","handleDrag","event","handleDragStart","closeIconDescription","cx","getDevtoolsProps","Draggable","Button","Close","PropTypes","CoachmarkHeader","getOffsetTune","coachmark","kind","width","height","distanceOffset","top","left","CoachmarkOverlay","forwardRef","props","children","fixedIsVisible","className","winHeight","winWidth","useWindowDimensions","a11yDragMode","setA11yDragMode","overlayRef","useRef","isBeacon","isDraggable","isVisible","handleKeyPress","shiftKey","key","prevVal","distanceToMove","styledTune","useMemo","style","offsetTune","handleDragBounds","x","y","xRes","yRes","xMax","yMax","movementX","movementY","overlay","targetX","targetY","contentId","uuidv4","useIsomorphicEffect","currentStyle","value","child","getWindowDimensions","windowDimensions","setWindowDimensions","handleResize","CoachmarkOverlayElement","button","description","title","CoachmarkOverlayElements","renderMedia","currentStep","nextButtonText","previousButtonLabel","closeButtonLabel","onNext","onBack","buttonFocusRef","scrollRef","scrollPosition","setScrollPosition","currentProgStep","_setCurrentProgStep","setCurrentProgStep","numProgSteps","Children","progStepFloor","progStepCeil","renderMediaContent","targetStep","clamp","Carousel","scrollPercent","pconsole"],"mappings":"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"}