import{b as B,d as v,_ as x,v as ne,j as ie,c as H,u as oe,n as J,k as ae,T as se,q as le,l as ce,P as e,g as W}from"./index-CGLP8AGt.js";import{r as m,e as t}from"./index-DtHxqM--.js";import{n as P,B as re}from"./settings-xxMXFJdE.js";import{w as ue,a as fe}from"./wrapFocus-CrmkdVI3.js";import{d as de}from"./index-BeQw6zoj.js";import{T as w}from"./Text-CeswpK61.js";import{a as me,d as pe}from"./bucket-9-Mh6f_OMf.js";import{a as be,W as ge}from"./bucket-18-OZh5kibs.js";import{a as Ce}from"./bucket-6-CHtf3ie7.js";function Ne(n,l){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const c=i=>{var u;const o=n.current&&document.activeElement===n.current||((u=n.current)==null?void 0:u.contains(document.activeElement));le(i,[ce])&&r&&o&&l(i)};J(()=>(n.current!==null&&document.addEventListener("keydown",c,!1),()=>document.removeEventListener("keydown",c,!1)))}function j(n){let{children:l,className:r,onClick:c,inline:i,...o}=n;const u=B(),d=v(r,{[`${u}--actionable-notification__action-button`]:!0});return t.createElement(re,x({className:d,kind:i?"ghost":"tertiary",onClick:c,size:"sm"},o),l)}j.propTypes={children:e.node,className:e.string,inline:e.bool,onClick:e.func};function K(n){let{"aria-label":l="close notification",ariaLabel:r,className:c,type:i="button",renderIcon:o=ie,name:u,notificationType:d="toast",...E}=n;const f=B(),b=v(c,{[`${f}--${d}-notification__close-button`]:d}),C=v({[`${f}--${d}-notification__close-icon`]:d});return t.createElement("button",x({},E,{type:i,"aria-label":r||l,title:r||l,className:b}),o&&t.createElement(o,{className:C,name:u}))}K.propTypes={"aria-label":e.string,ariaLabel:W(e.string),className:e.string,name:e.string,notificationType:e.oneOf(["toast","inline","actionable"]),renderIcon:e.oneOfType([e.func,e.object]),type:e.string};const Ee={error:Ce,success:ne,warning:ge,"warning-alt":be,info:pe,"info-square":me};function F(n){let{iconDescription:l,kind:r,notificationType:c}=n;const i=B(),o=Ee[r];return o?t.createElement(o,{className:`${i}--${c}-notification__icon`,size:20},t.createElement("title",null,l)):null}F.propTypes={iconDescription:e.string.isRequired,kind:e.oneOf(["error","success","warning","warning-alt","info","info-square"]).isRequired,notificationType:e.oneOf(["inline","toast"]).isRequired};function $e(n){let{["aria-label"]:l,ariaLabel:r,role:c="status",onClose:i,onCloseButtonClick:o=P,statusIconDescription:u,className:d,children:E,kind:f="error",lowContrast:b,hideCloseButton:C=!1,timeout:a=0,title:h,caption:$,subtitle:I,...g}=n;const[k,T]=m.useState(!0),N=B(),y=v(d,{[`${N}--toast-notification`]:!0,[`${N}--toast-notification--low-contrast`]:b,[`${N}--toast-notification--${f}`]:f}),L=m.useRef(null),s=_=>{(!i||i(_)!==!1)&&T(!1)},D=m.useRef(null);function R(_){o(_),s(_)}const O=m.useRef(i);return m.useEffect(()=>{O.current=i}),m.useEffect(()=>{if(!a)return;const _=window.setTimeout(A=>{T(!1),O.current&&O.current(A)},a);return()=>{window.clearTimeout(_)}},[a]),k?t.createElement("div",x({ref:D},g,{role:c,className:y}),t.createElement(F,{notificationType:"toast",kind:f,iconDescription:u||`${f} icon`}),t.createElement("div",{ref:L,className:`${N}--toast-notification__details`},h&&t.createElement(w,{as:"div",className:`${N}--toast-notification__title`},h),I&&t.createElement(w,{as:"div",className:`${N}--toast-notification__subtitle`},I),$&&t.createElement(w,{as:"div",className:`${N}--toast-notification__caption`},$),E),!C&&t.createElement(K,{notificationType:"toast",onClick:R,"aria-label":r||l})):null}$e.propTypes={"aria-label":e.string,ariaLabel:W(e.string),caption:e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,timeout:e.number,title:e.string};function _e(n){let{["aria-label"]:l,children:r,title:c,subtitle:i,role:o="status",onClose:u,onCloseButtonClick:d=P,statusIconDescription:E,className:f,kind:b="error",lowContrast:C,hideCloseButton:a=!1,...h}=n;const[$,I]=m.useState(!0),g=B(),k=v(f,{[`${g}--inline-notification`]:!0,[`${g}--inline-notification--low-contrast`]:C,[`${g}--inline-notification--${b}`]:b,[`${g}--inline-notification--hide-close-button`]:a}),T=m.useRef(null),N=s=>{(!u||u(s)!==!1)&&I(!1)},y=m.useRef(null);function L(s){d(s),N(s)}return $?t.createElement("div",x({ref:y},h,{role:o,className:k}),t.createElement("div",{className:`${g}--inline-notification__details`},t.createElement(F,{notificationType:"inline",kind:b,iconDescription:E||`${b} icon`}),t.createElement("div",{ref:T,className:`${g}--inline-notification__text-wrapper`},c&&t.createElement(w,{as:"div",className:`${g}--inline-notification__title`},c),i&&t.createElement(w,{as:"div",className:`${g}--inline-notification__subtitle`},i),r)),!a&&t.createElement(K,{notificationType:"inline",onClick:L,"aria-label":l})):null}_e.propTypes={"aria-label":e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,title:e.string};function we(n){let{actionButtonLabel:l,["aria-label"]:r,ariaLabel:c,children:i,role:o="alertdialog",onActionButtonClick:u,onClose:d,onCloseButtonClick:E=P,statusIconDescription:f,className:b,inline:C=!1,kind:a="error",lowContrast:h,hideCloseButton:$=!1,hasFocus:I=!0,closeOnEscape:g=!0,title:k,subtitle:T,...N}=n;const[y,L]=m.useState(!0),s=B(),D=H("actionable-notification"),R=H("actionable-notification-subtitle"),O=v(b,{[`${s}--actionable-notification`]:!0,[`${s}--actionable-notification--toast`]:!C,[`${s}--actionable-notification--low-contrast`]:h,[`${s}--actionable-notification--${a}`]:a,[`${s}--actionable-notification--hide-close-button`]:$}),_=m.useRef(null),A=m.useRef(null),z=m.useRef(null),q=m.useRef(null),S=oe("enable-experimental-focus-wrap-without-sentinels");J(()=>{if(I&&o==="alertdialog"){const p=document.querySelector("button.cds--actionable-notification__action-button");p==null||p.focus()}});function U(p){let{target:V,relatedTarget:G}=p;if(y&&G&&V&&o==="alertdialog"){const{current:Z}=_,{current:ee}=A,{current:te}=z;fe({bodyNode:Z,startTrapNode:ee,endTrapNode:te,currentActiveNode:G,oldActiveNode:V})}}function X(p){y&&ae(p,se)&&q.current&&o==="alertdialog"&&ue({containerNode:q.current,currentActiveNode:p.target,event:p})}const Y=p=>{(!d||d(p)!==!1)&&L(!1)};Ne(q,M,g);function M(p){E(p),Y(p)}return y?t.createElement("div",x({},N,{ref:q,role:o,className:O,"aria-labelledby":k?D:R,onBlur:S?()=>{}:U,onKeyDown:S?X:()=>{}}),!S&&t.createElement("span",{ref:A,tabIndex:0,role:"link",className:`${s}--visually-hidden`},"Focus sentinel"),t.createElement("div",{className:`${s}--actionable-notification__details`},t.createElement(F,{notificationType:C?"inline":"toast",kind:a,iconDescription:f||`${a} icon`}),t.createElement("div",{className:`${s}--actionable-notification__text-wrapper`},t.createElement("div",{className:`${s}--actionable-notification__content`},k&&t.createElement(w,{as:"div",className:`${s}--actionable-notification__title`,id:D},k),T&&t.createElement(w,{as:"div",className:`${s}--actionable-notification__subtitle`,id:R},T),i))),t.createElement("div",{className:`${s}--actionable-notification__button-wrapper`,ref:_},l&&t.createElement(j,{onClick:u,inline:C},l),!$&&t.createElement(K,{"aria-label":c||r,notificationType:"actionable",onClick:M})),!S&&t.createElement("span",{ref:z,tabIndex:0,role:"link",className:`${s}--visually-hidden`},"Focus sentinel")):null}we.propTypes={actionButtonLabel:e.string,"aria-label":e.string,ariaLabel:W(e.string),children:e.node,className:e.string,closeOnEscape:e.bool,hasFocus:W(e.bool),hideCloseButton:e.bool,inline:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onActionButtonClick:e.func,onClose:e.func,onCloseButtonClick:e.func,role:e.string,statusIconDescription:e.string,subtitle:e.node,title:e.string};const he=n=>({error:"warning",success:"info"})[n];function Q(n){let{actionButtonLabel:l,children:r,onActionButtonClick:c,title:i,titleId:o,subtitle:u,statusIconDescription:d,className:E,kind:f="info",lowContrast:b,...C}=n;const a=B(),h=v(E,{[`${a}--actionable-notification`]:!0,[`${a}--actionable-notification--low-contrast`]:b,[`${a}--actionable-notification--${f}`]:f,[`${a}--actionable-notification--hide-close-button`]:!0}),$=m.useRef(null);return t.createElement("div",x({},C,{className:h}),t.createElement("div",{className:`${a}--actionable-notification__details`},t.createElement(F,{notificationType:"inline",kind:f,iconDescription:d||`${f} icon`}),t.createElement("div",{ref:$,className:`${a}--actionable-notification__text-wrapper`},i&&t.createElement(w,{as:"div",id:o,className:`${a}--actionable-notification__title`},i),u&&t.createElement(w,{as:"div",className:`${a}--actionable-notification__subtitle`},u),r)),t.createElement("div",{className:`${a}--actionable-notification__button-wrapper`},l&&t.createElement(j,{onClick:c,"aria-describedby":o,inline:!0},l)))}Q.propTypes={actionButtonLabel:e.string,children:e.node,className:e.string,kind:de(e.oneOf(["error","info","info-square","success","warning","warning-alt"]),["warning","info"],he),lowContrast:e.bool,onActionButtonClick:e.func,statusIconDescription:e.string,subtitle:e.node,title:e.string,titleId:e.string};const Fe=n=>t.createElement(Q,n);export{we as A,Q as C,_e as I,j as N,Fe as S,$e as T,K as a};
