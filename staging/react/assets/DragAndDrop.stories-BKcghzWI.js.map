{"version":3,"file":"DragAndDrop.stories-BKcghzWI.js","sources":["../../src/components/DragAndDrop/DragAndDrop.mdx","../../src/components/DragAndDrop/preview-components/Item.js","../../src/components/DragAndDrop/preview-components/SortableItem.js","../../src/components/DragAndDrop/preview-components/ListContainer.js","../../src/components/DragAndDrop/preview-components/Underlay.js","../../src/components/DragAndDrop/preview-components/Sortable.js","../../src/components/DragAndDrop/preview-components/GridContainer.js"],"sourcesContent":["import { Story, Controls, Source, Canvas } from '@storybook/addon-docs/blocks';\nimport { CodesandboxLink } from '../../global/js/utils/story-helper';\nimport * as stories from './DragAndDrop.stories';\n\n# Drag and drop\n\n[Usage guidelines](https://pages.github.ibm.com/carbon/ibm-products/patterns/drag-and-drop/usage/)\n\n## Table of Contents\n\n- [Overview](#overview)\n- [Example usage](#example-usage)\n\n## Overview\n\nThe following are drag and drop examples building upon the examples on the\n[PAL site](https://pages.github.ibm.com/carbon/ibm-products/patterns/drag-and-drop/usage).\nWhile we are currently not providing these as exported components to use\ndirectly, they can be used as references for drag and drop interactions. The\nexamples provided use `@dnd-kit`, also used in `@carbon/ibm-products` for\ncustomizing the order of columns in the Datagrid.\n\n{/* We do provide styles for some of the drag states as detailed below. */}\n\n{/* |                        | State                                     | class | */}\n{/* | ---------------------- | ----------------------------------------- | ----- | */}\n{/* | Default draggable item | `${pkg.prefix}__draggable-item`           |       | */}\n{/* | Dragging               | `${pkg.prefix}__draggable-item--dragging` |       | */}\n\n## Example usage\n\n### Vertical list\n\n<Canvas of={stories.verticalExample} />\n\n### Horizontal list\n\n<Canvas of={stories.horizontalExample} />\n\n### Grid\n\n<Canvas of={stories.gridExample} />\n\n### Grid, restrict drag to window edge\n\n<Canvas of={stories.gridExampleRestrictToWindow} />\n\n### Grid, with large item\n\n<Canvas of={stories.gridExampleLargeItem} />\n\n### Grid, dashboard\n\n<Canvas of={stories.gridDashboard} />\n","/**\n * Copyright IBM Corp. 2024, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { pkg } from '../../../settings';\n\nexport const Item = ({\n  isDragging = false,\n  type,\n  id,\n  setNodeRef = () => {},\n  attributes = {},\n  listeners = {},\n  assistiveText = 'Text for screen reader',\n  children,\n  value,\n  dragOverlay,\n  wrapperStyle,\n  transform,\n  transition,\n}) => {\n  const draggableClass = `${pkg.prefix}__draggable-item`;\n  return (\n    <li\n      className={cx(\n        `${draggableClass}--type`, // Confusing, refactor to typography or something along those lines\n        draggableClass,\n        {\n          [`${draggableClass}--dragging`]: isDragging,\n          [`${draggableClass}--${type}`]: type,\n          [`${draggableClass}--drag-overlay`]: dragOverlay,\n        }\n      )}\n      id={id}\n      ref={setNodeRef}\n      style={{\n        ...wrapperStyle,\n        transform,\n        transition,\n      }}\n      {...attributes}\n      {...listeners}\n      role=\"option\"\n      aria-selected\n    >\n      <span className={`${draggableClass}__assistive-text`}>\n        {assistiveText}\n      </span>\n      {value ? value : children}\n    </li>\n  );\n};\n\nItem.propTypes = {\n  assistiveText: PropTypes.string,\n  attributes: PropTypes.shape({\n    ['aria-describedby']: PropTypes.string,\n    ['aria-disabled']: PropTypes.bool,\n    ['aria-pressed']: PropTypes.oneOfType([PropTypes.bool, undefined]),\n    ['aria-roledescription']: PropTypes.string,\n    ['role']: PropTypes.string,\n    ['tabIndex']: PropTypes.number,\n  }),\n  children: PropTypes.node,\n  dragOverlay: PropTypes.bool,\n  id: PropTypes.string,\n  isDragging: PropTypes.bool,\n  listeners: PropTypes.shape({\n    onPointerDown: PropTypes.func,\n    onKeyDown: PropTypes.func,\n  }),\n  setNodeRef: PropTypes.func,\n  style: PropTypes.object,\n  transform: PropTypes.string,\n  transition: PropTypes.string,\n  type: PropTypes.string,\n  value: PropTypes.node,\n  wrapperStyle: PropTypes.object,\n};\n","/**\n * Copyright IBM Corp. 2024, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { Item } from './Item';\n\nexport const SortableItem = ({\n  id,\n  children,\n  assistiveText = 'Text for screen reader',\n  type,\n  useDragOverlay,\n  wrapperStyle,\n  index,\n}) => {\n  const {\n    active,\n    attributes,\n    isDragging,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({\n    id,\n  });\n\n  return (\n    <Item\n      isDragging={isDragging}\n      attributes={attributes}\n      type={type}\n      setNodeRef={setNodeRef}\n      transform={CSS.Translate.toString(transform)}\n      transition={transition}\n      listeners={listeners}\n      assistiveText={assistiveText}\n      dragOverlay={!useDragOverlay && isDragging}\n      wrapperStyle={wrapperStyle?.({ index, isDragging, active, id })}\n    >\n      {children}\n    </Item>\n  );\n};\n\nSortableItem.propTypes = {\n  assistiveText: PropTypes.string,\n  children: PropTypes.node,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  index: PropTypes.number,\n  type: PropTypes.string,\n  useDragOverlay: PropTypes.bool,\n  wrapperStyle: PropTypes.func,\n};\n","/**\n * Copyright IBM Corp. 2024, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nexport const ListContainer = ({ children, draggableClass, type }) => {\n  return (\n    <ul\n      className={cx(`${draggableClass}__list-container`, {\n        [`${draggableClass}__list-container--horizontal`]:\n          type === 'horizontal',\n      })}\n    >\n      {children}\n    </ul>\n  );\n};\n\nListContainer.propTypes = {\n  children: PropTypes.node,\n  draggableClass: PropTypes.string,\n  type: PropTypes.string,\n};\n","/**\n * Copyright IBM Corp. 2024, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nexport const Underlay = ({\n  draggableClass,\n  type,\n  items,\n  wrapperStyle,\n  grid,\n  activeId,\n  includeUnderlay,\n}) => {\n  if (!includeUnderlay) {\n    return;\n  }\n  return (\n    <div\n      className={cx(`${draggableClass}__draggable-underlay`, {\n        [`${draggableClass}__draggable-underlay--horizontal`]:\n          type === 'horizontal',\n        [`${draggableClass}__draggable-underlay--grid`]: grid,\n      })}\n      aria-hidden=\"true\"\n      key={`draggable-underlay`}\n    >\n      {items.map((i) => (\n        <div\n          className={`${draggableClass}__draggable-underlay-item`}\n          key={`${i}__key`}\n          style={{\n            ...wrapperStyle?.({\n              index: i,\n              isDragging: false,\n              active: null,\n              id: i,\n              activeId,\n            }),\n          }}\n        />\n      ))}\n    </div>\n  );\n};\n\nUnderlay.propTypes = {\n  activeId: PropTypes.number,\n  draggableClass: PropTypes.string,\n  grid: PropTypes.bool,\n  includeUnderlay: PropTypes.bool,\n  items: PropTypes.array,\n  type: PropTypes.string,\n  wrapperStyle: PropTypes.func,\n};\n","/**\n * Copyright IBM Corp. 2024, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { px } from '@carbon/layout';\nimport { action } from 'storybook/actions';\nimport { pkg } from '../../../settings';\nimport { SortableItem } from './SortableItem';\nimport { ListContainer } from './ListContainer';\nimport { Underlay } from './Underlay';\n\n// Dnd kit imports\n/* ************************ */\nimport {\n  DndContext,\n  KeyboardSensor,\n  PointerSensor,\n  closestCenter,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport { SortableContext, arrayMove } from '@dnd-kit/sortable';\n/* ************************ */\n\nexport const Sortable = ({\n  type,\n  sortableProps,\n  Container = ListContainer,\n  useDragOverlay = true,\n  wrapperStyle,\n  strategy,\n  withGrid,\n  gridGap = px(12),\n  itemCount = 10,\n  includeUnderlay = true,\n  modifiers = [],\n  ...args\n}) => {\n  const [items, setItems] = useState(\n    Array.from({ length: itemCount }, (_, i) => i + 1)\n  );\n  const [activeId, setActiveId] = useState(null);\n  const getIndex = (id) => items.indexOf(id);\n\n  const activeIndex = activeId ? getIndex(activeId) : -1;\n\n  const draggableClass = `${pkg.prefix}__draggable-item`;\n  const pointerSensor = useSensor(PointerSensor, {\n    // Require the mouse to move by 10 pixels before activating\n    activationConstraint: {\n      distance: 4,\n    },\n  });\n\n  const keyboardSensor = useSensor(KeyboardSensor, {\n    coordinateGetter: (event, args) => {\n      const { currentCoordinates } = args;\n\n      let target = event.target;\n\n      while (target && !target.classList.contains(draggableClass)) {\n        target = target.parentNode;\n      }\n\n      const gapValue = withGrid ? parseInt(gridGap) : 0;\n\n      const delta =\n        type !== 'horizontal'\n          ? target.offsetHeight + gapValue\n          : target.offsetWidth + gapValue;\n\n      switch (event.code) {\n        case 'ArrowRight': {\n          if (type === 'horizontal' || withGrid) {\n            return { ...currentCoordinates, x: currentCoordinates.x + delta };\n          }\n          return currentCoordinates;\n        }\n        case 'ArrowLeft': {\n          if (type === 'horizontal' || withGrid) {\n            return { ...currentCoordinates, x: currentCoordinates.x - delta };\n          }\n          // ignore right and left\n          return currentCoordinates;\n        }\n        case 'ArrowUp':\n          if (type === 'horizontal') {\n            return currentCoordinates;\n          }\n          return { ...currentCoordinates, y: currentCoordinates.y - delta };\n        case 'ArrowDown':\n          if (type === 'horizontal') {\n            return currentCoordinates;\n          }\n          return { ...currentCoordinates, y: currentCoordinates.y + delta };\n        case 'Space':\n          break;\n      }\n    },\n  });\n\n  const handleDragEnd = ({ over }) => {\n    action('handleDragEnd')();\n    setActiveId(null);\n\n    if (over) {\n      const overIndex = getIndex(over.id);\n      if (activeIndex !== overIndex) {\n        setItems((items) => arrayMove(items, activeIndex, overIndex));\n      }\n    }\n  };\n\n  const handleDragStart = ({ active }) => {\n    action('handleDragStart')();\n    if (!active) {\n      return;\n    }\n\n    setActiveId(active.id);\n  };\n\n  const handleDragCancel = () => {\n    setActiveId(null);\n  };\n\n  const sensors = useSensors(pointerSensor, keyboardSensor);\n\n  return (\n    <DndContext\n      collisionDetection={closestCenter}\n      onDragEnd={handleDragEnd}\n      onDragStart={handleDragStart}\n      onDragCancel={handleDragCancel}\n      sensors={sensors}\n      modifiers={modifiers}\n      {...args}\n    >\n      <SortableContext items={items} strategy={strategy} {...sortableProps}>\n        <Container\n          draggableClass={draggableClass}\n          type={type}\n          gridGap={withGrid && gridGap}\n        >\n          <Underlay\n            draggableClass={draggableClass}\n            items={items}\n            type={type}\n            wrapperStyle={wrapperStyle}\n            grid={withGrid}\n            activeId={activeId}\n            includeUnderlay={includeUnderlay}\n          />\n          {items.map((i) => (\n            <SortableItem\n              id={i}\n              key={`${i}__drag_key`}\n              type={type}\n              useDragOverlay={useDragOverlay}\n              wrapperStyle={wrapperStyle}\n              index={i}\n            >\n              Item {i}\n            </SortableItem>\n          ))}\n        </Container>\n      </SortableContext>\n    </DndContext>\n  );\n};\n\nSortable.propTypes = {\n  Container: PropTypes.elementType,\n  adjustScale: PropTypes.bool,\n  gridGap: PropTypes.number,\n  includeUnderlay: PropTypes.bool,\n  itemCount: PropTypes.number,\n  modifiers: PropTypes.arrayOf(PropTypes.func),\n  restrictToParent: PropTypes.bool,\n  sortableProps: PropTypes.object,\n  strategy: PropTypes.func,\n  type: PropTypes.string,\n  useDragOverlay: PropTypes.bool,\n  withGrid: PropTypes.bool,\n  wrapperStyle: PropTypes.func,\n};\n","/**\n * Copyright IBM Corp. 2024, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nexport const GridContainer = ({\n  children,\n  columns,\n  draggableClass,\n  gridGap,\n}) => {\n  return (\n    <ul\n      className={cx(\n        `${draggableClass}__list-container`,\n        `${draggableClass}__list-container--grid`\n      )}\n      style={{\n        '--col-count': columns,\n        '--grid-gap': gridGap,\n      }}\n    >\n      {children}\n    </ul>\n  );\n};\n\nGridContainer.propTypes = {\n  children: PropTypes.node,\n  columns: PropTypes.number,\n  draggableClass: PropTypes.string,\n  gridGap: PropTypes.string,\n  type: PropTypes.string,\n};\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Canvas","stories.verticalExample","stories.horizontalExample","stories.gridExample","stories.gridExampleRestrictToWindow","stories.gridExampleLargeItem","stories.gridDashboard","MDXContent","MDXLayout","Item","isDragging","type","id","setNodeRef","attributes","listeners","assistiveText","children","value","dragOverlay","wrapperStyle","transform","transition","draggableClass","pkg","React","cx","PropTypes","SortableItem","useDragOverlay","index","active","useSortable","CSS","ListContainer","Underlay","items","grid","activeId","includeUnderlay","i","action","Sortable","sortableProps","Container","strategy","withGrid","gridGap","px","itemCount","modifiers","args","setItems","useState","_","setActiveId","getIndex","activeIndex","pointerSensor","useSensor","PointerSensor","keyboardSensor","KeyboardSensor","event","currentCoordinates","target","gapValue","delta","handleDragEnd","over","overIndex","arrayMove","handleDragStart","handleDragCancel","sensors","useSensors","DndContext","closestCenter","SortableContext","GridContainer","columns"],"mappings":"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"}