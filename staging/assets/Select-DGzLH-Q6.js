import{a as Y,b as Z,c as o,_ as ee,d as le}from"./floating-ui.core.mjs-LzsX8FoD.js";import{P as l}from"./index-Dk74W0Oi.js";import{R as s,r as h}from"./index-BwDkhjyp.js";import{F as se}from"./FormContext-C7kRVu4t.js";import{c as ae,d as te}from"./events-BwXSUnsA.js";import{T as v}from"./Text-DzW_iQLr.js";import{W as ne,a as re}from"./bucket-18-BepxNBd9.js";const C=s.forwardRef(function(F,S){var T;let{className:I,id:p,inline:r=!1,labelText:A="Select",disabled:c=!1,children:D,noLabel:L=!1,hideLabel:z=!1,invalid:t=!1,invalidText:O="",helperText:f="",light:P=!1,readOnly:d,size:g,warn:m=!1,warnText:R,onChange:K,slug:u,...W}=F;const e=Y(),{isFluid:n}=h.useContext(se),[q,H]=h.useState(!1),[k,B]=h.useState(""),M=Z(),U=o({[`${e}--select`]:!0,[`${e}--select--inline`]:r,[`${e}--select--light`]:P,[`${e}--select--invalid`]:t,[`${e}--select--disabled`]:c,[`${e}--select--readonly`]:d,[`${e}--select--warning`]:m,[`${e}--select--fluid--invalid`]:n&&t,[`${e}--select--fluid--focus`]:n&&q,[`${e}--select--slug`]:u}),V=o(`${e}--label`,{[`${e}--visually-hidden`]:z,[`${e}--label--disabled`]:c}),j=o({[`${e}--select-input`]:!0,[`${e}--select-input--${g}`]:g}),x=`${p}-error-msg`,G=(()=>{if(t)return O;if(m)return R})(),i=t||m?s.createElement(v,{as:"div",className:`${e}--form-requirement`,id:x},G):null,J=o(`${e}--form__helper-text`,{[`${e}--form__helper-text--disabled`]:c}),_=f?`select-helper-text-${M}`:void 0,y=f?s.createElement(v,{as:"div",id:_,className:J},f):null,b={};t?b["aria-describedby"]=x:!r&&!n&&(b["aria-describedby"]=y?_:void 0);const E=a=>{H(a.type==="focus")},Q=a=>{var $;B(($=a==null?void 0:a.target)==null?void 0:$.value)},X={onMouseDown:a=>{d&&(a.preventDefault(),a.target.focus())},onKeyDown:a=>{d&&["ArrowDown","ArrowUp"," "].includes(a.key)&&a.preventDefault()}};let w;u&&((T=u.type)==null?void 0:T.displayName)==="AILabel"&&(w=s.cloneElement(u,{size:"mini"}));const N=s.createElement(s.Fragment,null,s.createElement("select",ee({},W,b,{id:p,className:j,disabled:c||void 0,"aria-invalid":t||void 0,"aria-readonly":d||void 0,title:k,onChange:ae([K,Q])},X,{ref:S}),D),s.createElement(te,{className:`${e}--select__arrow`}),t&&s.createElement(ne,{className:`${e}--select__invalid-icon`}),!t&&m&&s.createElement(re,{className:`${e}--select__invalid-icon ${e}--select__invalid-icon--warning`}));return s.createElement("div",{className:o(`${e}--form-item`,I)},s.createElement("div",{className:U},!L&&s.createElement(v,{as:"label",htmlFor:p,className:V},A),r&&s.createElement("div",{className:`${e}--select-input--inline__wrapper`},s.createElement("div",{className:`${e}--select-input__wrapper`,"data-invalid":t||null},N),i),!r&&s.createElement("div",{className:`${e}--select-input__wrapper`,"data-invalid":t||null,onFocus:E,onBlur:E},N,w,n&&s.createElement("hr",{className:`${e}--select__divider`}),n&&i?i:null),!r&&!n&&i?i:y))});C.displayName="Select";C.propTypes={children:l.node,className:l.string,defaultValue:l.any,disabled:l.bool,helperText:l.node,hideLabel:l.bool,id:l.string.isRequired,inline:l.bool,invalid:l.bool,invalidText:l.node,labelText:l.node,light:le(l.bool),noLabel:l.bool,onChange:l.func,readOnly:l.bool,size:l.oneOf(["sm","md","lg"]),slug:l.node,warn:l.bool,warnText:l.node};export{C as S};
