import{p as M,j as T}from"./settings-BiUEFdm2.js";import{R as j,r as a}from"./index-BwDkhjyp.js";import{l as x}from"./lottie-D0UQuq7-.js";import{c as v}from"./clamp-DxEmERK6.js";import{P as i}from"./index-Dk74W0Oi.js";import{c as b}from"./deprecate-D9ms-jbM.js";import{g as N}from"./devtools-BPcQvzXy.js";const P=`${M.prefix}--stepped-animated-media`,y="SteppedAnimatedMedia",D={playStep:0},l=j.forwardRef(({className:g,playStep:f=D.playStep,filePaths:n,...R},h)=>{const[s,w]=a.useState([]),t=a.useRef(),A=a.useRef(null),u=h??A,p=u.current;return a.useEffect(()=>{const m=e=>e.includes(".json");async function r(){if(n&&n.every(m)){const e=n.map(d=>fetch(d)),o=(await Promise.all(e)).map(d=>d.json()),S=await Promise.all(o);w(S)}}r()},[n]),a.useEffect(()=>{var r,e,c;const m=window!=null&&window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!0;return p&&((r=t.current)==null||r.destroy(),t.current=x.loadAnimation({container:p,renderer:"svg",animationData:s[v(f,0,s.length-1)],loop:!1,autoplay:!1,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}}),m?(e=t.current)==null||e.goToAndStop(0):(c=t.current)==null||c.goToAndPlay(0)),()=>{var o;return(o=t.current)==null?void 0:o.destroy()}},[s,p,f]),s?T.jsx("div",{...R,className:b(P,g),role:"img",ref:u,...N(y)}):null});l.displayName=y;l.propTypes={className:i.string,filePaths:i.arrayOf(i.string).isRequired,playStep:i.number};l.__docgenInfo={description:"The SteppedAnimatedMedia is an Onboarding internal component and is not intended for general use.",methods:[],displayName:"SteppedAnimatedMedia",props:{className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},filePaths:{required:!0,tsType:{name:"union",raw:"string[] | undefined",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"undefined"}]},description:"The file path(s) to json formatted Lottie animation files.",type:{name:"arrayOf",value:{name:"string"}}},playStep:{required:!1,tsType:{name:"number"},description:"Which animation step from the filePaths array to play.",defaultValue:{value:"0",computed:!1},type:{name:"number"}}}};export{l as S};
