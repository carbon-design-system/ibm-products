import{r as t,u as I,c as _,e as N,_ as R,n as $,a3 as F,a4 as V,P as e,k as D,D as v,q as H,t as K}from"./iframe-arkle79Y.js";import{A as P}from"./AriaPropTypes-r4Ou0zDR.js";import{L as q}from"./Link-CQeCbGFh.js";const k=t.forwardRef((i,f)=>{const{"aria-label":n,"aria-labelledby":p,className:m,children:b,isSelected:g,expanded:y,tabIndex:l=y?0:-1,index:h,handleSwitcherItemFocus:x,onKeyDown:E=()=>{},href:S,target:w,rel:r,...c}=i,s=I(),L=_(`${s}--switcher__item`,{[m||""]:!!m}),u={"aria-label":n,"aria-labelledby":p},a=_(`${s}--switcher__item-link`,{[`${s}--switcher__item-link--selected`]:g});function o(d){$(d,F)&&(d.preventDefault(),x?.({currentIndex:h||-1,direction:1})),$(d,V)&&(d.preventDefault(),x?.({currentIndex:h||-1,direction:-1}))}return N.createElement("li",{className:L},N.createElement(q,R({onKeyDown:d=>{o(d),E(d)},href:S,target:w,rel:r,ref:f},c,{className:a,tabIndex:l},u),b))});k.displayName="SwitcherItem";k.propTypes={...P,children:e.node.isRequired,className:e.string,handleSwitcherItemFocus:e.func,href:e.string,index:e.number,onClick:e.func,onKeyDown:e.func,tabIndex:e.number,target:e.string,rel:e.string};const A=({className:i,...f})=>{const n=I(),p=_(`${n}--switcher__item--divider`,{[i||""]:!!i});return N.createElement("hr",R({},f,{className:p}))};A.propTypes={className:e.string};const T=t.forwardRef((i,f)=>{const n=t.useRef(null),p=D([n,f]),m=I(),{"aria-label":b,"aria-labelledby":g,className:y,children:l,expanded:h}=i,x={"aria-label":b,"aria-labelledby":g},E=_(`${m}--switcher`,{[y||""]:!!y}),S=({currentIndex:r,direction:c})=>{const s=t.Children.toArray(l).reduce((a,o,d)=>(t.isValidElement(o)&&o.type===k&&Object.keys(o.props).length&&a.push(d),a),[]),L=(()=>{const a=s.indexOf(r)+c;switch(s[a]){case void 0:return c===-1?s[s.length-1]:s[0];case 0:if(c===1)return s[1];default:return s[a]}})(),u=n.current?.children[L]?.children[0];u&&u.focus()},w=t.Children.toArray(l).map((r,c)=>t.isValidElement(r)&&r.type===k?t.cloneElement(r,{handleSwitcherItemFocus:S,index:c,key:c,expanded:h}):t.isValidElement(r)&&r.type===A?t.cloneElement(r,{key:c}):r);return N.createElement("ul",R({ref:p,className:E},x),w)});T.displayName="Switcher";T.propTypes={...P,children:e.node.isRequired,className:e.string,expanded:e.bool};const C=N.forwardRef(({children:i,className:f,expanded:n,addFocusListeners:p=!0,onHeaderPanelFocus:m=H,href:b,...g},y)=>{const l=I(),h=t.useRef(null),x=D([h,y]),E=t.useRef(n!==void 0).current,[S,w]=t.useState(n),r=E?n:S,[c,s]=t.useState(null),L=_(`${l}--header-panel`,{[`${l}--header-panel--expanded`]:r,[f]:!!f}),u={};return p&&(u.onBlur=a=>{!a.currentTarget.contains(a.relatedTarget)&&!c?.classList?.contains(`${l}--switcher__item-link`)&&(w(!1),s(null),n&&m())},u.onKeyDown=a=>{$(a,K)&&(w(!1),m(),b&&(window.location.href=b))}),v("click",a=>{const o=a.target;if(!(o instanceof HTMLElement))return;s(o),t.isValidElement(i)&&typeof i.type!="string"&&i.type===T&&!o.closest(`.${l}--header-panel--expanded`)&&!o.closest(`.${l}--header__action`)&&!h?.current?.classList.contains(`${l}--switcher`)&&n&&(w(!1),m())}),N.createElement("div",R({},g,{className:L,ref:x},u),i)});C.propTypes={addFocusListeners:e.bool,children:e.node,className:e.string,expanded:e.bool,href:e.string,onHeaderPanelFocus:e.func};C.displayName="HeaderPanel";export{C as H,T as S,A as a,k as b};
