{"version":3,"file":"useAttachedMenu-tCJ9pwqm.js","sources":["../../../../node_modules/@carbon/react/es/components/Menu/MenuContext.js","../../../../node_modules/@carbon/react/es/components/LayoutDirection/LayoutDirectionContext.js","../../../../node_modules/@carbon/react/es/components/LayoutDirection/useLayoutDirection.js","../../../../node_modules/@carbon/react/es/components/Menu/Menu.js","../../../../node_modules/@carbon/react/es/internal/useAttachedMenu.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { createContext } from 'react';\n\nconst menuDefaultState = {\n  isRoot: true,\n  hasIcons: false,\n  hasSelectableItems: false,\n  size: null,\n  items: [],\n  requestCloseRoot: () => {}\n};\nfunction menuReducer(state, action) {\n  switch (action.type) {\n    case 'enableIcons':\n      return {\n        ...state,\n        hasIcons: true\n      };\n    case 'enableSelectableItems':\n      return {\n        ...state,\n        hasSelectableItems: true\n      };\n    case 'registerItem':\n      {\n        const newItem = action.payload;\n        const items = state.items.filter(item => item.ref.current);\n        const next = newItem.ref.current?.nextElementSibling;\n        const idx = items.findIndex(item => item.ref.current === next);\n        items.splice(idx < 0 ? items.length : idx, 0, newItem);\n        return {\n          ...state,\n          items\n        };\n      }\n  }\n}\nconst MenuContext = /*#__PURE__*/createContext({\n  state: menuDefaultState,\n  // 'dispatch' is populated by the root menu\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- https://github.com/carbon-design-system/carbon/issues/20452\n  dispatch: _ => {}\n});\n\nexport { MenuContext, menuReducer };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\n\nconst LayoutDirectionContext = /*#__PURE__*/React.createContext({\n  direction: 'ltr'\n});\n\nexport { LayoutDirectionContext };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useContext } from 'react';\nimport { LayoutDirectionContext } from './LayoutDirectionContext.js';\n\n/**\n * Get access to the current layout direction in context\n */\nfunction useLayoutDirection() {\n  return useContext(LayoutDirectionContext);\n}\n\nexport { useLayoutDirection };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef, useRef, useContext, useReducer, useMemo, useState, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Escape, ArrowLeft, ArrowUp, ArrowDown } from '../../internal/keyboard/keys.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport { useMergedRefs } from '../../internal/useMergedRefs.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { deprecate } from '../../prop-types/deprecate.js';\nimport { MenuContext, menuReducer } from './MenuContext.js';\nimport '../LayoutDirection/LayoutDirection.js';\nimport { useLayoutDirection } from '../LayoutDirection/useLayoutDirection.js';\nimport { canUseDOM } from '../../internal/environment.js';\n\nconst spacing = 8; // distance to keep to window edges, in px\n\nconst Menu = /*#__PURE__*/forwardRef(function Menu({\n  backgroundToken = 'layer',\n  border = false,\n  children,\n  className,\n  containerRef,\n  label,\n  menuAlignment,\n  onClose,\n  onOpen,\n  open,\n  size = 'sm',\n  legacyAutoalign = 'true',\n  target = canUseDOM && document.body,\n  x = 0,\n  y = 0,\n  ...rest\n}, forwardRef) {\n  const prefix = usePrefix();\n  const focusReturn = useRef(null);\n  const context = useContext(MenuContext);\n  const isRoot = context.state.isRoot;\n  const menuSize = isRoot ? size : context.state.size;\n  const [childState, childDispatch] = useReducer(menuReducer, {\n    ...context.state,\n    isRoot: false,\n    size,\n    requestCloseRoot: isRoot ? handleClose : context.state.requestCloseRoot\n  });\n  const childContext = useMemo(() => {\n    return {\n      state: childState,\n      dispatch: childDispatch\n    };\n  }, [childState, childDispatch]);\n  const menu = useRef(null);\n  const ref = useMergedRefs([forwardRef, menu]);\n  const [position, setPosition] = useState([-1, -1]);\n  const focusableItems = childContext.state.items.filter(item => !item.disabled && item.ref.current);\n\n  // Getting the width from the parent container element - controlled\n  let actionButtonWidth;\n  if (containerRef?.current) {\n    const {\n      width: w\n    } = containerRef.current.getBoundingClientRect();\n    actionButtonWidth = w;\n  }\n\n  // Set RTL based on the document direction or `LayoutDirection`\n  const {\n    direction\n  } = useLayoutDirection();\n  function returnFocus() {\n    if (focusReturn.current) {\n      focusReturn.current.focus();\n    }\n  }\n  function handleOpen() {\n    if (menu.current) {\n      focusReturn.current = document.activeElement;\n      if (legacyAutoalign) {\n        const pos = calculatePosition();\n        if ((document?.dir === 'rtl' || direction === 'rtl') && !rest?.id?.includes('MenuButton')) {\n          menu.current.style.insetInlineStart = `initial`;\n          menu.current.style.insetInlineEnd = `${pos[0]}px`;\n        } else {\n          menu.current.style.insetInlineStart = `${pos[0]}px`;\n          menu.current.style.insetInlineEnd = `initial`;\n        }\n        menu.current.style.insetBlockStart = `${pos[1]}px`;\n        setPosition(pos);\n      }\n      menu.current.focus();\n      if (onOpen) {\n        onOpen();\n      }\n    }\n  }\n  function handleClose() {\n    returnFocus();\n    if (onClose) {\n      onClose();\n    }\n  }\n  function handleKeyDown(e) {\n    e.stopPropagation();\n\n    // if the user presses escape or this is a submenu\n    // and the user presses ArrowLeft, close it\n    if ((match(e, Escape) || !isRoot && match(e, ArrowLeft)) && onClose) {\n      handleClose();\n    } else {\n      focusItem(e);\n    }\n  }\n  function focusItem(e) {\n    const validItems = focusableItems?.filter(item => item?.ref?.current);\n    if (!validItems?.length) return;\n    const currentItem = focusableItems.findIndex(item => item.ref?.current?.contains(document.activeElement));\n    let indexToFocus = currentItem;\n\n    // if currentItem is -1, no menu item is focused yet.\n    // in this case, the first item should receive focus.\n    if (currentItem === -1) {\n      indexToFocus = 0;\n    } else if (e) {\n      if (match(e, ArrowUp)) {\n        indexToFocus = indexToFocus - 1;\n      }\n      if (match(e, ArrowDown)) {\n        indexToFocus = indexToFocus + 1;\n      }\n    }\n    if (indexToFocus < 0) {\n      indexToFocus = validItems.length - 1;\n    }\n    if (indexToFocus >= validItems.length) {\n      indexToFocus = 0;\n    }\n    if (indexToFocus !== currentItem) {\n      const nodeToFocus = validItems[indexToFocus];\n      nodeToFocus?.ref?.current?.focus();\n      e?.preventDefault();\n    }\n  }\n  function handleBlur(e) {\n    if (open && onClose && isRoot && e.relatedTarget && !menu.current?.contains(e.relatedTarget)) {\n      handleClose();\n    }\n  }\n  function fitValue(range, axis) {\n    if (!menu.current) {\n      return;\n    }\n    const {\n      width,\n      height\n    } = menu.current.getBoundingClientRect();\n    const alignment = isRoot ? 'vertical' : 'horizontal';\n    const axes = {\n      x: {\n        max: window.innerWidth,\n        size: width,\n        anchor: alignment === 'horizontal' ? range[1] : range[0],\n        reversedAnchor: alignment === 'horizontal' ? range[0] : range[1],\n        offset: 0\n      },\n      y: {\n        max: window.innerHeight,\n        size: height,\n        anchor: alignment === 'horizontal' ? range[0] : range[1],\n        reversedAnchor: alignment === 'horizontal' ? range[1] : range[0],\n        offset: isRoot ? 0 : 4 // top padding in menu, used to align the menu items\n      }\n    };\n\n    // Avoid that the Menu render incorrectly when the position is set in the right side of the screen\n    if (actionButtonWidth && actionButtonWidth < axes.x.size && (menuAlignment === 'bottom' || menuAlignment === 'top')) {\n      axes.x.size = actionButtonWidth;\n    }\n\n    // if 'axes.x.anchor' is lower than 87px dynamically switch render side\n    if (actionButtonWidth && (menuAlignment === 'bottom-end' || menuAlignment === 'top-end') && axes.x.anchor >= 87 && actionButtonWidth < axes.x.size) {\n      const diff = axes.x.anchor + axes.x.reversedAnchor;\n      axes.x.anchor = axes.x.anchor + diff;\n    }\n    const {\n      max,\n      size,\n      anchor,\n      reversedAnchor,\n      offset\n    } = axes[axis];\n\n    // get values for different scenarios, set to false if they don't work\n    const options = [\n    // towards max (preferred)\n    max - spacing - size - anchor >= 0 ? anchor - offset : false,\n    // towards min / reversed (first fallback)\n    reversedAnchor - size >= 0 ? reversedAnchor - size + offset : false,\n    // align at max (second fallback)\n    max - spacing - size];\n    const topAlignment = menuAlignment === 'top' || menuAlignment === 'top-end' || menuAlignment === 'top-start';\n\n    // If the tooltip is not visible in the top, switch to the bottom\n    if (typeof options[0] === 'number' && topAlignment && options[0] >= 0 && !options[1] && axis === 'y') {\n      menu.current.style.transform = 'translate(0)';\n    } else if (topAlignment && !options[0] && axis === 'y') {\n      options[0] = anchor - offset;\n    }\n\n    // Previous array `options`, has at least one item that is a number (the last one - second fallback).\n    // That guarantees that the return of `find()` will always be a number\n    // and we can safely add the numeric casting `as number`.\n    const bestOption = options.find(option => option !== false);\n    return bestOption >= spacing ? bestOption : spacing;\n  }\n  function notEmpty(value) {\n    return value !== null && value !== undefined;\n  }\n  function getPosition(x) {\n    if (Array.isArray(x)) {\n      // has to be of length 2\n      const filtered = x.filter(notEmpty);\n      if (filtered.length === 2) {\n        return filtered;\n      } else {\n        return;\n      }\n    } else {\n      return [x, x];\n    }\n  }\n  function calculatePosition() {\n    const ranges = {\n      x: getPosition(x),\n      y: getPosition(y)\n    };\n    if (!ranges.x || !ranges.y) {\n      return [-1, -1];\n    }\n    return [fitValue(ranges.x, 'x') ?? -1, fitValue(ranges.y, 'y') ?? -1];\n  }\n  useEffect(() => {\n    if (open) {\n      const raf = requestAnimationFrame(() => {\n        if (focusableItems.length > 0) {\n          focusItem();\n        }\n      });\n      return () => cancelAnimationFrame(raf);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, focusableItems]);\n  useEffect(() => {\n    if (open) {\n      handleOpen();\n    } else {\n      // reset position when menu is closed in order for the --shown\n      // modifier to be applied correctly\n      setPosition([-1, -1]);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open]);\n  const classNames = cx(className, `${prefix}--menu`, `${prefix}--menu--${menuSize}`, {\n    // --open sets visibility and --shown sets opacity.\n    // visibility is needed for focusing elements.\n    // opacity is only set once the position has been set correctly\n    // to avoid a flicker effect when opening.\n    [`${prefix}--menu--box-shadow-top`]: menuAlignment && menuAlignment.slice(0, 3) === 'top',\n    [`${prefix}--menu--open`]: open,\n    [`${prefix}--menu--shown`]: open && !legacyAutoalign || position[0] >= 0 && position[1] >= 0,\n    [`${prefix}--menu--with-icons`]: childContext.state.hasIcons,\n    [`${prefix}--menu--with-selectable-items`]: childContext.state.hasSelectableItems,\n    [`${prefix}--autoalign`]: !legacyAutoalign,\n    [`${prefix}--menu--border`]: border,\n    [`${prefix}--menu--background-token__background`]: backgroundToken === 'background'\n  });\n  const rendered = /*#__PURE__*/React.createElement(MenuContext.Provider, {\n    value: childContext\n  }, /*#__PURE__*/React.createElement(\"ul\", _extends({}, rest, {\n    className: classNames,\n    role: \"menu\",\n    ref: ref,\n    \"aria-label\": label,\n    tabIndex: -1,\n    onKeyDown: handleKeyDown,\n    onBlur: handleBlur\n  }), children));\n  if (!target) {\n    return rendered;\n  }\n  return isRoot ? open && /*#__PURE__*/createPortal(rendered, target) || null : rendered;\n});\nMenu.propTypes = {\n  /**\n   * Specify the background token to use. Default is 'layer'.\n   */\n  backgroundToken: PropTypes.oneOf(['layer', 'background']),\n  /**\n   * Specify whether a border should be rendered on the menu\n   */\n  border: PropTypes.bool,\n  /**\n   * A collection of MenuItems to be rendered within this Menu.\n   */\n  children: PropTypes.node,\n  /**\n   * Additional CSS class names.\n   */\n  className: PropTypes.string,\n  /**\n   * A label describing the Menu.\n   */\n  label: PropTypes.string,\n  /**\n   * Specify how the menu should align with the button element\n   */\n  menuAlignment: PropTypes.string,\n  /**\n   * **Deprecated**: Menus now always support both icons as well as selectable items and nesting.\n   * The mode of this menu. Defaults to full.\n   * `full` supports nesting and selectable menu items, but no icons.\n   * `basic` supports icons but no nesting or selectable menu items.\n   *\n   * **This prop is not intended for use and will be set by the respective implementation (like useContextMenu, MenuButton, and ComboButton).**\n   */\n  mode: deprecate(PropTypes.oneOf(['full', 'basic']), 'Menus now always support both icons as well as selectable items and nesting.'),\n  /**\n   * Provide an optional function to be called when the Menu should be closed,\n   * including if the Menu is blurred, the user presses escape, or the Menu is\n   * a submenu and the user presses ArrowLeft.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Provide an optional function to be called when the Menu is opened.\n   */\n  onOpen: PropTypes.func,\n  /**\n   * Whether the Menu is open or not.\n   */\n  open: PropTypes.bool,\n  /**\n   * Specify the size of the Menu.\n   */\n  size: PropTypes.oneOf(['xs', 'sm', 'md', 'lg']),\n  /**\n   * Specify a DOM node where the Menu should be rendered in. Defaults to document.body.\n   */\n  target: PropTypes.object,\n  /**\n   * Specify the x position of the Menu. Either pass a single number or an array with two numbers describing your activator's boundaries ([x1, x2])\n   */\n  x: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n  /**\n   * Specify the y position of the Menu. Either pass a single number or an array with two numbers describing your activator's boundaries ([y1, y2])\n   */\n  y: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)])\n};\n\nexport { Menu };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useState } from 'react';\n\n/**\n * Array of two numbers either representing [left, right] or [top, bottom].\n */\n\n/**\n * This hook contains common code to be used when a menu should be visually attached to an anchor based on a click event.\n *\n * @param {Element|object} anchor The element or ref the menu should visually be attached to.\n * @returns {useAttachedMenuReturn}\n */\nfunction useAttachedMenu(anchor) {\n  const [open, setOpen] = useState(false);\n  const [position, setPosition] = useState([[-1, -1], [-1, -1]]);\n  function openMenu() {\n    const anchorEl = anchor?.current || anchor;\n    if (anchorEl) {\n      const {\n        left,\n        top,\n        right,\n        bottom\n      } = anchorEl.getBoundingClientRect();\n      setPosition([[left, right], [top, bottom]]);\n    }\n    setOpen(true);\n  }\n  function closeMenu() {\n    setOpen(false);\n  }\n  function handleClick() {\n    if (open) {\n      closeMenu();\n    } else {\n      openMenu();\n    }\n  }\n  function handleMousedown(e) {\n    // prevent default for mousedown on trigger element to avoid\n    // the \"blur\" event from firing on the menu as this would close\n    // it and immediately re-open since \"click\" event is fired after\n    // \"blur\" event.\n    e.preventDefault();\n  }\n  return {\n    open,\n    x: position[0],\n    y: position[1],\n    handleClick,\n    handleMousedown,\n    handleClose: closeMenu\n  };\n}\n\nexport { useAttachedMenu };\n"],"names":["menuDefaultState","menuReducer","state","action","newItem","items","item","next","idx","MenuContext","createContext","_","LayoutDirectionContext","useLayoutDirection","useContext","spacing","Menu","forwardRef","backgroundToken","border","children","className","containerRef","label","menuAlignment","onClose","onOpen","open","size","legacyAutoalign","target","canUseDOM","x","y","rest","prefix","usePrefix","focusReturn","useRef","context","isRoot","menuSize","childState","childDispatch","useReducer","handleClose","childContext","useMemo","menu","ref","useMergedRefs","position","setPosition","useState","focusableItems","actionButtonWidth","w","direction","returnFocus","handleOpen","pos","calculatePosition","handleKeyDown","match","Escape","ArrowLeft","focusItem","validItems","currentItem","indexToFocus","ArrowUp","ArrowDown","handleBlur","fitValue","range","axis","width","height","alignment","axes","diff","max","anchor","reversedAnchor","offset","options","topAlignment","bestOption","option","notEmpty","value","getPosition","filtered","ranges","useEffect","raf","classNames","cx","rendered","React","_extends","createPortal","PropTypes","deprecate","useAttachedMenu","setOpen","openMenu","anchorEl","left","top","right","bottom","closeMenu","handleClick","handleMousedown","e"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}