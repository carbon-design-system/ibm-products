import{k as g,r as x,q as m,l as y,x as l,n as o,c as _}from"./iframe-CRtCEvHj.js";import{r as h}from"./state-CtNM5jHe.js";import{a as f}from"./query-DAIS6qJ0.js";import{e as z}from"./class-map-BDBYr7ko.js";import{o as v}from"./style-map-DCFPMVS-.js";import"./definition-tooltip-BV9MAPtz.js";import"./button-BPrzbWFT.js";import"./link-D5cw_Yv2.js";const b="@keyframes cds--hide-feedback{0%{opacity:1;visibility:inherit}to{opacity:0;visibility:hidden}}@keyframes cds--show-feedback{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:inherit}}@keyframes cds--skeleton{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}to{opacity:.3;transform:scaleX(0);transform-origin:left}}.cds--layout--size-xs{--cds-layout-size-height-context: var(--cds-layout-size-height-xs, 1.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xs{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xs, 1.5rem))}.cds--layout-constraint--size__min-xs{--cds-layout-size-height-min: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout-constraint--size__max-xs{--cds-layout-size-height-max: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout--size-sm{--cds-layout-size-height-context: var(--cds-layout-size-height-sm, 2rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-sm{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-sm, 2rem))}.cds--layout-constraint--size__min-sm{--cds-layout-size-height-min: var(--cds-layout-size-height-sm, 2rem)}.cds--layout-constraint--size__max-sm{--cds-layout-size-height-max: var(--cds-layout-size-height-sm, 2rem)}.cds--layout--size-md{--cds-layout-size-height-context: var(--cds-layout-size-height-md, 2.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-md{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-md, 2.5rem))}.cds--layout-constraint--size__min-md{--cds-layout-size-height-min: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout-constraint--size__max-md{--cds-layout-size-height-max: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout--size-lg{--cds-layout-size-height-context: var(--cds-layout-size-height-lg, 3rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-lg{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-lg, 3rem))}.cds--layout-constraint--size__min-lg{--cds-layout-size-height-min: var(--cds-layout-size-height-lg, 3rem)}.cds--layout-constraint--size__max-lg{--cds-layout-size-height-max: var(--cds-layout-size-height-lg, 3rem)}.cds--layout--size-xl{--cds-layout-size-height-context: var(--cds-layout-size-height-xl, 4rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xl, 4rem))}.cds--layout-constraint--size__min-xl{--cds-layout-size-height-min: var(--cds-layout-size-height-xl, 4rem)}.cds--layout-constraint--size__max-xl{--cds-layout-size-height-max: var(--cds-layout-size-height-xl, 4rem)}.cds--layout--size-2xl{--cds-layout-size-height-context: var(--cds-layout-size-height-2xl, 5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-2xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-2xl, 5rem))}.cds--layout-constraint--size__min-2xl{--cds-layout-size-height-min: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout-constraint--size__max-2xl{--cds-layout-size-height-max: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout--density-condensed{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-condensed, .5rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-condensed{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-condensed, .5rem))}.cds--layout-constraint--density__min-condensed{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout-constraint--density__max-condensed{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout--density-normal{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-normal, 1rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-normal{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-normal, 1rem))}.cds--layout-constraint--density__min-normal{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-normal, 1rem)}.cds--layout-constraint--density__max-normal{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-normal, 1rem)}:root{--cds-layout-size-height-xs: 1.5rem;--cds-layout-size-height-sm: 2rem;--cds-layout-size-height-md: 2.5rem;--cds-layout-size-height-lg: 3rem;--cds-layout-size-height-xl: 4rem;--cds-layout-size-height-2xl: 5rem;--cds-layout-size-height-min: 0px;--cds-layout-size-height-max: 999999999px;--cds-layout-density-padding-inline-condensed: .5rem;--cds-layout-density-padding-inline-normal: 1rem;--cds-layout-density-padding-inline-min: 0px;--cds-layout-density-padding-inline-max: 999999999px}.cds--assistive-text,.cds--visually-hidden{position:absolute;overflow:hidden;padding:0;border:0;margin:-1px;block-size:1px;clip:rect(0,0,0,0);inline-size:1px;visibility:inherit;white-space:nowrap}.c4p--truncated-text_button-expand,.c4p--truncated-text_button-collapse{border:none;cursor:pointer;font:inherit;line-height:inherit}:host(c4p-truncated-text){display:block;inline-size:100%}@media (prefers-reduced-motion: no-preference){:host(c4p-truncated-text) .c4p--truncated-text_transition{transition:max-height .11s cubic-bezier(.2,0,.38,.9)}}:host(c4p-truncated-text) .c4p--truncated-text_content{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:var(--line-clamp, 0);text-overflow:clip;white-space:normal}:host(c4p-truncated-text) .c4p--truncated-text_content:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(c4p-truncated-text) .c4p--truncated-text_content:focus{outline-style:dotted}}:host(c4p-truncated-text) .c4p--truncated-text_content--closing{-webkit-line-clamp:none}:host(c4p-truncated-text) cds-tooltip{display:inline-flex}:host(c4p-truncated-text) button:focus,:host(c4p-truncated-text) .c4p--truncated-text_button-expand:focus,:host(c4p-truncated-text) .c4p--truncated-text_button-collapse:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(c4p-truncated-text) button:focus,:host(c4p-truncated-text) .c4p--truncated-text_button-expand:focus,:host(c4p-truncated-text) .c4p--truncated-text_button-collapse:focus{outline-style:dotted}}.c4p--truncated-text_button-expand,.c4p--truncated-text_button-collapse{padding:0 .125rem;color:var(--cds-link-primary, #0f62fe)}.c4p--truncated-text_button-expand.c4p--truncated-text_button-hide,.c4p--truncated-text_button-collapse.c4p--truncated-text_button-hide{display:none}.c4p--truncated-text_button-expand.c4p--truncated-text_button-layered{background-color:var(--cds-layer)}.c4p--truncated-text_button-expand:dir(ltr):before{background:linear-gradient(90deg,rgba(255,255,255,0) 0%,var(--cds-background, #ffffff) 0%)}.c4p--truncated-text_button-expand.c4p--truncated-text_button-layered:dir(ltr):before{background:linear-gradient(90deg,rgba(255,255,255,0) 0%,var(--cds-layer) 0%)}.c4p--truncated-text_button-expand:dir(rtl):before{background:linear-gradient(270deg,rgba(255,255,255,0) 0%,var(--cds-background, #ffffff) 0%)}.c4p--truncated-text_button-expand.c4p--truncated-text_button-layered:dir(rtl):before{background:linear-gradient(270deg,rgba(255,255,255,0) 0%,var(--cds-layer) 0%)}.c4p--truncated-text_button-collapse{background-color:transparent}",$=g(b);var E=Object.defineProperty,w=Object.getOwnPropertyDescriptor,s=(t,i,d,n)=>{for(var r=n>1?void 0:n?w(i,d):i,c=t.length-1,u;c>=0;c--)(u=t[c])&&(r=(n?u(i,d,r):u(r))||r);return n&&r&&E(i,d,r),r};const p="truncated-text",a=`${y}--${p}`,k=`${y}-${p}`;let e=class extends x{constructor(){super(...arguments),this.align="top",this.autoalign=!1,this.collapseLabel="",this.expandLabel="",this.id="",this.lines=0,this.type="tooltip",this.value="",this._isOverflowing=!1,this._isExpanded=!1,this._maxHeight="none",this._lineHeight=0,this._isLayered=!1}connectedCallback(){super.connectedCallback(),this._isLayered=!!this.closest(`${m}-layer`),this.type=this.type||"tooltip"}disconnectedCallback(){this._resizeObserver?.disconnect(),super.disconnectedCallback()}firstUpdated(){requestAnimationFrame(()=>{const t=getComputedStyle(this._textElement);this._lineHeight=parseFloat(t.lineHeight),this._setupResizeObserver()})}updated(t){(t.has("lines")||t.has("value"))&&(this._updateOverflowStatus(),this._updateMaxHeight())}_updateMaxHeight(){this.type==="expand"&&requestAnimationFrame(()=>{this._textElement&&(this._maxHeight=this.lines>0&&!this._isExpanded?`${this.lines*this._lineHeight}px`:`${this._textElement.scrollHeight}px`)})}_setupResizeObserver(){this._textElement&&(this._resizeObserver&&this._resizeObserver.disconnect(),this._resizeObserver=new ResizeObserver(()=>{this._updateOverflowStatus()}),this._resizeObserver.observe(this))}_updateOverflowStatus(){if(!this._textElement||this.lines<=0)return;this._updateMaxHeight();const{scrollHeight:t,clientHeight:i}=this._textElement,d=this._lineHeight/2,n=t>i+d;n!==this._isOverflowing&&(this._isOverflowing=n)}_handleKeydown(t){const{key:i}=t;(i==="Enter"||i===" ")&&this._toggleExpansion()}_toggleExpansion(){this._isExpanded=!this._isExpanded,this._updateMaxHeight(),this._textElement?.classList.add(`${a}_transition`);const t=()=>{this._textElement?.querySelector("button")?.focus(),this._textElement?.removeEventListener("transitionend",t)};this._textElement?.addEventListener("transitionend",t),this._isExpanded===!1&&(this._textElement?.classList.add(`${a}_content--closing`),setTimeout(()=>{this._textElement?.classList.remove(`${a}_content--closing`)},100))}_renderToggleButton(){const t=z({[`${a}_button-collapse`]:this._isExpanded,[`${a}_button-expand`]:!this._isExpanded,[`${a}_button-layered`]:this._isLayered,[`${a}_button-hide`]:!this._isOverflowing&&!this._isExpanded}),i=this._isExpanded?this.collapseLabel:this.expandLabel;return l`
      <span
        aria-controls=${this.id}
        aria-expanded=${this._isExpanded}
        class=${t}
        @click=${this._toggleExpansion}
        @keydown=${this._handleKeydown}
        role="button"
        tabIndex="0"
      >
        ${i}
      </span>
    `}render(){const t={"--line-clamp":this._isExpanded?"none":this.lines,"max-block-size":this.type==="expand"?this._maxHeight:"none"},i=l`
      <div
        id=${this.id}
        class="${a}_content"
        style=${v(t)}
      >
        ${this.value}
      </div>
    `,d=l`
      <cds-tooltip
        align=${this.align}
        autoalign=${this.autoalign}
        enter-delay-ms="0"
        leave-delay-ms="0"
      >
        ${i}
        <cds-tooltip-content>${this.value}</cds-tooltip-content>
      </cds-tooltip>
    `,n=l`${i} ${this._renderToggleButton()}`;return this.type==="tooltip"&&this._isOverflowing?d:n}};e.styles=$;s([o({reflect:!0,type:String})],e.prototype,"align",2);s([o({type:Boolean,reflect:!0})],e.prototype,"autoalign",2);s([o({attribute:"collapse-label",type:String,reflect:!0})],e.prototype,"collapseLabel",2);s([o({attribute:"expand-label",type:String,reflect:!0})],e.prototype,"expandLabel",2);s([o({type:String,reflect:!0})],e.prototype,"id",2);s([o({type:Number,reflect:!0})],e.prototype,"lines",2);s([o({type:String,reflect:!0})],e.prototype,"type",2);s([o({type:String,attribute:"value",reflect:!0})],e.prototype,"value",2);s([h()],e.prototype,"_isOverflowing",2);s([h()],e.prototype,"_isExpanded",2);s([h()],e.prototype,"_maxHeight",2);s([f(`.${a}_content`)],e.prototype,"_textElement",2);e=s([_(k)],e);const q=e;export{q as C};
