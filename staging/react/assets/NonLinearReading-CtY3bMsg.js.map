{"version":3,"file":"NonLinearReading-CtY3bMsg.js","sources":["../../src/components/NonLinearReading/NonLinearReading.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2023, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { ReactNode, useRef, useState } from 'react';\n\nimport { ChevronDown } from '@carbon/react/icons';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\nimport uuidv4 from '../../global/js/utils/uuidv4';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--non-linear-reading`;\nconst componentName = 'NonLinearReading';\n\ntype Theme = 'light' | 'dark';\nexport interface NonLinearReadingProps {\n  /**\n   * The keyword of the component appears as a pill.\n   */\n  children: ReactNode;\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n\n  /**\n   * The content that appears when the keyword is toggled open.\n   */\n  definition: ReactNode;\n\n  /**\n   * Determines the theme of the component.\n   */\n  theme?: Theme;\n}\n/**\n * Use non-linear reading when space is limited to share a\n * brief, at-a-glance, summary of a concept that may require\n * more explanation for some users.\n */\nexport const NonLinearReading = React.forwardRef<\n  HTMLSpanElement,\n  NonLinearReadingProps\n>(\n  (\n    {\n      children,\n      className,\n      definition,\n      theme = 'light',\n      ...rest\n    }: NonLinearReadingProps,\n    ref\n  ) => {\n    const [isOpen, setOpen] = useState(false);\n    const contentId = useRef(uuidv4()).current;\n\n    const handleToggle = () => {\n      setOpen((prevState) => !prevState);\n    };\n\n    return (\n      <span\n        {...rest}\n        className={cx(blockClass, `${blockClass}__${theme}`, className)}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n      >\n        {' '}\n        <button\n          type=\"button\"\n          aria-controls={contentId}\n          aria-expanded={isOpen}\n          className={cx(`${blockClass}__keyword`, [\n            isOpen\n              ? [`${blockClass}__keyword-open`]\n              : [`${blockClass}__keyword-closed`],\n          ])}\n          onClick={handleToggle}\n        >\n          {children}\n          <ChevronDown size={16} />\n        </button>{' '}\n        <span id={contentId} className={`${blockClass}__body`} hidden={!isOpen}>\n          {isOpen && definition}\n        </span>{' '}\n      </span>\n    );\n  }\n);\n\n// Return a placeholder if not released and not enabled by feature flag\nNonLinearReading.displayName = componentName;\n\nNonLinearReading.propTypes = {\n  /**\n   * The keyword of the component appears as a pill.\n   */\n\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n\n  /**\n   * The content that appears when the keyword is toggled open.\n   */\n  definition: PropTypes.node.isRequired,\n\n  /**\n   * Determines the theme of the component.\n   */\n  theme: PropTypes.oneOf(['light', 'dark']),\n};\n"],"names":["blockClass","pkg","componentName","NonLinearReading","React","children","className","definition","theme","rest","ref","isOpen","setOpen","useState","contentId","useRef","uuidv4","handleToggle","prevState","cx","getDevtoolsProps","ChevronDown","PropTypes"],"mappings":"gKAiBA,MAAMA,EAAa,GAAGC,EAAI,MAAM,uBAC1BC,EAAgB,mBA6BTC,EAAmBC,EAAM,WAIpC,CACE,CACE,SAAAC,EACA,UAAAC,EACA,WAAAC,EACA,MAAAC,EAAQ,QACR,GAAGC,CAAA,EAELC,IACG,CACH,KAAM,CAACC,EAAQC,CAAO,EAAIC,EAAAA,SAAS,EAAK,EAClCC,EAAYC,EAAAA,OAAOC,EAAA,CAAQ,EAAE,QAE7BC,EAAe,IAAM,CACzBL,EAASM,GAAc,CAACA,CAAS,CACnC,EAEA,OACEd,EAAA,cAAC,OAAA,CACE,GAAGK,EACJ,UAAWU,EAAGnB,EAAY,GAAGA,CAAU,KAAKQ,CAAK,GAAIF,CAAS,EAC9D,IAAAI,EACC,GAAGU,EAAiBlB,CAAa,CAAA,EAEjC,IACDE,EAAA,cAAC,SAAA,CACC,KAAK,SACL,gBAAeU,EACf,gBAAeH,EACf,UAAWQ,EAAG,GAAGnB,CAAU,YAAa,CACtCW,EACI,CAAC,GAAGX,CAAU,gBAAgB,EAC9B,CAAC,GAAGA,CAAU,kBAAkB,CAAA,CACrC,EACD,QAASiB,CAAA,EAERZ,EACDD,EAAA,cAACiB,EAAA,CAAY,KAAM,EAAA,CAAI,CAAA,EACf,IACVjB,EAAA,cAAC,OAAA,CAAK,GAAIU,EAAW,UAAW,GAAGd,CAAU,SAAU,OAAQ,CAACW,CAAA,EAC7DA,GAAUJ,CACb,EAAQ,GAAA,CAGd,CACF,EAGAJ,EAAiB,YAAcD,EAE/BC,EAAiB,UAAY,CAK3B,SAAUmB,EAAU,KAAK,WAKzB,UAAWA,EAAU,OAKrB,WAAYA,EAAU,KAAK,WAK3B,MAAOA,EAAU,MAAM,CAAC,QAAS,MAAM,CAAC,CAC1C;;"}