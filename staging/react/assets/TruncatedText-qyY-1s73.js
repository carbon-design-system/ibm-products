import{r as i,p as v,c as g,e as a,L as $}from"./iframe-BixY_nzU.js";import{g as A}from"./devtools-BgBiig7t.js";const H=e=>e?e?.offsetHeight<e?.scrollHeight:!1;function z({lines:e,value:p,expanded:l}){const[o,u]=i.useState(!1),t=i.useRef(null);return i.useEffect(()=>{const c=new ResizeObserver(()=>{if(!l){const s=H(t.current);s!==o&&u(s)}});return t.current&&c.observe(t.current),()=>{c.disconnect()}},[l,e,p,o]),{ref:t,truncated:o}}const r=`${v.prefix}--truncated-text`,h="TruncatedText";let d=i.forwardRef((e,p)=>{const{align:l="top",autoAlign:o=!1,className:u,collapseLabel:t,expandLabel:c,id:s=`${r}-default-id`,lines:b=2,value:f,type:m="tooltip",...E}=e,[n,w]=i.useState(!1),{ref:q,truncated:C}=z({lines:b,value:f,expanded:n}),N={WebkitLineClamp:m==="expand"&&!n||m==="tooltip"?b:"none"},_=g(`${r}__text-content`,{[`${r}__text-content--expanded`]:n}),y=()=>{w(!n)},k=S=>{const{key:T}=S;(T==="Enter"||T===" ")&&y()},x=a.createElement("span",{ref:q,className:_,id:s,style:N},f),L=a.createElement($,{align:l,autoAlign:o,label:f},x),R=a.createElement(a.Fragment,null,x,a.createElement("span",{"aria-controls":s,"aria-expanded":n,className:`${r}__expand-toggle`,onClick:y,onKeyDown:k,role:"button",tabIndex:0},n?t:c)),O=m==="expand"?R:L;return a.createElement("div",{...E,className:g(r,u),ref:p,...A(h)},C?O:x)});d=v.checkComponentEnabled(d,h);d.displayName=h;d.__docgenInfo={description:"",methods:[],displayName:"TruncatedText",props:{align:{required:!1,tsType:{name:"PopoverAlignment"},description:"Specify how the tooltip should align with the content in tooltip variant. Refer to Carbon tooltip docs for additional information."},autoAlign:{required:!1,tsType:{name:"boolean"},description:"Specify whether a auto align functionality should be applied in tooltip variant. Refer to Carbon tooltip docs for additional information."},className:{required:!1,tsType:{name:"string"},description:"Optional class."},collapseLabel:{required:!1,tsType:{name:"string"},description:"The label on the collapse button."},expandLabel:{required:!1,tsType:{name:"string"},description:"The label on expand button."},id:{required:!0,tsType:{name:"string"},description:"Unique identifier for the element."},lines:{required:!1,tsType:{name:"number"},description:"The maximum number of lines to display before truncation."},type:{required:!1,tsType:{name:"union",raw:"'tooltip' | 'expand'",elements:[{name:"literal",value:"'tooltip'"},{name:"literal",value:"'expand'"}]},description:'The method to display the full text when truncated. Options are "tooltip" or "expand". if not passed, the text would just be truncated with ellipsis.'},value:{required:!1,tsType:{name:"string"},description:"The string value to be truncated."}}};export{d as T};
