{"version":3,"file":"StructuredList-BVdLXNdl.js","sources":["../../../../node_modules/@carbon/react/es/components/StructuredList/StructuredList.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { useId } from '../../internal/useId.js';\nimport { deprecate } from '../../prop-types/deprecate.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { Text } from '../Text/Text.js';\nimport '../Text/TextDirection.js';\nimport { RadioButtonChecked, RadioButton } from '@carbon/icons-react';\nimport { useOutsideClick } from '../../internal/useOutsideClick.js';\n\nvar _StructuredListCell;\nconst GridSelectedRowStateContext = /*#__PURE__*/React.createContext(null);\nconst GridSelectedRowDispatchContext = /*#__PURE__*/React.createContext(null);\nfunction StructuredListWrapper(props) {\n  const {\n    children,\n    selection,\n    className,\n    ['aria-label']: ariaLabel = 'Structured list section',\n    // @ts-expect-error: Deprecated prop\n    ariaLabel: deprecatedAriaLabel,\n    isCondensed,\n    isFlush,\n    selectedInitialRow,\n    ...other\n  } = props;\n  const prefix = usePrefix();\n  const classes = cx(`${prefix}--structured-list`, {\n    [`${prefix}--structured-list--selection`]: selection,\n    [`${prefix}--structured-list--condensed`]: isCondensed,\n    [`${prefix}--structured-list--flush`]: isFlush && !selection\n  }, className);\n  const [selectedRow, setSelectedRow] = React.useState(selectedInitialRow ?? null);\n  return /*#__PURE__*/React.createElement(GridSelectedRowStateContext.Provider, {\n    value: selectedRow\n  }, /*#__PURE__*/React.createElement(GridSelectedRowDispatchContext.Provider, {\n    value: setSelectedRow\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"table\",\n    className: classes\n  }, other, {\n    \"aria-label\": deprecatedAriaLabel || ariaLabel\n  }), children)));\n}\nStructuredListWrapper.propTypes = {\n  /**\n   * Specify a label to be read by screen readers on the container node\n   */\n  ['aria-label']: PropTypes.string,\n  /**\n   * Deprecated, please use `aria-label` instead.\n   * Specify a label to be read by screen readers on the container note.\n   */\n  ariaLabel: deprecate(PropTypes.string, 'This prop syntax has been deprecated. Please use the new `aria-label`.'),\n  /**\n   * Provide the contents of your StructuredListWrapper\n   */\n  children: PropTypes.node,\n  /**\n   * Specify an optional className to be applied to the container node\n   */\n  className: PropTypes.string,\n  /**\n   * Specify if structured list is condensed, default is false\n   */\n  isCondensed: PropTypes.bool,\n  /**\n   * Specify if structured list is flush, not valid for selection variant, default is false\n   */\n  isFlush: PropTypes.bool,\n  /**\n   * Specify whether your StructuredListWrapper should have selections\n   */\n  selection: PropTypes.bool,\n  /**\n   * Specify which row will be selected initially\n   */\n  selectedInitialRow: PropTypes.string\n};\nfunction StructuredListHead(props) {\n  const {\n    children,\n    className,\n    ...other\n  } = props;\n  const prefix = usePrefix();\n  const classes = cx(`${prefix}--structured-list-thead`, className);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"rowgroup\",\n    className: classes\n  }, other), children);\n}\nStructuredListHead.propTypes = {\n  /**\n   * Provide the contents of your StructuredListHead\n   */\n  children: PropTypes.node,\n  /**\n   * Specify an optional className to be applied to the node\n   */\n  className: PropTypes.string\n};\nfunction StructuredListBody(props) {\n  const {\n    children,\n    className,\n    ...other\n  } = props;\n  const prefix = usePrefix();\n  const classes = cx(`${prefix}--structured-list-tbody`, className);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: classes,\n    role: \"rowgroup\"\n  }, other), children);\n}\nStructuredListBody.propTypes = {\n  /**\n   * Provide the contents of your StructuredListBody\n   */\n  children: PropTypes.node,\n  /**\n   * Specify an optional className to be applied to the container node\n   */\n  className: PropTypes.string,\n  head: PropTypes.bool,\n  /**\n   * Provide a handler that is invoked on the key down event for the control\n   */\n  onKeyDown: PropTypes.func\n};\nconst GridRowContext = /*#__PURE__*/React.createContext(null);\nfunction StructuredListRow(props) {\n  const {\n    onKeyDown,\n    children,\n    className,\n    head,\n    onClick,\n    selection,\n    id,\n    ...other\n  } = props;\n  const [hasFocusWithin, setHasFocusWithin] = useState(false);\n  // eslint-disable-next-line  react-hooks/rules-of-hooks -- https://github.com/carbon-design-system/carbon/issues/20452\n  const rowId = id ?? useId('grid-input');\n  const selectedRow = React.useContext(GridSelectedRowStateContext);\n  const setSelectedRow = React.useContext(GridSelectedRowDispatchContext);\n  const prefix = usePrefix();\n  const value = {\n    id: rowId\n  };\n  const classes = cx(`${prefix}--structured-list-row`, {\n    [`${prefix}--structured-list-row--header-row`]: head,\n    [`${prefix}--structured-list-row--focused-within`]: hasFocusWithin && !selection || hasFocusWithin && selection && (selectedRow === rowId || selectedRow === null),\n    // Ensure focus on the first item when navigating through Tab keys and no row is selected (selectedRow === null)\n    [`${prefix}--structured-list-row--selected`]: selectedRow === rowId\n  }, className);\n  const itemRef = useRef(null);\n  const handleClick = () => {\n    setHasFocusWithin(false);\n  };\n  useOutsideClick(itemRef, handleClick);\n  return head ? /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"row\"\n  }, other, {\n    className: classes\n  }), selection && (_StructuredListCell || (_StructuredListCell = /*#__PURE__*/React.createElement(StructuredListCell, {\n    head: true\n  }))), children) :\n  /*#__PURE__*/\n  // eslint-disable-next-line jsx-a11y/interactive-supports-focus\n  React.createElement(\"div\", _extends({}, other, {\n    role: \"row\",\n    className: classes,\n    ref: itemRef,\n    onClick: event => {\n      setSelectedRow?.(rowId);\n      // eslint-disable-next-line  @typescript-eslint/no-unused-expressions -- https://github.com/carbon-design-system/carbon/issues/20452\n      onClick && onClick(event);\n      if (selection) {\n        // focus items only when selection is enabled\n        setHasFocusWithin(true);\n      }\n    },\n    onFocus: event => {\n      if (selection || event.currentTarget === event.target) {\n        setHasFocusWithin(true);\n      }\n    },\n    onBlur: () => {\n      setHasFocusWithin(false);\n    },\n    onKeyDown: onKeyDown\n  }), /*#__PURE__*/React.createElement(GridRowContext.Provider, {\n    value: value\n  }, selection && /*#__PURE__*/React.createElement(StructuredListCell, null, selectedRow === rowId ? /*#__PURE__*/React.createElement(RadioButtonChecked, {\n    className: `${prefix}--structured-list__icon`\n  }) : /*#__PURE__*/React.createElement(RadioButton, {\n    className: `${prefix}--structured-list__icon`\n  })), children));\n}\nStructuredListRow.propTypes = {\n  /**\n   * Provide the contents of your StructuredListRow\n   */\n  children: PropTypes.node,\n  /**\n   * Specify an optional className to be applied to the container node\n   */\n  className: PropTypes.string,\n  /**\n   * Specify whether your StructuredListRow should be used as a header row\n   */\n  head: PropTypes.bool,\n  /**\n   * Specify whether a `<label>` should be used\n   */\n  label: deprecate(PropTypes.bool, `\\nThe \\`label\\` prop is no longer needed and will be removed in the next major version of Carbon.`),\n  /**\n   * Provide a handler that is invoked on the click\n   */\n  onClick: PropTypes.func,\n  /**\n   * Provide a handler that is invoked on the key down event for the control,\n   */\n  onKeyDown: PropTypes.func,\n  /**\n   * Mark if this row should be selectable\n   */\n  selection: PropTypes.bool,\n  /**\n   * Specify row id so that it can be used for initial selection\n   */\n  id: PropTypes.string\n};\nfunction StructuredListInput(props) {\n  const defaultId = useId('structureListInput');\n  const {\n    className,\n    name = `structured-list-input-${defaultId}`,\n    title,\n    id,\n    onChange,\n    ...other\n  } = props;\n  const prefix = usePrefix();\n  const classes = cx(`${prefix}--structured-list-input`, `${prefix}--visually-hidden`, className);\n  const row = React.useContext(GridRowContext);\n  const selectedRow = React.useContext(GridSelectedRowStateContext);\n  const setSelectedRow = React.useContext(GridSelectedRowDispatchContext);\n  return /*#__PURE__*/React.createElement(\"input\", _extends({}, other, {\n    type: \"radio\",\n    tabIndex: 0,\n    checked: !!row && row.id === selectedRow,\n    value: row?.id ?? '',\n    onChange: event => {\n      setSelectedRow?.(event.target.value);\n      // eslint-disable-next-line  @typescript-eslint/no-unused-expressions -- https://github.com/carbon-design-system/carbon/issues/20452\n      onChange && onChange(event);\n    },\n    id: id ?? defaultId,\n    className: classes,\n    name: name,\n    title: title\n  }));\n}\nStructuredListInput.propTypes = {\n  /**\n   * Specify an optional className to be applied to the input\n   */\n  className: PropTypes.string,\n  /**\n   * Specify whether the underlying input should be checked by default\n   */\n  defaultChecked: deprecate(PropTypes.bool, `\\nThe prop \\`defaultChecked\\` is no longer needed and will be removed in the next major version of Carbon.`),\n  /**\n   * Specify a custom `id` for the input\n   */\n  id: PropTypes.string,\n  /**\n   * Provide a `name` for the input\n   */\n  name: PropTypes.string,\n  /**\n   * Provide an optional hook that is called each time the input is updated\n   */\n  onChange: PropTypes.func,\n  /**\n   * Provide a `title` for the input\n   */\n  title: PropTypes.string,\n  /**\n   * Specify the value of the input\n   */\n  value: deprecate(PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired, `\\nThe prop \\`value\\` will be removed in the next major version of Carbon.`)\n};\nfunction StructuredListCell(props) {\n  const {\n    children,\n    className,\n    head,\n    noWrap,\n    ...other\n  } = props;\n  const prefix = usePrefix();\n  const classes = cx({\n    [`${prefix}--structured-list-th`]: head,\n    [`${prefix}--structured-list-td`]: !head,\n    [`${prefix}--structured-list-content--nowrap`]: noWrap\n  }, className);\n  if (head) {\n    return /*#__PURE__*/React.createElement(Text, _extends({\n      className: classes,\n      role: \"columnheader\"\n    }, other), children);\n  }\n  return /*#__PURE__*/React.createElement(Text, _extends({\n    as: \"div\",\n    className: classes,\n    role: \"cell\"\n  }, other), children);\n}\nStructuredListCell.propTypes = {\n  /**\n   * Provide the contents of your StructuredListCell\n   */\n  children: PropTypes.node,\n  /**\n   * Specify an optional className to be applied to the container node\n   */\n  className: PropTypes.string,\n  /**\n   * Specify whether your StructuredListCell should be used as a header cell\n   */\n  head: PropTypes.bool,\n  /**\n   * Specify whether your StructuredListCell should have text wrapping\n   */\n  noWrap: PropTypes.bool\n};\n\nexport { StructuredListBody, StructuredListCell, StructuredListHead, StructuredListInput, StructuredListRow, StructuredListWrapper };\n"],"names":["_StructuredListCell","GridSelectedRowStateContext","React","GridSelectedRowDispatchContext","StructuredListWrapper","props","children","selection","className","ariaLabel","deprecatedAriaLabel","isCondensed","isFlush","selectedInitialRow","other","prefix","usePrefix","classes","cx","selectedRow","setSelectedRow","_extends","PropTypes","deprecate","StructuredListHead","StructuredListBody","GridRowContext","StructuredListRow","onKeyDown","head","onClick","id","hasFocusWithin","setHasFocusWithin","useState","rowId","useId","value","itemRef","useRef","useOutsideClick","StructuredListCell","event","RadioButtonChecked","RadioButton","StructuredListInput","defaultId","name","title","onChange","row","noWrap","Text"],"mappings":"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","x_google_ignoreList":[0]}