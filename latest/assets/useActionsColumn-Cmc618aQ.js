import{e as t}from"./index-CPiZ6Cnx.js";import{b as R,_ as S,c as w,P as B}from"./index-CXyjPnaX.js";import{O as T}from"./index-mnDakJPj.js";import{O as W}from"./OverflowMenuItem-B5Kp6Vn3.js";import{p as j,I as z}from"./settings-DkGFwmHv.js";import{p as F}from"./props-helper-C4XfpXsc.js";const v=o=>{let{className:A,...$}=o;const i=R();return t.createElement("div",S({className:w(`${i}--icon--skeleton`,A)},$))};v.propTypes={className:B.string};const s=`${j.prefix}--datagrid`,U=o=>{const A=i=>{const{rowActions:e,isFetching:a,state:{selectedRowIds:l}}=i,r=c=>!!Object.keys(l).map(k=>Number(k)).includes(c);if(e&&Array.isArray(e)){const c=(u,k)=>{const{cell:M}=k,{row:n,column:E}=M;if(E.isAction){const _=!!E.sticky;return[u,{children:t.createElement("div",{className:`${s}__actions-column-contents`},a&&t.createElement(v,{className:`${s}__actions-column-loading`}),!a&&e.length<=2&&!_&&t.createElement("div",{className:`${s}_actions-column`},e.map((d,g)=>{const m=F(d,["isDelete"]),{align:h,id:b,itemText:p,onClick:f,icon:x,shouldHideMenuItem:I,shouldDisableMenuItem:y,disabled:C,...D}=m,O=typeof I=="function"&&I(n),H=typeof y=="function"?y(n):C;if(O)return null;const N=x;return t.createElement("div",{className:w(`${s}__actions-column-button`,{[`${s}__disabled-row-action-button`]:r(n.index)}),key:`${p}__${g}`},t.createElement(z,{...D,align:h||"top",label:p,kind:"ghost",name:p,className:w({[`${s}__disabled-row-action`]:r(n.index)}),onClick:P=>{r(n.index)||(P.stopPropagation(),f==null||f(b,n,P))},disabled:H},N&&t.createElement(N,null)))})),!a&&(e.length>2||_)&&t.createElement("div",null,t.createElement(T,{align:"left",size:"sm",flipped:!0,onClick:d=>{d.stopPropagation()}},e.map(d=>{const{id:g,onClick:m,shouldHideMenuItem:h,shouldDisableMenuItem:b,disabled:p,...f}=d,x=typeof h=="function"&&h(n),I=typeof b=="function"?b(n):p;return x?null:t.createElement(W,{...f,disabled:I,onClick:y=>{y.stopPropagation(),m==null||m(g,n,y)},key:g})})))),className:w({[`${s}__actions-column-cell`]:!0,[`${s}__cell`]:!0,[`${s}__actions-column-cell-non-sticky`]:!_}),style:{width:e.length>2||_?48:96}}]}return[u]};o.getCellProps.push(c)}},$=i=>{const{rowActions:e}=i;if(e&&Array.isArray(e)){const a=(l,r)=>{const{column:c}=r;if(c.isAction){const u=!!c.sticky;return[l,{style:{...l.style,width:e.length>2||u?48:96}}]}return[l]};o.getHeaderProps.push(a)}};o.useInstance.push($),o.useInstance.push(A)};export{U as u};
