{"version":3,"file":"Saving-DgPdY8CJ.js","sources":["../../src/components/Saving/Saving.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2021, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { Button, InlineLoading } from '@carbon/react';\nimport {\n  CheckmarkOutline,\n  ErrorFilled,\n  ErrorOutline,\n  Save,\n} from '@carbon/react/icons';\nimport React, { forwardRef } from 'react';\n\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\n\nconst componentName = 'Saving';\n\ntype Type = 'manual' | 'auto';\ntype Status = 'default' | 'in-progress' | 'success' | 'fail';\n\nexport interface SavingProps {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n  /**\n   * Description for default state icon (manual).\n   */\n  defaultIconDescription?: string;\n  /**\n   * Default text for the save button (manual). Per design guidelines you probably don't want to display this in the auto mode.\n   */\n  defaultText?: string;\n  /**\n   * Description for fail state icon (manual).\n   */\n  failIconDescription?: string;\n  /**\n   * Text for failure state.\n   */\n  failText?: string;\n  /**\n   * Description for in progress state icon (manual).\n   */\n  inProgressIconDescription?: string;\n  /**\n   * Text for in progress state.\n   */\n  inProgressText?: string;\n  /**\n   * Function handler for cancel button (manual).\n   */\n  onRequestCancel?(event: React.MouseEvent<HTMLButtonElement>): void;\n  /**\n   * Function handler for save button (manual).\n   */\n  onRequestSave?(event: React.MouseEvent<HTMLButtonElement>): void;\n  /**\n   * Text for the secondary or cancel button (manual).\n   */\n  secondaryButtonText?: string;\n  /**\n   * The status of the save. default being the untouched default state -> in-progress being a save has been initiated -> fail or success being the outcome.\n   */\n  status: Status;\n  /**\n   * Description for success state icon (manual).\n   */\n  successIconDescription?: string;\n  /**\n   * Text for success state\n   */\n  successText?: string;\n  /**\n   * Designates the style of the save component. Manual uses a set of buttons and auto just displays a string. See usage guidelines for additional information.\n   */\n  type: Type;\n}\n\nexport const Saving = forwardRef(\n  (\n    {\n      secondaryButtonText,\n      className,\n      defaultIconDescription,\n      defaultText,\n      failIconDescription,\n      failText,\n      inProgressIconDescription,\n      inProgressText,\n      onRequestCancel,\n      onRequestSave,\n      status,\n      successIconDescription,\n      successText,\n      type,\n      ...rest\n    }: SavingProps,\n    ref\n  ) => {\n    const statusObj = {\n      default: {\n        text: defaultText,\n        iconDescription: defaultIconDescription,\n        icon: (props) => <Save size={16} {...props} />,\n      },\n      ['in-progress']: {\n        text: inProgressText,\n        iconDescription: inProgressIconDescription,\n        icon: (props) => <InlineLoading size={16} {...props} />,\n      },\n      success: {\n        text: successText,\n        iconDescription: successIconDescription,\n        icon: (props) => <CheckmarkOutline size={16} {...props} />,\n      },\n      fail: {\n        text: failText,\n        iconDescription: failIconDescription,\n        icon: (props) => <ErrorOutline size={16} {...props} />,\n      },\n    };\n    const blockClass = `${pkg.prefix}--saving`;\n\n    return (\n      <div\n        {...rest}\n        ref={ref as never}\n        className={cx(blockClass, className)}\n        {...getDevtoolsProps(componentName)}\n      >\n        {type === 'auto' ? (\n          <div className={`${blockClass}__message`}>\n            {status === 'fail' && (\n              <div className={`${blockClass}__error-icon`}>\n                <ErrorFilled size={16} />\n              </div>\n            )}\n            <p className={`${blockClass}__text`}>{statusObj[status]?.text}</p>\n          </div>\n        ) : (\n          <div className={`${blockClass}__buttons`}>\n            <Button\n              onClick={onRequestCancel}\n              kind=\"secondary\"\n              disabled={status !== 'in-progress'}\n              type=\"button\"\n            >\n              {secondaryButtonText}\n            </Button>\n            <Button\n              onClick={onRequestSave}\n              kind=\"primary\"\n              renderIcon={statusObj[status]?.icon}\n              iconDescription={statusObj[status]?.iconDescription}\n              disabled={status === 'in-progress'}\n              type=\"button\"\n            >\n              {statusObj[status]?.text}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nSaving.propTypes = {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   * Description for default state icon (manual).\n   */\n  defaultIconDescription: PropTypes.string,\n  /**\n   * Default text for the save button (manual). Per design guidelines you probably don't want to display this in the auto mode.\n   */\n  defaultText: PropTypes.string,\n  /**\n   * Description for fail state icon (manual).\n   */\n  failIconDescription: PropTypes.string,\n  /**\n   * Text for failure state.\n   */\n  failText: PropTypes.string,\n  /**\n   * Description for in progress state icon (manual).\n   */\n  inProgressIconDescription: PropTypes.string,\n  /**\n   * Text for in progress state.\n   */\n  inProgressText: PropTypes.string,\n  /**\n   * Function handler for cancel button (manual).\n   */\n  onRequestCancel: PropTypes.func,\n  /**\n   * Function handler for save button (manual).\n   */\n  onRequestSave: PropTypes.func,\n  /**\n   * Text for the secondary or cancel button (manual).\n   */\n  secondaryButtonText: PropTypes.string,\n  /**\n   * The status of the save. default being the untouched default state -> in-progress being a save has been initiated -> fail or success being the outcome.\n   */\n  status: PropTypes.oneOf<Status>(['default', 'in-progress', 'success', 'fail'])\n    .isRequired,\n  /**\n   * Description for success state icon (manual).\n   */\n  successIconDescription: PropTypes.string,\n  /**\n   * Text for success state\n   */\n  successText: PropTypes.string,\n  /**\n   * Designates the style of the save component. Manual uses a set of buttons and auto just displays a string. See usage guidelines for additional information.\n   */\n  type: PropTypes.oneOf<Type>(['manual', 'auto']).isRequired,\n};\n\nSaving.displayName = componentName;\n"],"names":["componentName","Saving","forwardRef","secondaryButtonText","className","defaultIconDescription","defaultText","failIconDescription","failText","inProgressIconDescription","inProgressText","onRequestCancel","onRequestSave","status","successIconDescription","successText","type","rest","ref","statusObj","props","React","Save","InlineLoading","CheckmarkOutline","ErrorOutline","blockClass","pkg","cx","getDevtoolsProps","ErrorFilled","Button","PropTypes"],"mappings":"4QAqBA,MAAMA,EAAgB,SAgETC,EAASC,EAAAA,WACpB,CACE,CACE,oBAAAC,EACA,UAAAC,EACA,uBAAAC,EACA,YAAAC,EACA,oBAAAC,EACA,SAAAC,EACA,0BAAAC,EACA,eAAAC,EACA,gBAAAC,EACA,cAAAC,EACA,OAAAC,EACA,uBAAAC,EACA,YAAAC,EACA,KAAAC,EACA,GAAGC,CAAA,EAELC,IACG,CACH,MAAMC,EAAY,CAChB,QAAS,CACP,KAAMb,EACN,gBAAiBD,EACjB,KAAOe,GAAUC,EAAA,cAACC,GAAK,KAAM,GAAK,GAAGF,CAAA,CAAO,CAAA,EAE7C,cAAgB,CACf,KAAMV,EACN,gBAAiBD,EACjB,KAAOW,GAAUC,EAAA,cAACE,GAAc,KAAM,GAAK,GAAGH,CAAA,CAAO,CAAA,EAEvD,QAAS,CACP,KAAML,EACN,gBAAiBD,EACjB,KAAOM,GAAUC,EAAA,cAACG,GAAiB,KAAM,GAAK,GAAGJ,CAAA,CAAO,CAAA,EAE1D,KAAM,CACJ,KAAMZ,EACN,gBAAiBD,EACjB,KAAOa,GAAUC,EAAA,cAACI,GAAa,KAAM,GAAK,GAAGL,CAAA,CAAO,CAAA,CACtD,EAEIM,EAAa,GAAGC,EAAI,MAAM,WAEhC,OACEN,EAAA,cAAC,MAAA,CACE,GAAGJ,EACJ,IAAAC,EACA,UAAWU,EAAGF,EAAYtB,CAAS,EAClC,GAAGyB,EAAiB7B,CAAa,CAAA,EAEjCgB,IAAS,OACRK,EAAA,cAAC,MAAA,CAAI,UAAW,GAAGK,CAAU,WAAA,EAC1Bb,IAAW,wBACT,MAAA,CAAI,UAAW,GAAGa,CAAU,gCAC1BI,EAAA,CAAY,KAAM,EAAA,CAAI,CACzB,EAEFT,EAAA,cAAC,IAAA,CAAE,UAAW,GAAGK,CAAU,UAAWP,EAAUN,CAAM,GAAG,IAAK,CAChE,EAEAQ,EAAA,cAAC,OAAI,UAAW,GAAGK,CAAU,WAAA,EAC3BL,EAAA,cAACU,EAAA,CACC,QAASpB,EACT,KAAK,YACL,SAAUE,IAAW,cACrB,KAAK,QAAA,EAEJV,CAAA,EAEHkB,EAAA,cAACU,EAAA,CACC,QAASnB,EACT,KAAK,UACL,WAAYO,EAAUN,CAAM,GAAG,KAC/B,gBAAiBM,EAAUN,CAAM,GAAG,gBACpC,SAAUA,IAAW,cACrB,KAAK,QAAA,EAEJM,EAAUN,CAAM,GAAG,IAAA,CAExB,CAAA,CAIR,CACF,EAEAZ,EAAO,UAAY,CAIjB,UAAW+B,EAAU,OAIrB,uBAAwBA,EAAU,OAIlC,YAAaA,EAAU,OAIvB,oBAAqBA,EAAU,OAI/B,SAAUA,EAAU,OAIpB,0BAA2BA,EAAU,OAIrC,eAAgBA,EAAU,OAI1B,gBAAiBA,EAAU,KAI3B,cAAeA,EAAU,KAIzB,oBAAqBA,EAAU,OAI/B,OAAQA,EAAU,MAAc,CAAC,UAAW,cAAe,UAAW,MAAM,CAAC,EAC1E,WAIH,uBAAwBA,EAAU,OAIlC,YAAaA,EAAU,OAIvB,KAAMA,EAAU,MAAY,CAAC,SAAU,MAAM,CAAC,EAAE,UAClD,EAEA/B,EAAO,YAAcD"}