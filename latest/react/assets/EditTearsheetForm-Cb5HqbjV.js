import{r as n,e as t,c as k,p as T,P as e,Y as j}from"./iframe-BlQ-LkYW.js";import{F as D}from"./FormGroup-B1IMtc-E.js";import{G as R}from"./Grid-DxPOqrCF.js";import{C as $}from"./Column-BKMiQa8s.js";import{F as M}from"./Form-II3N649U.js";import{a as H,b as J}from"./SideNavLinkText-C8oInGae.js";import{S as K}from"./SideNavMenuItem-xrMlBrMq.js";import{g as Q}from"./devtools-BJZSxg-N.js";import{T as X}from"./TearsheetShell-Bdk0FY1t.js";import{p as Z}from"./props-helper-DmAPJ46T.js";const y="EditTearsheet",b=`${T.prefix}--tearsheet-edit`,_=n.createContext(null),P=n.createContext(0),E={verticalPosition:"normal",influencerWidth:"narrow",sideNavAriaLabel:"Side navigation"};let c=n.forwardRef(({cancelButtonText:a,children:r,className:o,description:i,influencerWidth:h=E.influencerWidth,label:d,onClose:u,open:g,submitButtonText:w,title:N,verticalPosition:m=E.verticalPosition,onRequestSubmit:p,onFormChange:q,sideNavAriaLabel:I=E.sideNavAriaLabel,...S},A)=>{const[L,F]=n.useState(!1),W=async()=>{F(!0);try{await p()}catch(s){console.warn(`${y} submit error: ${s}`)}F(!1)},B=[{key:"edit-action-button-submit",label:w,onClick:()=>W(),loading:L,kind:"primary"},{key:"edit-action-button-cancel",label:a,onClick:u,kind:"ghost"}],[C,G]=n.useState(0),[O,V]=n.useState([]),Y=n.useRef(null),U=s=>{G(s),q&&q(s)};function z(){return t.createElement("div",{className:`${b}__side-nav-wrapper`},t.createElement(H,{"aria-label":I,className:`${b}__side-nav`,expanded:!0,isFixedNav:!1},t.createElement(J,null,O.map((s,f)=>t.createElement(K,{key:f,onClick:()=>U(f),isActive:C===f},s)))))}return t.createElement(X,{...Q(y),...Z(S),actions:B,children:r,className:k(b,o),description:i,influencerPosition:"left",influencerWidth:h,label:d,onClose:u,open:g,size:"wide",title:N,verticalPosition:m,...S,hasCloseIcon:!1,influencer:z(),ref:A},t.createElement("div",{className:`${b}__content`,ref:Y,role:"main"},t.createElement(M,null,t.createElement(_.Provider,{value:{currentForm:C,setFormTitles:V}},t.Children.map(r,(s,f)=>t.createElement(P.Provider,{value:f},s))))))});c.deprecated={level:"warn",details:"This component is deprecated and will be removed in the next major version."};c=T.checkComponentEnabled(c,y);c.displayName=y;c.propTypes={cancelButtonText:e.string,children:e.node,className:e.string,description:e.node,influencerWidth:e.oneOf(["narrow","wide"]),label:e.node,onClose:e.func,onFormChange:e.func,onRequestSubmit:e.func.isRequired,open:e.bool,sideNavAriaLabel:e.string,submitButtonText:e.string,title:e.node,verticalPosition:e.oneOf(["normal","lower"])};c.__docgenInfo={description:`**This component is deprecated.** <br>
Use Tearsheet with medium to complex edits. See usage guidance for further information.
@deprecated`,methods:[],displayName:"EditTearsheet",props:{cancelButtonText:{required:!1,tsType:{name:"string"},description:"The cancel button text",type:{name:"string"}},children:{required:!1,tsType:{name:"ReactNode"},description:"The main content of the tearsheet",type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"An optional class or classes to be added to the outermost element.",type:{name:"string"}},description:{required:!1,tsType:{name:"ReactNode"},description:"A description of the flow, displayed in the header area of the tearsheet.",type:{name:"node"}},influencerWidth:{required:!1,tsType:{name:"union",raw:"'narrow' | 'wide'",elements:[{name:"literal",value:"'narrow'"},{name:"literal",value:"'wide'"}]},description:"Used to set the size of the influencer",defaultValue:{value:"'narrow'",computed:!1},type:{name:"enum",value:[{value:"'narrow'",computed:!1},{value:"'wide'",computed:!1}]}},label:{required:!1,tsType:{name:"ReactNode"},description:`A label for the tearsheet, displayed in the header area of the tearsheet
to maintain context for the tearsheet (e.g. as the title changes from page
to page of a multi-page task).`,type:{name:"node"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => boolean | void",signature:{arguments:[],return:{name:"union",raw:"boolean | void",elements:[{name:"boolean"},{name:"void"}]}}},description:"An optional handler that is called when the user closes the tearsheet (by\nclicking the close button, if enabled, or clicking outside, if enabled).\nReturning `false` here prevents the modal from closing.",type:{name:"func"}},onFormChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(formIndex: number) => number",signature:{arguments:[{type:{name:"number"},name:"formIndex"}],return:{name:"number"}}},description:`An optional handler that is called when a user changes forms via clicking
an influencer nav item.
Returns the index of the selected form.`,type:{name:"func"}},onRequestSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:`Specify a handler for submitting the tearsheet. Throughout its execution
the submit button will be disabled and include a loading indicator.`,type:{name:"func"}},open:{required:!1,tsType:{name:"boolean"},description:"Specifies whether the tearsheet is currently open.",type:{name:"bool"}},sideNavAriaLabel:{required:!1,tsType:{name:"string"},description:"Specifies the aria label for the SideNav from Carbon UIShell",defaultValue:{value:"'Side navigation'",computed:!1},type:{name:"string"}},submitButtonText:{required:!1,tsType:{name:"string"},description:"The submit button text",type:{name:"string"}},title:{required:!1,tsType:{name:"ReactNode"},description:"The main title of the tearsheet, displayed in the header area.",type:{name:"node"}},verticalPosition:{required:!1,tsType:{name:"union",raw:"'normal' | 'lower'",elements:[{name:"literal",value:"'normal'"},{name:"literal",value:"'lower'"}]},description:`The position of the top of tearsheet in the viewport. The 'normal'
position (the default) is a short distance down from the top of the
viewport, leaving room at the top for a global header bar to show through
from below. The 'lower' position provides a little extra room at the top
to allow an action bar navigation or breadcrumbs to also show through.`,defaultValue:{value:"'normal'",computed:!1},type:{name:"enum",value:[{value:"'normal'",computed:!1},{value:"'lower'",computed:!1}]}}},composes:["PropsWithChildren"]};const ee=({formContext:a,formNumber:r,title:o})=>{n.useEffect(()=>{a&&a.setFormTitles(i=>{if(i[r]!==o){const d=[...i];return d[r]=o,d}return i})},[o,a,r])},x="EditTearsheetForm",l=`${T.prefix}--tearsheet-edit__form`,te={hasFieldset:!0};let v=n.forwardRef(({children:a,className:r,description:o,fieldsetLegendText:i,fieldsetLegendId:h,hasFieldset:d=te.hasFieldset,subtitle:u,title:g,...w},N)=>{const m=n.useContext(_),p=n.useContext(P);return ee({formContext:m,formNumber:p,title:g}),m?t.createElement("div",{...w,className:k(l,r,{[`${l}__form--hidden-form`]:p!==m?.currentForm,[`${l}__form--visible-form`]:p===m?.currentForm}),ref:N},t.createElement(R,null,t.createElement($,{xlg:12,lg:12,md:8,sm:4},t.createElement("h4",{className:`${l}--title`},g),u&&t.createElement("h5",{className:`${l}--subtitle`},u),o&&t.createElement("p",{className:`${l}--description`},o)),t.createElement($,{span:100},d?t.createElement(D,{legendText:i,className:`${l}--fieldset`,legendId:h},t.createElement(R,null,a)):a))):j.warn(`You have tried using a ${x} component outside of a EditTearsheet. This is not allowed. ${x}s should always be children of the EditTearsheet`)});v=T.checkComponentEnabled(v,x);v.propTypes={children:e.node,className:e.string,description:e.string,fieldsetLegendId:e.node,fieldsetLegendText:e.string,hasFieldset:e.bool,subtitle:e.string,title:e.node.isRequired};v.__docgenInfo={description:"",methods:[],displayName:"EditTearsheetForm",props:{children:{required:!1,tsType:{name:"ReactNode"},description:"Content that shows in the tearsheet form",type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Sets an optional className to be added to the tearsheet form",type:{name:"string"}},description:{required:!1,tsType:{name:"string"},description:"Sets an optional description on the form component",type:{name:"string"}},hasFieldset:{required:!1,tsType:{name:"boolean"},description:"This optional prop will render your form content inside of a fieldset html element\nand is defaulted to true.\nYou can set this prop to `false` if you have multiple fieldset elements or want to control the children of your Full Page's form content.",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},subtitle:{required:!1,tsType:{name:"string"},description:"Sets an optional subtitle on the form component",type:{name:"string"}},title:{required:!0,tsType:{name:"ReactNode"},description:"Sets the title text for a tearsheet form",type:{name:"node"}},fieldsetLegendId:{description:"This is the required legend id that appears as the aria-labelledby of fieldset for accessibility purposes.",type:{name:"node"},required:!1},fieldsetLegendText:{description:"This is the required legend text that appears above a fieldset html element for accessibility purposes.\nYou can set the `hasFieldset` prop to false if you have multiple fieldset elements or want to control the children of your Full Page's form content.\nOtherwise, use CSS to hide/remove this label text.",type:{name:"string"},required:!1}}};export{c as E,v as a};
