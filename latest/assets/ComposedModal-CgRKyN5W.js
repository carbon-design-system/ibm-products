import{b as G,c as F,_ as K,C as ye,P as e,u as ge,p as be,j as X,E as Ce,T as he,i as $e}from"./index-BPCFiO9b.js";import{e as n,r as v}from"./index-CPiZ6Cnx.js";import{L as oe}from"./index-C_tB4MqD.js";import{I as Ne,n as W,B as J,f as Ee}from"./settings-41bnSjHp.js";import{B as we}from"./ButtonSet-BTIAcY4e.js";import{I as Be}from"./InlineLoading-Cst7O9Fk.js";import{m as Se}from"./mergeRefs-CTUecegF.js";import{r as ve}from"./requiredIfGivenPropIsTruthy-CU7JwK8h.js";import{e as Te,b as Re,w as Me}from"./wrapFocus-Dfrp1CCV.js";import{c as Y}from"./events-OVwOsPzJ.js";var V={exports:{}},r={},Z;function Ie(){if(Z)return r;Z=1;/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=60103,s=60106,u=60107,m=60108,y=60114,N=60109,h=60110,$=60112,l=60113,d=60120,b=60115,C=60116,w=60121,f=60122,T=60117,g=60129,E=60131;if(typeof Symbol=="function"&&Symbol.for){var c=Symbol.for;i=c("react.element"),s=c("react.portal"),u=c("react.fragment"),m=c("react.strict_mode"),y=c("react.profiler"),N=c("react.provider"),h=c("react.context"),$=c("react.forward_ref"),l=c("react.suspense"),d=c("react.suspense_list"),b=c("react.memo"),C=c("react.lazy"),w=c("react.block"),f=c("react.server.block"),T=c("react.fundamental"),g=c("react.debug_trace_mode"),E=c("react.legacy_hidden")}function p(t){if(typeof t=="object"&&t!==null){var O=t.$$typeof;switch(O){case i:switch(t=t.type,t){case u:case y:case m:case l:case d:return t;default:switch(t=t&&t.$$typeof,t){case h:case $:case C:case b:case N:return t;default:return O}}case s:return O}}}var M=N,B=i,a=$,I=u,A=C,P=b,x=s,R=y,L=m,z=l;return r.ContextConsumer=h,r.ContextProvider=M,r.Element=B,r.ForwardRef=a,r.Fragment=I,r.Lazy=A,r.Memo=P,r.Portal=x,r.Profiler=R,r.StrictMode=L,r.Suspense=z,r.isAsyncMode=function(){return!1},r.isConcurrentMode=function(){return!1},r.isContextConsumer=function(t){return p(t)===h},r.isContextProvider=function(t){return p(t)===N},r.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===i},r.isForwardRef=function(t){return p(t)===$},r.isFragment=function(t){return p(t)===u},r.isLazy=function(t){return p(t)===C},r.isMemo=function(t){return p(t)===b},r.isPortal=function(t){return p(t)===s},r.isProfiler=function(t){return p(t)===y},r.isStrictMode=function(t){return p(t)===m},r.isSuspense=function(t){return p(t)===l},r.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===u||t===y||t===g||t===m||t===l||t===d||t===E||typeof t=="object"&&t!==null&&(t.$$typeof===C||t.$$typeof===b||t.$$typeof===N||t.$$typeof===h||t.$$typeof===$||t.$$typeof===T||t.$$typeof===w||t[0]===f)},r.typeOf=p,r}var ee;function Fe(){return ee||(ee=1,V.exports=Ie()),V.exports}var te=Fe();const re=n.forwardRef(function(s,u){let{buttonOnClick:m,children:y,className:N,closeClassName:h,closeIconClassName:$,closeModal:l,iconDescription:d="Close",label:b,labelClassName:C,title:w,titleClassName:f,...T}=s;const g=G();function E(I){l==null||l(I),m==null||m(I)}const c=F(`${g}--modal-header`,N),p=F(`${g}--modal-header__label ${g}--type-delta`,C),M=F(`${g}--modal-header__heading ${g}--type-beta`,f),B=F(`${g}--modal-close`,h),a=F(`${g}--modal-close__icon`,$);return n.createElement("div",K({className:c},T,{ref:u}),b&&n.createElement("h2",{className:p},b),w&&n.createElement("h2",{className:M},w),y,n.createElement("div",{className:`${g}--modal-close-button`},n.createElement(Ne,{className:B,label:d,onClick:E,"aria-label":d,align:"left"},n.createElement(ye,{size:20,"aria-hidden":"true",tabIndex:"-1",className:a}))))});re.propTypes={buttonOnClick:e.func,children:e.node,className:e.string,closeClassName:e.string,closeIconClassName:e.string,closeModal:e.func,iconDescription:e.string,label:e.node,labelClassName:e.string,title:e.node,titleClassName:e.string};function se(i){let{secondaryButtons:s,secondaryButtonText:u,secondaryClassName:m,closeModal:y,onRequestClose:N,disabled:h}=i;function $(l){y(l),N(l)}return Array.isArray(s)&&s.length<=2?n.createElement(n.Fragment,null,s.map((l,d)=>{let{buttonText:b,onClick:C}=l;return n.createElement(J,{key:`${b}-${d}`,className:m,kind:"secondary",onClick:C||$},b)})):u?n.createElement(J,{disabled:h,className:m,onClick:$,kind:"secondary"},u):null}se.propTypes={closeModal:e.func,disabled:e.bool,onRequestClose:e.func,secondaryButtonText:e.string,secondaryButtons:(i,s,u)=>{if(i.secondaryButtons){if(!Array.isArray(i.secondaryButtons)||i.secondaryButtons.length!==2)return new Error(`${s} needs to be an array of two button config objects`);const m={buttonText:e.node,onClick:e.func};i[s].forEach(y=>{e.checkPropTypes(m,y,s,u)})}return null},secondaryClassName:e.string};const ae=n.forwardRef(function(s,u){let{children:m,className:y,closeModal:N=W,danger:h,inputref:$,onRequestClose:l=W,onRequestSubmit:d=W,primaryButtonDisabled:b,primaryButtonText:C,primaryClassName:w,secondaryButtonText:f,secondaryButtons:T,secondaryClassName:g,loadingStatus:E="inactive",loadingDescription:c,loadingIconDescription:p,onLoadingSuccess:M=W,...B}=s;const a=G(),I=F(`${a}--modal-footer`,y,Array.isArray(T)&&T.length===2?`${a}--modal-footer--three-button`:null),A=F(w,E!=="inactive"?`${a}--btn--loading`:null),P=E!=="inactive",x={closeModal:N,secondaryButtons:T,secondaryButtonText:f,secondaryClassName:g,onRequestClose:l,disabled:P};return n.createElement(we,K({className:I},B,{ref:u,"aria-busy":P}),n.createElement(se,x),C&&n.createElement(J,{onClick:d,className:A,disabled:P||b,kind:h?"danger":"primary",ref:$},E==="inactive"?C:n.createElement(Be,{status:E,description:c,iconDescription:p,className:`${a}--inline-loading--btn`,onSuccess:M})),m)});ae.propTypes={children:e.node,className:e.string,closeModal:e.func,danger:e.bool,inputref:e.oneOfType([e.func,e.shape({current:e.any})]),loadingDescription:e.string,loadingIconDescription:e.string,loadingStatus:e.oneOf(["inactive","active","finished","error"]),onLoadingSuccess:e.func,onRequestClose:e.func,onRequestSubmit:e.func,primaryButtonDisabled:e.bool,primaryButtonText:e.string,primaryClassName:e.string,secondaryButtonText:e.string,secondaryButtons:(i,s,u)=>{if(i.secondaryButtons){if(!Array.isArray(i.secondaryButtons)||i.secondaryButtons.length!==2)return new Error(`${s} needs to be an array of two button config objects`);const m={buttonText:e.node,onClick:e.func};i[s].forEach(y=>{e.checkPropTypes(m,y,s,u)})}return null},secondaryClassName:e.string};function ne(i,s,u){i.classList.contains(s)===!u&&i.classList[u?"add":"remove"](s)}const ke=n.forwardRef(function(s,u){let{className:m,children:y,hasForm:N,hasScrollingContent:h,...$}=s;const l=G(),d=v.useRef(null),[b,C]=v.useState(!1),w=F({[`${l}--modal-content`]:!0,[`${l}--modal-content--with-form`]:N,[`${l}--modal-scroll-content`]:h||b},m);be(()=>{d.current&&C(d.current.scrollHeight>d.current.clientHeight);function T(){d.current&&C(d.current.scrollHeight>d.current.clientHeight)}const g=Ee(T,200);return window.addEventListener("resize",g),()=>{g.cancel(),window.removeEventListener("resize",g)}},[]);const f=h||b?{tabIndex:0,role:"region"}:{};return n.createElement(oe,K({className:w},f,$,{ref:Se(d,u)}),y)});ke.propTypes={"aria-label":ve("hasScrollingContent",e.string),children:e.node,className:e.string,hasForm:e.bool,hasScrollingContent:e.bool};const _e=n.forwardRef(function(s,u){var U;let{["aria-labelledby"]:m,["aria-label"]:y,children:N,className:h,containerClassName:$,danger:l,decorator:d,isFullWidth:b,onClose:C,onKeyDown:w,open:f,preventCloseOnClickOutside:T,selectorPrimaryFocus:g="[data-modal-primary-focus]",selectorsFloatingMenus:E,size:c,launcherButtonRef:p,slug:M,...B}=s;const a=G(),[I,A]=v.useState(!!f),[P,x]=v.useState(!!f),R=v.useRef(null),L=v.useRef(null),z=v.useRef(null),t=v.useRef(null),O=v.useRef(null),H=ge("enable-experimental-focus-wrap-without-sentinels");v.useEffect(()=>{f!==P&&(A(!!f),x(!!f),ne(document.body,`${a}--body--with-modal-open`,!!f))},[f,P,a]),v.useEffect(()=>()=>{ne(document.body,`${a}--body--with-modal-open`,!1)},[]);function le(o){o.stopPropagation(),X(o,Ce)&&j(o),H&&f&&X(o,he)&&R.current&&Re({containerNode:R.current,currentActiveNode:o.target,event:o}),w==null||w(o)}function ce(o){const S=o.target;O.current=S}function ie(o){const S=o.target,k=O.current;o.stopPropagation(),!T&&!Te(S,E)&&R.current&&!R.current.contains(S)&&!R.current.contains(k)&&j(o)}function ue(o){let{target:S,relatedTarget:k}=o;if(f&&k&&S&&R.current){const{current:D}=R,{current:_}=z,{current:pe}=t;Me({bodyNode:D,startTrapNode:_,endTrapNode:pe,currentActiveNode:k,oldActiveNode:S,selectorsFloatingMenus:E==null?void 0:E.filter(Boolean)})}}function j(o){(!C||C(o)!==!1)&&A(!1)}const de=F(`${a}--modal`,{"is-visible":I,[`${a}--modal--danger`]:l,[`${a}--modal--slug`]:M,[`${a}--modal--decorator`]:d},h),fe=F(`${a}--modal-container`,c&&`${a}--modal-container--${c}`,b&&`${a}--modal-container--full-width`,$);let Q;const me=n.Children.toArray(N).map(o=>{switch(!0){case(te.isElement(o)&&o.type===n.createElement(re).type):{const S=o;return Q=S.props.label,n.cloneElement(S,{closeModal:j})}case(te.isElement(o)&&o.type===n.createElement(ae).type):{const S=o;return n.cloneElement(S,{closeModal:j,inputref:L,danger:l})}default:return o}});v.useEffect(()=>{!f&&p&&setTimeout(()=>{var o;(o=p==null?void 0:p.current)==null||o.focus()})},[f,p]),v.useEffect(()=>{const o=k=>{const D=k||R.current,_=D?D.querySelector(l?`.${a}--btn--secondary`:g):null;return _||L&&L.current};f&&I&&(k=>{const D=o(k),_=k.querySelector(`.${a}--modal-close`);D?D.focus():!D&&_&&(_==null||_.focus())})(R.current)},[f,g,I]);let q=n.isValidElement(M??d)?M??d:null;return q&&((U=q.type)==null?void 0:U.displayName)==="AILabel"&&(q=n.cloneElement(q,{size:"sm"})),n.createElement(oe,K({},B,{level:0,role:"presentation",ref:u,"aria-hidden":!f,onBlur:H?()=>{}:ue,onClick:Y([B==null?void 0:B.onClick,ie]),onMouseDown:Y([B==null?void 0:B.onMouseDown,ce]),onKeyDown:le,className:de}),n.createElement("div",{className:fe,role:"dialog","aria-modal":"true","aria-label":y||Q,"aria-labelledby":m},!H&&n.createElement("button",{type:"button",ref:z,className:`${a}--visually-hidden`},"Focus sentinel"),n.createElement("div",{ref:R,className:`${a}--modal-container-body`},M?q:d?n.createElement("div",{className:`${a}--modal--inner__decorator`},q):"",me),!H&&n.createElement("button",{type:"button",ref:t,className:`${a}--visually-hidden`},"Focus sentinel")))});_e.propTypes={"aria-label":e.string,"aria-labelledby":e.string,children:e.node,className:e.string,containerClassName:e.string,danger:e.bool,decorator:e.node,isFullWidth:e.bool,launcherButtonRef:e.oneOfType([e.func,e.shape({current:e.any})]),onClose:e.func,onKeyDown:e.func,open:e.bool,preventCloseOnClickOutside:e.bool,selectorPrimaryFocus:e.string,selectorsFloatingMenus:e.arrayOf(e.string.isRequired),size:e.oneOf(["xs","sm","md","lg"]),slug:$e(e.node)};export{_e as C,re as M,ke as a,ae as b,te as r};
