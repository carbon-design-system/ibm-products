import{e,r as p}from"./index-BOZkNhcz.js";import{a as j}from"./chunk-D5ZWXAHU-DlerbUHg.js";import{I as ke,a as Ee,D as Q,m as me,u as pe,b as Ie}from"./_storybook-styles-BjK23sID.js";import{S as $e}from"./StoryDocsPage-DUYNgJVx.js";import{D as ge}from"./DatagridActions-CiDU9ILQ.js";import{D as be}from"./DatagridPagination-UrZhPsOx.js";import{A as L}from"./getArgTypes-Ci8wh0IQ.js";import{c as K,P as s,O as A,bi as Pe,e as we}from"./index--clQM3eT.js";import{p as N,B as He,bk as fe}from"./settings-BYgtfLKl.js";import{W as Ce}from"./index-BDJRa_W2.js";import{r as Re}from"./index.esm-C32hhDZ_.js";import"./feature-flags-opBMwCDq.js";import{C as ye}from"./Checkbox-BkhXuVvJ.js";import{u as Ne,C as Oe,a as ie,P as Ae,K as Ve,b as Fe,D as Be,r as We,e as Ge,c as je,S as Ue,v as Me}from"./modifiers.esm-t4Cq-LLK.js";import{c as Ke}from"./bucket-5-D_VnmO9x.js";import{b as Je}from"./bucket-10-D-kJO57o.js";import{g as V}from"./getNodeTextContent-C8IeKkUQ.js";import{u as Ye}from"./uuidv4-BN2rGLQG.js";import{S as Qe}from"./Search-Cvevq9lI.js";import{T as Xe}from"./TearsheetNarrow-DAmvfbvP.js";import{u as Ze}from"./useActionsColumn-BbWyFJoh.js";import{u as et}from"./useStickyColumn-Cs8aDI7R.js";import{a as he}from"./bucket-6-B5NNCZ27.js";import{T as Te}from"./bucket-17-Dbz5FtJu.js";import"./_commonjsHelpers-BosuxZz1.js";import"./v4-CtRu48qb.js";import"./devtools-BSXGZlBP.js";import"./TableRow-B3UC0sp5.js";import"./index-YZUn1U4D.js";import"./wrapComponent-Bc-EthYV.js";import"./bucket-0-tjTgXQWL.js";import"./TableToolbar-DT-kZZ1C.js";import"./Text-C-NQiyV2.js";import"./ErrorEmptyState-DP7zsOwL.js";import"./Link-BFsW3ySJ.js";import"./EmptyState-gDUsG0U-.js";import"./props-helper-BNocl_Zr.js";import"./index-Cz7DMDvM.js";import"./EmptyStateV2-CflP1-8z.js";import"./iframe--Hb3m1kv.js";import"./ErrorIllustration-Dz1tKV6c.js";import"./useId-3RkIcX0R.js";import"./index-hBZdtWkn.js";import"./index-2uioG_CI.js";import"./events-OVwOsPzJ.js";import"./NoDataEmptyState-6gyqpqAD.js";import"./NoDataIllustration-DXQPoSCV.js";import"./NotFoundEmptyState-BRDl4Kj7.js";import"./NotFoundIllustration-BrUgbhvY.js";import"./useResizeObserver-DcNhBpO-.js";import"./useIsomorphicEffect-C0ObacuX.js";import"./MenuItem-BSeNOHR5.js";import"./useControllableState-BHFQnaNh.js";import"./useAttachedMenu-BS0JXRSz.js";import"./bucket-2-rFuAlaTW.js";import"./useWindowResize-C1HduLvd.js";import"./mergeRefs-CTUecegF.js";import"./getFocusableElements-BW7cf991.js";import"./index-CtW6Lsnp.js";import"./index-D8bRXWRJ.js";import"./useClickOutside-DHVF5Qo6.js";import"./AccordionItem-CFt1CKpn.js";import"./index-_87NmGAs.js";import"./LayerContext-DxTbsTfh.js";import"./index-BfLKLwdO.js";import"./DatePicker-CfM7iejN.js";import"./FormContext-qEw5DNxz.js";import"./bucket-18-Dly-sSmK.js";import"./bucket-1-Dse7f7ir.js";import"./Dropdown-DUiNNuDy.js";import"./index-CVAOgdFx.js";import"./FormGroup-C9yKEUD9.js";import"./NumberInput-wLF2-I7y.js";import"./useNormalizedInputProps-BDKhkbhJ.js";import"./bucket-16-BFXGSpzc.js";import"./RadioButton-BG56v3Z_.js";import"./RadioButtonGroup-BNG-Ca3n.js";import"./MultiSelect-D4ulrWpb.js";import"./usePreviousValue-BEwlonP-.js";import"./ActionSet-UhZB57-y.js";import"./ButtonSet-BHSafAHF.js";import"./InlineLoading-CRp3J8hh.js";import"./TagSet-heaoH4__.js";import"./Tag-poJ4g3DE.js";import"./DefinitionTooltip-Dmd5thZA.js";import"./DismissibleTag-CCIQD6y1.js";import"./ComposedModal-B5GOofnJ.js";import"./requiredIfGivenPropIsTruthy-CU7JwK8h.js";import"./wrapFocus-DuCohhwL.js";import"./usePortalTarget-BnwBxO9W.js";import"./OperationalTag-Dy-8SFeE.js";import"./SkeletonText-CEI9dtvU.js";import"./bucket-15-BIyYeSsH.js";import"./index-CKq6Ewiq.js";import"./bucket-7-DfvGlUO7.js";import"./index-KgSg3jcr.js";import"./index-CO8sV34W.js";import"./index-ogSvIofg.js";import"./story-helper-DEC8H8IF.js";import"./index-0E3e6jj2.js";import"./bucket-12-BQFRxjkG.js";import"./OverflowMenuItem-vAGvlICf.js";import"./TableToolbarSearch-Bicm2rxe.js";import"./bucket-14-CgdCrYMN.js";import"./Select-kVYetUw6.js";import"./SelectItem-DRPT6sUr.js";import"./index-C4NbHa1m.js";import"./index-BI5UeCJp.js";import"./TearsheetShell-M3dBNjBx.js";import"./useFocus-C0rv1dQy.js";const Y=t=>typeof t.isVisible=="boolean"?t.isVisible:!0,D=`${N.prefix}--datagrid`,X=({id:t,children:o,classList:l,disabled:n,ariaLabel:b,isSticky:u,selected:g})=>{const{attributes:c,isDragging:m,listeners:i,setNodeRef:T,transform:k,transition:E}=Ne({disabled:n,id:t}),I=e.createElement(e.Fragment,null,e.createElement("div",{className:K({disabled:n},`${D}__draggable-handleStyle`)},u?e.createElement(Je,{size:16}):e.createElement(Ke,{size:16})),o),$={transform:n?void 0:Oe.Transform.toString(k),transition:E};return e.createElement("li",{className:K(l,`${D}__draggable-handleHolder`,{[`${D}__draggable-handleHolder--selected`]:g,[`${D}__draggable-handleHolder--sticky`]:u,[`${D}__draggable-handleHolder--dragging`]:m}),id:t,ref:T,style:$,...c,...i,"aria-disabled":void 0,"aria-selected":g,role:"option"},e.createElement("span",{className:`${D}__shared-ui--assistive-text`},b),e.createElement("div",{className:K({[`${D}__draggable-handleStyle`]:!n},[`${D}__draggable-handleHolder-droppable`])},I))};X.propTypes={ariaLabel:s.string.isRequired,children:s.element.isRequired,classList:s.string,disabled:s.bool,id:s.string.isRequired,isSticky:s.bool,selected:s.bool};X.__docgenInfo={description:"",methods:[],displayName:"DraggableElement",props:{ariaLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},children:{required:!0,tsType:{name:"ReactNode"},description:"",type:{name:"element"}},classList:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},disabled:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},id:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},isSticky:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},selected:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}}},composes:["PropsWithChildren"]};const F=`${N.prefix}--datagrid`,w=(t,o)=>t&&o&&t.id===o.id,Z=({columns:t,filterString:o,id:l,moveElement:n,onSelectColumn:b,setAriaRegionText:u})=>{const g=`${F}__draggable-item`,c=t.filter(r=>V(r.Header).trim().length!==0).filter(Boolean).filter(r=>!r.isAction).filter(r=>r.id!=="spacer").filter(r=>o.length===0||V(r.Header).toLowerCase().includes(o)),i=(()=>{const r=[...c];return r.forEach(d=>{d.sticky&&(d.disabled=!0)}),r})(),T=r=>{var U;const{active:d,over:f}=r,a=i.filter(v=>v.id===f.id);if(a!=null&&a.length&&((U=a[0])!=null&&U.disabled))return;const C=i.findIndex(v=>w(v,d)),P=i.findIndex(v=>w(v,f)),S=V(i[C].Header);u(`${S} dropped. New position ${P+1} of ${i.length}.`);const x=t.findIndex(v=>w(v,d)),W=t.findIndex(v=>w(v,f));n(x,W)},k=r=>{const{active:d}=r,f=i.findIndex(C=>w(C,d)),a=V(i[f].Header);u(`${a} grabbed. Current position ${f+1} of ${i.length}.`)},E=r=>{const{active:d,over:f}=r,a=i.findIndex(S=>w(S,d)),C=i.findIndex(S=>w(S,f)),P=V(i[a].Header);u(`${P} grabbed. Original position ${a+1}, new position ${C+1} of ${i.length}.`)},I=ie(Ae,{activationConstraint:{distance:4}}),$=ie(Ve,{coordinateGetter:(r,d)=>{const{currentCoordinates:f}=d;let a=r.target;for(;a&&!a.classList.contains(g);)a=a.parentNode;const C=a.offsetHeight;switch(r.code){case"ArrowRight":case"ArrowLeft":return f;case"ArrowUp":return{...f,y:f.y-C};case"ArrowDown":return{...f,y:f.y+C}}}}),q=Fe(I,$),B=(r,d)=>{if(r.code==="Space")return b(d,!Y(d)),r.preventDefault(),r.stopPropagation(),!1};return e.createElement(Be,{collisionDetection:je,onDragEnd:T,onDragStart:k,onDragMove:E,sensors:q,modifiers:[We,Ge]},e.createElement(e.Fragment,null,e.createElement("div",{className:`${F}__draggable-underlay`,"aria-hidden":"true",key:`draggable-underlay-${l}`},c.map(r=>e.createElement("div",{className:`${F}__draggable-underlay-item`,key:r.id}))),e.createElement(Ue,{items:i,strategy:Me},c.map(r=>{const d=V(r.Header),a=d.split(new RegExp(`(${o})`,"gi")).map(x=>x.toLowerCase()===o.toLowerCase()?`<strong>${x}</strong>`:x).join(""),C=!!r.sticky,P=r.disabled,S=e.createElement(e.Fragment,null,e.createElement(ye,{checked:Y(r),disabled:P||C,onChange:(x,{checked:W})=>b(r,W),id:`${F}__customization-column-${r.id}`,labelText:d,title:d,className:`${F}__customize-columns-checkbox`,hideLabel:!0,onKeyDown:x=>B(x,r)}),e.createElement("div",{dangerouslySetInnerHTML:{__html:a},className:`${F}__customize-columns-checkbox-visible-label`}));return e.createElement(X,{classList:g,key:r.id,id:r.id,disabled:o.length>0||C,ariaLabel:d,isSticky:C,selected:Y(r)},S)}))))};Z.propTypes={columns:A.PropTypes.array.isRequired,filterString:A.PropTypes.string.isRequired,id:A.PropTypes.string.isRequired,moveElement:A.PropTypes.func.isRequired,onSelectColumn:A.PropTypes.func.isRequired,setAriaRegionText:A.PropTypes.func.isRequired};Z.__docgenInfo={description:"",methods:[],displayName:"DraggableItemsList",props:{columns:{description:"",type:{name:"array"},required:!0},filterString:{description:"",type:{name:"string"},required:!0},id:{description:"",type:{name:"string"},required:!0},moveElement:{description:"",type:{name:"func"},required:!0},onSelectColumn:{description:"",type:{name:"func"},required:!0},setAriaRegionText:{description:"",type:{name:"func"},required:!0}}};const _=`${N.prefix}--datagrid`,ee=({getVisibleColumnsCount:t,filterString:o,columns:l,setColumnsObject:n,onSelectColumn:b,assistiveTextInstructionsLabel:u,assistiveTextDisabledInstructionsLabel:g,selectAllLabel:c,customizeTearsheetHeadingLabel:m})=>{const i=p.useRef(Ye()),T=p.useRef(null),[k,E]=e.useState(""),I=e.useCallback((q,B)=>{n(r=>{const d=[...r],f=d[q];return d.splice(q,1),d.splice(B,0,f),d})},[n]),$=l==null?void 0:l.filter(q=>!q.sticky);return e.createElement("div",{className:`${_}__customize-columns-column-list`,ref:T},e.createElement("ol",{className:`${_}__customize-columns-column-list--focus`,role:"listbox","aria-label":m,"aria-describedby":`${_}__customize-columns--instructions`,tabIndex:0},e.createElement("span",{"aria-live":"assertive",className:`${_}__shared-ui--assistive-text`},k),e.createElement("span",{id:`${_}__customize-columns--instructions`,className:`${_}__shared-ui--assistive-text`},o.length===0?u:g),e.createElement("div",{id:`${_}__customize-columns-select-all`,className:K(`${_}__customize-columns-select-all`,{[`${_}__customize-columns-select-all--selected`]:t()>0}),selected:t()>0},e.createElement(ye,{className:`${_}__customize-columns-checkbox-wrapper`,checked:t()===l.length,indeterminate:t()<l.length&&t()>0,onChange:()=>{b($,t()!==l.length)},id:`${_}__customization-column-select-all`,labelText:c})),e.createElement(Z,{id:i.current,columns:l,filterString:o,moveElement:I,setAriaRegionText:E,onSelectColumn:b})))};ee.propTypes={assistiveTextDisabledInstructionsLabel:s.string,assistiveTextInstructionsLabel:s.string,columns:s.array.isRequired,customizeTearsheetHeadingLabel:s.string,disabledInstructionsLabel:s.string,filterString:s.string.isRequired,getVisibleColumnsCount:s.func.isRequired,instructionsLabel:s.string,onSelectColumn:s.func.isRequired,selectAllLabel:s.string,setColumnStatus:s.func,setColumnsObject:s.func.isRequired};ee.__docgenInfo={description:"",methods:[],displayName:"Columns",props:{assistiveTextDisabledInstructionsLabel:{description:"",type:{name:"string"},required:!1},assistiveTextInstructionsLabel:{description:"",type:{name:"string"},required:!1},columns:{description:"",type:{name:"array"},required:!0},customizeTearsheetHeadingLabel:{description:"",type:{name:"string"},required:!1},disabledInstructionsLabel:{description:"",type:{name:"string"},required:!1},filterString:{description:"",type:{name:"string"},required:!0},getVisibleColumnsCount:{description:"",type:{name:"func"},required:!0},instructionsLabel:{description:"",type:{name:"string"},required:!1},onSelectColumn:{description:"",type:{name:"func"},required:!0},selectAllLabel:{description:"",type:{name:"string"},required:!1},setColumnStatus:{description:"",type:{name:"func"},required:!1},setColumnsObject:{description:"",type:{name:"func"},required:!0}}};const tt=`${N.prefix}--datagrid`,te=({searchText:t,setSearchText:o,findColumnPlaceholderLabel:l})=>p.createElement("div",{className:`${tt}__customize-columns-tearsheet--actions`},p.createElement(Qe,{placeholder:l,value:t,size:"lg",labelText:l,onChange:n=>{o(n.target.value)}}));te.propTypes={columns:s.array.isRequired,findColumnPlaceholderLabel:s.string,originalColumnDefinitions:s.array.isRequired,resetToDefaultLabel:s.string,searchText:s.string.isRequired,setColumnsObject:s.func.isRequired,setSearchText:s.func.isRequired};te.__docgenInfo={description:"",methods:[],displayName:"Actions",props:{columns:{description:"",type:{name:"array"},required:!0},findColumnPlaceholderLabel:{description:"",type:{name:"string"},required:!1},originalColumnDefinitions:{description:"",type:{name:"array"},required:!0},resetToDefaultLabel:{description:"",type:{name:"string"},required:!1},searchText:{description:"",type:{name:"string"},required:!0},setColumnsObject:{description:"",type:{name:"func"},required:!0},setSearchText:{description:"",type:{name:"func"},required:!0}}};const st=`${N.prefix}--datagrid`,se=({isOpen:t,setIsTearsheetOpen:o,onSaveColumnPrefs:l,columnDefinitions:n,originalColumnDefinitions:b,customizeTearsheetHeadingLabel:u="Customize columns",primaryButtonTextLabel:g="Save",secondaryButtonTextLabel:c="Cancel",instructionsLabel:m="Select columns to display them. Click and drag the box to reorder the columns. These specifications will be saved and persist if you leave and return to the data table.",findColumnPlaceholderLabel:i="Find column",resetToDefaultLabel:T="Reset to default",assistiveTextInstructionsLabel:k="Press space bar to toggle drag drop mode, use arrow keys to move selected elements.",assistiveTextDisabledInstructionsLabel:E="Reordering columns are disabled because they are filtered currently.",selectAllLabel:I="Column name"})=>{const[$,q]=p.useState(""),[B,r]=p.useState(""),[d,f]=p.useState(""),[a,C]=p.useState(n),[P,S]=p.useState(!1),x=p.useRef(void 0),W=()=>{C(n),o(!1)},U=()=>{o(!1);const h=a.map(z=>({id:z.id,isVisible:z.isVisible}));l(h)},v=(h,z)=>{const O=a.map(y=>Array.isArray(h)?h.includes(y)&&y.canFilter&&!y.disabled?{...y,isVisible:z}:y:h.id===y.id?{...y,isVisible:z}:y),oe=O.filter(y=>y.isVisible&&!["datagridSelection","actions"].includes(y.id)).length,Le=O.map(y=>oe>0?["datagridSelection","actions"].includes(y.id)?{...y,isVisible:!0}:y:["datagridSelection","actions"].includes(y.id)?{...y,isVisible:!1}:y);C(Le),S(oe!==0)},G=p.useCallback(()=>a.filter(h=>h.isVisible).length,[a]),De=d.trim().toLowerCase();return p.useEffect(()=>{x.current!==n&&C(n);const h=a.filter(O=>O.id==="actions").length,z=a.filter(O=>O.id==="datagridSelection").length;q(G()-h-z<0?0:G()-h-z),r(a.length-h-z),x.current=n},[G,a,n]),e.createElement(Xe,{className:`${st}__customize-columns-tearsheet`,open:t,title:`${u} (${$}/${B})`,description:m,actions:[{kind:"secondary",label:c,onClick:W},{kind:"primary",label:g,onClick:U,disabled:!P}]},e.createElement(te,{columns:a,originalColumnDefinitions:b,searchText:d,setColumnsObject:h=>{C(h),S(!0)},setSearchText:f,findColumnPlaceholderLabel:i,resetToDefaultLabel:T}),t&&e.createElement(ee,{assistiveTextInstructionsLabel:k,assistiveTextDisabledInstructionsLabel:E,getVisibleColumnsCount:G,columns:a,filterString:De,onSelectColumn:v,setColumnsObject:h=>{C(h),S(G()!==0)},selectAllLabel:I,customizeTearsheetHeadingLabel:u}))};se.propTypes={assistiveTextDisabledInstructionsLabel:s.string,assistiveTextInstructionsLabel:s.string,columnDefinitions:s.array.isRequired,customizeTearsheetHeadingLabel:s.string,findColumnPlaceholderLabel:s.string,instructionsLabel:s.string,isOpen:s.bool.isRequired,onSaveColumnPrefs:s.func.isRequired,originalColumnDefinitions:s.array.isRequired,primaryButtonTextLabel:s.string,resetToDefaultLabel:s.string,secondaryButtonTextLabel:s.string,selectAllLabel:s.string,setIsTearsheetOpen:s.func.isRequired};se.__docgenInfo={description:"",methods:[],displayName:"CustomizeColumnsTearsheet",props:{customizeTearsheetHeadingLabel:{defaultValue:{value:"'Customize columns'",computed:!1},description:"",type:{name:"string"},required:!1},primaryButtonTextLabel:{defaultValue:{value:"'Save'",computed:!1},description:"",type:{name:"string"},required:!1},secondaryButtonTextLabel:{defaultValue:{value:"'Cancel'",computed:!1},description:"",type:{name:"string"},required:!1},instructionsLabel:{defaultValue:{value:"'Select columns to display them. Click and drag the box to reorder the columns. These specifications will be saved and persist if you leave and return to the data table.'",computed:!1},description:"",type:{name:"string"},required:!1},findColumnPlaceholderLabel:{defaultValue:{value:"'Find column'",computed:!1},description:"",type:{name:"string"},required:!1},resetToDefaultLabel:{defaultValue:{value:"'Reset to default'",computed:!1},description:"",type:{name:"string"},required:!1},assistiveTextInstructionsLabel:{defaultValue:{value:"'Press space bar to toggle drag drop mode, use arrow keys to move selected elements.'",computed:!1},description:"",type:{name:"string"},required:!1},assistiveTextDisabledInstructionsLabel:{defaultValue:{value:"'Reordering columns are disabled because they are filtered currently.'",computed:!1},description:"",type:{name:"string"},required:!1},selectAllLabel:{defaultValue:{value:"'Column name'",computed:!1},description:"",type:{name:"string"},required:!1},columnDefinitions:{description:"",type:{name:"array"},required:!0},isOpen:{description:"",type:{name:"bool"},required:!0},onSaveColumnPrefs:{description:"",type:{name:"func"},required:!0},originalColumnDefinitions:{description:"",type:{name:"array"},required:!0},setIsTearsheetOpen:{description:"",type:{name:"func"},required:!0}}};const re=({instance:t})=>{const{onSaveColumnPrefs:o,isTearsheetOpen:l,setIsTearsheetOpen:n,labels:b,...u}=t.customizeColumnsProps,{state:g}=p.useContext(ke),{featureFlags:c}=g||{};return p.useEffect(()=>{c&&!(c!=null&&c["enable-datagrid-useCustomizeColumns"])&&console.error("Datagrid useCustomizeColumns extension has not been enabled via feature flag.")},[c]),e.createElement(se,{...u,...b,isOpen:l,setIsTearsheetOpen:n,columnDefinitions:t.allColumns,originalColumnDefinitions:t.columns,onSaveColumnPrefs:m=>{setTimeout(()=>{const i=m.filter(T=>!T.isVisible).map(T=>T.id);t.setHiddenColumns(i),typeof t.setColumnOrder=="function"?t.setColumnOrder(m.map(T=>T.id)):console.warn("Column order can not be updated. Did you forget to add 'useColumnOrder' in 'useDatagrid'")},0),typeof o=="function"&&o(m)}})};re.propTypes={instance:s.object.isRequired};re.__docgenInfo={description:"",methods:[],displayName:"TearsheetWrapper",props:{instance:{description:"",type:{name:"object"},required:!0}}};const rt=`${N.prefix}--datagrid`,J=({onClick:t,setIsTearsheetOpen:o,isTearsheetOpen:l,iconTooltipLabel:n="Customize columns",...b})=>p.createElement(He,{...b,renderIcon:u=>p.createElement(Pe,{size:16,...u}),iconDescription:n,tooltipPosition:"bottom",kind:"ghost",hasIconOnly:!0,"test-id":`${rt}__customize-columns-trigger`,onClick:()=>{o(!l),typeof t=="function"&&t()}});J.defaultProps={onClick:()=>{}};J.propTypes={iconTooltipLabel:s.string,isTearsheetOpen:s.bool.isRequired,onClick:s.func.isRequired,setIsTearsheetOpen:s.func.isRequired};J.__docgenInfo={description:"",methods:[],displayName:"ButtonWrapper",props:{iconTooltipLabel:{defaultValue:{value:"'Customize columns'",computed:!1},description:"",type:{name:"string"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},isTearsheetOpen:{description:"",type:{name:"bool"},required:!0},setIsTearsheetOpen:{description:"",type:{name:"func"},required:!0}}};const Se=t=>{const[o,l]=p.useState(!1);t.useInstance.push(n=>{const{customizeColumnsProps:b}=n,{labels:u}=b||{};Object.assign(n,{customizeColumnsProps:{...b,isTearsheetOpen:o,setIsTearsheetOpen:l},CustomizeColumnsButton:g=>p.createElement(J,{iconTooltipLabel:u==null?void 0:u.iconTooltipLabel,isTearsheetOpen:o,setIsTearsheetOpen:l,...g}),CustomizeColumnsTearsheet:re})})},xe=Re.useColumnOrder,ve=()=>e.createElement($e,{omitCodedExample:!0,blocks:[{title:"Customizing columns",description:"Customizing columns allows user to reorder and hide certain columns of the datagrid. Consuming component can use the provided callback to save/update according to their persistent strategy.\n- Include `useCustomizeColumns` and `useColumnOrder` hooks (required)\n  - `useColumnOrder` comes from `react-table` but is exported by `@carbon/ibm-products` to be used alongside `useCustomizeColumns`.\n- Implement `options.DatagridActions` component\n  - this component will have props: `datagridState`\n  - render `datagridState.CustomizeColumnsButton` component wherever makes sense.\n- Options available to set:\n  - `options.initialState.hiddenColumns: Array<ColumnId: String>`\n    - Array of column ids that will be hidden after initial render\n    - [react-table doc](https://react-table.tanstack.com/docs/api/useTable#table-options)\n  - `options.initialState.columnOrder: Array<ColumnId: String>`\n    - Order of the columns. Any column ids not in this array will be ordered by their position in the `options.columns`\n    - [react-table doc](https://react-table.tanstack.com/docs/api/useColumnOrder#table-options)\n  - `options.customizeColumnsProps.onSaveColumnPrefs`\n    - type: `Function(Columns: Array<{ColumnId: String, isVisible: Boolean}>) => void`\n    - Callback function when 'Save' button clicked on the narrow tearsheet. It allows consumer to preserve the updated column preference. This output can also be used to compute the `hiddenColumns` and `columnOrder`\n        ",source:{code:`
const columns = React.useMemo(() => defaultHeader, []);
const [data] = useState(makeData(10));
const DatagridActions = (datagridState) => (
  <TableToolbarContent>
    <TableToolbarSearch ... />
    <Button ... />
    <datagridState.CustomizeColumnsButton />
  </TableToolbarContent>
)
const datagridState = useDatagrid(
  {
    columns,
    data,
    initialState: {
      hiddenColumns: ['age'],
      columnOrder: [],
    },
    customizeColumnsProps: {
      onSaveColumnPrefs: (newColDefs) => {
        console.log(newColDefs);
      },
    },
    DatagridActions,
  },
  useCustomizeColumns,
  useColumnOrder,
);

return (
  <Datagrid datagridState={datagridState} />
);
          `}}]});ve.__docgenInfo={description:"",methods:[],displayName:"DocsPage"};const mr={title:"Deprecated/Datagrid/Datagrid/ColumnCustomization",component:Q,tags:["autodocs"],parameters:{styles:Ee,docs:{page:ve},layout:"fullscreen"},argTypes:{featureFlags:{table:{disable:!0}}}},_e=`${N.prefix}--datagrid`,ze=[{Header:"Row Index",accessor:(t,o)=>o,id:"rowIndex"},{Header:"First Name",accessor:"firstName"},{Header:"Last Name",accessor:"lastName"},{Header:"Age",accessor:"age",width:50,disableGlobalFilter:!0},{Header:"Visits",accessor:"visits",width:60},{Header:"Someone 1",accessor:"someone1"},{Header:"Someone 2",accessor:"someone2"},{Header:"Someone 3",accessor:"someone3"},{Header:"Someone 4",accessor:"someone4"},{Header:"Someone 5",accessor:"someone5"},{Header:"Someone 6",accessor:"someone6"},{Header:"Someone 7",accessor:"someone7"},{Header:"Someone 8",accessor:"someone8"},{Header:"Someone 9",accessor:"someone9"},{Header:"Someone 10",accessor:"someone10"}],M={gridTitle:"Data table title",gridDescription:"Additional information if needed",useDenseHeader:!1,rowActions:[{id:"edit",itemText:"Edit",icon:he,onClick:j("Clicked row action: edit")},{id:"delete",itemText:"Delete",icon:Te,isDelete:!0,onClick:j("Clicked row action: delete")}]},ot=({...t})=>{const[o,l]=p.useState([]),n=e.useMemo(()=>{const g=[...ze];return g.forEach(c=>{o.some(m=>{if(c.accessor===m)return c.disableGlobalFilter=!0,!0;c.disableGlobalFilter=!1})}),g},[o]),[b]=p.useState(me(10)),u=pe({className:"c4p--datagrid__hidden--columns",columns:n,data:b,initialState:{pageSize:10,pageSizes:[5,10,25,50],hiddenColumns:["age"],columnOrder:[]},DatagridActions:ge,DatagridPagination:be,...t.defaultGridProps,customizeColumnsProps:{onSaveColumnPrefs:g=>{const c=g.map((m,i)=>m.isVisible?null:m.id).filter(m=>m!==null);l(c)},labels:{findColumnPlaceholderLabel:"Find column",resetToDefaultLabel:"Reset to default",customizeTearsheetHeadingLabel:"Customize columns",primaryButtonTextLabel:"Save",secondaryButtonTextLabel:"Cancel",instructionsLabel:"Deselect columns to hide them. Drag rows to change column order. These specifications will be saved if you leave and return to the data table.",iconTooltipLabel:"Customize columns",assistiveTextInstructionsLabel:"Press space bar to toggle drag drop mode, use arrow keys to move selected elements.",assistiveTextDisabledInstructionsLabel:"Reordering columns are disabled because they are filtered currently.",selectAllLabel:"Column name"}}},Se,xe);return e.createElement(Ce,{flags:{"enable-datagrid-useCustomizeColumns":!0}},e.createElement(Q,{datagridState:u}),e.createElement("div",{className:`${_e}-story__hidden-column-id-snippet`},e.createElement("p",null,"Hidden column ids:"),e.createElement(fe,{type:"multi"},JSON.stringify(u.state.hiddenColumns,null,2))))},it=({...t})=>e.createElement(ot,{defaultGridProps:{...t}}),qe={gridTitle:M.gridTitle,gridDescription:M.gridDescription,useDenseHeader:M.useDenseHeader,customizeColumnsProps:M.customizeColumnsProps},nt="With column customization",H=it.bind({});H.storyName=nt;H.argTypes={gridTitle:L.gridTitle,gridDescription:L.gridDescription,useDenseHeader:L.useDenseHeader,customizeColumnsProps:L.customizeColumnsProps};H.args={...qe};const at=({...t})=>{const[o,l]=p.useState([]),n=ze.slice(2,15),b=e.useMemo(()=>{const c=[{Header:"Row Index",accessor:(m,i)=>i,sticky:"left",id:"rowIndex"},{Header:"First Name",accessor:"firstName",disabled:!0},...n,{Header:"",accessor:"actions",sticky:"right",width:48,isAction:!0}];return c.forEach(m=>{o.some(i=>{if(m.accessor===i)return m.disableGlobalFilter=!0,!0;m.disableGlobalFilter=!1})}),c},[o]),[u]=p.useState(me(10)),g=pe({className:"c4p--datagrid__hidden--columns",columns:b,data:u,ascendingSortableLabelText:"ascending",descendingSortableLabelText:"descending",defaultSortableLabelText:"none",initialState:{pageSize:10,pageSizes:[5,10,25,50],hiddenColumns:["age"],columnOrder:[],sortableColumn:{id:"rowIndex",order:"ASC"}},DatagridActions:ge,DatagridPagination:be,rowActions:[{id:"edit",itemText:"Edit",icon:he,onClick:j("Clicked row action: edit")},{id:"approve",itemText:"Approve",icon:we,onClick:j("Clicked row action: approve")},{id:"delete",itemText:"Delete",icon:Te,isDelete:!0,hasDivider:!0,onClick:j("Clicked row action: delete")}],...t.defaultGridProps,customizeColumnsProps:{onSaveColumnPrefs:c=>{const m=c.map((i,T)=>i.isVisible?null:i.id).filter(i=>i!==null);l(m)},labels:{findColumnPlaceholderLabel:"Find column",resetToDefaultLabel:"Reset to default",customizeTearsheetHeadingLabel:"Customize columns",primaryButtonTextLabel:"Save",secondaryButtonTextLabel:"Cancel",instructionsLabel:"Deselect columns to hide them. Drag rows to change column order. These specifications will be saved if you leave and return to the data table.",iconTooltipLabel:"Customize columns",assistiveTextInstructionsLabel:"Press space bar to toggle drag drop mode, use arrow keys to move selected elements.",assistiveTextDisabledInstructionsLabel:"Reordering columns are disabled because they are filtered currently.",selectAllLabel:"Column name"}}},Se,xe,et,Ze,Ie);return e.createElement(Ce,{flags:{"enable-datagrid-useCustomizeColumns":!0}},e.createElement(Q,{datagridState:g}),e.createElement("div",{className:`${_e}-story__hidden-column-id-snippet`},e.createElement("p",null,"Hidden column ids:"),e.createElement(fe,{type:"multi"},JSON.stringify(g.state.hiddenColumns,null,2))))},lt=({...t})=>e.createElement(at,{defaultGridProps:{...t}}),dt="With column customization and frozen columns",R=lt.bind({});R.storyName=dt;R.argTypes={gridTitle:L.gridTitle,gridDescription:L.gridDescription,useDenseHeader:L.useDenseHeader,customizeColumnsProps:L.customizeColumnsProps};R.args={...qe};var ne,ae,le;H.parameters={...H.parameters,docs:{...(ne=H.parameters)==null?void 0:ne.docs,source:{originalSource:`({
  ...args
}) => {
  return <ColumnCustomizationUsage defaultGridProps={{
    ...args
  }} />;
}`,...(le=(ae=H.parameters)==null?void 0:ae.docs)==null?void 0:le.source}}};var de,ce,ue;R.parameters={...R.parameters,docs:{...(de=R.parameters)==null?void 0:de.docs,source:{originalSource:`({
  ...args
}) => {
  return <ColumnCustomizationWithFixedColumn defaultGridProps={{
    ...args
  }} />;
}`,...(ue=(ce=R.parameters)==null?void 0:ce.docs)==null?void 0:ue.source}}};const pr=["ColumnCustomizationUsageStory","ColumnCustomizationWithFixedColumnAndDisabledStory"];export{H as ColumnCustomizationUsageStory,R as ColumnCustomizationWithFixedColumnAndDisabledStory,pr as __namedExportsOrder,mr as default};
