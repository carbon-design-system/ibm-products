import{e as n,u as x,c as S,_ as v,V as ye,m as pe,P as e,q as D,B as H,d as Ee,r as y,v as be,aq as he,a as le,l as ce,n as ie,a6 as Oe,t as qe,i as He}from"./iframe-arkle79Y.js";import{L as ee}from"./index-CmrOtKYe.js";import{B as Q}from"./ButtonSet-CEIahZQo.js";import{I as Ce}from"./InlineLoading-BgRgURAS.js";import{m as Le}from"./mergeRefs-D4pwfk3t.js";import{r as Ye}from"./requiredIfGivenPropIsTruthy-VsRXdxiC.js";import{e as ze,w as We,a as Ke}from"./wrapFocus-oiRIiM73.js";import{T as Te}from"./Text-pEBQpjZl.js";import{A as Ve}from"./index-Chb2kpTH.js";import{i as ue}from"./utils-ChakNn1e.js";var J={exports:{}},E={},de;function Ue(){if(de)return E;de=1;/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),m=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function a(t){if(typeof t=="object"&&t!==null){var N=t.$$typeof;switch(N){case o:switch(t=t.type,t){case s:case f:case l:case i:case h:case _:return t;default:switch(t=t&&t.$$typeof,t){case m:case u:case d:case C:return t;case b:return t;default:return N}}case r:return N}}}return E.ContextConsumer=b,E.ContextProvider=m,E.Element=o,E.ForwardRef=u,E.Fragment=s,E.Lazy=d,E.Memo=C,E.Portal=r,E.Profiler=f,E.StrictMode=l,E.Suspense=i,E.SuspenseList=h,E.isContextConsumer=function(t){return a(t)===b},E.isContextProvider=function(t){return a(t)===m},E.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o},E.isForwardRef=function(t){return a(t)===u},E.isFragment=function(t){return a(t)===s},E.isLazy=function(t){return a(t)===d},E.isMemo=function(t){return a(t)===C},E.isPortal=function(t){return a(t)===r},E.isProfiler=function(t){return a(t)===f},E.isStrictMode=function(t){return a(t)===l},E.isSuspense=function(t){return a(t)===i},E.isSuspenseList=function(t){return a(t)===h},E.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===s||t===f||t===l||t===i||t===h||typeof t=="object"&&t!==null&&(t.$$typeof===d||t.$$typeof===C||t.$$typeof===m||t.$$typeof===b||t.$$typeof===u||t.$$typeof===T||t.getModuleId!==void 0)},E.typeOf=a,E}var fe;function Ge(){return fe||(fe=1,J.exports=Ue()),J.exports}var me=Ge();const $e=n.forwardRef(function({buttonOnClick:r,children:s,className:l,closeClassName:f,closeIconClassName:b,closeModal:m,iconDescription:u="Close",label:i,labelClassName:h,title:C,titleClassName:d,..._},T){const a=x();function t(I){m?.(I),r?.(I)}const N=S(`${a}--modal-header`,l),w=S(`${a}--modal-header__label ${a}--type-delta`,h),k=S(`${a}--modal-header__heading ${a}--type-beta`,d),A=S(`${a}--modal-close`,f),c=S(`${a}--modal-close__icon`,b);return n.createElement("div",v({className:N},_,{ref:T}),i&&n.createElement("h2",{className:w},i),C&&n.createElement("h2",{className:k},C),s,n.createElement("div",{className:`${a}--modal-close-button`},n.createElement(ye,{className:A,label:u,onClick:t,"aria-label":u,align:"left"},n.createElement(pe,{size:20,"aria-hidden":"true",tabIndex:"-1",className:c}))))});$e.propTypes={buttonOnClick:e.func,children:e.node,className:e.string,closeClassName:e.string,closeIconClassName:e.string,closeModal:e.func,iconDescription:e.string,label:e.node,labelClassName:e.string,title:e.node,titleClassName:e.string};function Ne({secondaryButtons:o,secondaryButtonText:r,secondaryClassName:s,closeModal:l,onRequestClose:f,disabled:b}){function m(u){l(u),f(u)}return Array.isArray(o)&&o.length<=2?n.createElement(n.Fragment,null,o.map(({buttonText:u,onClick:i},h)=>n.createElement(H,{key:`${u}-${h}`,className:s,kind:"secondary",onClick:i||m},u))):r?n.createElement(H,{disabled:b,className:s,onClick:m,kind:"secondary"},r):null}Ne.propTypes={closeModal:e.func,disabled:e.bool,onRequestClose:e.func,secondaryButtonText:e.string,secondaryButtons:(o,r,s)=>{if(o.secondaryButtons){if(!Array.isArray(o.secondaryButtons)||o.secondaryButtons.length!==2)return new Error(`${r} needs to be an array of two button config objects`);const l={buttonText:e.node,onClick:e.func};o[r].forEach(f=>{e.checkPropTypes(l,f,r,s)})}return null},secondaryClassName:e.string};const j=n.forwardRef(function({children:r,className:s,closeModal:l=D,danger:f,inputref:b,onRequestClose:m=D,onRequestSubmit:u=D,primaryButtonDisabled:i,primaryButtonText:h,primaryClassName:C,secondaryButtonText:d,secondaryButtons:_,secondaryClassName:T,loadingStatus:a="inactive",loadingDescription:t,loadingIconDescription:N,onLoadingSuccess:w=D,...k},A){const c=x(),I=S(`${c}--modal-footer`,s,Array.isArray(_)&&_.length===2?`${c}--modal-footer--three-button`:null),P=S(C,a!=="inactive"?`${c}--btn--loading`:null),F=a!=="inactive",q={closeModal:l,secondaryButtons:_,secondaryButtonText:d,secondaryClassName:T,onRequestClose:m,disabled:F};return n.createElement(Q,v({className:I},k,{ref:A,"aria-busy":F}),n.createElement(Ne,q),h&&n.createElement(H,{onClick:u,className:P,disabled:F||i,kind:f?"danger":"primary",ref:b},a==="inactive"?h:n.createElement(Ce,{status:a,description:t,iconDescription:N,className:`${c}--inline-loading--btn`,onSuccess:w})),r)});j.propTypes={children:e.node,className:e.string,closeModal:e.func,danger:e.bool,inputref:e.oneOfType([e.func,e.shape({current:e.any})]),loadingDescription:e.string,loadingIconDescription:e.string,loadingStatus:e.oneOf(["inactive","active","finished","error"]),onLoadingSuccess:e.func,onRequestClose:e.func,onRequestSubmit:e.func,primaryButtonDisabled:e.bool,primaryButtonText:e.string,primaryClassName:e.string,secondaryButtonText:e.string,secondaryButtons:(o,r,s)=>{if(o.secondaryButtons){if(!Array.isArray(o.secondaryButtons)||o.secondaryButtons.length!==2)return new Error(`${r} needs to be an array of two button config objects`);const l={buttonText:e.node,onClick:e.func};o[r].forEach(f=>{e.checkPropTypes(l,f,r,s)})}return null},secondaryClassName:e.string};const ge=(o,r,s)=>{o.classList.toggle(r,s)},G=y.createContext({}),te=n.forwardRef(({children:o,className:r,focusAfterCloseRef:s,modal:l,onCancel:f=D,onClick:b=D,onClose:m=D,onRequestClose:u=D,open:i=!1,role:h,ariaLabel:C,ariaLabelledBy:d,ariaDescribedBy:_,...T},a)=>{const t=x(),N=Ee(),w=`${t}--dialog-header__heading--${N}`,k=`${t}--dialog-header__label--${N}`,A=y.useRef(null),c=a??A;function I(p){i&&l&&p.target===c.current&&u(p)}function P(p){I(p),b(p)}y.useEffect(()=>{c.current&&(i?l?c.current.showModal():c.current.show():c.current.close())},[l,i]),y.useEffect(()=>{if(!i&&s){const p=setTimeout(()=>{s.current?.focus()});return()=>{clearTimeout(p)}}},[i,s]);const F=S(`${t}--dialog-container`),q={dialogId:N,titleId:w,subtitleId:k,isOpen:i};return y.useEffect(()=>{if(c.current&&i&&!C&&!d){const p=c.current.querySelector(`.${t}--dialog-header__heading`);p&&p.id&&c.current.setAttribute("aria-labelledby",p.id)}},[i,C,d,t]),n.createElement(G.Provider,{value:q},n.createElement("dialog",v({},T,{className:S(`${t}--dialog`,{[`${t}--dialog--modal`]:l},r),ref:c,onCancel:f,onClick:P,onClose:m,role:h,"aria-label":C,"aria-labelledby":C?void 0:d||w,"aria-describedby":_}),n.createElement("div",{className:F},o)))});te.displayName="Dialog";te.propTypes={children:e.node,className:e.string,focusAfterCloseRef:e.oneOfType([e.func,e.shape({current:e.any})]),modal:e.bool,onRequestClose:e.func,open:e.bool,role:e.oneOf(["dialog","alertdialog"]),"aria-label":e.string,"aria-labelledby":e.string,ariaDescribedBy:e.string};const _e=n.forwardRef(({children:o,...r},s)=>{const l=x();return n.createElement("div",v({className:`${l}--dialog__header`,ref:s},r),o)});_e.displayName="DialogHeader";_e.propTypes={children:e.node};const Re=n.forwardRef(({children:o,...r},s)=>{const l=x();return n.createElement("div",v({className:`${l}--dialog__header-controls`,ref:s},r),o)});Re.displayName="DialogControls";Re.propTypes={children:e.node};const Se=n.forwardRef(({onClick:o,...r},s)=>{const l=x();return n.createElement(ye,v({kind:"ghost",className:`${l}--dialog__close`,label:"Close",title:"Close","aria-label":"Close",align:"left",onClick:o,ref:s},r),n.createElement(pe,{size:20,"aria-hidden":"true",tabIndex:-1,className:`${l}--icon__close`}))});Se.displayName="DialogCloseButton";Se.propTypes={onClick:e.func};const we=n.forwardRef(({children:o,className:r,id:s,...l},f)=>{const b=x(),{titleId:m}=y.useContext(G),u=s||m;return n.createElement(Te,v({as:"h2",id:u,className:S(`${b}--dialog-header__heading`,r),ref:f},l),o)});we.displayName="DialogTitle";we.propTypes={children:e.node,className:e.string,id:e.string};const Ie=n.forwardRef(({children:o,className:r,id:s,...l},f)=>{const b=x(),{subtitleId:m}=y.useContext(G),u=s||m;return n.createElement(Te,v({as:"h2",id:u,className:S(`${b}--dialog-header__label`,r),ref:f},l),o)});Ie.displayName="DialogSubtitle";Ie.propTypes={children:e.node,className:e.string,id:e.string};const ve=n.forwardRef(({children:o,className:r,hasScrollingContent:s,...l},f)=>{const b=x(),m=y.useRef(null),[u,i]=y.useState(!1),h=Ee(),C=`${b}--dialog-body--${h}`;be(()=>{m.current&&i(m.current.scrollHeight>m.current.clientHeight);function a(){m.current&&i(m.current.scrollHeight>m.current.clientHeight)}const t=he(a,200);return window.addEventListener("resize",t),()=>{t.cancel(),window.removeEventListener("resize",t)}},[]);const d=S(`${b}--dialog-content`,{[`${b}--dialog-scroll-content`]:s||u},r),_=s||u?{tabIndex:0,role:"region"}:{},T=a=>{typeof f=="function"?f(a):f&&(f.current=a),m.current=a};return n.createElement(ee,v({ref:T,id:C,className:d},_,l),o)});ve.displayName="DialogBody";ve.propTypes={children:e.node,className:e.string,hasScrollingContent:e.bool};const xe=n.forwardRef(({children:o,className:r,onRequestClose:s=D,onSecondarySubmit:l,onRequestSubmit:f=D,primaryButtonText:b="Save",primaryButtonDisabled:m=!1,secondaryButtonText:u="Cancel",secondaryButtons:i,loadingStatus:h="inactive",loadingDescription:C,loadingIconDescription:d,onLoadingSuccess:_=D,danger:T=!1,...a},t)=>{const N=x(),w=y.useRef(null),{isOpen:k}=y.useContext(G),[A,c]=y.useState(null);y.useEffect(()=>{if(T&&A){const p=requestAnimationFrame(()=>{A.focus()});return()=>cancelAnimationFrame(p)}},[T,A,k]);const I=S(`${N}--dialog-footer`,r,{[`${N}--dialog-footer--three-button`]:Array.isArray(i)&&i.length===2}),P=h!=="inactive",F=S({[`${N}--btn--loading`]:h!=="inactive"}),q=l||s;return o?n.createElement(Q,v({className:I,ref:t},a),o):n.createElement(Q,v({className:I,"aria-busy":P,ref:t},a),Array.isArray(i)&&i.length<=2?i.map(({buttonText:p,onClick:L},Y)=>n.createElement(H,{key:`${p}-${Y}`,autoFocus:T,kind:"secondary",ref:Y===0&&T?c:void 0,onClick:L},p)):u&&n.createElement(H,{ref:T?c:void 0,disabled:P,kind:"secondary",autoFocus:T,onClick:q},u),n.createElement(H,{className:F,kind:T?"danger":"primary",disabled:P||m,onClick:f,ref:w},h==="inactive"?b:n.createElement(Ce,{status:h,description:C,iconDescription:d,className:`${N}--inline-loading--btn`,onSuccess:_})))});xe.displayName="DialogFooter";xe.propTypes={children:e.node,className:e.string,onRequestClose:e.func,onSecondarySubmit:e.func,onRequestSubmit:e.func,primaryButtonText:e.node,primaryButtonDisabled:e.bool,secondaryButtonText:e.node,secondaryButtons:(o,r,s)=>{if(o.secondaryButtons){if(!Array.isArray(o.secondaryButtons)||o.secondaryButtons.length!==2)return new Error(`${r} needs to be an array of two button config objects`);const l={buttonText:e.node,onClick:e.func};o[r].forEach(f=>{e.checkPropTypes(l,f,r,s)})}return null},danger:e.bool,loadingStatus:e.oneOf(["inactive","active","finished","error"]),loadingDescription:e.string,loadingIconDescription:e.string,onLoadingSuccess:e.func};const Xe=n.forwardRef(function({className:r,children:s,hasForm:l,hasScrollingContent:f,...b},m){const u=x(),i=y.useRef(null),[h,C]=y.useState(!1),d=S({[`${u}--modal-content`]:!0,[`${u}--modal-content--with-form`]:l,[`${u}--modal-scroll-content`]:f||h},r);be(()=>{i.current&&C(i.current.scrollHeight>i.current.clientHeight);function T(){i.current&&C(i.current.scrollHeight>i.current.clientHeight)}const a=he(T,200);return window.addEventListener("resize",a),()=>{a.cancel(),window.removeEventListener("resize",a)}},[]);const _=f||h?{tabIndex:0,role:"region"}:{};return n.createElement(ee,v({className:d},_,b,{ref:Le(i,m)}),s)});Xe.propTypes={"aria-label":Ye("hasScrollingContent",e.string),children:e.node,className:e.string,hasForm:e.bool,hasScrollingContent:e.bool};const Ze=n.forwardRef(function({["aria-labelledby"]:r,["aria-label"]:s,children:l,className:f,containerClassName:b,danger:m,decorator:u,isFullWidth:i,onClose:h,onKeyDown:C,open:d,preventCloseOnClickOutside:_,selectorPrimaryFocus:T="[data-modal-primary-focus]",selectorsFloatingMenus:a,size:t,launcherButtonRef:N,slug:w,...k},A){const c=x(),[I,P]=y.useState(!!d),[F,q]=y.useState(!!d),p=y.useRef(null),L=y.useRef(null),Y=y.useRef(null),ne=y.useRef(null),oe=y.useRef(null),B=le("enable-dialog-element"),W=le("enable-experimental-focus-wrap-without-sentinels");y.useEffect(()=>{!B&&d!==F&&(P(!!d),q(!!d),ge(document.body,`${c}--body--with-modal-open`,!!d))},[d,F,c]),y.useEffect(()=>{if(!B)return()=>{ge(document.body,`${c}--body--with-modal-open`,!1)}},[]);function ke(g){B||W&&d&&ie(g,Oe)&&p.current&&We({containerNode:p.current,currentActiveNode:g.target,event:g}),C?.(g)}function Ae(g){const $=g.target;oe.current=$}function De(g){const{target:$}=g,R=oe.current;g.stopPropagation(),(se&&!_||!se&&_===!1)&&$ instanceof Node&&!ze($,a)&&p.current&&!p.current.contains($)&&!p.current.contains(R)&&K(g)}function Pe({target:g,relatedTarget:$}){if(!B&&!W&&d&&$&&g&&p.current){const{current:z}=p,{current:U}=Y,{current:Be}=ne;Ke({bodyNode:z,startTrapNode:U,endTrapNode:Be,currentActiveNode:$,oldActiveNode:g,selectorsFloatingMenus:a?.filter(Boolean)})}const R=document.querySelector(`.${c}--modal-content`);if(!R||!R.classList.contains(`${c}--modal-scroll-content`)||!$||!R.contains($))return;const M=R.children[R.children.length-1],O=R.scrollHeight-M.offsetTop-M.clientHeight;for(const z of R.children)if(z.contains($)){const U=R.clientHeight-z.offsetTop+R.scrollTop-z.clientHeight;U<O&&(R.scrollTop=R.scrollTop+(O-U));break}}function K(g){(!h||h(g)!==!1)&&P(!1)}const Fe=S(`${c}--modal`,{"is-visible":I,[`${c}--modal--danger`]:m,[`${c}--modal--slug`]:w,[`${c}--modal--decorator`]:u},f),re=S(`${c}--modal-container`,t&&`${c}--modal-container--${t}`,i&&`${c}--modal-container--full-width`,b);let X;const Z=n.Children.toArray(l).map(g=>{switch(!0){case(me.isElement(g)&&g.type===n.createElement($e).type):{const $=g;return X=$.props.label,n.cloneElement($,{closeModal:K})}case(me.isElement(g)&&g.type===n.createElement(j).type):{const $=g;return n.cloneElement($,{closeModal:K,inputref:L,danger:m})}default:return g}}),se=!y.Children.toArray(Z).some(g=>ue(g,j));y.useEffect(()=>{if(!d)return;const g=$=>{ie($,qe)&&($.preventDefault(),$.stopPropagation(),K($))};return document.addEventListener("keydown",g,!0),()=>{document.removeEventListener("keydown",g,!0)}},[d]),y.useEffect(()=>{!B&&!d&&N&&setTimeout(()=>{N.current?.focus()})},[B,d,N]),y.useEffect(()=>{if(!B){const g=R=>{const M=R||p.current,O=M?M.querySelector(m?`.${c}--btn--secondary`:T):null;return O||L&&L.current};d&&I&&(R=>{const M=g(R),O=R.querySelector(`.${c}--modal-close`);M?M.focus():!M&&O&&O?.focus()})(p.current)}},[d,T,I]);const ae=w??u,V=ue(ae,Ve)?y.cloneElement(ae,{size:"sm"}):null,Me=B?n.createElement(te,{open:d,focusAfterCloseRef:N,modal:!0,className:re,"aria-label":s||X,"aria-labelledby":r},n.createElement("div",{ref:p,className:`${c}--modal-container-body`},w?V:u?n.createElement("div",{className:`${c}--modal--inner__decorator`},V):"",Z)):n.createElement("div",{className:re,role:"dialog","aria-modal":"true","aria-label":s||X,"aria-labelledby":r},!W&&n.createElement("button",{type:"button",ref:Y,className:`${c}--visually-hidden`},"Focus sentinel"),n.createElement("div",{ref:p,className:`${c}--modal-container-body`},w?V:u?n.createElement("div",{className:`${c}--modal--inner__decorator`},V):"",Z),!W&&n.createElement("button",{type:"button",ref:ne,className:`${c}--visually-hidden`},"Focus sentinel"));return n.createElement(ee,v({},k,{level:0,role:"presentation",ref:A,"aria-hidden":!d,onBlur:Pe,onClick:ce([k?.onClick,De]),onMouseDown:ce([k?.onMouseDown,Ae]),onKeyDown:ke,className:Fe}),Me)});Ze.propTypes={"aria-label":e.string,"aria-labelledby":e.string,children:e.node,className:e.string,containerClassName:e.string,danger:e.bool,decorator:e.node,isFullWidth:e.bool,launcherButtonRef:e.oneOfType([e.func,e.shape({current:e.any})]),onClose:e.func,onKeyDown:e.func,open:e.bool,preventCloseOnClickOutside:e.bool,selectorPrimaryFocus:e.string,selectorsFloatingMenus:e.arrayOf(e.string.isRequired),size:e.oneOf(["xs","sm","md","lg"]),slug:He(e.node)};export{Ze as C,te as D,$e as M,Xe as a,j as b,ve as c,Se as d,Re as e,xe as f,_e as g,Ie as h,we as i,me as r,ge as t};
