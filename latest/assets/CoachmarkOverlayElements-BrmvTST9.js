import{r as m,e as t}from"./index-DtHxqM--.js";import{u as ce}from"./uuidv4-BN2rGLQG.js";import{d as _,j as se,P as o}from"./index-CMVdkQrl.js";import{g as W}from"./devtools-CJD9WatR.js";import{p as b,B as N,a as me}from"./settings-C3kz8lqM.js";import{aZ as ue}from"./bucket-5-BJPJ9WD6.js";import{u as de}from"./useIsomorphicEffect-DztsuiUB.js";import{c as J}from"./clamp-CsXXRQhr.js";import{C as pe}from"./Carousel-BWNfaVcq.js";var fe=(e=>(e.DEFAULT="default",e))(fe||{}),R=(e=>(e.TOOLTIP="tooltip",e.FLOATING="floating",e.FIXED="fixed",e.STACKED="stacked",e))(R||{}),y=(e=>(e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e))(y||{});const he=m.createContext(),ie=()=>m.useContext(he),ee=`${b.prefix}--coachmark-dragbar`,te=`${b.prefix}--coachmark-overlay`,Q="CoachmarkDragbar",V={closeIconDescription:"Close",onDrag:()=>{},onClose:()=>{},showCloseButton:!0,theme:"light"};let P=t.forwardRef(({a11yKeyboardHandler:e,closeIconDescription:u=V.closeIconDescription,onClose:l=V.onClose,onDrag:s=V.onDrag,showCloseButton:i=V.showCloseButton,theme:c=V.theme,...p},w)=>{const[C,E]=m.useState(!1);m.useEffect(()=>{const v=()=>E(!1);return window.addEventListener("mouseup",v),()=>{window.removeEventListener("mouseup",v)}},[]),m.useEffect(()=>{const v=d=>{s(d.movementX,d.movementY)};return C&&window.addEventListener("mousemove",v),()=>{window.removeEventListener("mousemove",v)}},[C,s]);const q=()=>E(!0);return t.createElement("header",{...p,className:_(ee,`${ee}__${c}`,{}),ref:w,...W(Q)},t.createElement("button",{type:"button",className:`${te}__handle`,onMouseDown:q,onKeyDown:e,title:"Drag Handle"},t.createElement(ue,{size:"16"})),i&&t.createElement(N,{kind:"ghost",size:"sm",renderIcon:se,iconDescription:u,hasIconOnly:!0,className:`${te}--close-btn`,onClick:l}))});P=b.checkComponentEnabled(P,Q);P.displayName=Q;P.propTypes={a11yKeyboardHandler:o.func.isRequired,closeIconDescription:o.string,onClose:o.func,onDrag:o.func,showCloseButton:o.bool,theme:o.oneOf(["light","dark"])};P.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.`,methods:[],displayName:"CoachmarkDragbar",props:{a11yKeyboardHandler:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: React.KeyboardEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"event"}],return:{name:"void"}}},description:"Handler to manage keyboard interactions with the dragbar.",type:{name:"func"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"Tooltip text and aria label for the Close button icon.",defaultValue:{value:"'Close'",computed:!1},type:{name:"string"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Function to call when the close button is clicked.",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},onDrag:{required:!1,tsType:{name:"signature",type:"function",raw:"(movementX: number, movementY: number) => void",signature:{arguments:[{type:{name:"number"},name:"movementX"},{type:{name:"number"},name:"movementY"}],return:{name:"void"}}},description:`Function to call when the user clicks and drags the Coachmark.
For internal use only by the parent CoachmarkOverlay.`,defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:'Show/hide the "X" close button.',defaultValue:{value:"true",computed:!1},type:{name:"bool"}},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"Determines the theme of the component.",defaultValue:{value:"'light'",computed:!1},type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}}}};const ne=`${b.prefix}--coachmark-header`,ae=`${b.prefix}--coachmark-overlay`,K="CoachmarkHeader",U={closeIconDescription:"Close",onClose:()=>{},showCloseButton:!0,theme:"light"};let S=t.forwardRef(({closeIconDescription:e=U.closeIconDescription,onClose:u=U.onClose,showCloseButton:l=U.showCloseButton,theme:s=U.theme,...i},c)=>t.createElement("header",{...i,className:_(ne,`${ne}__${s}`),ref:c,...W(K)},l&&t.createElement("div",{className:`${ae}--close-btn-container`},t.createElement(N,{kind:"ghost",size:"sm",renderIcon:se,iconDescription:e,hasIconOnly:!0,className:`${ae}--close-btn`,onClick:u}))));S=b.checkComponentEnabled(S,K);S.displayName=K;S.propTypes={closeIconDescription:o.string,onClose:o.func,showCloseButton:o.bool,theme:o.oneOf(["light","dark"])};S.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.`,methods:[],displayName:"CoachmarkHeader",props:{closeIconDescription:{required:!1,tsType:{name:"string"},description:"Tooltip text and aria label for the Close button icon.",defaultValue:{value:"'Close'",computed:!1},type:{name:"string"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Function to call when the close button is clicked.",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:'Show/hide the "X" close button.',defaultValue:{value:"true",computed:!1},type:{name:"bool"}},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"Determines the theme of the component.",defaultValue:{value:"'light'",computed:!1},type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}}}};const ye=(e,u)=>{const{width:l,height:s}=e.targetRect,i=24;let c=0,p=0;if(u!==R.TOOLTIP)switch(e.align){case y.TOP:p=l/2;break;case y.TOP_LEFT:p=i;break;case y.TOP_RIGHT:p=l-i;break;case y.BOTTOM:c=s,p=l/2;break;case y.BOTTOM_LEFT:c=s,p=i;break;case y.BOTTOM_RIGHT:c=s,p=l-i;break;case y.LEFT:c=s/2;break;case y.LEFT_TOP:c=i;break;case y.LEFT_BOTTOM:c=s-i;break;case y.RIGHT:c=s/2,p=l;break;case y.RIGHT_TOP:c=i,p=l;break;case y.RIGHT_BOTTOM:c=s-i,p=l;break}return{top:c,left:p}},x=`${b.prefix}--coachmark-overlay`,M="CoachmarkOverlay",oe={kind:R.FLOATING,theme:"light"};let H=m.forwardRef(({children:e,onClose:u,fixedIsVisible:l,className:s,kind:i=oe.kind,theme:c=oe.theme,...p},w)=>{const{winHeight:C,winWidth:E}=ge(),[q,v]=m.useState(!1),d=m.useRef(null),f=ie(),O=i===R.TOOLTIP,$=i===R.FLOATING,T=s==null?void 0:s.includes("is-visible"),Z=r=>{const{shiftKey:g,key:a}=r;if(a==="Enter"||a===" ")v(n=>!n);else if(q){const n=g?128:32;switch(a){case"ArrowLeft":k(n*-1,0);break;case"ArrowRight":k(n,0);break;case"ArrowUp":k(0,n*-1);break;case"ArrowDown":k(0,n);break}}},D=m.useMemo(()=>{const r={};if((O||$)&&(f.targetRect&&(r.left=f.targetRect.x+window.scrollX,r.top=f.targetRect.y+window.scrollY),r.left&&r.top&&(O&&(r.left=r.left+16,r.top=r.top+16),$))){const g=ye(f,i);r.left=r.left+g.left,r.top=r.top+g.top}return r},[O,$,f,i]);function Y(r,g){let a=r,n=g;const h=E-288,G=C-150;return a<0?a=0:a>h&&(a=h),n<0?n=0:n>G&&(n=G),{targetX:a,targetY:n}}function k(r,g){const a=d.current;if(!a)return;const{x:n,y:h}=a.getBoundingClientRect(),{targetX:G,targetY:le}=Y(n+r,h+g);a.style.transform="none",a.style.position="fixed",a.style.left=`${G}px`,a.style.top=`${le}px`,a.style.bottom="auto"}const I=ce();return de(()=>{var r;if(d.current){const g=(r=d.current)==null?void 0:r.style;Object.keys(D).forEach(a=>{const n=D[a];g.setProperty(a,`${n}px`)})}},[D,d]),t.createElement("div",{...p,className:_(x,`${x}--${i}`,`${x}__${c}`,(O||$)&&`${x}--${f.align}`,l&&`${x}--is-visible`,q&&`${x}--is-dragmode`,s),ref:d,"aria-labelledby":I,tabIndex:-1,...W(M)},$?t.createElement(P,{a11yKeyboardHandler:Z,onBlur:()=>v(!1),onDrag:k,theme:c,onClose:u}):t.createElement(S,{onClose:u}),t.createElement("div",{className:`${x}__body`,ref:w,id:I},t.Children.map(e,r=>t.cloneElement(r,{isVisible:T}))))});function re(){const{innerWidth:e,innerHeight:u}=window;return{winWidth:e,winHeight:u}}const ge=()=>{const[e,u]=m.useState(re());return m.useEffect(()=>{function l(){u(re())}return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),e};H=b.checkComponentEnabled(H,M);H.displayName=M;H.propTypes={children:o.node.isRequired,className:o.string,fixedIsVisible:o.bool.isRequired,kind:o.oneOf(Object.values(R)),onClose:o.func.isRequired,theme:o.oneOf(["light","dark"])};H.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.`,methods:[],displayName:"CoachmarkOverlay",props:{children:{required:!0,tsType:{name:"ReactNode"},description:`The CoachmarkOverlayElements child components.
Validation is handled in the parent Coachmark component.`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},fixedIsVisible:{required:!0,tsType:{name:"boolean"},description:`The visibility of CoachmarkOverlay is
managed in the parent Coachmark component.`,type:{name:"bool"}},kind:{required:!1,tsType:{name:"COACHMARK_OVERLAY_KIND"},description:"What kind or style of Coachmark to render.",defaultValue:{value:"COACHMARK_OVERLAY_KIND.FLOATING",computed:!0},type:{name:"enum",computed:!0,value:"Object.values(COACHMARK_OVERLAY_KIND)"}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Function to call when the Coachmark closes.",type:{name:"func"}},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"Determines the theme of the component.",defaultValue:{value:"'light'",computed:!1},type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}}}};const F=`${b.prefix}--coachmark-overlay-element`,A="CoachmarkOverlayElement";let z=t.forwardRef(({button:e,className:u,description:l,title:s,...i},c)=>t.createElement("div",{...i,className:_(F,u,{}),ref:c,...W(A)},t.createElement("div",{className:`${F}__content`},s&&t.createElement("h2",{className:`${F}__title`},s),l&&t.createElement("p",{className:`${F}__body`},l)),e&&t.createElement("div",{className:`${F}__button`},e)));z=b.checkComponentEnabled(z,A);z.displayName=A;z.propTypes={button:o.node,className:o.string,description:o.node.isRequired,title:o.string.isRequired};z.__docgenInfo={description:`Component to be displayed within a CoachmarkOverlayElements container.
Can be used 1 to N number, to display content in a Coachmark's overlay
in a carousel fashion.`,methods:[],displayName:"CoachmarkOverlayElement",props:{button:{required:!1,tsType:{name:"ReactNode"},description:`An optional button can be rendered below the description.
This can be a link, button, Coachmark button, etc.`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},description:{required:!0,tsType:{name:"ReactNode"},description:"The description of the Coachmark.",type:{name:"node"}},title:{required:!0,tsType:{name:"string"},description:"The title of the Coachmark.",type:{name:"string"}}}};const L=`${b.prefix}--coachmark-overlay-elements`,j="CoachmarkOverlayElements",B={isVisible:!1,nextButtonText:"Next",previousButtonLabel:"Back",closeButtonLabel:"Got it",onNext:void 0,onBack:void 0,currentStep:0};let X=t.forwardRef(({className:e,children:u,isVisible:l=B.isVisible,renderMedia:s,currentStep:i=B.currentStep,nextButtonText:c=B.nextButtonText,previousButtonLabel:p=B.previousButtonLabel,closeButtonLabel:w=B.closeButtonLabel,onNext:C=B.onNext,onBack:E=B.onBack,...q},v)=>{const d=m.useRef(void 0),f=m.useRef(void 0),[O,$]=m.useState(0),[T,Z]=m.useState(i),D=ie(),Y=a=>{T>0&&a===0&&d.current&&setTimeout(()=>{var n;(n=d.current)==null||n.focus()},1e3),Z(a)},k=m.Children.count(u),I=0,r=k-1,g=m.useMemo(()=>s==null?void 0:s({playStep:T}),[T,s]);return m.useEffect(()=>{var n,h;const a=J(i,I,r);(h=(n=f==null?void 0:f.current)==null?void 0:n.scrollToView)==null||h.call(n,a)},[i]),m.useEffect(()=>{d.current&&d.current.focus()},[]),m.useEffect(()=>{setTimeout(()=>{d.current&&l&&d.current.focus()},100)},[l]),D?t.createElement("section",{...q,className:_(L,e,{}),ref:v,...W(j)},s&&t.createElement("div",{className:`${L}__element-stepped-media`},g),k===1?t.createElement(t.Fragment,null,u,w&&t.createElement("div",{className:_(`${L}__footer`,"coachmark-carousel-controls")},t.createElement(N,{size:"sm",...D.closeButtonProps,ref:d},w))):t.createElement(t.Fragment,null,t.createElement(pe,{ref:f,onScroll:a=>{$(a)}},u),t.createElement("div",{className:_(`${L}__footer`)},t.createElement("div",{className:`${L}--controls-progress`},`${T+1} / ${k}`),O>0&&t.createElement(N,{size:"sm",kind:"ghost",title:p,disabled:O===0,onClick:()=>{var n,h;const a=J(T-1,I,r);(h=(n=f==null?void 0:f.current)==null?void 0:n.scrollToView)==null||h.call(n,a),Y(a),E==null||E()}},p),T<r?t.createElement(N,{size:"sm",ref:d,title:c,disabled:O===1,onClick:()=>{var n,h;const a=J(T+1,I,r);(h=(n=f==null?void 0:f.current)==null?void 0:n.scrollToView)==null||h.call(n,a),Y(a),C==null||C()}},c):w&&t.createElement(N,{size:"sm",ref:d,...D.closeButtonProps},w)))):me.warn(`The ${j} is a composable container element which should be used only within the scope of a Coachmark or a CoachmarkFixed component.`)});X=b.checkComponentEnabled(X,j);X.displayName=j;X.propTypes={children:o.node.isRequired,className:o.string,closeButtonLabel:o.string,currentStep:o.number,isVisible:o.bool,nextButtonText:o.string,onBack:o.func,onNext:o.func,previousButtonLabel:o.string,renderMedia:o.func};X.__docgenInfo={description:`Composable container to allow for the displaying of CoachmarkOverlayElement
components in a carousel fashion.`,methods:[],displayName:"CoachmarkOverlayElements",props:{children:{required:!0,tsType:{name:"ReactNode"},description:`CoachmarkOverlayElements should be used with one or many CoachmarkOverlayElement components as children.
@see CoachmarkOverlayElement`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},isVisible:{required:!1,tsType:{name:"boolean"},description:`The visibility of CoachmarkOverlayElements is
managed in the parent component.`,defaultValue:{value:"false",computed:!1},type:{name:"bool"}},renderMedia:{required:!1,tsType:{name:"signature",type:"function",raw:"(params) => ReactNode",signature:{arguments:[{name:"params"}],return:{name:"ReactNode"}}},description:"Optional prop to render any media like images or any animated media.",type:{name:"func"}},nextButtonText:{required:!1,tsType:{name:"string"},description:"The label for the Next button.",defaultValue:{value:"'Next'",computed:!1},type:{name:"string"}},previousButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the Previous button.",defaultValue:{value:"'Back'",computed:!1},type:{name:"string"}},closeButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the Close button.",defaultValue:{value:"'Got it'",computed:!1},type:{name:"string"}},onNext:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback called when clicking on the Next button.",defaultValue:{value:"undefined",computed:!0},type:{name:"func"}},onBack:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback called when clicking on the Previous button.",defaultValue:{value:"undefined",computed:!0},type:{name:"func"}},currentStep:{required:!1,tsType:{name:"number"},description:"Current step of the coachmarks.",defaultValue:{value:"0",computed:!1},type:{name:"number"}}}};export{fe as B,he as C,H as a,R as b,S as c,z as d,X as e,ie as u};
