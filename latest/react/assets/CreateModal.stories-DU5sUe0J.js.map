{"version":3,"file":"CreateModal.stories-DU5sUe0J.js","sources":["../../src/components/CreateModal/CreateModal.docs-page.js","../../src/components/CreateModal/CreateModal.stories.jsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport { StoryDocsPage } from '../../global/js/utils/StoryDocsPage';\nimport * as stories from './CreateModal.stories';\n\nconst DocsPage = () => {\n  return (\n    <StoryDocsPage\n      altGuidelinesHref=\"https://pages.github.ibm.com/carbon/ibm-products/patterns/create-flows/usage#modal\"\n      blocks={[\n        {\n          story: stories.Default,\n        },\n        {\n          title: 'Form validation',\n          description: `All forms, including that within the \\`CreateModal\\` should follow @carbon/ibm-products guidelines\nfor form validation.\n\nThis includes the following:\n\n- The \\`Submit\\` button in the modal should be disabled, until all required inputs\n  are filled in and valid\n- All required inputs should _only_ throw an invalid error _after_ the element\n  loses focus\n- All optional form fields should have an \\`(optional)\\` text at the end of the\n  input \\`labelText\\`. Optional should always be in parentheses\n\nYou can find more information on how to validate your form fields in\n[Carbon's Form usage page](https://www.carbondesignsystem.com/components/form/usage).`,\n        },\n        {\n          title: 'Overriding Carbon theme',\n          description: `The design recommendation is to use a dark theme for the CreateModal if the\napplication is currently using a light theme, and vice versa. The theme applied\nto the CreateModal can easily be customized as follows:\n\nIn SCSS:`,\n          source: {\n            language: 'css',\n            code: `  .#{$pkg-prefix}--create-modal {\n    @include carbon--theme(\n      $theme: $carbon--theme--g90\n    );\n  }`,\n          },\n        },\n        {\n          description: `Alternatively, the required Carbon theme can be set as above in a custom CSS\nclass which is then applied to the CreateModal using the \\`className\\` prop.`,\n        },\n      ]}\n    />\n  );\n};\n\nexport default DocsPage;\n","/**\n * Copyright IBM Corp. 2021, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  TextInput,\n  NumberInput,\n  TextArea,\n  Dropdown,\n  DatePicker,\n  DatePickerInput,\n  RadioButton,\n  RadioButtonGroup,\n  usePrefix,\n} from '@carbon/react';\n\nimport { pkg } from '../../settings';\nimport { CreateModal } from '.';\n\nimport styles from './_storybook-styles.scss?inline';\nimport DocsPage from './CreateModal.docs-page';\n\nexport default {\n  title: 'Patterns/Prebuilt patterns/Create flows/CreateModal',\n  component: CreateModal,\n  tags: ['autodocs'],\n  parameters: {\n    styles,\n    docs: { page: DocsPage },\n    controls: { sort: 'requiredFirst' },\n  },\n  argTypes: {\n    portalTarget: { control: { disable: true } },\n    open: {\n      control: false,\n    },\n    children: {\n      control: {\n        type: 'select',\n        labels: {\n          0: 'one child',\n          1: 'three children',\n          2: 'four children',\n        },\n      },\n      options: [0, 1, 2],\n      mapping: {\n        0: (\n          <TextInput\n            id=\"1\"\n            key=\"form-field-1\"\n            labelText=\"Text input label\"\n            helperText=\"Helper text goes here\"\n            placeholder=\"Placeholder\"\n          />\n        ),\n        1: (\n          <>\n            <TextInput\n              id=\"1\"\n              key=\"form-field-1\"\n              labelText=\"Text input label\"\n              helperText=\"Helper text goes here\"\n              placeholder=\"Placeholder\"\n            />\n            <Dropdown\n              id=\"default\"\n              titleText=\"Dropdown label\"\n              helperText=\"This is some helper text\"\n              label=\"Dropdown menu options\"\n              items={['Option 0', 'Option 1', 'Option 2']}\n            />\n            <TextArea\n              id=\"2\"\n              placeholder=\"Placeholder text\"\n              labelText=\"Text area label\"\n              helperText=\"Optional helper text\"\n            />\n          </>\n        ),\n        2: (\n          <>\n            <TextInput\n              id=\"1\"\n              key=\"form-field-1\"\n              labelText=\"Text input label\"\n              helperText=\"Helper text goes here\"\n              placeholder=\"Placeholder\"\n            />\n            <NumberInput\n              id=\"2\"\n              className=\"create-modal--storybook-input\"\n              label=\"Number input label\"\n              helperText=\"Optional helper text goes here\"\n              min={0}\n              max={50}\n              value={1}\n              iconDescription=\"Choose a number\"\n            />\n            <RadioButtonGroup\n              legendText=\"Radio button legend text goes here\"\n              name=\"radio-button-group\"\n              defaultSelected=\"radio-1\"\n            >\n              <RadioButton labelText=\"Radio-1\" value=\"radio-1\" id=\"radio-1\" />\n              <RadioButton labelText=\"Radio-2\" value=\"radio-2\" id=\"radio-2\" />\n              <RadioButton labelText=\"Radio-3\" value=\"radio-3\" id=\"radio-3\" />\n            </RadioButtonGroup>\n            <DatePicker datePickerType=\"single\">\n              <DatePickerInput\n                placeholder=\"mm/dd/yyyy\"\n                labelText=\"Date picker input label\"\n                id=\"date-picker-single\"\n              />\n            </DatePicker>\n          </>\n        ),\n      },\n    },\n  },\n};\n\nconst Template = (\n  { storyInitiallyOpen = true, story, children, ...args },\n  context\n) => {\n  const carbonPrefix = usePrefix();\n  const [open, setOpen] = useState(\n    context.viewMode !== 'docs' && storyInitiallyOpen\n  );\n  return (\n    <>\n      <Button onClick={() => setOpen(true)}>Open {story?.storyName}</Button>\n\n      <style>{`.${pkg.prefix}--create-modal { opacity: 0 }`};</style>\n      <CreateModal\n        open={open}\n        onRequestClose={() => setOpen(false)}\n        {...args}\n        selectorPrimaryFocus={`.${carbonPrefix}--text-input`}\n      >\n        {children}\n      </CreateModal>\n    </>\n  );\n};\n\nconst TemplateWithFormValidation = ({ story, ...args }, context) => {\n  const carbonPrefix = usePrefix();\n  const [open, setOpen] = useState(context.viewMode !== 'docs');\n  const [textInput, setTextInput] = useState('');\n  const [invalid, setInvalid] = useState(false);\n\n  return (\n    <>\n      <Button onClick={() => setOpen(true)}>Open {story?.storyName}</Button>\n      <style>{`.${pkg.prefix}--create-modal { opacity: 0 }`};</style>\n      <CreateModal\n        {...args}\n        open={open}\n        onRequestClose={() => setOpen(false)}\n        disableSubmit={textInput.length === 0 ? true : false}\n        selectorPrimaryFocus={`.${carbonPrefix}--text-input`}\n      >\n        <TextInput\n          id=\"1\"\n          key=\"form-field-1\"\n          labelText=\"Text input label\"\n          placeholder=\"Placeholder\"\n          onChange={(e) => {\n            setTextInput(e.target.value);\n            setInvalid(false);\n          }}\n          onBlur={() => {\n            textInput.length === 0 && setInvalid(true);\n          }}\n          invalid={invalid}\n          invalidText=\"This is a required field\"\n        />\n        <TextInput\n          id=\"2\"\n          key=\"form-field-2\"\n          labelText=\"Text input label (optional)\"\n          placeholder=\"Placeholder\"\n        />\n        <TextInput\n          id=\"3\"\n          key=\"form-field-3\"\n          labelText=\"Text input label (optional)\"\n          placeholder=\"Placeholder\"\n        />\n        <RadioButtonGroup\n          legendText=\"Radio button legend text goes here\"\n          name=\"radio-button-group\"\n          defaultSelected=\"radio-1\"\n        >\n          <RadioButton labelText=\"Radio-1\" value=\"radio-1\" id=\"radio-1\" />\n          <RadioButton labelText=\"Radio-2\" value=\"radio-2\" id=\"radio-2\" />\n          <RadioButton labelText=\"Radio-3\" value=\"radio-3\" id=\"radio-3\" />\n        </RadioButtonGroup>\n      </CreateModal>\n    </>\n  );\n};\n\nconst defaultProps = {\n  title: 'Title',\n  subtitle: 'Your subtitle text will appear here',\n  description:\n    'This is example description text that will appear here in your modal ',\n  primaryButtonText: 'Create',\n  secondaryButtonText: 'Cancel',\n};\n\nTemplate.propTypes = {\n  story: PropTypes.object,\n  storyInitiallyOpen: PropTypes.bool,\n  ...CreateModal.propTypes,\n  children: PropTypes.node,\n};\n\nTemplateWithFormValidation.propTypes = {\n  story: PropTypes.object,\n  storyInitiallyOpen: PropTypes.bool,\n  ...CreateModal.propTypes,\n};\n\nexport const Default = Template.bind({});\nDefault.storyName = 'Create Modal';\nDefault.args = {\n  story: Default,\n  children: 1,\n  ...defaultProps,\n};\n\nexport const WithFormValidation = TemplateWithFormValidation.bind({});\nWithFormValidation.storyName = 'Create Modal with form validation';\nWithFormValidation.args = {\n  story: WithFormValidation,\n  children: {\n    control: false,\n  },\n  ...defaultProps,\n};\n"],"names":["DocsPage","React","StoryDocsPage","stories.Default","CreateModal_stories","title","component","CreateModal","tags","parameters","styles","docs","page","controls","sort","argTypes","portalTarget","control","disable","open","children","type","labels","options","mapping","TextInput","Dropdown","TextArea","NumberInput","RadioButtonGroup","RadioButton","DatePicker","DatePickerInput","Template","storyInitiallyOpen","story","args","context","carbonPrefix","usePrefix","setOpen","useState","viewMode","Button","storyName","pkg","prefix","TemplateWithFormValidation","textInput","setTextInput","invalid","setInvalid","length","e","target","value","defaultProps","subtitle","description","primaryButtonText","secondaryButtonText","propTypes","PropTypes","object","bool","node","Default","bind","WithFormValidation","source","originalSource"],"mappings":"6imOAWMA,EAAW,IAEbC,EAAA,cAACC,EAAA,CACC,kBAAkB,qFAClB,OAAQ,CACN,CACE,MAAOC,CAAQ,EAEjB,CACE,MAAO,kBACP,YAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sFAAA,EAef,CACE,MAAO,0BACP,YAAa;AAAA;AAAA;AAAA;AAAA,UAKb,OAAQ,CACN,SAAU,MACV,KAAM;AAAA;AAAA;AAAA;AAAA,IAAA,CAKR,EAEF,CACE,YAAa,0JAAA,CAEf,CACF,CAAA,oEC5BN,MAAAC,GAAA,CACEC,MAAO,sDACPC,UAAWC,EACXC,KAAM,CAAC,UAAU,EACjBC,WAAY,CACVC,OAAAA,EACAC,KAAM,CAAEC,KAAMZ,CAAAA,EACda,SAAU,CAAEC,KAAM,eAAA,CAAgB,EAEpCC,SAAU,CACRC,aAAc,CAAEC,QAAS,CAAEC,QAAS,EAAA,CAAK,EACzCC,KAAM,CACJF,QAAS,EAAA,EAEXG,SAAU,CACRH,QAAS,CACPI,KAAM,SACNC,OAAQ,CACN,EAAG,YACH,EAAG,iBACH,EAAG,eAAA,CACL,EAEFC,QAAS,CAAC,EAAG,EAAG,CAAC,EACjBC,QAAS,CACP,EACEvB,EAAA,cAACwB,EAAA,CACC,GAAG,IACH,IAAI,eACJ,UAAU,mBACV,WAAW,wBACX,YAAY,cAAY,EAG5B,EACExB,EAAA,cAAAA,EAAA,SAAA,KACEA,EAAA,cAACwB,GACC,GAAG,IACH,IAAI,eACJ,UAAU,mBACV,WAAW,wBACX,YAAY,aAAA,CAAY,kBAEzBC,EAAA,CACC,GAAG,UACH,UAAU,iBACV,WAAW,2BACX,MAAM,wBACN,MAAO,CAAC,WAAY,WAAY,UAAU,CAAA,CAAC,kBAE5CC,EAAA,CACC,GAAG,IACH,YAAY,mBACZ,UAAU,kBACV,WAAW,uBAAqB,CAEpC,EAEF,EACE1B,EAAA,cAAAA,EAAA,SAAA,KACEA,EAAA,cAACwB,EAAA,CACC,GAAG,IACH,IAAI,eACJ,UAAU,mBACV,WAAW,wBACX,YAAY,cAAY,EAE1BxB,EAAA,cAAC2B,GACC,GAAG,IACH,UAAU,gCACV,MAAM,qBACN,WAAW,iCACX,IAAK,EACL,IAAK,GACL,MAAO,EACP,gBAAgB,kBAAgB,EAElC3B,EAAA,cAAC4B,GACC,WAAW,qCACX,KAAK,qBACL,gBAAgB,SAAA,EAEhB5B,EAAA,cAAC6B,GAAY,UAAU,UAAU,MAAM,UAAU,GAAG,UAAS,EAC7D7B,EAAA,cAAC6B,EAAA,CAAY,UAAU,UAAU,MAAM,UAAU,GAAG,SAAA,CAAS,kBAC5DA,EAAA,CAAY,UAAU,UAAU,MAAM,UAAU,GAAG,SAAA,CAAS,CAC/D,EACA7B,EAAA,cAAC8B,GAAW,eAAe,QAAA,EACzB9B,EAAA,cAAC+B,EAAA,CACC,YAAY,aACZ,UAAU,0BACV,GAAG,oBAAA,CAAmB,CAE1B,CACF,CAAA,CAEJ,CACF,CACD,EAGGC,EAAWA,CACf,CAAEC,mBAAAA,EAAqB,GAAMC,MAAAA,EAAOf,SAAAA,EAAU,GAAGgB,CAAK,EACtDC,IACG,CACH,MAAMC,EAAeC,EAAAA,EACf,CAACpB,EAAMqB,CAAO,EAAIC,EAAAA,SACtBJ,EAAQK,WAAa,QAAUR,CACjC,EACA,OACEjC,EAAA,cAAAA,EAAA,SAAA,KACEA,EAAA,cAAC0C,EAAA,CAAO,QAAS,IAAMH,EAAQ,EAAI,CAAA,EAAG,QAAML,GAAOS,SAAU,EAE7D3C,EAAA,cAAC,QAAA,KAAO,IAAI4C,EAAIC,MAAM,gCAAgC,GAAC,EACvD7C,EAAA,cAACM,EAAA,CACC,KAAAY,EACA,eAAgB,IAAMqB,EAAQ,EAAK,EACnC,GAAIJ,EACJ,qBAAsB,IAAIE,CAAY,gBAErClB,CACH,CACF,CAEJ,EAEM2B,EAA6BA,CAAC,CAAEZ,MAAAA,EAAO,GAAGC,CAAK,EAAGC,IAAY,CAClE,MAAMC,EAAeC,EAAAA,EACf,CAACpB,EAAMqB,CAAO,EAAIC,EAAAA,SAASJ,EAAQK,WAAa,MAAM,EACtD,CAACM,EAAWC,CAAY,EAAIR,EAAAA,SAAS,EAAE,EACvC,CAACS,EAASC,CAAU,EAAIV,EAAAA,SAAS,EAAK,EAE5C,OACExC,EAAA,cAAAA,EAAA,SAAA,qBACG0C,EAAA,CAAO,QAAS,IAAMH,EAAQ,EAAI,CAAA,EAAG,QAAML,GAAOS,SAAU,EAC7D3C,EAAA,cAAC,QAAA,KAAO,IAAI4C,EAAIC,MAAM,gCAAgC,GAAC,EACvD7C,EAAA,cAACM,EAAA,CACC,GAAI6B,EACJ,KAAAjB,EACA,eAAgB,IAAMqB,EAAQ,EAAK,EACnC,cAAeQ,EAAUI,SAAW,EACpC,qBAAsB,IAAId,CAAY,gBAEtCrC,EAAA,cAACwB,EAAA,CACC,GAAG,IACH,IAAI,eACJ,UAAU,mBACV,YAAY,cACZ,SAAW4B,GAAM,CACfJ,EAAaI,EAAEC,OAAOC,KAAK,EAC3BJ,EAAW,EAAK,CAClB,EACA,OAAQ,IAAM,CACZH,EAAUI,SAAW,GAAKD,EAAW,EAAI,CAC3C,EACA,QAAAD,EACA,YAAY,0BAAA,CAAyB,EAEvCjD,EAAA,cAACwB,EAAA,CACC,GAAG,IACH,IAAI,eACJ,UAAU,8BACV,YAAY,cAAY,EAE1BxB,EAAA,cAACwB,EAAA,CACC,GAAG,IACH,IAAI,eACJ,UAAU,8BACV,YAAY,aAAA,CAAY,EAE1BxB,EAAA,cAAC4B,GACC,WAAW,qCACX,KAAK,qBACL,gBAAgB,WAEhB5B,EAAA,cAAC6B,EAAA,CAAY,UAAU,UAAU,MAAM,UAAU,GAAG,SAAA,CAAS,EAC7D7B,EAAA,cAAC6B,GAAY,UAAU,UAAU,MAAM,UAAU,GAAG,SAAA,CAAS,EAC7D7B,EAAA,cAAC6B,EAAA,CAAY,UAAU,UAAU,MAAM,UAAU,GAAG,SAAA,CAAS,CAC/D,CACF,CACF,CAEJ,EAEM0B,EAAe,CACnBnD,MAAO,QACPoD,SAAU,sCACVC,YACE,wEACFC,kBAAmB,SACnBC,oBAAqB,QACvB,EAEA3B,EAAS4B,UAAY,CACnB1B,MAAO2B,EAAUC,OACjB7B,mBAAoB4B,EAAUE,KAC9B,GAAGzD,EAAYsD,UACfzC,SAAU0C,EAAUG,IACtB,EAEAlB,EAA2Bc,UAAY,CACrC1B,MAAO2B,EAAUC,OACjB7B,mBAAoB4B,EAAUE,KAC9B,GAAGzD,EAAYsD,SACjB,EAEA,MAAaK,EAAUjC,EAASkC,KAAK,CAAA,CAAE,EACvCD,EAAQtB,UAAY,eACpBsB,EAAQ9B,KAAO,CACbD,MAAO+B,EACP9C,SAAU,EACV,GAAGoC,CACL,EAEA,MAAaY,EAAqBrB,EAA2BoB,KAAK,CAAA,CAAE,EACpEC,EAAmBxB,UAAY,oCAC/BwB,EAAmBhC,KAAO,CACxBD,MAAOiC,EACPhD,SAAU,CACRH,QAAS,EAAA,EAEX,GAAGuC,CACL,EAACU,EAAAzD,WAAA,CAAA,GAAAyD,EAAAzD,WAAAE,KAAA,CAAA,GAAAuD,EAAAzD,YAAAE,KAAA0D,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,GAAAJ,EAAAzD,YAAAE,MAAA0D,MAAAA,CAAA,CAAA,EAAAD,EAAA3D,WAAA,CAAA,GAAA2D,EAAA3D,WAAAE,KAAA,CAAA,GAAAyD,EAAA3D,YAAAE,KAAA0D,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,GAAAF,EAAA3D,YAAAE,MAAA0D,MAAAA,CAAA,CAAA"}