import{b as k,d as R,_ as D,I as Ne,j as Se,P as e,c as we,v as Te,u as ye,k as pe,l as He,a0 as qe,g as Oe}from"./index-4poXP75K.js";import{e as n,r as h}from"./index-DtHxqM--.js";import{L as ne}from"./index-BqG52EEo.js";import{B as W,bd as ve}from"./settings-Bzj6EGPa.js";import{B as ee}from"./ButtonSet-A5I0_tvd.js";import{n as A,c as ge}from"./events-CdfZZS3f.js";import{I as Re}from"./InlineLoading-WqBhFG3p.js";import{m as ze}from"./mergeRefs-91-mP8KM.js";import{r as Le}from"./requiredIfGivenPropIsTruthy-VsRXdxiC.js";import{e as je,w as We,a as Ve}from"./wrapFocus-jEwItT4M.js";import{T as xe}from"./Text-Cjos7Soh.js";import{A as Ge}from"./index-CVEmjZFv.js";import{i as be}from"./utils--12iVJsW.js";var K={exports:{}},g={},he;function Je(){if(he)return g;he=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=Symbol.for("react.element"),o=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),d=Symbol.for("react.context"),y=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),i;i=Symbol.for("react.module.reference");function m(t){if(typeof t=="object"&&t!==null){var T=t.$$typeof;switch(T){case r:switch(t=t.type,t){case s:case u:case a:case $:case E:return t;default:switch(t=t&&t.$$typeof,t){case y:case d:case c:case S:case f:case C:return t;default:return T}}case o:return T}}}return g.ContextConsumer=d,g.ContextProvider=C,g.Element=r,g.ForwardRef=c,g.Fragment=s,g.Lazy=S,g.Memo=f,g.Portal=o,g.Profiler=u,g.StrictMode=a,g.Suspense=$,g.SuspenseList=E,g.isAsyncMode=function(){return!1},g.isConcurrentMode=function(){return!1},g.isContextConsumer=function(t){return m(t)===d},g.isContextProvider=function(t){return m(t)===C},g.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===r},g.isForwardRef=function(t){return m(t)===c},g.isFragment=function(t){return m(t)===s},g.isLazy=function(t){return m(t)===S},g.isMemo=function(t){return m(t)===f},g.isPortal=function(t){return m(t)===o},g.isProfiler=function(t){return m(t)===u},g.isStrictMode=function(t){return m(t)===a},g.isSuspense=function(t){return m(t)===$},g.isSuspenseList=function(t){return m(t)===E},g.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===s||t===u||t===a||t===$||t===E||t===N||typeof t=="object"&&t!==null&&(t.$$typeof===S||t.$$typeof===f||t.$$typeof===C||t.$$typeof===d||t.$$typeof===c||t.$$typeof===i||t.getModuleId!==void 0)},g.typeOf=m,g}var Ce;function Qe(){return Ce||(Ce=1,K.exports=Je()),K.exports}var $e=Qe();const Ie=n.forwardRef(function({buttonOnClick:o,children:s,className:a,closeClassName:u,closeIconClassName:C,closeModal:d,iconDescription:y="Close",label:c,labelClassName:$,title:E,titleClassName:f,...S},N){const i=k();function m(_){d==null||d(_),o==null||o(_)}const t=R(`${i}--modal-header`,a),T=R(`${i}--modal-header__label ${i}--type-delta`,$),I=R(`${i}--modal-header__heading ${i}--type-beta`,f),B=R(`${i}--modal-close`,u),l=R(`${i}--modal-close__icon`,C);return n.createElement("div",D({className:t},S,{ref:N}),c&&n.createElement("h2",{className:T},c),E&&n.createElement("h2",{className:I},E),s,n.createElement("div",{className:`${i}--modal-close-button`},n.createElement(Ne,{className:B,label:y,onClick:m,"aria-label":y,align:"left"},n.createElement(Se,{size:20,"aria-hidden":"true",tabIndex:"-1",className:l}))))});Ie.propTypes={buttonOnClick:e.func,children:e.node,className:e.string,closeClassName:e.string,closeIconClassName:e.string,closeModal:e.func,iconDescription:e.string,label:e.node,labelClassName:e.string,title:e.node,titleClassName:e.string};function _e({secondaryButtons:r,secondaryButtonText:o,secondaryClassName:s,closeModal:a,onRequestClose:u,disabled:C}){function d(y){a(y),u(y)}return Array.isArray(r)&&r.length<=2?n.createElement(n.Fragment,null,r.map(({buttonText:y,onClick:c},$)=>n.createElement(W,{key:`${y}-${$}`,className:s,kind:"secondary",onClick:c||d},y))):o?n.createElement(W,{disabled:C,className:s,onClick:d,kind:"secondary"},o):null}_e.propTypes={closeModal:e.func,disabled:e.bool,onRequestClose:e.func,secondaryButtonText:e.string,secondaryButtons:(r,o,s)=>{if(r.secondaryButtons){if(!Array.isArray(r.secondaryButtons)||r.secondaryButtons.length!==2)return new Error(`${o} needs to be an array of two button config objects`);const a={buttonText:e.node,onClick:e.func};r[o].forEach(u=>{e.checkPropTypes(a,u,o,s)})}return null},secondaryClassName:e.string};const te=n.forwardRef(function({children:o,className:s,closeModal:a=A,danger:u,inputref:C,onRequestClose:d=A,onRequestSubmit:y=A,primaryButtonDisabled:c,primaryButtonText:$,primaryClassName:E,secondaryButtonText:f,secondaryButtons:S,secondaryClassName:N,loadingStatus:i="inactive",loadingDescription:m,loadingIconDescription:t,onLoadingSuccess:T=A,...I},B){const l=k(),_=R(`${l}--modal-footer`,s,Array.isArray(S)&&S.length===2?`${l}--modal-footer--three-button`:null),M=R(E,i!=="inactive"?`${l}--btn--loading`:null),P=i!=="inactive",z={closeModal:a,secondaryButtons:S,secondaryButtonText:f,secondaryClassName:N,onRequestClose:d,disabled:P};return n.createElement(ee,D({className:_},I,{ref:B,"aria-busy":P}),n.createElement(_e,z),$&&n.createElement(W,{onClick:y,className:M,disabled:P||c,kind:u?"danger":"primary",ref:C},i==="inactive"?$:n.createElement(Re,{status:i,description:m,iconDescription:t,className:`${l}--inline-loading--btn`,onSuccess:T})),o)});te.propTypes={children:e.node,className:e.string,closeModal:e.func,danger:e.bool,inputref:e.oneOfType([e.func,e.shape({current:e.any})]),loadingDescription:e.string,loadingIconDescription:e.string,loadingStatus:e.oneOf(["inactive","active","finished","error"]),onLoadingSuccess:e.func,onRequestClose:e.func,onRequestSubmit:e.func,primaryButtonDisabled:e.bool,primaryButtonText:e.string,primaryClassName:e.string,secondaryButtonText:e.string,secondaryButtons:(r,o,s)=>{if(r.secondaryButtons){if(!Array.isArray(r.secondaryButtons)||r.secondaryButtons.length!==2)return new Error(`${o} needs to be an array of two button config objects`);const a={buttonText:e.node,onClick:e.func};r[o].forEach(u=>{e.checkPropTypes(a,u,o,s)})}return null},secondaryClassName:e.string};const Ee=(r,o,s)=>{r.classList.toggle(o,s)},X=h.createContext({}),G=n.forwardRef(({children:r,className:o,focusAfterCloseRef:s,modal:a,onCancel:u=A,onClick:C=A,onClose:d=A,onRequestClose:y=A,open:c=!1,role:$,ariaLabel:E,ariaLabelledBy:f,ariaDescribedBy:S,...N},i)=>{const m=k(),t=we(),T=`${m}--dialog-header__heading--${t}`,I=`${m}--dialog-header__label--${t}`,B=h.useRef(null),l=i??B;function _(b){c&&a&&b.target===l.current&&y(b)}function M(b){_(b),C(b)}h.useEffect(()=>{l.current&&(c?a?l.current.showModal():l.current.show():l.current.close())},[a,c]),h.useEffect(()=>{if(!c&&s){const b=setTimeout(()=>{var q;(q=s.current)==null||q.focus()});return()=>{clearTimeout(b)}}},[c,s]);const P=R(`${m}--dialog-container`),z={dialogId:t,titleId:T,subtitleId:I,isOpen:c};return h.useEffect(()=>{if(l.current&&c&&!E&&!f){const b=l.current.querySelector(`.${m}--dialog-header__heading`);b&&b.id&&l.current.setAttribute("aria-labelledby",b.id)}},[c,E,f,m]),n.createElement(X.Provider,{value:z},n.createElement("dialog",D({},N,{className:R(`${m}--dialog`,{[`${m}--dialog--modal`]:a},o),ref:l,onCancel:u,onClick:M,onClose:d,role:$,"aria-label":E,"aria-labelledby":E?void 0:f||T,"aria-describedby":S}),n.createElement("div",{className:P},r)))});G.displayName="Dialog";G.propTypes={children:e.node,className:e.string,focusAfterCloseRef:e.oneOfType([e.func,e.shape({current:e.any})]),modal:e.bool,onRequestClose:e.func,open:e.bool,role:e.oneOf(["dialog","alertdialog"]),"aria-label":e.string,"aria-labelledby":e.string,ariaDescribedBy:e.string};const oe=n.forwardRef(({children:r,...o},s)=>{const a=k();return n.createElement("div",D({className:`${a}--dialog__header`,ref:s},o),r)});oe.displayName="DialogHeader";oe.propTypes={children:e.node};const re=n.forwardRef(({children:r,...o},s)=>{const a=k();return n.createElement("div",D({className:`${a}--dialog__header-controls`,ref:s},o),r)});re.displayName="DialogControls";re.propTypes={children:e.node};const se=n.forwardRef(({onClick:r,...o},s)=>{const a=k();return n.createElement(Ne,D({kind:"ghost",className:`${a}--dialog__close`,label:"Close",title:"Close","aria-label":"Close",align:"left",onClick:r,ref:s},o),n.createElement(Se,{size:20,"aria-hidden":"true",tabIndex:-1,className:`${a}--icon__close`}))});se.displayName="DialogCloseButton";se.propTypes={onClick:e.func};const ae=n.forwardRef(({children:r,className:o,id:s,...a},u)=>{const C=k(),{titleId:d}=h.useContext(X),y=s||d;return n.createElement(xe,D({as:"h2",id:y,className:R(`${C}--dialog-header__heading`,o),ref:u},a),r)});ae.displayName="DialogTitle";ae.propTypes={children:e.node,className:e.string,id:e.string};const le=n.forwardRef(({children:r,className:o,id:s,...a},u)=>{const C=k(),{subtitleId:d}=h.useContext(X),y=s||d;return n.createElement(xe,D({as:"h2",id:y,className:R(`${C}--dialog-header__label`,o),ref:u},a),r)});le.displayName="DialogSubtitle";le.propTypes={children:e.node,className:e.string,id:e.string};const ce=n.forwardRef(({children:r,className:o,hasScrollingContent:s,...a},u)=>{const C=k(),d=h.useRef(null),[y,c]=h.useState(!1),$=we(),E=`${C}--dialog-body--${$}`;Te(()=>{d.current&&c(d.current.scrollHeight>d.current.clientHeight);function i(){d.current&&c(d.current.scrollHeight>d.current.clientHeight)}const m=ve(i,200);return window.addEventListener("resize",m),()=>{m.cancel(),window.removeEventListener("resize",m)}},[]);const f=R(`${C}--dialog-content`,{[`${C}--dialog-scroll-content`]:s||y},o),S=s||y?{tabIndex:0,role:"region"}:{},N=i=>{typeof u=="function"?u(i):u&&(u.current=i),d.current=i};return n.createElement(ne,D({ref:N,id:E,className:f},S,a),r)});ce.displayName="DialogBody";ce.propTypes={children:e.node,className:e.string,hasScrollingContent:e.bool};const ie=n.forwardRef(({children:r,className:o,onRequestClose:s=A,onSecondarySubmit:a,onRequestSubmit:u=A,primaryButtonText:C="Save",primaryButtonDisabled:d=!1,secondaryButtonText:y="Cancel",secondaryButtons:c,loadingStatus:$="inactive",loadingDescription:E,loadingIconDescription:f,onLoadingSuccess:S=A,danger:N=!1,...i},m)=>{const t=k(),T=h.useRef(null),{isOpen:I}=h.useContext(X),[B,l]=h.useState(null);h.useEffect(()=>{if(N&&B){const b=requestAnimationFrame(()=>{B.focus()});return()=>cancelAnimationFrame(b)}},[N,B,I]);const _=R(`${t}--dialog-footer`,o,{[`${t}--dialog-footer--three-button`]:Array.isArray(c)&&c.length===2}),M=$!=="inactive",P=R({[`${t}--btn--loading`]:$!=="inactive"}),z=a||s;return r?n.createElement(ee,D({className:_,ref:m},i),r):n.createElement(ee,D({className:_,"aria-busy":M,ref:m},i),Array.isArray(c)&&c.length<=2?c.map(({buttonText:b,onClick:q},V)=>n.createElement(W,{key:`${b}-${V}`,autoFocus:N,kind:"secondary",ref:V===0&&N?l:void 0,onClick:q},b)):y&&n.createElement(W,{ref:N?l:void 0,disabled:M,kind:"secondary",autoFocus:N,onClick:z},y),n.createElement(W,{className:P,kind:N?"danger":"primary",disabled:M||d,onClick:u,ref:T},$==="inactive"?C:n.createElement(Re,{status:$,description:E,iconDescription:f,className:`${t}--inline-loading--btn`,onSuccess:S})))});ie.displayName="DialogFooter";ie.propTypes={children:e.node,className:e.string,onRequestClose:e.func,onSecondarySubmit:e.func,onRequestSubmit:e.func,primaryButtonText:e.node,primaryButtonDisabled:e.bool,secondaryButtonText:e.node,secondaryButtons:(r,o,s)=>{if(r.secondaryButtons){if(!Array.isArray(r.secondaryButtons)||r.secondaryButtons.length!==2)return new Error(`${o} needs to be an array of two button config objects`);const a={buttonText:e.node,onClick:e.func};r[o].forEach(u=>{e.checkPropTypes(a,u,o,s)})}return null},danger:e.bool,loadingStatus:e.oneOf(["inactive","active","finished","error"]),loadingDescription:e.string,loadingIconDescription:e.string,onLoadingSuccess:e.func};const x=G;x.Root=G;x.Root.displayName="Dialog.Root";x.Header=oe;x.Header.displayName="Dialog.Header";x.Controls=re;x.Controls.displayName="Dialog.Controls";x.CloseButton=se;x.CloseButton.displayName="Dialog.CloseButton";x.Title=ae;x.Title.displayName="Dialog.Title";x.Subtitle=le;x.Subtitle.displayName="Dialog.Subtitle";x.Body=ce;x.Body.displayName="Dialog.Body";x.Footer=ie;x.Footer.displayName="Dialog.Footer";const Ue=n.forwardRef(function({className:o,children:s,hasForm:a,hasScrollingContent:u,...C},d){const y=k(),c=h.useRef(null),[$,E]=h.useState(!1),f=R({[`${y}--modal-content`]:!0,[`${y}--modal-content--with-form`]:a,[`${y}--modal-scroll-content`]:u||$},o);Te(()=>{c.current&&E(c.current.scrollHeight>c.current.clientHeight);function N(){c.current&&E(c.current.scrollHeight>c.current.clientHeight)}const i=ve(N,200);return window.addEventListener("resize",i),()=>{i.cancel(),window.removeEventListener("resize",i)}},[]);const S=u||$?{tabIndex:0,role:"region"}:{};return n.createElement(ne,D({className:f},S,C,{ref:ze(c,d)}),s)});Ue.propTypes={"aria-label":Le("hasScrollingContent",e.string),children:e.node,className:e.string,hasForm:e.bool,hasScrollingContent:e.bool};const Xe=n.forwardRef(function({["aria-labelledby"]:o,["aria-label"]:s,children:a,className:u,containerClassName:C,danger:d,decorator:y,isFullWidth:c,onClose:$,onKeyDown:E,open:f,preventCloseOnClickOutside:S,selectorPrimaryFocus:N="[data-modal-primary-focus]",selectorsFloatingMenus:i,size:m,launcherButtonRef:t,slug:T,...I},B){const l=k(),[_,M]=h.useState(!!f),[P,z]=h.useState(!!f),b=h.useRef(null),q=h.useRef(null),V=h.useRef(null),de=h.useRef(null),ue=h.useRef(null),O=ye("enable-dialog-element"),J=ye("enable-experimental-focus-wrap-without-sentinels");h.useEffect(()=>{!O&&f!==P&&(M(!!f),z(!!f),Ee(document.body,`${l}--body--with-modal-open`,!!f))},[f,P,l]),h.useEffect(()=>{if(!O)return()=>{Ee(document.body,`${l}--body--with-modal-open`,!1)}},[]);function De(p){O||(p.stopPropagation(),pe(p,He)&&Q(p),J&&f&&pe(p,qe)&&b.current&&We({containerNode:b.current,currentActiveNode:p.target,event:p})),E==null||E(p)}function ke(p){const v=p.target;ue.current=v}function Be(p){const{target:v}=p,w=ue.current;p.stopPropagation(),(!h.Children.toArray(Z).some(j=>be(j,te))?S!==!1:S===!0)&&v instanceof Node&&!je(v,i)&&b.current&&!b.current.contains(v)&&!b.current.contains(w)&&Q(p)}function Fe({target:p,relatedTarget:v}){if(!O&&!J&&f&&v&&p&&b.current){const{current:L}=b,{current:j}=V,{current:Pe}=de;Ve({bodyNode:L,startTrapNode:j,endTrapNode:Pe,currentActiveNode:v,oldActiveNode:p,selectorsFloatingMenus:i==null?void 0:i.filter(Boolean)})}const w=document.querySelector(`.${l}--modal-content`);if(!w||!w.classList.contains(`${l}--modal-scroll-content`)||!v||!w.contains(v))return;const H=w.children[w.children.length-1],F=w.scrollHeight-H.offsetTop-H.clientHeight;for(let L of w.children)if(L.contains(v)){const j=w.clientHeight-L.offsetTop+w.scrollTop-L.clientHeight;j<F&&(w.scrollTop=w.scrollTop+(F-j));break}}function Q(p){(!$||$(p)!==!1)&&M(!1)}const Ae=R(`${l}--modal`,{"is-visible":_,[`${l}--modal--danger`]:d,[`${l}--modal--slug`]:T,[`${l}--modal--decorator`]:y},u),fe=R(`${l}--modal-container`,m&&`${l}--modal-container--${m}`,c&&`${l}--modal-container--full-width`,C);let Y;const Z=n.Children.toArray(a).map(p=>{switch(!0){case($e.isElement(p)&&p.type===n.createElement(Ie).type):{const v=p;return Y=v.props.label,n.cloneElement(v,{closeModal:Q})}case($e.isElement(p)&&p.type===n.createElement(te).type):{const v=p;return n.cloneElement(v,{closeModal:Q,inputref:q,danger:d})}default:return p}});h.useEffect(()=>{!O&&!f&&t&&setTimeout(()=>{var p;(p=t.current)==null||p.focus()})},[O,f,t]),h.useEffect(()=>{if(!O){const p=w=>{const H=w||b.current,F=H?H.querySelector(d?`.${l}--btn--secondary`:N):null;return F||q&&q.current};f&&_&&(w=>{const H=p(w),F=w.querySelector(`.${l}--modal-close`);H?H.focus():!H&&F&&(F==null||F.focus())})(b.current)}},[f,N,_]);const me=T??y,U=be(me,Ge)?h.cloneElement(me,{size:"sm"}):null,Me=O?n.createElement(G,{open:f,focusAfterCloseRef:t,modal:!0,className:fe,"aria-label":s||Y,"aria-labelledby":o},n.createElement("div",{ref:b,className:`${l}--modal-container-body`},T?U:y?n.createElement("div",{className:`${l}--modal--inner__decorator`},U):"",Z)):n.createElement("div",{className:fe,role:"dialog","aria-modal":"true","aria-label":s||Y,"aria-labelledby":o},!J&&n.createElement("button",{type:"button",ref:V,className:`${l}--visually-hidden`},"Focus sentinel"),n.createElement("div",{ref:b,className:`${l}--modal-container-body`},T?U:y?n.createElement("div",{className:`${l}--modal--inner__decorator`},U):"",Z),!J&&n.createElement("button",{type:"button",ref:de,className:`${l}--visually-hidden`},"Focus sentinel"));return n.createElement(ne,D({},I,{level:0,role:"presentation",ref:B,"aria-hidden":!f,onBlur:Fe,onClick:ge([I==null?void 0:I.onClick,Be]),onMouseDown:ge([I==null?void 0:I.onMouseDown,ke]),onKeyDown:De,className:Ae}),Me)});Xe.propTypes={"aria-label":e.string,"aria-labelledby":e.string,children:e.node,className:e.string,containerClassName:e.string,danger:e.bool,decorator:e.node,isFullWidth:e.bool,launcherButtonRef:e.oneOfType([e.func,e.shape({current:e.any})]),onClose:e.func,onKeyDown:e.func,open:e.bool,preventCloseOnClickOutside:e.bool,selectorPrimaryFocus:e.string,selectorsFloatingMenus:e.arrayOf(e.string.isRequired),size:e.oneOf(["xs","sm","md","lg"]),slug:Oe(e.node)};export{Xe as C,Ie as M,Ue as a,te as b,$e as r,Ee as t,G as u};
