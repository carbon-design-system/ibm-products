import{a as w,r as H,x as r}from"./lit-element-B5NQPoCB.js";import{n as h,c as S}from"./carbon-element-C-vEVMF2.js";import{r as x}from"./state-DK_n439u.js";import{b as L,c as m}from"./class-map-Duf76KCM.js";import{p as k,c as A}from"./settings-01Nn-mNp.js";import"./definition-tooltip-D31Xh-9R.js";import"./button-CjC2oM9O.js";import"./link-CmbKJhIj.js";import"./layer-BB7Zu3Fj.js";const D='@keyframes cds--hide-feedback{0%{opacity:1;visibility:inherit}to{opacity:0;visibility:hidden}}@keyframes cds--show-feedback{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:inherit}}@keyframes cds--skeleton{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}to{opacity:.3;transform:scaleX(0);transform-origin:left}}.cds--layout--size-xs{--cds-layout-size-height-context: var(--cds-layout-size-height-xs, 1.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xs{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xs, 1.5rem))}.cds--layout-constraint--size__min-xs{--cds-layout-size-height-min: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout-constraint--size__max-xs{--cds-layout-size-height-max: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout--size-sm{--cds-layout-size-height-context: var(--cds-layout-size-height-sm, 2rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-sm{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-sm, 2rem))}.cds--layout-constraint--size__min-sm{--cds-layout-size-height-min: var(--cds-layout-size-height-sm, 2rem)}.cds--layout-constraint--size__max-sm{--cds-layout-size-height-max: var(--cds-layout-size-height-sm, 2rem)}.cds--layout--size-md{--cds-layout-size-height-context: var(--cds-layout-size-height-md, 2.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-md{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-md, 2.5rem))}.cds--layout-constraint--size__min-md{--cds-layout-size-height-min: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout-constraint--size__max-md{--cds-layout-size-height-max: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout--size-lg{--cds-layout-size-height-context: var(--cds-layout-size-height-lg, 3rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-lg{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-lg, 3rem))}.cds--layout-constraint--size__min-lg{--cds-layout-size-height-min: var(--cds-layout-size-height-lg, 3rem)}.cds--layout-constraint--size__max-lg{--cds-layout-size-height-max: var(--cds-layout-size-height-lg, 3rem)}.cds--layout--size-xl{--cds-layout-size-height-context: var(--cds-layout-size-height-xl, 4rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xl, 4rem))}.cds--layout-constraint--size__min-xl{--cds-layout-size-height-min: var(--cds-layout-size-height-xl, 4rem)}.cds--layout-constraint--size__max-xl{--cds-layout-size-height-max: var(--cds-layout-size-height-xl, 4rem)}.cds--layout--size-2xl{--cds-layout-size-height-context: var(--cds-layout-size-height-2xl, 5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-2xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-2xl, 5rem))}.cds--layout-constraint--size__min-2xl{--cds-layout-size-height-min: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout-constraint--size__max-2xl{--cds-layout-size-height-max: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout--density-condensed{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-condensed, .5rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-condensed{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-condensed, .5rem))}.cds--layout-constraint--density__min-condensed{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout-constraint--density__max-condensed{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout--density-normal{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-normal, 1rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-normal{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-normal, 1rem))}.cds--layout-constraint--density__min-normal{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-normal, 1rem)}.cds--layout-constraint--density__max-normal{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-normal, 1rem)}:root{--cds-layout-size-height-xs: 1.5rem;--cds-layout-size-height-sm: 2rem;--cds-layout-size-height-md: 2.5rem;--cds-layout-size-height-lg: 3rem;--cds-layout-size-height-xl: 4rem;--cds-layout-size-height-2xl: 5rem;--cds-layout-size-height-min: 0px;--cds-layout-size-height-max: 999999999px;--cds-layout-density-padding-inline-condensed: .5rem;--cds-layout-density-padding-inline-normal: 1rem;--cds-layout-density-padding-inline-min: 0px;--cds-layout-density-padding-inline-max: 999999999px}.cds--assistive-text,.cds--visually-hidden{position:absolute;overflow:hidden;padding:0;border:0;margin:-1px;block-size:1px;clip:rect(0,0,0,0);inline-size:1px;visibility:inherit;white-space:nowrap}.c4p--truncated-text_button-expand,.c4p--truncated-text_button-collapse{border:none;cursor:pointer;font:inherit;line-height:inherit}:host(c4p-truncated-text){display:block;inline-size:100%}@media (prefers-reduced-motion: no-preference){:host(c4p-truncated-text) .c4p--truncated-text_transition{transition:max-height .11s cubic-bezier(.2,0,.38,.9)}}:host(c4p-truncated-text) .c4p--truncated-text_content{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:var(--line-clamp, 0);text-overflow:clip;white-space:normal}:host(c4p-truncated-text) .c4p--truncated-text_content:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(c4p-truncated-text) .c4p--truncated-text_content:focus{outline-style:dotted}}:host(c4p-truncated-text) cds-tooltip{display:inline-flex}:host(c4p-truncated-text) button:focus,:host(c4p-truncated-text) .c4p--truncated-text_button-expand:focus,:host(c4p-truncated-text) .c4p--truncated-text_button-collapse:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(c4p-truncated-text) button:focus,:host(c4p-truncated-text) .c4p--truncated-text_button-expand:focus,:host(c4p-truncated-text) .c4p--truncated-text_button-collapse:focus{outline-style:dotted}}.c4p--truncated-text_button-expand,.c4p--truncated-text_button-collapse{padding:0 .125rem;color:var(--cds-link-primary, #0f62fe)}.c4p--truncated-text_button-expand.c4p--truncated-text_button-hide,.c4p--truncated-text_button-collapse.c4p--truncated-text_button-hide{display:none}.c4p--truncated-text_button-expand{position:absolute;background-color:var(--cds-background, #ffffff);inset-block-end:0;inset-inline-end:0}.c4p--truncated-text_button-expand.c4p--truncated-text_button-layered{background-color:var(--cds-layer)}.c4p--truncated-text_button-expand:before{position:absolute;block-size:100%;color:var(--cds-text-primary, #161616);content:"...";inline-size:1em;inset-inline-start:-1em;pointer-events:none}.c4p--truncated-text_button-expand:dir(ltr):before{background:linear-gradient(90deg,rgba(255,255,255,0) 0%,var(--cds-background, #ffffff) 0%)}.c4p--truncated-text_button-expand.c4p--truncated-text_button-layered:dir(ltr):before{background:linear-gradient(90deg,rgba(255,255,255,0) 0%,var(--cds-layer) 0%)}.c4p--truncated-text_button-expand:dir(rtl):before{background:linear-gradient(270deg,rgba(255,255,255,0) 0%,var(--cds-background, #ffffff) 0%)}.c4p--truncated-text_button-expand.c4p--truncated-text_button-layered:dir(rtl):before{background:linear-gradient(270deg,rgba(255,255,255,0) 0%,var(--cds-layer) 0%)}.c4p--truncated-text_button-collapse{background-color:transparent}',C=w(D);var X=Object.defineProperty,P=Object.getOwnPropertyDescriptor,c=(t,e,a,i)=>{for(var n=i>1?void 0:i?P(e,a):e,s=t.length-1,l;s>=0;s--)(l=t[s])&&(n=(i?l(e,a,n):l(n))||n);return i&&n&&X(e,a,n),n};const E="truncated-text",p=`${k}--${E}`,V=`${k}-${E}`;let o=class extends H{constructor(){super(...arguments),this.lines=0,this.value="",this.align="top",this.autoalign=!1,this.expandLabel="View more",this.collapseLabel="View less",this.with="tooltip",this._isOverflowing=!1,this._isExpanded=!1,this._maxHeight="none",this._lineHeight=0,this._isLayered=!1}connectedCallback(){super.connectedCallback(),this._isLayered=!!this.closest(`${A}-layer`),this.with=this.with||"tooltip"}disconnectedCallback(){var t;(t=this._resizeObserver)==null||t.disconnect(),super.disconnectedCallback()}firstUpdated(){requestAnimationFrame(()=>{const t=getComputedStyle(this._textElement);this._lineHeight=parseFloat(t.lineHeight),this._setupResizeObserver()})}updated(t){(t.has("lines")||t.has("value"))&&(this._updateOverflowStatus(),this._updateMaxHeight())}_updateMaxHeight(){this.with==="expand"&&requestAnimationFrame(()=>{this._textElement&&(this._maxHeight=this.lines>0&&!this._isExpanded?`${this.lines*this._lineHeight}px`:`${this._textElement.scrollHeight}px`)})}_setupResizeObserver(){this._textElement&&(this._resizeObserver&&this._resizeObserver.disconnect(),this._resizeObserver=new ResizeObserver(()=>{this._updateOverflowStatus()}),this._resizeObserver.observe(this))}_updateOverflowStatus(){if(!this._textElement||this.lines<=0)return;this._updateMaxHeight();const{scrollHeight:t,clientHeight:e}=this._textElement,a=this._lineHeight/2,i=t>e+a;i!==this._isOverflowing&&(this._isOverflowing=i)}_toggleExpansion(){var e,a;this._isExpanded=!this._isExpanded,this._updateMaxHeight(),(e=this._textElement)==null||e.classList.add(`${p}_transition`);const t=()=>{var i,n,s;(n=(i=this._textElement)==null?void 0:i.querySelector("button"))==null||n.focus(),(s=this._textElement)==null||s.removeEventListener("transitionend",t)};(a=this._textElement)==null||a.addEventListener("transitionend",t)}_renderToggleButton(){if(this.with!=="expand")return;const t=m({[`${p}_button-collapse`]:this._isExpanded,[`${p}_button-expand`]:!this._isExpanded,[`${p}_button-layered`]:this._isLayered,[`${p}_button-hide`]:!this._isOverflowing&&!this._isExpanded}),e=this._isExpanded?this.collapseLabel||"View less":this.expandLabel||"View more";return r`
      <button class="${t}" @click=${this._toggleExpansion}>
        ${e}
      </button>
    `}render(){const t=this.with==="tooltip"||!this.with?`--line-clamp: ${this._isExpanded?"none":this.lines};`:`max-block-size: ${this._maxHeight};`,e=m({[`${p}_content`]:!0}),a=r`
      <div
        class="${e}"
        style="${t}"
        tabindex=${this.with==="tooltip"&&this._isOverflowing?"0":void 0}
      >
        ${this.value} ${this._renderToggleButton()}
      </div>
    `;return this.with==="tooltip"&&this._isOverflowing?r`
          <cds-tooltip
            align=${this.align}
            ?autoalign=${this.autoalign}
            enter-delay-ms="0"
            leave-delay-ms="0"
          >
            ${a}
            <cds-tooltip-content>${this.value}</cds-tooltip-content>
          </cds-tooltip>
        `:r`<div style="position: relative; background-color: inherit;">
          ${a}
        </div>`}};o.styles=C;c([h({type:Number,reflect:!0})],o.prototype,"lines",2);c([h({type:String,attribute:"value",reflect:!0})],o.prototype,"value",2);c([h({reflect:!0,type:String})],o.prototype,"align",2);c([h({type:Boolean,reflect:!0})],o.prototype,"autoalign",2);c([h({attribute:"expand-label",type:String,reflect:!0})],o.prototype,"expandLabel",2);c([h({attribute:"collapse-label",type:String,reflect:!0})],o.prototype,"collapseLabel",2);c([h({type:String,reflect:!0})],o.prototype,"with",2);c([x()],o.prototype,"_isOverflowing",2);c([x()],o.prototype,"_isExpanded",2);c([x()],o.prototype,"_maxHeight",2);c([L(`.${p}_content`)],o.prototype,"_textElement",2);o=c([S(V)],o);const M="#main-content{padding:12rem}",j=w(M);/**
 * @license
 *
 * Copyright IBM Corp. 2025, 2025
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */const u={lines:2,value:"Buttons are used to initialize an action, either in the background or foreground of an experience. There are several kinds of buttons. Primary buttons should be used for the principal call to action on the page. Secondary buttons should be used for secondary actions on each page. Danger buttons should be used for a negative action (such as Delete) on the page.",element:"p",align:"bottom",with:"tooltip",autoalign:!1},O={align:{control:{type:"select"},options:["top","bottom","left","right","left-bottom","left-top","right-bottom","right-top"]},autoalign:{control:{type:"boolean"}},lines:{control:{type:"number"}},value:{control:{type:"text"}},with:{control:{type:"select"},options:["tooltip","expand"]},expandLabel:{table:{disable:!0},control:{type:"text"}},collapseLabel:{table:{disable:!0},control:{type:"text"}},element:{description:"This is a story-only control to show the Truncated Text in different HTML elements, which just sets the parent element of the Truncated Text.",control:{type:"select",labels:{p:"Paragraph",layers:"With layers",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"}},options:["p","layers","h1","h2","h3","h4","h5","h6"]}},T=t=>{const{lines:e,value:a,with:i,align:n,autoalign:s}=t,l=t["expand-label"],d=t["collapse-label"];return r`
    <style>
      ${j}
    </style>
    ${t.element==="p"?r`<p>
          <c4p-truncated-text
            value=${a}
            align=${n}
            ?autoalign=${s}
            lines=${e}
            expand-label=${l}
            collapse-label=${d}
            .with=${i}
          ></c4p-truncated-text>
        </p>`:""}
    ${t.element==="layers"?r`
          <p>
            <c4p-truncated-text
              value=${a}
              align=${n}
              ?autoalign=${s}
              lines=${e}
              expand-label=${l}
              collapse-label=${d}
              .with=${i}
            ></c4p-truncated-text>
          </p>
          <cds-layer>
            <div
              style="background: var(--cds-layer); color: var(--cds-text-primary, #161616);"
            >
              <p>
                <c4p-truncated-text
                  value=${a}
                  align=${n}
                  ?autoalign=${s}
                  lines=${e}
                  expand-label=${l}
                  collapse-label=${d}
                  .with=${i}
                ></c4p-truncated-text>
              </p>
            </div>
            <cds-layer>
              <div
                style="background: var(--cds-layer); color: var(--cds-text-primary, #161616);"
              >
                <p>
                  <c4p-truncated-text
                    value=${a}
                    align=${n}
                    ?autoalign=${s}
                    lines=${e}
                    expand-label=${l}
                    collapse-label=${d}
                    .with=${i}
                  ></c4p-truncated-text>
                </p>
              </div>
              <cds-layer>
                <div
                  style="background: var(--cds-layer); color: var(--cds-text-primary, #161616);"
                >
                  <p>
                    <c4p-truncated-text
                      value=${a}
                      align=${n}
                      ?autoalign=${s}
                      lines=${e}
                      expand-label=${l}
                      collapse-label=${d}
                      .with=${i}
                    ></c4p-truncated-text>
                  </p>
                </div>
              </cds-layer>
            </cds-layer>
          </cds-layer>
        `:""}
    ${t.element==="h1"?r`<h1>
          <c4p-truncated-text
            value=${a}
            align=${n}
            ?autoalign=${s}
            lines=${e}
            expand-label=${l}
            collapse-label=${d}
            .with=${i}
          ></c4p-truncated-text>
        </h1>`:""}
    ${t.element==="h2"?r`<h2>
          <c4p-truncated-text
            value=${a}
            align=${n}
            ?autoalign=${s}
            lines=${e}
            expand-label=${l}
            collapse-label=${d}
            .with=${i}
          ></c4p-truncated-text>
        </h2>`:""}
    ${t.element==="h3"?r`<h3>
          <c4p-truncated-text
            value=${a}
            align=${n}
            ?autoalign=${s}
            lines=${e}
            expand-label=${l}
            collapse-label=${d}
            .with=${i}
          ></c4p-truncated-text>
        </h3>`:""}
    ${t.element==="h4"?r`<h4>
          <c4p-truncated-text
            value=${a}
            align=${n}
            ?autoalign=${s}
            lines=${e}
            expand-label=${l}
            collapse-label=${d}
            .with=${i}
          ></c4p-truncated-text>
        </h4>`:""}
    ${t.element==="h5"?r`<h5>
          <c4p-truncated-text
            value=${a}
            align=${n}
            ?autoalign=${s}
            lines=${e}
            expand-label=${l}
            collapse-label=${d}
            .with=${i}
          ></c4p-truncated-text>
        </h5>`:""}
    ${t.element==="h6"?r`<h6>
          <c4p-truncated-text
            value=${a}
            align=${n}
            ?autoalign=${s}
            lines=${e}
            expand-label=${l}
            collapse-label=${d}
            .with=${i}
          ></c4p-truncated-text>
        </h6>`:""}
  `},y={args:{...u},argTypes:O,name:"Default with Tooltip",render:T,parameters:{docs:{source:{code:`
<c4p-truncated-text
  value="${u.value}"
  lines="${u.lines}"
  ?autoalign=${u.autoalign}
  align=${u.align}
></c4p-truncated-text>
        `}}}},g={args:{...u,with:"expand"},argTypes:O,render:T,parameters:{docs:{source:{code:`
<c4p-truncated-text
  value="${u.value}"
  lines="${u.lines}"
  with="expand"
  expand-label="View more"
  collapse-label="View less"
></c4p-truncated-text>
        `}}}},B={title:"Experimental/Utilities/TruncatedText",component:"c4p-truncated-text",parameters:{layout:"fullscreen"}};var b,f,_;y.parameters={...y.parameters,docs:{...(b=y.parameters)==null?void 0:b.docs,source:{originalSource:`{
  args: {
    ...defaultArgs
  },
  argTypes,
  name: 'Default with Tooltip',
  render: renderTemplate,
  parameters: {
    docs: {
      source: {
        code: \`
<c4p-truncated-text
  value="\${defaultArgs.value}"
  lines="\${defaultArgs.lines}"
  ?autoalign=\${defaultArgs.autoalign}
  align=\${defaultArgs.align}
></c4p-truncated-text>
        \`
      }
    }
  }
}`,...(_=(f=y.parameters)==null?void 0:f.docs)==null?void 0:_.source}}};var v,$,z;g.parameters={...g.parameters,docs:{...(v=g.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    ...defaultArgs,
    with: 'expand'
  },
  argTypes,
  render: renderTemplate,
  parameters: {
    docs: {
      source: {
        code: \`
<c4p-truncated-text
  value="\${defaultArgs.value}"
  lines="\${defaultArgs.lines}"
  with="expand"
  expand-label="View more"
  collapse-label="View less"
></c4p-truncated-text>
        \`
      }
    }
  }
}`,...(z=($=g.parameters)==null?void 0:$.docs)==null?void 0:z.source}}};const N=["Default","WithExpand"],Q=Object.freeze(Object.defineProperty({__proto__:null,Default:y,WithExpand:g,__namedExportsOrder:N,default:B},Symbol.toStringTag,{value:"Module"}));export{y as D,Q as T,g as W};
