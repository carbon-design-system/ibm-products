import{r as d,u as w,c as C,ef as M,L as j,D as K,e as l,_ as x,P as e,g as J}from"./iframe-D7eStwkL.js";import{w as Q}from"./wrapComponent-DyImDxEd.js";import{A as W}from"./index-DtlUN_qQ.js";import{i as L}from"./utils-DEi-HpEF.js";import{aF as X}from"./bucket-0-L01MYrbT.js";import{b as Y}from"./bucket-1-Br50AaUq.js";const f={NONE:"NONE",DESC:"DESC",ASC:"ASC"},ee=d.createContext({titleId:void 0,descriptionId:void 0}),U=(a,t)=>{if(a.children.length>0)return!1;const s=window.getComputedStyle(a);t.font=s.font?s.font:`${s.fontSize}" "${s.fontFamily}`;let o=(t?.measureText(a.textContent??"")).width??0;const b=s.letterSpacing?.split("px");b&&b.length&&!isNaN(Number(b[0]))&&(o+=Number(b[0])*(a.textContent?.length??0));const i=s.paddingLeft?.split("px");i&&i.length&&!isNaN(Number(i[0]))&&(o+=Number(i[0]));const m=s.paddingLeft?.split("px");return m&&m.length&&!isNaN(Number(m[0]))&&(o+=Number(m[0])),o>a.getBoundingClientRect().width},te=({className:a,children:t,useZebraStyles:s,size:c="lg",isSortable:o=!1,useStaticWidth:b,stickyHeader:i,overflowMenuOnHover:m=!0,experimentalAutoAlign:p=!1,tabIndex:g,...v})=>{const{titleId:y,descriptionId:h}=d.useContext(ee),n=w(),[R,r]=d.useState(!1),u=d.useRef(null),A=C(`${n}--data-table`,a,{[`${n}--data-table--${c}`]:c,[`${n}--data-table--sort`]:o,[`${n}--data-table--zebra`]:s,[`${n}--data-table--static`]:b,[`${n}--data-table--sticky-header`]:i,[`${n}--data-table--visible-overflow-menu`]:!m}),E=d.useCallback(($=!1)=>{$?u.current?.classList.add(`${n}--data-table--top-aligned-body`):u.current?.classList.remove(`${n}--data-table--top-aligned-body`)},[n]),S=d.useCallback(($=!1)=>{$?u.current?.classList.add(`${n}--data-table--top-aligned-header`):u.current?.classList.remove(`${n}--data-table--top-aligned-header`)},[n]),N=d.useCallback(()=>{if(p){const T=document.createElement("canvas").getContext("2d");if(u.current&&T){const z=Array.from(u.current.querySelectorAll("td")).some(O=>U(O,T)),H=Array.from(u.current.querySelectorAll("th")).some(O=>{const F=O.querySelector(`.${n}--table-header-label`);return F&&U(F,T)});E(z),S(H)}}else E(!1),S(!1)},[p,E,S,n]),_=M(N,100);j("resize",_);const I=d.useCallback(()=>{const $=u?.current?.parentNode;u?.current?.firstChild?.scrollWidth>$?.clientWidth?r(!0):r(!1)},[]),k=M(I,100);j("resize",k),K(()=>{I()},[I]),typeof document<"u"&&document?.fonts?.status&&document.fonts.status!=="loaded"&&document.fonts.ready.then(()=>{N()}),K(()=>{N()},[N,c]);const D=l.createElement("div",{className:`${n}--data-table-content`,tabIndex:g??(R?0:void 0)},l.createElement("table",x({"aria-labelledby":y,"aria-describedby":h},v,{className:A,ref:u}),t));return i?l.createElement("section",{className:`${n}--data-table_inner-container`},D):D};te.propTypes={children:e.node,className:e.string,experimentalAutoAlign:e.bool,isSortable:e.bool,overflowMenuOnHover:e.bool,size:e.oneOf(["xs","sm","md","lg","xl"]),stickyHeader:e.bool,useStaticWidth:e.bool,useZebraStyles:e.bool,tabIndex:e.number};const ae=({children:a,className:t,...s})=>l.createElement("tbody",x({"aria-live":s["aria-live"]??"polite",className:t},s),a);ae.propTypes={"aria-live":e.oneOf(["polite","assertive","off"]),children:e.node,className:e.string};const se=d.forwardRef,Z=se((a,t)=>{const{children:s,className:c,hasAILabelHeader:o,colSpan:b,...i}=a,m=w(),p=C(c,{[`${m}--table-cell--column-slug`]:o});return l.createElement("td",x({className:p||void 0,ref:t,colSpan:b},i),s)});Z.displayName="TableCell";Z.propTypes={children:e.node,className:e.string,colSpan:e.number,hasAILabelHeader:e.bool,headers:e.string};const q=({className:a,decorator:t})=>{const s=w(),c=C({...a&&{[a]:!0},[`${s}--table-column-decorator`]:!0,[`${s}--table-column-decorator--active`]:t}),b=L(t,W)?d.cloneElement(t,{size:"mini"}):null;return l.createElement("td",{className:c},b)};q.displayName="TableDecoratorRow";q.propTypes={className:e.string,decorator:e.node};const V={};function le(a,t){return V[a]||(V[a]=!0),a}const B=({className:a,slug:t})=>{d.useEffect(()=>{le("TableSlugRow")},[]);const s=w(),c=C({...a&&{[a]:!0},[`${s}--table-column-slug`]:!0,[`${s}--table-column-slug--active`]:t});let o;return t&&(o=l.cloneElement(t,{size:"mini"})),l.createElement("td",{className:c},o)};B.displayName="TableSlugRow";B.propTypes={className:e.string,slug:e.node};const pe=Q({name:"TableHead",type:"thead"}),ne="col",G={buttonDescription:"carbon.table.header.icon.description"},re=(a,t)=>t&&a===G.buttonDescription?t.isSortHeader&&f?t.sortDirection===f.NONE?`Click to sort rows by ${t.header} header in ascending order`:t.sortDirection===f.ASC?`Click to sort rows by ${t.header} header in descending order`:`Click to unsort rows by ${t.header} header`:`Click to sort rows by ${t.header} header in ascending order`:"",oe={[f.NONE]:"none",[f.ASC]:"ascending",[f.DESC]:"descending"},P=l.forwardRef(function({className:t,children:s,colSpan:c,decorator:o,isSortable:b=!1,isSortHeader:i,onClick:m,scope:p=ne,sortDirection:g,translateWithId:v=re,slug:y,id:h,...n},R){const r=w(),u=J("table-sort"),A=d.useRef(null),E=y??o,S=L(E,W),N=S,_=S?d.cloneElement(E,{size:"mini",ref:A}):null,I=C({[`${r}--table-header-label`]:!0,[`${r}--table-header-label--slug ${r}--table-header-label--ai-label`]:N,[`${r}--table-header-label--decorator`]:o});if(!b)return l.createElement("th",x({},n,{id:h,className:t,scope:p,colSpan:c,ref:R}),s?l.createElement("div",{className:I},s,l.createElement("div",{className:`${r}--table-header-label--decorator-inner`},_)):null);const k=C(t,{[`${r}--table-sort`]:!0,[`${r}--table-sort--active`]:i&&g!==f.NONE,[`${r}--table-sort--descending`]:i&&g===f.DESC}),D=!i||!g?"none":oe[g],$=v&&v("carbon.table.header.icon.description",{header:s,sortDirection:g,isSortHeader:i,sortStates:f}),T=C(t,`${r}--table-sort__header`,{[`${r}--table-sort__header--ai-label`]:N,[`${r}--table-sort__header--decorator`]:o}),z=H=>{if(!(N&&A.current&&A.current.contains(H.target))&&m)return m(H)};return l.createElement("th",{id:h,"aria-sort":D,className:T,colSpan:c,ref:R,scope:p},l.createElement("div",{className:`${r}--table-sort__description`,id:u},$),l.createElement("button",x({type:"button","aria-describedby":u,className:k,onClick:z},n),l.createElement("span",{className:`${r}--table-sort__flex`},l.createElement("div",{className:`${r}--table-header-label`},s),l.createElement(X,{size:20,className:`${r}--table-sort__icon`}),l.createElement(Y,{size:20,className:`${r}--table-sort__icon-unsorted`}),l.createElement("div",{className:`${r}--table-header-label--decorator-inner`},_))))});P.propTypes={children:e.node,className:e.string,colSpan:e.number,id:e.string,isSortHeader:e.bool,isSortable:e.bool,onClick:e.func,scope:e.string,sortDirection:e.oneOf(Object.values(f)),translateWithId:e.func};P.translationKeys=Object.values(G);P.displayName="TableHeader";const ce=l.forwardRef((a,t)=>{const s=w();let c;a?.children&&d.Children.toArray(a.children).map(h=>{L(h,B)?h.props.slug&&(c=!0):L(h,q)&&L(h.props.decorator,W)&&(c=!0)});const o=C(a.className,{[`${s}--data-table--selected`]:a.isSelected,[`${s}--data-table--slug-row ${s}--data-table--ai-label-row`]:c}),{ariaLabel:b,"aria-label":i,"aria-controls":m,onExpand:p,isExpanded:g,isSelected:v,...y}=a;return o&&(y.className=o),l.createElement("tr",x({ref:t},y))});ce.propTypes={className:e.string,isSelected:e.bool};export{te as T,pe as a,ce as b,P as c,ae as d,Z as e,ee as f,B as g,q as h,f as s};
