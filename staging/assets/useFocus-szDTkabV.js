import{b as L}from"./index-CXyjPnaX.js";import{p as w}from"./settings-iwZeeh4T.js";import{r as g}from"./index-CPiZ6Cnx.js";import{w as P}from"./wait-CTNFjQS8.js";const S=(e,s)=>{const n=e==null?void 0:e.querySelector(s);return s&&!(n!=null&&n.disabled)?n:null},z=(e,s)=>{var p,$,d,x;const n=L(),r=`${w.prefix}--tearsheet`,a=`${w.prefix}--side-panel`,i=`:not(.${n}--visually-hidden,.${r}__header--no-close-icon,.${n}--btn--disabled,[aria-hidden="true"],[tabindex="-1"],[disabled])`,b=`button${i}`,k=`input${i}`,A=`select${i}`,C=`textarea${i}`,T=`[href]${i}`,f=`a${i}`,D=`[tabindex="0"]${i}`,v=`.${a}--scrolls`,l=`${b},${T},${f},${k},${A},${C},${D},${v}`,c=g.useCallback(()=>{var h;let t=(h=e==null?void 0:e.current)==null?void 0:h.querySelectorAll(`${l}`);t!=null&&t.length&&(t=Array.prototype.filter.call(t,K=>{var q;return((q=window==null?void 0:window.getComputedStyle(K))==null?void 0:q.display)!=="none"}));const o=t==null?void 0:t[0],u=t==null?void 0:t[(t==null?void 0:t.length)-1],y=t,I=S(e==null?void 0:e.current,s);return{first:o,last:u,all:y,specified:I}},[e,l,s]);g.useEffect(()=>{c()},[c,e]);const B=async t=>{if(t.key==="Tab"){const{first:o,last:u,all:y}=c();await P(1),t.shiftKey&&!Array.prototype.includes.call(y,document==null?void 0:document.activeElement)?(t.preventDefault(),u==null||u.focus()):Array.prototype.includes.call(y,document==null?void 0:document.activeElement)||(t.preventDefault(),o==null||o.focus())}};return{firstElement:(p=c())==null?void 0:p.first,lastElement:($=c())==null?void 0:$.last,allElements:(d=c())==null?void 0:d.all,specifiedElement:(x=c())==null?void 0:x.specified,keyDownListener:B,getFocusable:c}},G=(e,s,n=void 0)=>{var a;let r;n&&(r=S(s==null?void 0:s.current,n)),r&&((a=window==null?void 0:window.getComputedStyle(r))==null?void 0:a.display)!=="none"&&(r==null?void 0:r.tabIndex)!==-1?setTimeout(()=>r.focus(),0):setTimeout(()=>e==null?void 0:e.focus(),0)};export{G as c,S as g,z as u};
