{"version":3,"file":"TagSet.stories-BRVwhHBr.js","sources":["../../src/components/TagSet/constants.js","../../src/components/TagSet/TagSet.stories.jsx"],"sourcesContent":["//\n// Copyright IBM Corp. 2022, 2022\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\nexport const TYPES = {\n  red: 'Red',\n  magenta: 'Magenta',\n  purple: 'Purple',\n  blue: 'Blue',\n  cyan: 'Cyan',\n  teal: 'Teal',\n  green: 'Green',\n  gray: 'Gray',\n  'cool-gray': 'Cool-Gray',\n  'warm-gray': 'Warm-Gray',\n  'high-contrast': 'High-Contrast',\n  outline: 'Outline',\n};\n","//\n// Copyright IBM Corp. 2020, 2024\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\nimport React, { useRef, useState, useEffect } from 'react';\n\nimport { TYPES as tagTypes } from '../TagSet/constants';\nimport { pkg } from '../../settings';\nimport { DisplayBox } from '../../global/js/utils/DisplayBox';\nimport { TagSet } from '.';\nimport { StoryDocsPage } from '../../global/js/utils/StoryDocsPage';\nimport styles from './_storybook-styles.scss?inline';\n\nconst blockClass = `${pkg.prefix}--tag-set`;\nconst blockClassModal = `${blockClass}-modal`;\n\nconst tags = [\n  { type: 'blue', label: 'Tag 1' },\n  { type: 'high-contrast', label: 'Tag 123' },\n  { type: 'cyan', label: 'Tag 1234' },\n  { type: 'red', label: 'Tag 12345' },\n];\n\nconst manyTags = [\n  {\n    label: 'One',\n    type: 'blue',\n    ['data-search']: 'single',\n  },\n  {\n    label: 'Two',\n    type: 'red',\n  },\n  {\n    label: 'Three',\n    type: 'cyan',\n  },\n  {\n    label: 'Four',\n    type: 'high-contrast',\n  },\n  {\n    label: 'Five',\n    type: 'blue',\n  },\n  {\n    label: 'Six',\n    type: 'red',\n  },\n  {\n    label: 'Seven',\n    type: 'cyan',\n  },\n  {\n    label: 'Eight',\n    type: 'high-contrast',\n  },\n  {\n    label: 'Nine',\n    type: 'red',\n  },\n  {\n    label: 'Ten',\n    type: 'blue',\n  },\n  {\n    label: 'Eleven',\n    type: 'cyan',\n  },\n  {\n    label: 'Twelve',\n    type: 'high-contrast',\n    ['data-search']: 'dozen',\n  },\n  {\n    label: 'Thirteen',\n    type: 'red',\n  },\n  {\n    label: 'Fourteen',\n    type: 'cyan',\n  },\n  {\n    label: 'Fifteen',\n    type: 'blue',\n  },\n  {\n    label: 'Sixteen',\n    type: 'high-contrast',\n  },\n  {\n    label: 'Seventeen',\n    type: 'red',\n  },\n  {\n    label: 'Eighteen',\n    type: 'cyan',\n  },\n  {\n    label: 'Nineteen',\n    type: 'red',\n  },\n  {\n    label: 'Twenty',\n    type: 'high-contrast',\n  },\n].map((item, index) => ({\n  ...item,\n  ['data-search']: '' + (index + 1) + ' ' + item?.['data-search'],\n}));\n\nconst hundredsOfTags = [];\nfor (let i = 0; i < 200; i++) {\n  const label = `Label_${i + 1}`;\n  const values = Object.keys(tagTypes);\n  const typeValue = values[Math.floor(Math.random() * values.length)];\n\n  hundredsOfTags.push({ type: typeValue, label });\n}\n\nconst overflowAndModalStrings = {\n  allTagsModalTitle: 'All tags',\n  allTagsModalSearchLabel: 'Search all tags',\n  allTagsModalSearchPlaceholderText: 'Search all tags',\n  showAllTagsLabel: 'View all tags',\n};\n\nexport default {\n  title: 'Components/TagSet',\n  component: TagSet,\n  tags: ['autodocs'],\n  parameters: {\n    styles,\n    percy: {\n      waitForTimeout: 1000,\n    },\n    docs: {\n      page: () => (\n        <StoryDocsPage\n          altGuidelinesHref={[\n            {\n              href: 'https://pages.github.ibm.com/carbon/ibm-products/components/tag-set/usage/',\n              label: 'Usage guidelines',\n            },\n            {\n              href: 'https://carbondesignsystem.com/components/tag/usage/',\n              label: 'Carbon tag usage guidelines',\n            },\n            {\n              href: 'https://react.carbondesignsystem.com/?path=/docs/components-tag--overview',\n              label: 'Carbon tag documentation',\n            },\n          ]}\n        />\n      ),\n    },\n  },\n  argTypes: {\n    containerWidth: {\n      control: { type: 'range', min: 20, max: 800, step: 10 },\n    },\n    size: {\n      control: {\n        type: 'select',\n      },\n      options: ['sm', 'md', 'lg'],\n      type: 'string',\n      description:\n        'This prop is only for storybook representation, and does not belong to `tagset` component, the size can be passed to each tag{} in tags[], the overflow tag takes the size of last tag{} in tags[]',\n    },\n    onOverflowClick: {\n      control: { type: 'function' },\n      description:\n        'An optional click handler that overrides the default functionality of displaying all tags in a modal',\n    },\n    allTagsModalTargetCustomDomNode: {\n      control: { type: 'boolean' },\n      description: 'Optional DOM node: Modal target defaults to document.body',\n    },\n  },\n  decorators: [\n    (story) => (\n      <>\n        <style>\n          {`.${blockClassModal} { opacity: 0; visibility: hidden; /* prevents glitch storybook modal css load */ }`}\n          ;\n        </style>\n        <DisplayBox>{story()}</DisplayBox>\n      </>\n    ),\n  ],\n};\n\nconst Template = (argsIn) => {\n  const { containerWidth, allTagsModalTargetCustomDomNode, size, ...args } = {\n    ...argsIn,\n  };\n  if (args.tags) {\n    args.tags = args.tags.map((tag) => ({ ...tag, size }));\n  }\n\n  const ref = useRef(undefined);\n  return (\n    <main style={{ width: containerWidth }} ref={ref}>\n      <TagSet\n        {...args}\n        allTagsModalTarget={\n          allTagsModalTargetCustomDomNode ? ref.current : undefined\n        }\n      />\n    </main>\n  );\n};\n\nexport const FiveTags = Template.bind({});\nFiveTags.args = {\n  tags: tags,\n  containerWidth: 500,\n};\n\nexport const ManyTags = Template.bind({});\nManyTags.args = {\n  tags: manyTags,\n  containerWidth: 500,\n  ...overflowAndModalStrings,\n};\n\nexport const MultilineTags = Template.bind({});\nMultilineTags.args = {\n  tags: manyTags,\n  containerWidth: 500,\n  multiline: true,\n  ...overflowAndModalStrings,\n};\n\nexport const HundredsOfTags = Template.bind({});\nHundredsOfTags.args = {\n  tags: hundredsOfTags,\n  containerWidth: 500,\n  ...overflowAndModalStrings,\n};\n\nconst TemplateWithClose = (argsIn) => {\n  const {\n    containerWidth,\n    allTagsModalTargetCustomDomNode,\n    size,\n    tags,\n    ...args\n  } = {\n    ...argsIn,\n  };\n  const [liveTags, setLiveTags] = useState(\n    tags.map((tag) => ({\n      ...tag,\n      filter: true,\n      size: size,\n      onClose: () => handleTagClose(tag.label),\n    }))\n  );\n\n  const handleTagClose = (key) => {\n    setLiveTags((prev) => prev.filter((tag) => tag.label !== key));\n  };\n\n  const ref = useRef(undefined);\n  useEffect(() => {\n    setLiveTags((prevTags) =>\n      prevTags.map((tag) => ({\n        ...tag,\n        size: size,\n      }))\n    );\n  }, [size]);\n  return (\n    <main style={{ width: containerWidth }} ref={ref}>\n      <TagSet\n        {...args}\n        tags={liveTags}\n        allTagsModalTarget={\n          allTagsModalTargetCustomDomNode ? ref.current : undefined\n        }\n      />\n    </main>\n  );\n};\n\nexport const WithClose = TemplateWithClose.bind({});\nWithClose.args = {\n  tags: manyTags,\n  containerWidth: 500,\n  ...overflowAndModalStrings,\n};\n\nexport const WithCloseAndOverflowTags = TemplateWithClose.bind({});\nWithCloseAndOverflowTags.args = {\n  tags: manyTags,\n  containerWidth: 500,\n  overflowType: 'tag',\n  ...overflowAndModalStrings,\n};\n"],"names":["TYPES","blockClass","pkg","prefix","blockClassModal","tags","type","label","manyTags","map","item","index","hundredsOfTags","i","values","Object","keys","tagTypes","typeValue","Math","floor","random","length","push","overflowAndModalStrings","allTagsModalTitle","allTagsModalSearchLabel","allTagsModalSearchPlaceholderText","showAllTagsLabel","TagSet_stories","title","component","TagSet","parameters","styles","percy","waitForTimeout","docs","page","React","StoryDocsPage","href","argTypes","containerWidth","control","min","max","step","size","options","description","onOverflowClick","allTagsModalTargetCustomDomNode","decorators","story","DisplayBox","Template","argsIn","args","tag","ref","useRef","undefined","width","current","FiveTags","bind","ManyTags","MultilineTags","multiline","HundredsOfTags","TemplateWithClose","liveTags","setLiveTags","useState","filter","onClose","handleTagClose","key","prev","useEffect","prevTags","WithClose","WithCloseAndOverflowTags","overflowType","source","originalSource"],"mappings":"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"}