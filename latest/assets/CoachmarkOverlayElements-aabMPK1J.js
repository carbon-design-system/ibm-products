import{p as T,j as o,B as D,a as de}from"./settings-DEdZ0TrD.js";import{r as d,R as q}from"./index-BwDkhjyp.js";import{u as ue}from"./uuidv4-BQrI85uz.js";import{P as t}from"./index-Dk74W0Oi.js";import{c as w,C as ie}from"./floating-ui.core.mjs-LzsX8FoD.js";import{g as W}from"./devtools-BMJcATO0.js";import{c as me}from"./bucket-5-CnrlLpeo.js";import{l as ee}from"./lodash-C6Eq4oiK.js";import{S as pe}from"./SteppedAnimatedMedia-a8KJ2nZi.js";import{C as he}from"./Carousel-ivRYnOkT.js";var fe=(e=>(e.DEFAULT="default",e))(fe||{}),B=(e=>(e.TOOLTIP="tooltip",e.FLOATING="floating",e.FIXED="fixed",e.STACKED="stacked",e))(B||{}),g=(e=>(e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e))(g||{});const ge=d.createContext(),le=()=>d.useContext(ge),te=`${T.prefix}--coachmark-dragbar`,oe=`${T.prefix}--coachmark-overlay`,Z="CoachmarkDragbar",R={closeIconDescription:"Close",onDrag:()=>{},onClose:()=>{},showCloseButton:!0,theme:"light"};let E=q.forwardRef(({a11yKeyboardHandler:e,closeIconDescription:l=R.closeIconDescription,onClose:s=R.onClose,onDrag:n=R.onDrag,showCloseButton:a=R.showCloseButton,theme:r=R.theme,...i},j)=>{const[$,h]=d.useState(!1);d.useEffect(()=>{const y=()=>h(!1);return window.addEventListener("mouseup",y),()=>{window.removeEventListener("mouseup",y)}},[]),d.useEffect(()=>{const y=C=>{n(C.movementX,C.movementY)};return $&&window.addEventListener("mousemove",y),()=>{window.removeEventListener("mousemove",y)}},[$,n]);const b=()=>h(!0);return o.jsxs("header",{...i,className:w(te,`${te}__${r}`,{}),ref:j,...W(Z),children:[o.jsx("button",{type:"button",className:`${oe}__handle`,onMouseDown:b,onKeyDown:e,title:"Drag Handle",children:o.jsx(me,{size:"16"})}),a&&o.jsx(D,{kind:"ghost",size:"sm",renderIcon:ie,iconDescription:l,hasIconOnly:!0,className:`${oe}--close-btn`,onClick:s})]})});E=T.checkComponentEnabled(E,Z);E.displayName=Z;E.propTypes={a11yKeyboardHandler:t.func.isRequired,closeIconDescription:t.string,onClose:t.func,onDrag:t.func,showCloseButton:t.bool,theme:t.oneOf(["light","dark"])};E.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.`,methods:[],displayName:"CoachmarkDragbar",props:{closeIconDescription:{defaultValue:{value:"'Close'",computed:!1},description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"},required:!1},onClose:{defaultValue:{value:"() => {}",computed:!1},description:"Function to call when the close button is clicked.",type:{name:"func"},required:!1},onDrag:{defaultValue:{value:"() => {}",computed:!1},description:`Function to call when the user clicks and drags the Coachmark.
For internal use only by the parent CoachmarkOverlay.`,type:{name:"func"},required:!1},showCloseButton:{defaultValue:{value:"true",computed:!1},description:'Show/hide the "X" close button.',type:{name:"bool"},required:!1},theme:{defaultValue:{value:"'light'",computed:!1},description:"Determines the theme of the component.",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},a11yKeyboardHandler:{description:"Handler to manage keyboard interactions with the dragbar.",type:{name:"func"},required:!0}}};const ne=`${T.prefix}--coachmark-header`,se=`${T.prefix}--coachmark-overlay`,K="CoachmarkHeader",Y={closeIconDescription:"Close",onClose:()=>{},showCloseButton:!0,theme:"light"};let _=q.forwardRef(({closeIconDescription:e=Y.closeIconDescription,onClose:l=Y.onClose,showCloseButton:s=Y.showCloseButton,theme:n=Y.theme,...a},r)=>o.jsx("header",{...a,className:w(ne,`${ne}__${n}`),ref:r,...W(K),children:s&&o.jsx("div",{className:`${se}--close-btn-container`,children:o.jsx(D,{kind:"ghost",size:"sm",renderIcon:ie,iconDescription:e,hasIconOnly:!0,className:`${se}--close-btn`,onClick:l})})}));_=T.checkComponentEnabled(_,K);_.displayName=K;_.propTypes={closeIconDescription:t.string,onClose:t.func,showCloseButton:t.bool,theme:t.oneOf(["light","dark"])};_.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.`,methods:[],displayName:"CoachmarkHeader",props:{closeIconDescription:{defaultValue:{value:"'Close'",computed:!1},description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"},required:!1},onClose:{defaultValue:{value:"() => {}",computed:!1},description:"Function to call when the close button is clicked.",type:{name:"func"},required:!1},showCloseButton:{defaultValue:{value:"true",computed:!1},description:'Show/hide the "X" close button.',type:{name:"bool"},required:!1},theme:{defaultValue:{value:"'light'",computed:!1},description:"Determines the theme of the component.",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1}}};const be=(e,l)=>{const{width:s,height:n}=e.targetRect,a=24;let r=0,i=0;if(l!==B.TOOLTIP)switch(e.align){case g.TOP:i=s/2;break;case g.TOP_LEFT:i=a;break;case g.TOP_RIGHT:i=s-a;break;case g.BOTTOM:r=n,i=s/2;break;case g.BOTTOM_LEFT:r=n,i=a;break;case g.BOTTOM_RIGHT:r=n,i=s-a;break;case g.LEFT:r=n/2;break;case g.LEFT_TOP:r=a;break;case g.LEFT_BOTTOM:r=n-a;break;case g.RIGHT:r=n/2,i=s;break;case g.RIGHT_TOP:r=a,i=s;break;case g.RIGHT_BOTTOM:r=n-a,i=s;break}return{top:r,left:i}},O=`${T.prefix}--coachmark-overlay`,M="CoachmarkOverlay",ae={kind:B.FLOATING,theme:"light"};let L=d.forwardRef(({children:e,onClose:l,fixedIsVisible:s,className:n,kind:a=ae.kind,theme:r=ae.theme,...i},j)=>{const{winHeight:$,winWidth:h}=ye(),[b,y]=d.useState(!1),C=d.useRef(null),k=le(),P=a===B.TOOLTIP,x=a===B.FLOATING,X=n==null?void 0:n.includes("is-visible"),I=m=>{const{shiftKey:F,key:c}=m;if(c==="Enter"||c===" ")y(f=>!f);else if(b){const f=F?128:32;switch(c){case"ArrowLeft":u(f*-1,0);break;case"ArrowRight":u(f,0);break;case"ArrowUp":u(0,f*-1);break;case"ArrowDown":u(0,f);break}}},v={};if((P||x)&&(k.targetRect&&(v.left=k.targetRect.x+window.scrollX,v.top=k.targetRect.y+window.scrollY),v.left&&v.top&&(P&&(v.left+=16,v.top+=16),x))){const m=be(k,a);v.left+=m.left,v.top+=m.top}function S(m,F){let c=m,f=F;const G=h-288,U=$-150;return c<0?c=0:c>G&&(c=G),f<0?f=0:f>U&&(f=U),{targetX:c,targetY:f}}function u(m,F){const c=C.current;if(!c)return;const{x:f,y:G}=c.getBoundingClientRect(),{targetX:U,targetY:ce}=S(f+m,G+F);c.style.transform="none",c.style.position="fixed",c.style.left=`${U}px`,c.style.top=`${ce}px`,c.style.bottom="auto"}const p=ue();return o.jsxs("div",{...i,className:w(O,`${O}--${a}`,`${O}__${r}`,(P||x)&&`${O}--${k.align}`,s&&`${O}--is-visible`,b&&`${O}--is-dragmode`,n),ref:C,style:v,"aria-labelledby":p,tabIndex:-1,...W(M),children:[x?o.jsx(E,{a11yKeyboardHandler:I,onBlur:()=>y(!1),onDrag:u,theme:r,onClose:l}):o.jsx(_,{onClose:l}),o.jsx("div",{className:`${O}__body`,ref:j,id:p,children:q.Children.map(e,m=>q.cloneElement(m,{isVisible:X}))})]})});function re(){const{innerWidth:e,innerHeight:l}=window;return{winWidth:e,winHeight:l}}const ye=()=>{const[e,l]=d.useState(re());return d.useEffect(()=>{function s(){l(re())}return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),e};L=T.checkComponentEnabled(L,M);L.displayName=M;L.propTypes={children:t.node.isRequired,className:t.string,fixedIsVisible:t.bool.isRequired,kind:t.oneOf(Object.values(B)),onClose:t.func.isRequired,theme:t.oneOf(["light","dark"])};L.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.`,methods:[],displayName:"CoachmarkOverlay",props:{kind:{defaultValue:{value:"COACHMARK_OVERLAY_KIND.FLOATING",computed:!0},description:"What kind or style of Coachmark to render.",type:{name:"enum",computed:!0,value:"Object.values(COACHMARK_OVERLAY_KIND)"},required:!1},theme:{defaultValue:{value:"'light'",computed:!1},description:"Determines the theme of the component.",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},children:{description:`The CoachmarkOverlayElements child components.
Validation is handled in the parent Coachmark component.`,type:{name:"node"},required:!0},className:{description:"Optional class name for this component.",type:{name:"string"},required:!1},fixedIsVisible:{description:`The visibility of CoachmarkOverlay is
managed in the parent Coachmark component.`,type:{name:"bool"},required:!0},onClose:{description:"Function to call when the Coachmark closes.",type:{name:"func"},required:!0}}};const V=`${T.prefix}--coachmark-overlay-element`,A="CoachmarkOverlayElement";let z=q.forwardRef(({button:e,className:l,description:s,title:n,...a},r)=>o.jsxs("div",{...a,className:w(V,l,{}),ref:r,...W(A),children:[o.jsxs("div",{className:`${V}__content`,children:[n&&o.jsx("h2",{className:`${V}__title`,children:n}),s&&o.jsx("p",{className:`${V}__body`,children:s})]}),e&&o.jsx("div",{className:`${V}__button`,children:e})]}));z=T.checkComponentEnabled(z,A);z.displayName=A;z.propTypes={button:t.node,className:t.string,description:t.node.isRequired,title:t.string.isRequired};z.__docgenInfo={description:`Component to be displayed within a CoachmarkOverlayElements container.
Can be used 1 to N number, to display content in a Coachmark's overlay
in a carousel fashion.`,methods:[],displayName:"CoachmarkOverlayElement",props:{button:{description:`An optional button can be rendered below the description.
This can be a link, button, Coachmark button, etc.`,type:{name:"node"},required:!1},className:{description:"Optional class name for this component.",type:{name:"string"},required:!1},description:{description:"The description of the Coachmark.",type:{name:"node"},required:!0},title:{description:"The title of the Coachmark.",type:{name:"string"},required:!0}}};const N=`${T.prefix}--coachmark-overlay-elements`,Q="CoachmarkOverlayElements",J={isVisible:!1,nextButtonText:"Next",previousButtonLabel:"Back",closeButtonLabel:"Got it"};let H=q.forwardRef(({className:e,children:l,isVisible:s=J.isVisible,media:n,nextButtonText:a=J.nextButtonText,previousButtonLabel:r=J.previousButtonLabel,closeButtonLabel:i=J.closeButtonLabel,...j},$)=>{const h=d.useRef(),b=d.useRef(),[y,C]=d.useState(0),[k,P]=d.useState(0),x=le(),X=u=>{k>0&&u===0&&h.current&&setTimeout(()=>{var p;(p=h.current)==null||p.focus()},1e3),P(u)},I=d.Children.count(l),v=0,S=I-1;return d.useEffect(()=>{h.current&&h.current.focus()},[]),d.useEffect(()=>{setTimeout(()=>{h.current&&s&&h.current.focus()},100)},[s]),x?o.jsxs("section",{...j,className:w(N,e,{}),ref:$,...W(Q),children:[n&&(n.render?n.render():o.jsx(pe,{className:`${N}__element-stepped-media`,filePaths:n.filePaths,playStep:k})),I===1?o.jsxs(o.Fragment,{children:[l,i&&o.jsx("div",{className:w(`${N}__footer`,"coachmark-carousel-controls"),children:o.jsx(D,{size:"sm",...x.closeButtonProps,ref:h,children:i})})]}):o.jsxs(o.Fragment,{children:[o.jsx(he,{disableArrowScroll:!0,ref:b,onScroll:u=>{C(u)},children:l}),o.jsxs("div",{className:w(`${N}__footer`),children:[o.jsx("div",{className:`${N}--controls-progress`,children:`${k+1} / ${I}`}),y>0&&o.jsx(D,{size:"sm",kind:"ghost",title:r,disabled:y===0,onClick:()=>{var p,m;const u=ee.clamp(k-1,v,S);(m=(p=b==null?void 0:b.current)==null?void 0:p.scrollToView)==null||m.call(p,u),X(u)},children:r}),k<S?o.jsx(D,{size:"sm",ref:h,title:a,disabled:y===1,onClick:()=>{var p,m;const u=ee.clamp(k+1,v,S);(m=(p=b==null?void 0:b.current)==null?void 0:p.scrollToView)==null||m.call(p,u),X(u)},children:a}):i&&o.jsx(D,{size:"sm",ref:h,...x.closeButtonProps,children:i})]})]})]}):de.warn(`The ${Q} is a composable container element which should be used only within the scope of a Coachmark or a CoachmarkFixed component.`)});H=T.checkComponentEnabled(H,Q);H.displayName=Q;H.propTypes={children:t.node.isRequired,className:t.string,closeButtonLabel:t.string,isVisible:t.bool,media:t.oneOfType([t.shape({render:t.func}),t.shape({filePaths:t.arrayOf(t.string)})]),nextButtonText:t.string,previousButtonLabel:t.string};H.__docgenInfo={description:`Composable container to allow for the displaying of CoachmarkOverlayElement
components in a carousel fashion.`,methods:[],displayName:"CoachmarkOverlayElements",props:{isVisible:{defaultValue:{value:"false",computed:!1},description:`The visibility of CoachmarkOverlayElements is
managed in the parent component.`,type:{name:"bool"},required:!1},nextButtonText:{defaultValue:{value:"'Next'",computed:!1},description:"The label for the Next button.",type:{name:"string"},required:!1},previousButtonLabel:{defaultValue:{value:"'Back'",computed:!1},description:"The label for the Previous button.",type:{name:"string"},required:!1},closeButtonLabel:{defaultValue:{value:"'Got it'",computed:!1},description:"The label for the Close button.",type:{name:"string"},required:!1},children:{description:`CoachmarkOverlayElements should be used with one or many CoachmarkOverlayElement components as children.
@see CoachmarkOverlayElement`,type:{name:"node"},required:!0},className:{description:"Optional class name for this component.",type:{name:"string"},required:!1},media:{description:"The object describing an image in one of two shapes.\nIf a single media element is required, use `{render}`.\nIf a stepped animation is required, use `{filePaths}`.",type:{name:"union",value:[{name:"shape",value:{render:{name:"func",required:!1}}},{name:"shape",value:{filePaths:{name:"arrayOf",value:{name:"string"},required:!1}}}]},required:!1}}};export{fe as B,B as C,ge as a,L as b,H as c,z as d,_ as e,le as u};
