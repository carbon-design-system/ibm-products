import{j as t,ej as N,el as O,r as s,e as i,B as v}from"./iframe-BfCV3bOI.js";import{L as w}from"./Link-DwEnb7bw.js";import{T as S}from"./index-Cog7owmr.js";import{useMDXComponents as k}from"./index-D6XCO4qW.js";import{i as W}from"./carousel-BOYBb5BC.js";import{C as B}from"./CoachmarkTagline-zrJmF1CF.js";import{C as y}from"./Coachmark-DwLWq2-v.js";import"./LayerContext-8SWqIeSi.js";import"./useMatchMedia-CiI4HV-p.js";import"./devtools-mGs0wnY2.js";import"./bucket-9-CqiTmSYY.js";import"./makeDraggable-DVDwDKbH.js";import"./bucket-6-BUNG1ZbU.js";import"./useIsomorphicEffect-CGC_2bjf.js";const R="@keyframes cds--hide-feedback{0%{opacity:1;visibility:inherit}to{opacity:0;visibility:hidden}}@keyframes cds--show-feedback{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:inherit}}@keyframes cds--skeleton{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}to{opacity:.3;transform:scaleX(0);transform-origin:left}}.cds--layout--size-xs{--cds-layout-size-height-context: var(--cds-layout-size-height-xs, 1.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xs{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xs, 1.5rem))}.cds--layout-constraint--size__min-xs{--cds-layout-size-height-min: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout-constraint--size__max-xs{--cds-layout-size-height-max: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout--size-sm{--cds-layout-size-height-context: var(--cds-layout-size-height-sm, 2rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-sm{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-sm, 2rem))}.cds--layout-constraint--size__min-sm{--cds-layout-size-height-min: var(--cds-layout-size-height-sm, 2rem)}.cds--layout-constraint--size__max-sm{--cds-layout-size-height-max: var(--cds-layout-size-height-sm, 2rem)}.cds--layout--size-md{--cds-layout-size-height-context: var(--cds-layout-size-height-md, 2.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-md{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-md, 2.5rem))}.cds--layout-constraint--size__min-md{--cds-layout-size-height-min: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout-constraint--size__max-md{--cds-layout-size-height-max: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout--size-lg{--cds-layout-size-height-context: var(--cds-layout-size-height-lg, 3rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-lg{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-lg, 3rem))}.cds--layout-constraint--size__min-lg{--cds-layout-size-height-min: var(--cds-layout-size-height-lg, 3rem)}.cds--layout-constraint--size__max-lg{--cds-layout-size-height-max: var(--cds-layout-size-height-lg, 3rem)}.cds--layout--size-xl{--cds-layout-size-height-context: var(--cds-layout-size-height-xl, 4rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xl, 4rem))}.cds--layout-constraint--size__min-xl{--cds-layout-size-height-min: var(--cds-layout-size-height-xl, 4rem)}.cds--layout-constraint--size__max-xl{--cds-layout-size-height-max: var(--cds-layout-size-height-xl, 4rem)}.cds--layout--size-2xl{--cds-layout-size-height-context: var(--cds-layout-size-height-2xl, 5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-2xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-2xl, 5rem))}.cds--layout-constraint--size__min-2xl{--cds-layout-size-height-min: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout-constraint--size__max-2xl{--cds-layout-size-height-max: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout--density-condensed{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-condensed, .5rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-condensed{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-condensed, .5rem))}.cds--layout-constraint--density__min-condensed{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout-constraint--density__max-condensed{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout--density-normal{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-normal, 1rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-normal{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-normal, 1rem))}.cds--layout-constraint--density__min-normal{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-normal, 1rem)}.cds--layout-constraint--density__max-normal{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-normal, 1rem)}:root{--cds-layout-size-height-xs: 1.5rem;--cds-layout-size-height-sm: 2rem;--cds-layout-size-height-md: 2.5rem;--cds-layout-size-height-lg: 3rem;--cds-layout-size-height-xl: 4rem;--cds-layout-size-height-2xl: 5rem;--cds-layout-size-height-min: 0px;--cds-layout-size-height-max: 999999999px;--cds-layout-density-padding-inline-condensed: .5rem;--cds-layout-density-padding-inline-normal: 1rem;--cds-layout-density-padding-inline-min: 0px;--cds-layout-density-padding-inline-max: 999999999px}.cds--assistive-text,.cds--visually-hidden{position:absolute;overflow:hidden;padding:0;border:0;margin:-1px;block-size:1px;clip:rect(0,0,0,0);inline-size:1px;visibility:inherit;white-space:nowrap}@keyframes out-to-active{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes active-to-out{0%{transform:translate(-100%)}to{transform:translate(0)}}.carousel__view-stack .carousel__itemsWrapper{position:relative;overflow:hidden;block-size:100%;inline-size:100%;min-inline-size:20vh}:host(.carousel__view),.carousel__view{z-index:80;overflow:hidden auto;block-size:100%;inline-size:100%;inset-inline-start:100%;transform:translate(0)}@media (prefers-reduced-motion: no-preference){:host(.carousel__view),.carousel__view{transition:transform .24s cubic-bezier(.5,0,.1,1)}}@media (prefers-reduced-motion: reduce){:host(.carousel__view),.carousel__view{animation:none;transition:none}}:host(.carousel__view:focus),.carousel__view:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view:focus),.carousel__view:focus{outline-style:dotted}}:host(.carousel__view-active),.carousel__view-active{z-index:100;overflow:hidden auto;block-size:100%;inline-size:100%;inset-inline-start:100%;transform:translate(-100%)}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-active),.carousel__view-active{transition:transform .24s cubic-bezier(.5,0,.1,1)}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-active),.carousel__view-active{animation:none;transition:none}}:host(.carousel__view-active:focus),.carousel__view-active:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-active:focus),.carousel__view-active:focus{outline-style:dotted}}:host(.carousel__view-in-stack),.carousel__view-in-stack{z-index:90;overflow:hidden auto;block-size:100%;inline-size:100%;inset-inline-start:100%;transform:translate(-200%)}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-in-stack),.carousel__view-in-stack{transition:transform .24s cubic-bezier(.5,0,.1,1)}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-in-stack),.carousel__view-in-stack{animation:none;transition:none}}:host(.carousel__view-in-stack:focus),.carousel__view-in-stack:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-in-stack:focus),.carousel__view-in-stack:focus{outline-style:dotted}}:host(.carousel__view-recycle-in),.carousel__view-recycle-in{z-index:100;overflow:hidden auto;block-size:100%;inline-size:100%}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-recycle-in),.carousel__view-recycle-in{animation:out-to-active .24s cubic-bezier(.5,0,.1,1) forwards}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-recycle-in),.carousel__view-recycle-in{animation:none;transition:none}}:host(.carousel__view-recycle-in:focus),.carousel__view-recycle-in:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-recycle-in:focus),.carousel__view-recycle-in:focus{outline-style:dotted}}:host(.carousel__view-recycle-out),.carousel__view-recycle-out{z-index:90;overflow:hidden auto;block-size:100%;inline-size:100%}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-recycle-out),.carousel__view-recycle-out{animation:active-to-out .24s cubic-bezier(.5,0,.1,1) forwards}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-recycle-out),.carousel__view-recycle-out{animation:none;transition:none}}:host(.carousel__view-recycle-out:focus),.carousel__view-recycle-out:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-recycle-out:focus),.carousel__view-recycle-out:focus{outline-style:dotted}}.c4p--coachmark__next--coachmark-content{position:fixed;inline-size:18rem;margin-inline-start:18px;transform:translateY(100%);transition:transform .24s cubic-bezier(.2,0,1,.9);visibility:visible}.c4p--coachmark__next--coachmark-content.is-visible{transform:translateY(35%);visibility:visible}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body{display:flex;flex-direction:column}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body>h2{font-size:var(--cds-productive-heading-02-font-size, 1rem);font-weight:var(--cds-productive-heading-02-font-weight, 600);line-height:var(--cds-productive-heading-02-line-height, 1.375);letter-spacing:var(--cds-productive-heading-02-letter-spacing, 0);margin:0 0 .5rem}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body>p{font-size:var(--cds-body-long-01-font-size, .875rem);font-weight:var(--cds-body-long-01-font-weight, 400);line-height:var(--cds-body-long-01-line-height, 1.42857);letter-spacing:var(--cds-body-long-01-letter-spacing, .16px)}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body>button{display:flex;align-self:flex-end;margin-block-start:1rem}.exampleCarouselWrapper{block-size:100px;margin-inline-end:1rem}.carousel__view>h2{font-size:var(--cds-productive-heading-02-font-size, 1rem);font-weight:var(--cds-productive-heading-02-font-weight, 600);line-height:var(--cds-productive-heading-02-line-height, 1.375);letter-spacing:var(--cds-productive-heading-02-letter-spacing, 0);margin:0 0 .5rem}.carousel__view>p{font-size:var(--cds-body-long-01-font-size, .875rem);font-weight:var(--cds-body-long-01-font-weight, 400);line-height:var(--cds-body-long-01-line-height, 1.42857);letter-spacing:var(--cds-body-long-01-letter-spacing, .16px)}.carouselControls{position:relative}.carouselControls .nextButton,.carouselControls .prevButton{position:absolute;inset-inline-start:2rem}.cds--content-switcher{inline-size:20rem;margin-block:3rem;margin-inline:2rem}.carouselControlWrapper__footer span{justify-self:flex-start;margin-inline-end:auto}.carouselControlWrapper__footer{display:flex;align-items:center;justify-content:flex-end}.carouselControlWrapper--controls-progress{justify-self:flex-start;margin-inline-end:auto;font-size:var(--cds-helper-text-01-font-size, .75rem);line-height:var(--cds-helper-text-01-line-height, 1.33333);letter-spacing:var(--cds-helper-text-01-letter-spacing, .32px)}";function b(o){const e={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...k(),...o.components};return t.jsxs(t.Fragment,{children:[t.jsx(e.h1,{id:"coachmarkfixed",children:"CoachmarkFixed"}),`
`,t.jsx(e.h2,{id:"table-of-contents",children:"Table of Contents"}),`
`,t.jsxs(e.ul,{children:[`
`,t.jsx(e.li,{children:t.jsx(e.a,{href:"#overview",children:"Overview"})}),`
`,t.jsx(e.li,{children:t.jsx(e.a,{href:"#example-usage",children:"Example usage"})}),`
`]}),`
`,t.jsx(e.h2,{id:"overview",children:"Overview"}),`
`,t.jsx(e.p,{children:`The CoachmarkFixed pattern acts as a container element for onboarding and should
only be used within the scope of a Coachmark.`}),`
`,t.jsx(e.p,{children:"To build this pattern, we recommend including the following components:"}),`
`,t.jsxs(e.ul,{children:[`
`,t.jsx(e.li,{children:t.jsx(e.a,{href:"https://carbon-for-ibm-products.netlify.app/?path=/docs/experimental-onboarding-coachmark-next--overview",rel:"nofollow",children:"Coachmark"})}),`
`,t.jsx(e.li,{children:t.jsx(e.a,{href:"https://web-components.carbondesignsystem.com/?path=/docs/components-button",rel:"nofollow",children:"cds-button"})}),`
`,t.jsx(e.li,{children:"Carousel utility"}),`
`]}),`
`,t.jsx(e.h2,{id:"example-usage",children:"Example usage"}),`
`,`
`,t.jsx(N,{className:"coachmarkExample",withSource:"none",children:t.jsx("div",{className:"CoachmarkBaseExampleUsage",children:t.jsx(O,{of:d})})})]})}function D(o={}){const{wrapper:e}={...k(),...o.components};return e?t.jsx(e,{...o,children:t.jsx(b,{...o})}):b(o)}const te={title:"Patterns/Coachmark Fixed",component:()=>{},tags:["autodocs"],parameters:{styles:R,docs:{page:D}}};function F(){const[o,e]=s.useState(()=>document.documentElement.getAttribute("data-carbon-theme"));return s.useEffect(()=>{const a=document.documentElement,u=()=>{const l=a.getAttribute("data-carbon-theme");e(r=>r!==l?l:r)},m=new MutationObserver(l=>{for(const r of l)r.type==="attributes"&&r.attributeName==="data-carbon-theme"&&u()});m.observe(a,{attributes:!0,attributeFilter:["data-carbon-theme"]});const f=setInterval(u,200);return()=>{m.disconnect(),clearInterval(f)}},[]),o}const X=o=>{const e=F(),[a,u]=s.useState(!0),[m,f]=s.useState(-1),[l,r]=s.useState(-1),[C,x]=s.useState(!1),h=s.useRef(null),c=s.useRef(null),_=s.useRef(null),g=[{id:1,title:"Hello World",text:"Link opens in new tab.",button:i.createElement(w,{href:"https://www.ibm.com",target:"_blank"}," ","Learn more")},{id:2,title:"Hello World 2",text:"Link opens on this page.",button:i.createElement(w,{href:"https://www.ibm.com"},"Learn more")}];s.useEffect(()=>{x(a)},[a]);const z=()=>{u(!1),x(!1),c.current.reset()};s.useLayoutEffect(()=>{setTimeout(()=>_.current?.focus(),0)},[a]);const I=()=>{u(n=>!n)};s.useEffect(()=>{h&&h.current&&(c.current=W(h.current,{onViewChangeStart:E,onViewChangeEnd:V}))},[c,a]);const E=()=>{},V=n=>{j(n)},j=s.useCallback(({currentIndex:n,lastIndex:p})=>{console.log(n,p),f(n),r(p)},[]),T=()=>{c.current.next()},L=()=>{c.current.prev()};return i.createElement(S,{theme:e},i.createElement(y,{open:a,onClose:z,align:"top",...o},i.createElement(B,{title:"Why are there two types of severity scores?",closeIconDescription:"Close",isOpen:a,buttonProps:{onClick:I,id:"CoachmarkTagline"}}),i.createElement(y.Content,{className:C&&"is-visible",highContrast:!0},i.createElement(y.Content.Header,{closeIconDescription:"Close"}),i.createElement(y.Content.Body,null,i.createElement("div",{ref:h,className:"exampleCarouselWrapper"},g.map(n=>i.createElement("div",{key:n.id},i.createElement("h2",null,n.title),i.createElement("p",null,n.text),i.createElement("br",null),i.createElement("p",null,n.button)))),i.createElement("div",{className:"carouselControlWrapper__footer"},i.createElement("div",{className:"carouselControlWrapper--controls-progress"},g.map((n,p)=>{if(c.current?.getActiveItem?.()?.index===p)return i.createElement("span",{key:n.id},`${c.current?.getActiveItem?.()?.index+1} / ${g.length}`)})),i.createElement("div",{className:"carouselControlWrapper--buttons"},m!==0&&i.createElement(v,{size:"sm",iconDescription:"Previous",kind:"ghost",onClick:L},"Back"),l!==m?i.createElement(v,{ref:_,size:"sm",iconDescription:"Next",onClick:T},"Next"):i.createElement(v,{size:"sm",onClick:z},"Done")))))))},d=X.bind({});d.args={};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`args => {
  const carbonTheme = useCarbonTheme();
  const [isOpen, setIsOpen] = useState(true);
  const [currentViewIndex, setCurrentViewIndex] = useState(-1);
  const [lastViewIndex, setLastViewIndex] = useState(-1);
  const [fixedIsVisible, setFixedIsVisible] = useState(false);

  //prettier-ignore
  const carouselContainerRef = useRef<HTMLDivElement>(null);
  //prettier-ignore
  const carouselInit = useRef<InitCarousel>(null);
  //prettier-ignore
  const nextRef = useRef<HTMLButtonElement>(null);
  const items = [{
    id: 1,
    title: 'Hello World',
    text: 'Link opens in new tab.',
    button: <CarbonLink href="https://www.ibm.com" target="_blank">
          {' '}
          Learn more
        </CarbonLink>
  }, {
    id: 2,
    title: 'Hello World 2',
    text: 'Link opens on this page.',
    button: <CarbonLink href="https://www.ibm.com">Learn more</CarbonLink>
  }];
  useEffect(() => {
    setFixedIsVisible(isOpen);
  }, [isOpen]);
  const handleClose = () => {
    setIsOpen(false);
    setFixedIsVisible(false);
    carouselInit.current.reset();
  };
  useLayoutEffect(() => {
    setTimeout(() => nextRef.current?.focus(), 0);
  }, [isOpen]);
  const handleTaglineClick = () => {
    setIsOpen(isOpen => !isOpen);
  };
  useEffect(() => {
    if (carouselContainerRef && carouselContainerRef.current) {
      carouselInit.current = initCarousel(carouselContainerRef.current, {
        onViewChangeStart: onViewChangeStart,
        onViewChangeEnd: onViewChangeEnd
      });
    }
  }, [carouselInit, isOpen]);
  const onViewChangeStart = () => {};
  const onViewChangeEnd = options => {
    handleViewStackUpdate(options);
  };
  const handleViewStackUpdate = useCallback(({
    currentIndex,
    lastIndex
  }) => {
    console.log(currentIndex, lastIndex);
    setCurrentViewIndex(currentIndex);
    setLastViewIndex(lastIndex);
  }, []);
  const onNext = () => {
    carouselInit.current.next();
  };
  const onPrev = () => {
    carouselInit.current.prev();
  };
  return <Theme theme={carbonTheme}>
      <Coachmark open={isOpen} onClose={handleClose} align="top" {...args}>
        <CoachmarkTagline title="Why are there two types of severity scores?" closeIconDescription="Close" isOpen={isOpen} buttonProps={{
        onClick: handleTaglineClick,
        id: 'CoachmarkTagline'
      }}></CoachmarkTagline>
        <Coachmark.Content className={fixedIsVisible && \`is-visible\`} highContrast={true}>
          <Coachmark.Content.Header closeIconDescription="Close"></Coachmark.Content.Header>
          <Coachmark.Content.Body>
            <div ref={carouselContainerRef} className="exampleCarouselWrapper">
              {items.map(item => <div key={item.id}>
                  <h2>{item.title}</h2>
                  <p>{item.text}</p>
                  <br></br>
                  <p>{item.button}</p>
                </div>)}
            </div>

            <div className={'carouselControlWrapper__footer'}>
              <div className={'carouselControlWrapper--controls-progress'}>
                {items.map((item, index) => {
                if (carouselInit.current?.getActiveItem?.()?.index === index) return <span key={item.id}>
                        {\`\${carouselInit.current?.getActiveItem?.()?.index + 1} / \${items.length}\`}
                      </span>;
              })}
              </div>
              <div className={'carouselControlWrapper--buttons'}>
                {currentViewIndex !== 0 && <Button size="sm" iconDescription="Previous" kind="ghost" onClick={onPrev}>
                    Back
                  </Button>}

                {lastViewIndex !== currentViewIndex ? <Button ref={nextRef} size="sm" iconDescription="Next" onClick={onNext}>
                    Next
                  </Button> : <Button size="sm" onClick={handleClose}>
                    Done
                  </Button>}
              </div>
            </div>
          </Coachmark.Content.Body>
        </Coachmark.Content>
      </Coachmark>
    </Theme>;
}`,...d.parameters?.docs?.source}}};const ie=["CoachmarkFixed"];export{d as CoachmarkFixed,ie as __namedExportsOrder,te as default};
