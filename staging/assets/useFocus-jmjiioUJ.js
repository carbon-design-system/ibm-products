import{b as D}from"./index-CXyjPnaX.js";import{p as x}from"./settings-iwZeeh4T.js";import{r as h}from"./index-CPiZ6Cnx.js";import{w as v}from"./wait-CTNFjQS8.js";const y=(s,e)=>{const n=s==null?void 0:s.querySelector(e);return e&&!(n!=null&&n.disabled)?n:null},I=(s,e)=>{const n=D(),p=`${x.prefix}--tearsheet`,r=`${x.prefix}--side-panel`,i=`:not(.${n}--visually-hidden,.${p}__header--no-close-icon,.${n}--btn--disabled,[aria-hidden="true"],[tabindex="-1"],[disabled])`,q=`button${i}`,w=`input${i}`,f=`select${i}`,g=`textarea${i}`,S=`[href]${i}`,b=`[tabindex="0"]${i}`,k=`.${r}--scrolls`,$=`${q},${S},${w},${f},${g},${b},${k}`,o=s==null?void 0:s.current,c=h.useCallback(()=>{let t=o==null?void 0:o.querySelectorAll(`${$}`);t!=null&&t.length&&(t=Array.prototype.filter.call(t,A=>{var d;return((d=window==null?void 0:window.getComputedStyle(A))==null?void 0:d.display)!=="none"}));const u=t==null?void 0:t[0],a=t==null?void 0:t[(t==null?void 0:t.length)-1],l=t,T=y(o,e);return{first:u,last:a,all:l,specified:T}},[o,$,e]);h.useEffect(()=>{c()},[c]);const C=async t=>{if(t.key==="Tab"){const{first:u,last:a,all:l}=c();await v(1),t.shiftKey&&!Array.prototype.includes.call(l,document==null?void 0:document.activeElement)?(t.preventDefault(),a==null||a.focus()):Array.prototype.includes.call(l,document==null?void 0:document.activeElement)||(t.preventDefault(),u==null||u.focus())}};return{firstElement:c().first,lastElement:c().last,allElements:c().all,specifiedElement:c().specified,keyDownListener:C,getFocusable:c}},P=(s,e,n=void 0)=>{var p;if(n&&y(e==null?void 0:e.current,n)){const r=y(e==null?void 0:e.current,n);r&&((p=window==null?void 0:window.getComputedStyle(r))==null?void 0:p.display)!=="none"&&setTimeout(()=>r.focus(),0)}else setTimeout(()=>s==null?void 0:s.focus(),0)};export{P as c,y as g,I as u};
