{"version":3,"file":"EditInPlace.stories-D9QJRk_-.js","sources":["../../src/components/EditInPlace/EditInPlace.stories.jsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2022, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState } from 'react';\nimport { action } from 'storybook/actions';\nimport { EditInPlace } from '.';\nimport { DisplayBox } from '../../global/js/utils/DisplayBox';\n// import mdx from './EditInPlace.mdx';\nimport styles from './_storybook-styles.scss?inline';\nimport { StoryDocsPage } from '../../global/js/utils/StoryDocsPage';\n\nconst storyClass = 'edit-in-place-example';\n\nconst tooltipAlignmentOptions = {\n  'Default / undefined': undefined,\n  'All top': 'top',\n  'All top-left': 'top-left',\n  'All top-right': 'top-right',\n  'All bottom': 'bottom',\n  'All bottom-left': 'bottom-left',\n  'All bottom-right': 'bottom-right',\n  'All left': 'left',\n  'All right': 'right',\n  'Edit and save right, cancel left': {\n    edit: 'right',\n    cancel: 'left',\n    save: 'right',\n  },\n};\n\nexport default {\n  title: 'Components/EditInPlace',\n  component: EditInPlace,\n  tags: ['autodocs'],\n  argTypes: {\n    containerWidth: {\n      control: { type: 'range', min: 20, max: 800, step: 10 },\n      description:\n        'Controls containing element width. Used for demonstration purposes, not property of the component.',\n    },\n    tooltipAlignment: {\n      control: {\n        type: 'select',\n        labels: Object.keys(tooltipAlignmentOptions),\n      },\n      options: Object.values(tooltipAlignmentOptions).map((_k, i) => i),\n      mapping: Object.values(tooltipAlignmentOptions),\n    },\n  },\n  parameters: {\n    styles,\n    docs: {\n      page: () => (\n        <StoryDocsPage altGuidelinesHref=\"https://pages.github.ibm.com/carbon/ibm-products/patterns/edit-and-update/usage/#inline-edit\" />\n      ),\n    },\n  },\n  decorators: [\n    (story) => (\n      <DisplayBox className={`${storyClass}__viewport`}>{story()}</DisplayBox>\n    ),\n  ],\n};\n\nconst actionSave = action('save');\nconst actionChange = action('change');\nconst actionCancel = action('cancel');\nconst actionBlur = action('blur');\n\nconst defaultProps = {\n  cancelLabel: 'Cancel',\n  containerWidth: 300,\n  editLabel: 'Edit',\n  id: 'story-id',\n  invalid: false,\n  invalidText: 'This field is required',\n  labelText: 'Label text',\n  onCancel: () => {},\n  onChange: () => {},\n  onSave: () => {},\n  onBlur: () => {},\n  // readOnly: false,\n  // readOnlyLabel: 'This value is read only',\n  saveLabel: 'Save',\n  value: 'default',\n  placeholder: 'placeholder text',\n};\n\nconst Template = ({ containerWidth, ...args }) => {\n  const [value, setValue] = useState(defaultProps.value);\n\n  const onChange = (val) => {\n    setValue(val);\n    actionChange(val);\n  };\n\n  const onSave = () => {\n    actionSave(value);\n  };\n\n  const onCancel = (initialVal) => {\n    setValue(initialVal);\n    actionCancel(initialVal);\n  };\n\n  const props = {\n    ...args,\n    value,\n    onChange,\n    onSave,\n    onCancel,\n  };\n\n  return (\n    <div style={{ width: containerWidth }}>\n      <EditInPlace {...props} className=\"edit-in-place-example\" />\n    </div>\n  );\n};\n\nconst TemplateBlur = ({ containerWidth, ...args }) => {\n  const [value, setValue] = useState(defaultProps.value);\n\n  const onChange = (val) => {\n    setValue(val);\n    actionChange(val);\n  };\n\n  const onSave = () => {\n    actionSave(value);\n  };\n\n  const onCancel = (initialVal) => {\n    setValue(initialVal);\n    actionCancel(initialVal);\n  };\n\n  const onBlur = (initialVal) => {\n    const shouldSaveValue = false;\n    if (shouldSaveValue) {\n      actionSave(value);\n    } else {\n      setValue(initialVal);\n      actionCancel(initialVal);\n    }\n    actionBlur(initialVal);\n  };\n\n  const props = {\n    ...args,\n    value,\n    onChange,\n    onSave,\n    onCancel,\n    onBlur,\n  };\n\n  return (\n    <div style={{ width: containerWidth }}>\n      <EditInPlace {...props} className=\"edit-in-place-example\" />\n    </div>\n  );\n};\n\nexport const Default = Template.bind({});\nDefault.args = {\n  ...defaultProps,\n};\n\nexport const Invalid = Template.bind({});\nInvalid.args = {\n  ...defaultProps,\n  invalid: true,\n};\n\nexport const CustomBlurFunction = TemplateBlur.bind({});\nCustomBlurFunction.args = {\n  ...defaultProps,\n};\n\n// export const ReadOnly = Template.bind({});\n//   ReadOnly.args = {\n//     ...defaultProps,\n//     readOnly: true,\n//   };\n"],"names":["action","storyClass","tooltipAlignmentOptions","undefined","edit","cancel","save","EditInPlace_stories","title","component","EditInPlace","tags","argTypes","containerWidth","control","type","min","max","step","description","tooltipAlignment","labels","Object","keys","options","values","map","_k","i","mapping","parameters","styles","docs","page","React","StoryDocsPage","decorators","story","DisplayBox","actionSave","actionChange","actionCancel","actionBlur","defaultProps","cancelLabel","editLabel","id","invalid","invalidText","labelText","onCancel","onChange","onSave","onBlur","saveLabel","value","placeholder","Template","args","setValue","useState","props","val","initialVal","width","TemplateBlur","Default","bind","Invalid","CustomBlurFunction","source","originalSource"],"mappings":"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"}