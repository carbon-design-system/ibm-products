import{e as t,p as j,B as Z,m as St,r as f,P as e,c as ae,x as vt,y as Et,aI as $t,Q as Qe,L as Nt,V as It,N as kt}from"./iframe-DKsKIeO_.js";import{T as Be}from"./Tag-ByT5Z9aM.js";import{A as Ct,a as At}from"./AccordionItem--x4dxrtI.js";import{N as Bt}from"./NoDataEmptyState-XVEeo0Bq.js";import{B as Ft,a as Pt}from"./BreadcrumbItem-C0B-YysJ.js";import{D as Je}from"./Dropdown-mBk2AehQ.js";import{M as Dt}from"./MultiSelect-oe5NxaTz.js";import{L as We}from"./index-CDQbx0x2.js";import{U as _t}from"./UserProfileImage-1QB3TEH2.js";import{R as wt,a as xt}from"./bucket-14-D4sfvfzO.js";import{l as Rt}from"./bucket-19-CjGrDCAa.js";import{C as Ge}from"./Checkbox-CVRUThck.js";import{S as Xe}from"./Search-B5qeZUes.js";import{M as Ot}from"./MenuItem-C7wXSQ0S.js";import{O as Lt}from"./index-Ca_0obo9.js";import{d as jt}from"./bucket-1-CTMMvGsV.js";import{u as ke}from"./useId-DN3dyYk2.js";import{F as Ye}from"./bucket-6-BDZoIsJJ.js";import{B as Mt}from"./ButtonSet-B47ramhY.js";import{D as zt}from"./DismissibleTag-BIVmDsJ-.js";import{N as Ht}from"./NotFoundEmptyState-DCarVAL4.js";import{T as Vt}from"./Tearsheet-CYYyLBbn.js";import{T as Kt}from"./TearsheetNarrow-C2XT-l8A.js";const Y=`${j.prefix}--add-select__meta-panel`,Gt="AddSelectMetaPanel";let ye=({closeIconDescription:n,meta:i,setDisplayMetaPanel:s,title:o})=>{const r=()=>{s({})};return t.createElement("div",{className:Y},t.createElement("div",{className:`${Y}-header`},t.createElement("p",{className:`${Y}-title`},o),t.createElement(Z,{renderIcon:l=>t.createElement(St,{size:16,...l}),className:`${Y}-close`,iconDescription:n,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:r,kind:"ghost",size:"sm"})),f.isValidElement(i)?i:i.map(l=>t.createElement("div",{key:l?.id,className:`${Y}-entry`},t.createElement("p",{className:`${Y}-entry-title`},l?.title),t.createElement("p",{className:`${Y}-entry-body`},l?.value))))};ye.propTypes={closeIconDescription:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]).isRequired,setDisplayMetaPanel:e.func.isRequired,title:e.string.isRequired};ye.displayName=Gt;ye.__docgenInfo={description:"",methods:[],displayName:"AddSelectMetaPanel",props:{closeIconDescription:{description:"",type:{name:"string"},required:!0},meta:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}]},required:!0},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!0},title:{description:"",type:{name:"string"},required:!0}}};const w=`${j.prefix}--add-select__sidebar`,Ut="AddSelectSidebar";let ge=({appliedModifiers:n,closeIconDescription:i,displayMetalPanel:s,illustrationTheme:o,influencerTitle:r,items:l,metaPanelTitle:a,modifiers:d,multiSelection:c,noSelectionDescription:y,noSelectionTitle:u,setDisplayMetaPanel:g})=>{const S=d?.options?.length>0,E=c.length>0,C=b=>{const{meta:h,icon:I,avatar:A,...B}=b;return B},N=c.map(b=>{if(Array.isArray(l)){const h=l.find(I=>I.id===b);return C(h)}return C(l[b])}),P=b=>{let h;if(S){const I=n?.find(A=>A?.id===b?.id)[d?.id];h=I,Array.isArray(I)&&(h=I?.map((A,B)=>`${A}${B+1!==I.length?", ":""}`))}return t.createElement("div",{className:`${w}-accordion-title`},t.createElement("div",{className:`${w}-selected-item`},t.createElement("p",{className:`${w}-selected-item-title`},b.title),t.createElement("p",{className:`${w}-selected-item-subtitle`},b.subtitle)),S&&t.createElement("div",null,h))};return Object.keys(s).length!==0?t.createElement(ye,{closeIconDescription:i,meta:s.meta,setDisplayMetaPanel:g,title:a}):t.createElement("div",{className:w},t.createElement("div",{className:`${w}-header`},t.createElement("p",{className:`${w}-title`},r),t.createElement(Be,{type:"gray",size:"sm"},c.length)),E?t.createElement(Ct,{align:"start"},N.map(b=>t.createElement(At,{title:P(b),key:b.id},Object.keys(b).map(h=>t.createElement("div",{className:`${w}-item`,key:h},t.createElement("p",{className:`${w}-item-header`},h),t.createElement("p",{className:`${w}-item-body`},b[h])))))):t.createElement("div",{className:`${w}-body`},t.createElement(Bt,{subtitle:y,title:u,size:"sm",illustrationTheme:o})))};ge.propTypes={appliedModifiers:e.array,closeIconDescription:e.string,displayMetalPanel:e.object,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.oneOfType([e.object,e.array]),metaPanelTitle:e.string,modifiers:e.object,multiSelection:e.array,noSelectionDescription:e.string,noSelectionTitle:e.string,setDisplayMetaPanel:e.func};ge.displayName=Ut;ge.__docgenInfo={description:"",methods:[],displayName:"AddSelectSidebar",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},closeIconDescription:{description:"",type:{name:"string"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},illustrationTheme:{description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},influencerTitle:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"union",value:[{name:"object"},{name:"array"}]},required:!1},metaPanelTitle:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},noSelectionDescription:{description:"",type:{name:"string"},required:!1},noSelectionTitle:{description:"",type:{name:"string"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1}}};const Ue=`${j.prefix}--add-select__breadcrumbs`,Qt="AddSelectBreadcrumbs";let be=({multi:n,onClick:i,path:s})=>{const o=(l,a)=>{l.preventDefault(),i(a)},r=ae(Ue,{[`${Ue}-multi`]:n});return t.createElement(Ft,{noTrailingSlash:!0,className:r},s.map((l,a)=>{const d=a===s.length-1;return t.createElement(Pt,{key:l.id,isCurrentPage:d,onClick:c=>o(c,a),href:"#"},l.title)}))};be.propTypes={multi:e.bool,onClick:e.func,path:e.array};be.displayName=Qt;be.__docgenInfo={description:"",methods:[],displayName:"AddSelectBreadcrumbs",props:{multi:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},path:{description:"",type:{name:"array"},required:!1}}};const Jt="AddSelectFormControl",U=`${j.prefix}--add-select__selections`;let ce=({item:n,onClick:i,selected:s,type:o})=>{const r={onClick:i,className:`${U}-form-control-wrapper ${U}-form-control-wrapper--${o}`,size:20,"aria-labelledby":`control-label-${n.id}`},l=()=>s?t.createElement(vt,{...r}):t.createElement(Et,{...r}),a=()=>s?t.createElement(wt,{...r}):t.createElement(xt,{...r}),d=()=>{if(n)return o==="checkbox"?l():a()},c=({src:u,alt:g,icon:S,backgroundColor:E,theme:C})=>({className:`${U}-cell-avatar`,size:"lg",theme:C,image:u,imageDescription:g,icon:S,backgroundColor:E}),y=({icon:u})=>t.createElement(u,null);return t.createElement("div",{className:`${U}-form-control`},d(),t.createElement("div",{className:`${U}-form-control-label-wrapper`},n.avatar&&t.createElement(_t,{...c(n.avatar)}),n.icon&&t.createElement("div",{className:`${U}-cell-icon`},y(n)),t.createElement("div",{className:`${U}-form-control-label-text`},t.createElement("span",{className:`${U}-cell-title`,id:`control-label-${n.id}`},n.title),n.subtitle&&t.createElement("span",{className:`${U}-cell-subtitle`},n.subtitle))))};ce.propTypes={item:e.object,onClick:e.func,selected:e.bool,type:e.oneOf(["checkbox","radio"])};ce.displayName=Jt;ce.__docgenInfo={description:"",methods:[],displayName:"AddSelectFormControl",props:{item:{description:"",type:{name:"object"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},selected:{description:"",type:{name:"bool"},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'checkbox'",computed:!1},{value:"'radio'",computed:!1}]},required:!1}}};const R=`${j.prefix}--add-select__selections`,Wt="AddSelectList";let he=({appliedModifiers:n,displayMetalPanel:i,index:s,focus:o,item:r,metaIconDescription:l,modifiers:a,multi:d,multiSelection:c,navIconDescription:y,parentId:u,parentSelected:g,setAppliedModifiers:S,setDisplayMetaPanel:E,setFocus:C,setMultiSelection:N,setParentSelected:P,setSingleSelection:b,setSize:h,singleSelection:I})=>{const A=f.useRef(null);f.useEffect(()=>{o===s&&A.current.focus()},[o,s]);const B=()=>d?c.includes(r.id):r.id===I,T=()=>s===0&&o===""||o===s&&o!==""?0:-1,M=f.useCallback(q=>{C(q?"":s)},[C,s]),D=()=>{b(r.id)},Q=({key:q})=>{q==="Enter"||q===" "?d?F():D():q==="ArrowRight"&&r.children&&z()},F=()=>{if(B()){const V=c.filter(x=>x!==r.id);N(V)}else{const V=[...c,r.id];N(V)}},z=()=>{M(!0),P(r.id,r.title,u)},H=(q,V)=>{const x=[...n],K=x.findIndex(re=>re.id===q);x[K]={id:q,[a.id]:V},S(x)},p=()=>{r.meta&&E(r)},$=q=>q===i?.id,le=a?.options?.length>0,X=T(),J=B(),ee=g===r.id,te={id:`add-select-modifier-${r.id}`,titleText:a?.title,type:"inline",disabled:!B(),label:a?.label,items:a?.options};return t.createElement("div",{className:ae(`${R}-row`,{[`${R}-row--selected`]:B(),[`${R}-row-meta--selected`]:$(r.id),[`${R}-row--active`]:ee,[`${R}-row--focused`]:o===s}),onKeyDown:Q,tabIndex:X,ref:A,role:"row","aria-selected":J,"aria-posinset":s+1,"aria-setsize":h,"aria-expanded":ee},t.createElement("div",{className:`${R}-cell`,role:"gridcell"},t.createElement("div",{className:`${R}-cell-wrapper`},d?t.createElement(t.Fragment,null,t.createElement(ce,{type:"checkbox",item:r,selected:J,onClick:F}),le&&t.createElement(We,null,a?.multiSelect?t.createElement(Dt,{...te,initialSelectedItems:r[a.id],onChange:({selectedItems:q})=>H(r.id,q)}):t.createElement(Je,{...te,className:`${R}-dropdown`,initialSelectedItem:r[a.id],onChange:({selectedItem:q})=>H(r.id,q)}))):t.createElement(ce,{type:"radio",item:r,selected:J,onClick:D}),r.children&&t.createElement(Z,{className:`${R}-view-children`,renderIcon:q=>t.createElement($t,{size:16,...q}),iconDescription:y,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:z,kind:"ghost",size:"sm",tabIndex:-1,"aria-hidden":!0}),r.meta&&t.createElement(Z,{className:`${R}-view-meta`,renderIcon:q=>t.createElement(Rt,{size:16,...q}),iconDescription:l,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,kind:"ghost",size:"sm",onClick:p}))))};he.propTypes={appliedModifiers:e.array,displayMetalPanel:e.object,filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),index:e.number,item:e.object,metaIconDescription:e.string,modifiers:e.object,multi:e.bool,multiSelection:e.array,navIconDescription:e.string,parentId:e.string,parentSelected:e.string,setAppliedModifiers:e.func,setDisplayMetaPanel:e.func,setFocus:e.func,setMultiSelection:e.func,setParentSelected:e.func,setSingleSelection:e.func,setSize:e.number,singleSelection:e.string};he.displayName=Wt;he.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},index:{description:"",type:{name:"number"},required:!1},item:{description:"",type:{name:"object"},required:!1},metaIconDescription:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},navIconDescription:{description:"",type:{name:"string"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},parentSelected:{description:"",type:{name:"string"},required:!1},setAppliedModifiers:{description:"",type:{name:"func"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1},setFocus:{description:"",type:{name:"func"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setParentSelected:{description:"",type:{name:"func"},required:!1},setSingleSelection:{description:"",type:{name:"func"},required:!1},setSize:{description:"",type:{name:"number"},required:!1},singleSelection:{description:"",type:{name:"string"},required:!1}}};const Xt=n=>{const[i,s]=f.useState(""),o=f.useCallback(r=>{const l=i===""?0:i;r.keyCode===40?(r.preventDefault(),s(l===n-1?0:l+1)):r.keyCode===38&&(r.preventDefault(),s(l===0?n-1:l-1))},[n,i,s]);return f.useEffect(()=>{const r=document.querySelector("#add-select-focus");return r.addEventListener("keydown",o,!1),()=>{r.removeEventListener("keydown",o,!1)}},[o]),[i,s]},fe=`${j.prefix}--add-select__selections`,Yt="AddSelectList";let de=({filteredItems:n,multi:i,...s})=>{const[o,r]=Xt(n.length);return t.createElement("div",{id:"add-select-focus",className:ae(`${fe}-wrapper`,{[`${fe}-wrapper-multi`]:i})},t.createElement("div",{className:`${fe}`},t.createElement("div",{className:`${fe}-body`,role:"treegrid","aria-label":"add select tree label"},n.map((l,a)=>t.createElement(he,{key:l.id,index:a,focus:o,setSize:n.length,item:l,multi:i,setFocus:r,...s})))))};de.propTypes={filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),multi:e.bool};de.displayName=Yt;de.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},multi:{description:"",type:{name:"bool"},required:!1}}};const Ce=`${j.prefix}--add-select-sort`,Zt="AddSelectSort",me=({setSortAttribute:n,setSortDirection:i,sortBy:s,sortByLabel:o})=>{const r=s?s?.reduce((a,d)=>{const c=[{id:`${d}-asc`,label:d,direction:"asc",attribute:d},{id:`${d}-desc`,label:d,direction:"desc",attribute:d}];return[...a,...c]},[]):[],l=({direction:a,attribute:d})=>{n?.(d),i?.(a)};return t.createElement("div",{className:Ce},r.length>0&&t.createElement(Qe,{enableV12Overflowmenu:!0},t.createElement(Lt,{autoAlign:!0,menuAlignment:"bottom-end",renderIcon:a=>t.createElement(jt,{size:32,...a}),className:`${Ce}_overflow`,label:o},r.map(a=>t.createElement(Ot,{className:`${Ce}_overflow-item`,key:a?.id,label:`${a?.label} ${a?.direction}`,onClick:()=>l(a)})))))};me.propTypes={setSortAttribute:e.func,setSortDirection:e.func,sortBy:e.array,sortByLabel:e.string};me.displayName=Zt;me.__docgenInfo={description:"",methods:[],displayName:"AddSelectSort",props:{setSortAttribute:{required:!1,tsType:{name:"signature",type:"function",raw:"(attribute) => void",signature:{arguments:[{name:"attribute"}],return:{name:"void"}}},description:"",type:{name:"func"}},setSortDirection:{required:!1,tsType:{name:"signature",type:"function",raw:"(direction) => void",signature:{arguments:[{name:"direction"}],return:{name:"void"}}},description:"",type:{name:"func"}},sortBy:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:"",type:{name:"array"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}}}};const Ze=n=>n.entries.reduce((s,o)=>{const{children:r,...l}=o;if(s[l.id]=l,r){const a=Ze(r);return{...s,...a}}return s},{}),er=(n,i)=>{const s=Object.keys(i);return n.reduce((r,l)=>{const a=l.id,d=s.reduce((c,y)=>{const g=i[y][a];return g&&!c.includes(g)&&c.push(g),c},[]);return r.push({opts:d,...l}),r},[])},et=(n,i)=>(s,o)=>{const r=s[n]?.split(" ").join(""),l=o[n]?.split(" ").join("");return i==="desc"?r>l?-1:1:r<l?-1:1},tr=(n,i,s,o,r,l,a,d,c,y)=>{if(n){const u=Object.keys(i);return s||o?u.reduce((S,E)=>(i[E].title.toLowerCase().includes(s.toLowerCase())&&S.push(i[E]),S),[]).filter(S=>r.every(E=>S[E]===l[E])).sort(a):d?c:y.length>1?y.reduce((g,S,E)=>E===0?g:g.find(N=>N.id===S.id)?.children?.entries,c.entries):c.entries}else return s?c.entries.filter(u=>u.title.toLowerCase().includes(s.toLowerCase())):c.entries},tt=()=>{const[n,i]=f.useState(""),[s,o]=f.useState("");return{sortDirection:n,setSortDirection:i,sortAttribute:s,setSortAttribute:o}},rt=()=>{const[n,i]=f.useState(null);return{parentSelected:n,setParentSelected:i}},Ae=`${j.prefix}--add-select`,ie=`${Ae}__column`,rr="AddSelectColumn";let pe=({columnInputPlaceholder:n,filterByLabel:i,header:s,items:o,multiSelection:r,parentId:l,path:a,setMultiSelection:d,setPath:c,sortByLabel:y,...u})=>{const{parentSelected:g,setParentSelected:S}=rt(),E=ke(),C=ke(),N=ke(),[P,b]=f.useState(""),{sortDirection:h,setSortDirection:I,sortAttribute:A,setSortAttribute:B}=tt(),[T,M]=f.useState(!1),[D,Q]=f.useState([]),{entries:F,filterBy:z,sortBy:H}=o,$=(()=>{const m=a.find(v=>v.parentId===l);return m&&!g?F.find(v=>v.id===m.id):F.find(v=>v.id===g)??null})(),le=$&&a.find(m=>m.id===$.id),X=F.every(m=>r.includes(m.id)),J=z?F.map(m=>m[z]):[],ee=(m,{checked:v})=>{const k=F.map(_=>_.id);if(v){const _=[...new Set([...r,...k])];d(_)}else{const _=r.filter(G=>!k.includes(G));d(_)}},te=(m,v)=>{if(m){const k=[...D,v];Q(k)}else{const k=D.filter(_=>_!==v);Q(k)}},q=m=>m.title.toLowerCase().includes(P),V=m=>{if(D.length===0)return!0;const{filterBy:v}=m,k=m[v];return D.some(_=>_===k)},x=`filter-${C}`,K=et(A,h),re=F.filter(q).filter(V).sort(K),Se=(m,v)=>{S(m),c(m,v,l)};return t.createElement(t.Fragment,null,t.createElement("div",{className:ie},t.createElement("div",{className:`${ie}-search-bar`},t.createElement(Xe,{value:P,onChange:m=>b(m.target.value),placeholder:n,className:`${ie}-input`,id:N,labelText:n,size:"md"}),t.createElement("div",{className:`${ie}-sort-filter`},t.createElement(me,{items:F,setSortAttribute:B,setSortDirection:I,sortAttribute:A,sortDirection:h,sortBy:H,sortByLabel:y}),J.length>0&&t.createElement(Qe,{enableV12DynamicFloatingStyles:!0},t.createElement(Nt,{align:"bottom-right",isTabTip:!0,onKeyDown:m=>{m.key==="Escape"&&(M(!1),m.preventDefault(),m.stopPropagation(),document.querySelector(`#${x}`)?.focus())},onRequestClose:()=>M(!1),open:T},t.createElement(It,{size:"md",id:x,hasIconOnly:!0,"aria-expanded":T,badgeCount:D.length>0?0:void 0,kind:"ghost",label:i||"Filter",onClick:()=>{M(m=>!m)}},t.createElement(Ye,null)),t.createElement(kt,{className:`${ie}-filter-popover`},J.map(m=>t.createElement(Ge,{key:m,id:m,labelText:m,onChange:(v,{checked:k})=>te(k,m),checked:!!D.find(v=>v===m)}))))))),t.createElement("div",{className:`${Ae}__tags`},t.createElement(Ge,{id:`${E}-select-all`,className:`${ie}__select-all`,checked:X,onChange:ee,labelText:t.createElement(t.Fragment,null,t.createElement("span",{className:`${Ae}__tag-label`},s),t.createElement(Be,{type:"gray",size:"sm"},re.length))})),t.createElement(de,{...u,filteredItems:re,setMultiSelection:d,multiSelection:r,setParentSelected:Se,parentSelected:g})),$&&le&&t.createElement(pe,{columnInputPlaceholder:n,header:$.title,items:$.children,multiSelection:r,setMultiSelection:d,parentId:$.id,setPath:c,path:a,sortByLabel:y,filterByLabel:i,...u}))};pe.propTypes={columnInputPlaceholder:e.string,filterByLabel:e.string,header:e.string,items:e.object,multiSelection:e.array,parentId:e.string,path:e.array,setMultiSelection:e.func,setPath:e.func,sortByLabel:e.string};pe.displayName=rr;pe.__docgenInfo={description:"",methods:[],displayName:"AddSelectColumn",props:{columnInputPlaceholder:{description:"",type:{name:"string"},required:!1},filterByLabel:{description:"",type:{name:"string"},required:!1},header:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},path:{description:"",type:{name:"array"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setPath:{description:"",type:{name:"func"},required:!1},sortByLabel:{description:"",type:{name:"string"},required:!1}}};const O=`${j.prefix}--add-select__global-filter`,nr="AddSelectFilter";let qe=({appliedFilters:n,clearFiltersText:i,filterOpts:s,filtersLabel:o,handleFilter:r,handleSearch:l,hasFiltersApplied:a,iconDescription:d,inputLabel:c,inputPlaceholder:y,multi:u,placeholder:g,primaryButtonText:S,searchTerm:E,secondaryButtonText:C})=>{const[N,P]=f.useState({}),[b,h]=f.useState(!1),I=p=>{l(p.target.value)},A=({selectedItem:p},$)=>{P({...N,[$]:p})},B=()=>{h(!1),r(N)},T=()=>{P({})},M=()=>{T(),r({})},D=p=>{const $={...N};delete $[p],P($),r($)},Q=p=>N[p]||"",F=u&&s?.length>0,z=ae(`${O}-toggle`,{[`${O}-toggle--open`]:b}),H=Object.keys(N).length>0;return t.createElement(t.Fragment,null,t.createElement("div",{className:`${O}-search`},t.createElement(Xe,{id:"add-select-global-search-filter",labelText:c,placeholder:y,value:E,onChange:I}),F&&t.createElement(Z,{renderIcon:p=>t.createElement(Ye,{size:16,...p}),hasIconOnly:!0,kind:"ghost",onClick:()=>h(!b),iconDescription:d,className:z,size:"md",tooltipPosition:"left"}),b&&t.createElement(We,{className:O,level:1},t.createElement("div",{className:`${O}-content`},t.createElement("p",null,o),t.createElement("div",{className:`${O}-opts`},s.map(p=>t.createElement(Je,{key:p.id,id:p.id,titleText:p.label,items:p.opts,onChange:$=>A($,p.id),selectedItem:Q(p.id),label:g})))),t.createElement(Mt,{className:`${O}-button-set`},t.createElement(Z,{kind:"secondary",onClick:T,className:`${O}-button`,disabled:!H},C),t.createElement(Z,{kind:"primary",onClick:B,className:`${O}-button`,disabled:!H&&!a},S)))),a&&t.createElement("div",{className:`${O}-applied`},Object.keys(n).map(p=>t.createElement(zt,{key:p,text:`${p}: ${n[p]}`,type:"gray",size:"sm",onClose:()=>D(p)})),t.createElement(Z,{kind:"ghost",size:"sm",onClick:M},i)))};qe.propTypes={appliedFilters:e.object,clearFiltersText:e.string,filterOpts:e.array,filtersLabel:e.string,handleFilter:e.func,handleSearch:e.func,hasFiltersApplied:e.bool,iconDescription:e.string,inputLabel:e.string.isRequired,inputPlaceholder:e.string,multi:e.bool,placeholder:e.string,primaryButtonText:e.string,searchTerm:e.string,secondaryButtonText:e.string};qe.displayName=nr;qe.__docgenInfo={description:"",methods:[],displayName:"AddSelectFilter",props:{appliedFilters:{description:"",type:{name:"object"},required:!1},clearFiltersText:{description:"",type:{name:"string"},required:!1},filterOpts:{description:"",type:{name:"array"},required:!1},filtersLabel:{description:"",type:{name:"string"},required:!1},handleFilter:{description:"",type:{name:"func"},required:!1},handleSearch:{description:"",type:{name:"func"},required:!1},hasFiltersApplied:{description:"",type:{name:"bool"},required:!1},iconDescription:{description:"",type:{name:"string"},required:!1},inputLabel:{description:"",type:{name:"string"},required:!0},inputPlaceholder:{description:"",type:{name:"string"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},primaryButtonText:{description:"",type:{name:"string"},required:!1},searchTerm:{description:"",type:{name:"string"},required:!1},secondaryButtonText:{description:"",type:{name:"string"},required:!1}}};const sr=(n="")=>{const[i,s]=f.useState([{id:"base_of_path",title:n}]);return f.useEffect(()=>{s([{id:"base_of_path",title:n}])},[n]),{path:i,setPath:(a,d,c)=>{if(i.find(u=>u.id===a))return;const y={id:a,title:d,...c&&{parentId:c}};if(i.find(u=>u.parentId===c)){const u=i.findIndex(S=>S.id===c),g=[...i];g.length=u+1,s([...g,y])}else s([...i,y])},pathOnclick:a=>{const d=[...i];d.length=a+1,s([...d])},resetPath:()=>{s([{id:"base_of_path",title:n}])}}},L=`${j.prefix}--add-select`,ir="AddSelectBody",Te=f.forwardRef(({className:n,clearFiltersText:i,closeIconDescription:s,columnInputPlaceholder:o,defaultModifiers:r,description:l,filterByLabel:a,globalFilterOpts:d,globalFiltersLabel:c,globalFiltersIconDescription:y,globalFiltersPlaceholderText:u,globalFiltersPrimaryButtonText:g,globalFiltersSecondaryButtonText:S,globalSearchLabel:E,globalSearchPlaceholder:C,globalSortBy:N,illustrationTheme:P,influencerTitle:b,items:h,itemsLabel:I,metaIconDescription:A,metaPanelTitle:B,multi:T,navIconDescription:M,noResultsDescription:D,noResultsTitle:Q,noSelectionDescription:F,noSelectionTitle:z,noTearsheet:H=!1,normalizedItems:p,onClose:$,onCloseButtonText:le,onSubmit:X,onSubmitButtonText:J,open:ee,portalTarget:te,searchResultsTitle:q,sortByLabel:V,title:x,useNormalizedItems:K,...re},Se)=>{const[m,v]=f.useState(""),[k,_]=f.useState([]),[G,Pe]=f.useState(""),[ve,De]=f.useState({}),[_e,Ee]=f.useState({}),[ne,we]=f.useState(r),{sortDirection:nt,setSortDirection:xe,sortAttribute:st,setSortAttribute:Re}=tt(),{parentSelected:Oe,setParentSelected:Le}=rt(),{path:se,setPath:je,pathOnclick:it,resetPath:at}=sr(I),lt=()=>{v(""),_([]),Pe(""),De({}),Ee({}),we(r),Re(""),xe(""),Le(null),at()},Me=()=>{lt(),$?.()},ot=ae(n,L,{[`${L}__single`]:!T,[`${L}__multi`]:T}),ze=Object.keys(ve),oe=ze.length>0,ct=W=>{Pe(W)},dt=W=>{De(W)},mt=()=>{if(T&&ne&&ne?.length>0){const W=k.map(Ne=>ne.find(Ie=>Ie.id===Ne));X?.(W)}else T&&ne?.length===0?X?.(k):X?.(m);Me()},pt=()=>!(K===!1||G||oe),ut=()=>G?!0:!(K&&T),ft=(W,Ne,Ie)=>{Le(W),je(W,Ne,Ie)},yt=et(st,nt),ue=tr(K,p,G,oe,ze,ve,yt,T,h,se),He=ue.length>0,gt=pt(),bt=(G||oe)&&He,ht=ut(),Ve={displayMetalPanel:_e,metaIconDescription:A,multi:T,multiSelection:k,navIconDescription:M,path:se,setMultiSelection:_,setPath:je,setSingleSelection:v,singleSelection:m,setDisplayMetaPanel:Ee,parentId:se[0].id},Ke={...re,className:ot,open:ee,title:x,description:l,actions:[{label:le,kind:"secondary",onClick:Me},{label:J,kind:"primary",onClick:mt,disabled:T?k.length===0:!m}],portalTarget:te,ref:Se},qt={appliedModifiers:ne,closeIconDescription:s,displayMetalPanel:_e,illustrationTheme:P,influencerTitle:b,items:K?p:h?.entries,metaPanelTitle:B,modifiers:h?.modifiers,multiSelection:k,noSelectionDescription:F,noSelectionTitle:z,setDisplayMetaPanel:Ee},Tt=T&&K&&!G&&!oe,$e=t.createElement(t.Fragment,null,t.createElement("div",{id:"add-select",className:`${L}__header`},t.createElement(qe,{inputLabel:E,inputPlaceholder:C,searchTerm:G,handleSearch:ct,multi:T,filterOpts:d,filtersLabel:c,handleFilter:dt,primaryButtonText:g,secondaryButtonText:S,placeholder:u,iconDescription:y,appliedFilters:ve,hasFiltersApplied:oe,clearFiltersText:i}),t.createElement("div",{className:ae(`${L}__sub-header`,{[`${L}__sub-header-multi`]:T})},t.createElement("div",{className:`${L}__tags`},gt?t.createElement(be,{path:se,onClick:it,multi:T}):t.createElement("p",{className:`${L}__tags-label`},G?q:I),ht&&t.createElement(Be,{type:"gray",size:"sm"},ue.length)),bt&&t.createElement(me,{setSortAttribute:Re,setSortDirection:xe,sortBy:N}))),Tt?t.createElement("div",{className:`${L}__columns`},t.createElement(pe,{...Ve,items:ue,columnInputPlaceholder:o,header:se[0]?.title,filterByLabel:a,sortByLabel:V})):t.createElement("div",null,He?t.createElement(de,{...Ve,filteredItems:ue,modifiers:h?.modifiers,appliedModifiers:ne,setAppliedModifiers:we,setParentSelected:ft,parentSelected:Oe,parentId:Oe||se[0].id}):t.createElement("div",{className:`${L}__body`},t.createElement(Ht,{subtitle:D,title:Q,illustrationTheme:P}))));return H?$e:T?t.createElement(Vt,{...Ke,influencer:T&&t.createElement(ge,{...qt}),influencerPosition:"right"},$e):t.createElement(Kt,{...Ke},$e)});Te.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string,columnInputPlaceholder:e.string,defaultModifiers:e.array,description:e.string,filterByLabel:e.string,globalFilterOpts:e.array,globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array,multiSelect:e.bool}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.oneOfType([e.func,e.object]),src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.oneOfType([e.func,e.object]),id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired}))}),itemsLabel:e.string,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool,navIconDescription:e.string,noResultsDescription:e.string,noResultsTitle:e.string,noSelectionDescription:e.string,noSelectionTitle:e.string,normalizedItems:e.object,onClose:e.func,onCloseButtonText:e.string,onSubmit:e.func,onSubmitButtonText:e.string,open:e.bool,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string,useNormalizedItems:e.bool};Te.displayName=ir;Te.__docgenInfo={description:"",methods:[],displayName:"AddSelectBody",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},defaultModifiers:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},description:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilterOpts:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1},multiSelect:{name:"bool",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!1}}}},itemsLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noTearsheet:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},normalizedItems:{required:!1,tsType:{name:"object"},description:"",type:{name:"object"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onCloseButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection) => void",signature:{arguments:[{name:"selection"}],return:{name:"void"}}},description:"",type:{name:"func"}},onSubmitButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},open:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},useNormalizedItems:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}}}};const ar="AddSelect",Fe=f.forwardRef(({items:n={entries:[]},globalFilters:i,...s},o)=>{const r=!!n.entries.find(c=>c.children),l=r?Ze(n):null,a=s.multi&&i?.length?er(i,l):null,d=s.multi&&n.modifiers?n.entries.map(c=>{const y=n?.modifiers?.id;return{...{id:c.id},...y&&{[y]:c[y]}}}):[];return t.createElement(Te,{...s,ref:o,items:n,normalizedItems:l,useNormalizedItems:r,globalFilterOpts:a,defaultModifiers:d})});Fe.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string.isRequired,columnInputPlaceholder:e.string,description:e.string.isRequired,filterByLabel:e.string,globalFilters:e.arrayOf(e.shape({id:e.string,label:e.string})),globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array,multiSelect:e.bool}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.func,src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.func,id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired})).isRequired}).isRequired,itemsLabel:e.string.isRequired,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool.isRequired,navIconDescription:e.string,noResultsDescription:e.string.isRequired,noResultsTitle:e.string.isRequired,noSelectionDescription:e.string,noSelectionTitle:e.string,onClose:e.func.isRequired,onCloseButtonText:e.string.isRequired,onSubmit:e.func.isRequired,onSubmitButtonText:e.string.isRequired,open:e.bool.isRequired,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string.isRequired};Fe.displayName=ar;Fe.__docgenInfo={description:"",methods:[],displayName:"AddSelect",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},description:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilters:{required:!1,tsType:{name:"Array",elements:[{name:"Filter"}],raw:"Filter[]"},description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",defaultValue:{value:"{ entries: [] }",computed:!1},type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1},multiSelect:{name:"bool",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"func",required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"func",required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!0}}}},itemsLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsTitle:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noTearsheet:{required:!1,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onCloseButtonText:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onSubmitButtonText:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},open:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"portal target for the all tags modal",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}}}};export{Fe as A};
