import{e as i,u as A,c as x,p as C,r as h}from"./iframe-BbTYfv9-.js";import{T as N}from"./TableSelectRow-C79cZLNP.js";import{s as W,S as H,h as L}from"./useDatagrid-CAIaMFvY.js";import{u as O}from"./useIsomorphicEffect-omIe2Oju.js";const f=`${C.prefix}--datagrid`,b=`${C.prefix}--datagrid__checkbox-cell`,j=t=>i.createElement(H,{...t}),v=t=>i.createElement(F,{...t}),K=t=>{D(t);const n=o=>{const{rows:e}=o,c=e.map(s=>({...s,isSelectable:!0}));Object.assign(o,{rows:c})};t.useInstance.push(n),t.useInstance.push(o=>{Object.assign(o,{withSelectRows:!0})}),t.visibleColumns.push(o=>{const e=[...o],c=e.findIndex(r=>r.id==="expander"),s=c>-1?e.splice(c,1):[];return[...c>-1&&s&&s.length?s:[],{id:W,Header:j,Cell:v},...e]})},D=t=>{const n=A(),o=(e,{row:c})=>{const{checked:s}=c.getToggleRowSelectedProps();return[e,{className:x([`${f}__carbon-row`,{[`${n}--data-table--selected`]:s,[`${f}__active-row`]:s}])}]};t.getRowProps.push(o)},F=t=>{const{isFetching:n=!1,tableId:o,row:e,cell:c,radio:s,toggleAllRowsSelected:r,onRadioSelect:a,onRowSelect:d,columns:R,withStickyColumn:P,dispatch:w,getRowId:p}=t,[k,u]=h.useState();O(()=>{u(window.innerWidth);function l(){u(window.innerWidth)}return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const I=n||e.getRowProps().disabled,{onChange:g,title:$,...E}=e.getToggleRowSelectedProps(),m=c.getCellProps(),_=R[0]?.sticky==="left"&&P,S=`${o}-${e.id}-${e.index}`,{key:y,_cellProps:z}=m,T=h.useCallback(l=>{l.stopPropagation(),s&&(r(!1),a&&a(e)),g(l),d?.(e,l),L({dispatch:w,rowData:e,isChecked:l.target.checked,getRowId:p,selectAll:null})},[w,p,g,a,d,s,e,r]);return i.createElement(N,{key:y,...z,...E,radio:s,onSelect:T,id:S,name:`${S}-name`,className:x([b,m.className,{[`${b}-sticky-left`]:_&&Number(k)>671}]),"aria-label":$,disabled:I})};export{K as u};
//# sourceMappingURL=useSelectRows-QkCSNAP9.js.map
