{"version":3,"file":"CoachmarkButton-2pQnnBJ5.js","sources":["../../src/components/Coachmark/utils/hooks.js","../../src/global/js/utils/throttle.ts","../../src/components/Coachmark/Coachmark.tsx","../../src/components/CoachmarkBeacon/CoachmarkBeacon.tsx","../../src/components/CoachmarkButton/CoachmarkButton.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useEffect, useRef } from 'react';\nimport { useIsomorphicEffect } from '../../../global/js/hooks';\nimport { COACHMARK_OVERLAY_KIND } from './enums';\n\n/**\n * Detects when a user clicks outside of the element\n * @param {object} coachmarkRef - The ref to the React element for the Coachmark to detect when the user clicks outside of its bounds.\n * @param {object} overlayRef - The ref to the React element for the CoachmarkOverlay to detect when the user clicks outside of its bounds.\n * @param {string} overlayKind - The overlayKind prop from the Coachmark. @see COACHMARK_OVERLAY_KIND\n * @param {Function} callback The callback to call when the user mouses down.\n */\n\nfunction useClickOutsideElement(\n  coachmarkRef,\n  overlayRef,\n  overlayKind,\n  callback\n) {\n  const cb = useRef(undefined);\n  const isTooltip = overlayKind === COACHMARK_OVERLAY_KIND.TOOLTIP;\n  useIsomorphicEffect(() => {\n    cb.current = callback;\n  }, [callback]);\n  useIsomorphicEffect(() => {\n    function handleClickOutside(event) {\n      const isOverlayOutside =\n        overlayRef.current && !overlayRef.current.contains(event.target);\n      const isOutsideCoachmark =\n        coachmarkRef.current && !coachmarkRef.current.contains(event.target);\n      if (isOverlayOutside && isOutsideCoachmark) {\n        callCallback();\n      }\n    }\n\n    function callCallback() {\n      if (isTooltip) {\n        cb.current();\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [coachmarkRef, overlayRef, isTooltip]);\n}\n\nconst useWindowEvent = (eventName, callback) => {\n  const savedCallback = useRef(null);\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  });\n\n  useEffect(() => {\n    function handler(event) {\n      if (savedCallback.current) {\n        savedCallback.current(event);\n      }\n    }\n\n    window.addEventListener(eventName, handler);\n\n    return () => {\n      window.removeEventListener(eventName, handler);\n    };\n  }, [eventName]);\n};\n\nexport { useClickOutsideElement, useWindowEvent };\n","/**\n * Copyright IBM Corp. 2025, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport const throttle = (fn, delay: number = 100) => {\n  let time = Date.now();\n\n  return () => {\n    if (time + delay - Date.now() <= 0) {\n      fn();\n      time = Date.now();\n    }\n  };\n};\n","/**\n * Copyright IBM Corp. 2023, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, {\n  MutableRefObject,\n  ReactNode,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { useClickOutsideElement, useWindowEvent } from './utils/hooks';\n\nimport { COACHMARK_OVERLAY_KIND } from './utils/enums';\nimport { CoachmarkContext, CoachmarkContextType } from './utils/context';\nimport { CoachmarkOverlay } from './CoachmarkOverlay';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\nimport { throttle } from '../../global/js/utils/throttle';\nimport { Popover, PopoverAlignment, PopoverContent } from '@carbon/react';\nimport { useIsomorphicEffect } from '../../global/js/hooks';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--coachmark`;\nconst overlayBlockClass = `${blockClass}-overlay`;\nconst componentName = 'Coachmark';\n\nconst defaults = {\n  align: 'bottom',\n  onClose: () => {},\n  overlayKind: 'tooltip',\n  theme: 'light',\n  isOpenByDefault: false,\n  closeIconDescription: '',\n};\n\nexport interface CoachmarkProps {\n  /**\n   * Where to render the Coachmark relative to its target.\n   * Applies only to Floating and Tooltip Coachmarks.\n   * @see COACHMARK_ALIGNMENT\n   */\n  align?:\n    | 'bottom'\n    | 'bottom-left'\n    | 'bottom-right'\n    | 'left'\n    | 'left-top'\n    | 'left-bottom'\n    | 'right'\n    | 'right-top'\n    | 'right-bottom'\n    | 'top'\n    | 'top-left'\n    | 'top-right';\n  /**\n   * Auto aligns the coachmark based on screen boundaries\n   * Applies only to Tooltip Coachmarks.\n   */\n  autoAlign?: boolean;\n  /**\n   * Coachmark should use a single CoachmarkOverlayElements component as a child.\n   * @see CoachmarkOverlayElements\n   */\n  children: ReactNode;\n  /**\n   * Optional class name for this component.\n   */\n  className?: string;\n\n  /**\n   * Function to call when the Coachmark closes.\n   */\n  onClose?: () => void;\n  /**\n   *  @deprecated\n   * Optional class name for the Coachmark Overlay component.\n   */\n  overlayClassName?: string;\n\n  /**\n   *  @deprecated\n   * What kind or style of Coachmark to render.\n   */\n  overlayKind?: 'tooltip' | 'floating' | 'stacked';\n  /**\n   *  @deprecated\n   */\n  overlayRef?: MutableRefObject<HTMLElement | null>;\n  /**\n   *  @deprecated\n   * By default, the Coachmark will be appended to the end of `document.body`.\n   * The Coachmark will remain persistent as the user navigates the app until\n   * the user closes the Coachmark.\n   *\n   * Alternatively, the app developer can tightly couple the Coachmark to a DOM\n   * element or other component by specifying a CSS selector. The Coachmark will\n   * remain visible as long as that element remains visible or mounted. When the\n   * element is hidden or component is unmounted, the Coachmark will disappear.\n   */\n  portalTarget?: string;\n\n  /**\n   * Fine tune the position of the target in pixels. Applies only to Beacons.\n   */\n  positionTune?: { x: number; y: number };\n  /**\n   * @deprecated\n   * The optional button or beacon that the user will click to show the Coachmark.\n   */\n  target: React.ReactNode;\n  /**\n   * @deprecated\n   * Determines the theme of the component.\n   */\n  theme?: 'light' | 'dark';\n  /**\n   * Determines if the coachmark is open by default.\n   * Does nothing if `overlayKind=stacked`.\n   */\n  isOpenByDefault?: boolean;\n  /**\n   * Tooltip text and aria label for the Close button icon.\n   */\n  closeIconDescription?: string;\n}\n\n/**\n * Coachmarks are used to call out specific functionality or concepts\n * within the UI that may not be intuitive but are important for the\n * user to gain understanding of the product's main value and discover new use cases.\n * @deprecated This component is deprecated.\n */\n\nexport const Coachmark = forwardRef<HTMLElement, CoachmarkProps>(\n  (\n    {\n      align = defaults.align,\n      autoAlign,\n      children,\n      className,\n      onClose = defaults.onClose,\n      overlayClassName,\n      overlayKind = defaults.overlayKind,\n      overlayRef,\n      positionTune,\n      portalTarget,\n      target,\n      theme = defaults.theme,\n      isOpenByDefault = defaults.isOpenByDefault,\n      closeIconDescription = defaults.closeIconDescription,\n      // Collect any other property values passed in.\n      ...rest\n    },\n    ref\n  ) => {\n    const isBeacon = overlayKind === COACHMARK_OVERLAY_KIND.TOOLTIP;\n    const isStacked = overlayKind === COACHMARK_OVERLAY_KIND.STACKED;\n    const [isOpen, setIsOpen] = useState(isStacked || isOpenByDefault);\n    const [shouldResetPosition, setShouldResetPosition] = useState(false);\n    const [targetRect, setTargetRect] = useState();\n    const [targetOffset, setTargetOffset] = useState({ x: 0, y: 0 });\n    const overlayBackupRef = useRef(undefined);\n    const backupRef = useRef(undefined);\n    const _coachmarkRef = ref || backupRef;\n    const _overlayRef = overlayRef || overlayBackupRef;\n\n    const portalNode = useRef<Element | DocumentFragment | null>(null);\n    const popoverRef = useRef<HTMLDivElement>(null);\n\n    let targetName;\n    if (React.isValidElement(target) && typeof target.type !== 'string') {\n      targetName = target.type as { displayName?: string };\n    }\n    useIsomorphicEffect(() => {\n      portalNode.current = portalTarget\n        ? (document?.querySelector(portalTarget) ??\n          document?.querySelector('body'))\n        : document?.querySelector('body');\n    }, [portalTarget]);\n\n    const closeOverlay = () => {\n      setIsOpen(false);\n    };\n\n    const handleClose = useCallback(() => {\n      if (isStacked) {\n        // If stacked, do not unmount,\n        // only call its (\"parent\") onClose method.\n        onClose();\n      } else {\n        setIsOpen(false);\n        onClose();\n      }\n    }, [isStacked, onClose]);\n\n    const escFunction = useCallback(\n      (event) => {\n        if (event.key === 'Escape') {\n          handleClose();\n        }\n      },\n      [handleClose]\n    );\n\n    useEffect(() => {\n      document.addEventListener('keydown', escFunction, false);\n\n      return () => {\n        document.removeEventListener('keydown', escFunction, false);\n      };\n    }, [escFunction]);\n\n    const handleTargetClick = (e) => {\n      setTargetRect(e.target.getBoundingClientRect());\n      setTargetOffset({ x: e.target.offsetLeft, y: e.target.offsetTop });\n\n      if (isBeacon) {\n        // toggle open/closed for beacons\n        setIsOpen((prevIsOpen) => !prevIsOpen);\n      } else {\n        // reset position for all other kinds\n        setIsOpen(false);\n        setShouldResetPosition(true);\n      }\n    };\n\n    const contextValue: CoachmarkContextType = {\n      buttonProps: {\n        'aria-expanded': isOpen,\n        tabIndex: 0,\n        onClick: handleTargetClick,\n        // Compensate for accidental open/close on double-click.\n        // Only open on double-click.\n        onDoubleClick: handleTargetClick,\n      },\n      closeButtonProps: {\n        onClick: handleClose,\n      },\n      targetRect: targetRect,\n      targetOffset: targetOffset,\n      align: align as PopoverAlignment,\n      positionTune: positionTune,\n      isOpen: isOpen,\n      closeIconDescription,\n    };\n    const handleResize = throttle(() => {\n      closeOverlay();\n    }, 2000);\n\n    // instead of toggling on/off,\n    // keep open and reset to original position\n    useEffect(() => {\n      if (shouldResetPosition) {\n        setShouldResetPosition(false);\n        setIsOpen(true);\n      }\n    }, [shouldResetPosition]);\n\n    useIsomorphicEffect(() => {\n      const overlayPositionStyle = {\n        top: `${(positionTune?.y ?? 0) - 16}px`,\n        left: `${(positionTune?.x ?? 0) - 16}px`,\n      };\n      if (\n        popoverRef.current &&\n        popoverRef.current.style &&\n        overlayPositionStyle\n      ) {\n        const combinedStyle = {\n          position: 'absolute',\n          ...overlayPositionStyle,\n        };\n        Object.assign(popoverRef.current.style, combinedStyle);\n      }\n    }, [popoverRef, positionTune]);\n\n    // On unmount:\n    // - DO NOT \"Close()\" the coachmark.\n    //   - This triggers a \"signal\" to close it forever.\n    //   - \"Closing\" should only ever be a user-triggered event.\n    // - DO \"hide\" the coachmark.\n    //   - The app is doing the action for the user.\n    //   - The user will have the opportunity to open it again.\n    useEffect(() => {\n      return () => setIsOpen(false);\n    }, []);\n\n    useClickOutsideElement(\n      _coachmarkRef,\n      _overlayRef,\n      overlayKind,\n      closeOverlay\n    );\n    useWindowEvent('resize', handleResize);\n    return (\n      <CoachmarkContext.Provider value={contextValue}>\n        <div\n          className={cx(blockClass, `${blockClass}__${theme}`, className)}\n          ref={_coachmarkRef as MutableRefObject<HTMLDivElement | null>}\n          {\n            // Pass through any other property values as HTML attributes.\n            ...rest\n          }\n          {...getDevtoolsProps(componentName)}\n        >\n          {overlayKind !== 'tooltip' ? (\n            <>\n              {targetName?.displayName === 'CoachmarkBeacon'\n                ? React.cloneElement(target as React.ReactElement<any>, {\n                    buttonProps: contextValue.buttonProps,\n                  })\n                : target}\n              {isOpen &&\n                portalNode?.current &&\n                createPortal(\n                  <CoachmarkOverlay\n                    ref={_overlayRef as MutableRefObject<HTMLDivElement | null>}\n                    fixedIsVisible={false}\n                    kind={overlayKind}\n                    onClose={handleClose}\n                    theme={theme}\n                    className={cx(\n                      overlayClassName,\n                      `${overlayBlockClass}--is-visible`\n                    )}\n                  >\n                    {children}\n                  </CoachmarkOverlay>,\n                  // Default to `document.body` when `portalNode` is `null`\n                  portalNode?.current\n                )}\n            </>\n          ) : (\n            <Popover\n              highContrast\n              caret\n              ref={popoverRef}\n              align={align as PopoverAlignment}\n              autoAlign={autoAlign}\n              open={isOpen}\n            >\n              {targetName?.displayName === 'CoachmarkBeacon'\n                ? React.cloneElement(target as React.ReactElement<any>, {\n                    buttonProps: contextValue.buttonProps,\n                  })\n                : target}\n              <PopoverContent>\n                {isOpen && (\n                  <CoachmarkOverlay\n                    ref={_overlayRef as MutableRefObject<HTMLDivElement | null>}\n                    fixedIsVisible={false}\n                    kind={overlayKind}\n                    onClose={handleClose}\n                    theme={theme}\n                    className={cx(overlayClassName, {\n                      [`${overlayBlockClass}--is-visible`]: isOpen,\n                    })}\n                  >\n                    {children}\n                  </CoachmarkOverlay>\n                )}\n              </PopoverContent>\n            </Popover>\n          )}\n        </div>\n      </CoachmarkContext.Provider>\n    );\n  }\n);\n\nconst overlayRefType =\n  typeof HTMLElement === 'undefined'\n    ? PropTypes.object\n    : // eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\n      PropTypes.instanceOf(HTMLElement);\n\n/**@ts-ignore*/\nCoachmark.deprecated = {\n  level: 'warn',\n  details: `${componentName} is deprecated.`,\n};\n// Return a placeholder if not released and not enabled by feature flag\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCoachmark.displayName = componentName;\n\nexport const deprecatedProps = {\n  /**\n   * **Deprecated**\n   * Optional class name for the Coachmark Overlay component.\n   */\n  overlayClassName: PropTypes.string,\n\n  /**\n   * **Deprecated**\n   * What kind or style of Coachmark to render.\n   */\n  overlayKind: PropTypes.oneOf(['tooltip', 'floating', 'stacked']),\n\n  overlayRef: PropTypes.shape({\n    current: overlayRefType as PropTypes.Validator<HTMLElement | null>,\n  }),\n  /**\n   * **Deprecated**\n   * By default, the Coachmark will be appended to the end of `document.body`.\n   * The Coachmark will remain persistent as the user navigates the app until\n   * the user closes the Coachmark.\n   *\n   * Alternatively, the app developer can tightly couple the Coachmark to a DOM\n   * element or other component by specifying a CSS selector. The Coachmark will\n   * remain visible as long as that element remains visible or mounted. When the\n   * element is hidden or component is unmounted, the Coachmark will disappear.\n   */\n  portalTarget: PropTypes.string,\n  /**\n   * **Deprecated**\n   * The optional button or beacon that the user will click to show the Coachmark.\n   */\n  target: PropTypes.node,\n  /**\n   * **Deprecated**\n   * Determines the theme of the component.\n   */\n  theme: PropTypes.oneOf(['light', 'dark']),\n};\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCoachmark.propTypes = {\n  /**\n   * Where to render the Coachmark relative to its target.\n   * Applies only to Floating and Tooltip Coachmarks.\n   * @see COACHMARK_ALIGNMENT\n   */\n  align: PropTypes.oneOf([\n    'bottom',\n    'bottom-left',\n    'bottom-right',\n    'left',\n    'left-top',\n    'left-bottom',\n    'right',\n    'right-top',\n    'right-bottom',\n    'top',\n    'top-left',\n    'top-right',\n  ]),\n  /**\n   * Auto aligns the coachmark based on screen boundaries\n   * Applies only to Tooltip Coachmarks.\n   */\n  autoAlign: PropTypes.bool,\n\n  /**\n   * Coachmark should use a single CoachmarkOverlayElements component as a child.\n   * @see CoachmarkOverlayElements\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * Optional class name for this component.\n   */\n  className: PropTypes.string,\n\n  /**\n   * Tooltip text and aria label for the Close button icon.\n   */\n  closeIconDescription: PropTypes.string,\n\n  /**\n   * Determines if the coachmark is open by default.\n   * Does nothing if `overlayKind=stacked`.\n   */\n  isOpenByDefault: PropTypes.bool,\n\n  /**\n   * Function to call when the Coachmark closes.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Fine tune the position of the target in pixels. Applies only to Beacons.\n   */\n  // @ts-ignore\n  positionTune: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n  }),\n\n  ...deprecatedProps,\n};\n","/**\n * Copyright IBM Corp. 2023, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { BEACON_KIND } from '../Coachmark';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\n// Import portions of React that are needed.\nimport React from 'react';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\nimport { ButtonProps, Button } from '@carbon/react';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--coachmark-beacon`;\nconst componentName = 'CoachmarkBeacon';\n\nconst defaults = {\n  kind: 'default',\n};\n\nexport interface CoachmarkButtonProps extends ButtonProps<React.ElementType> {\n  onClick?(): void;\n  onDoubleClick?(): void;\n  tabIndex?: number;\n  ['aria-bool']?: boolean;\n}\nexport interface CoachmarkBeaconProps {\n  /**\n   * Optional class name for this component.\n   */\n  className?: string;\n  /**\n   * What style of beacon.\n   * BEACON_KIND is an exported enum from the Coachmark and can be used for this value.\n   * @see {@link BEACON_KIND}\n   */\n  kind?: BEACON_KIND;\n  /**\n   * The aria label.\n   */\n  label: string;\n  /**\n   * button props\n   */\n  buttonProps?: CoachmarkButtonProps;\n}\n\n/**\n * Use beacon for the target prop of a Coachmark component.\n * @deprecated This component is deprecated.\n */\nexport const CoachmarkBeacon = React.forwardRef<\n  HTMLDivElement,\n  CoachmarkBeaconProps\n>((props, ref) => {\n  const {\n    label,\n    className,\n    kind = defaults.kind,\n    buttonProps,\n    ...rest\n  } = props;\n  return (\n    <span\n      {\n        // Pass through any other property values as HTML attributes.\n        ...rest\n      }\n      className={cx(blockClass, `${blockClass}-${kind}`, className)}\n      ref={ref}\n      {...getDevtoolsProps(componentName)}\n      role=\"tooltip\"\n    >\n      <button\n        type=\"button\"\n        {...buttonProps}\n        className={`${blockClass}__target`}\n      >\n        <svg className={`${blockClass}__center`} aria-label={label}>\n          <title>{label}</title>\n          <circle r={1} cx={38} cy={38} />\n        </svg>\n      </button>\n    </span>\n  );\n});\n\n/**@ts-ignore*/\nCoachmarkBeacon.deprecated = {\n  level: 'warn',\n  details: `${componentName} is deprecated.`,\n};\n\n// Return a placeholder if not released and not enabled by feature flag\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCoachmarkBeacon.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCoachmarkBeacon.propTypes = {\n  /**\n   * button props\n   */\n  buttonProps: PropTypes.shape({\n    /**@ts-ignore*/\n    ...Button.propTypes,\n    /**@ts-ignore*/\n    onClick: PropTypes.func,\n    onDoubleClick: PropTypes.func,\n    tabIndex: PropTypes.number,\n    ['aria-expanded']: PropTypes.bool,\n  }),\n  /**\n   * Optional class name for this component.\n   */\n  className: PropTypes.string,\n  /**\n   * What style of beacon.\n   * BEACON_KIND is an exported enum from the Coachmark and can be used for this value.\n   * @see {@link BEACON_KIND}\n   */\n  kind: PropTypes.oneOf(['default' as BEACON_KIND.DEFAULT]),\n  /**\n   * The aria label.\n   */\n  label: PropTypes.string.isRequired,\n};\n","/**\n * Copyright IBM Corp. 2023, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { Button } from '@carbon/react';\n// Other standard imports.\nimport PropTypes from 'prop-types';\n// Import portions of React that are needed.\nimport React from 'react';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\nimport { useCoachmark } from '../Coachmark';\n\n// Carbon and package components we use.\n/* TODO: @import(s) of carbon components and other package components. */\n\nexport interface CoachmarkButtonProps {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n  /**\n   * The aria label.\n   */\n  label: string;\n}\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--coachmark-button`;\nconst componentName = 'CoachmarkButton';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\n// Default values can be included here and then assigned to the prop params,\n// e.g. prop = defaults.prop,\n// This gathers default values together neatly and ensures non-primitive\n// values are initialized early to avoid react making unnecessary re-renders.\n// Note that default values are not required for props that are 'required',\n// nor for props where the component can apply undefined values reasonably.\n// Default values should be provided when the component needs to make a choice\n// or assumption when a prop is not supplied.\n\n// Default values for props\n// const defaults = {\n//   /* TODO: add defaults for relevant props if needed */\n// };\n\n/**\n * Use CoachmarkButton for the target prop of a Coachmark component.\n * @deprecated This component is deprecated.\n */\nexport const CoachmarkButton = React.forwardRef<\n  HTMLButtonElement,\n  CoachmarkButtonProps\n>(({ className, label, ...rest }, ref) => {\n  const coachmark = useCoachmark();\n  if (!coachmark) {\n    return (\n      <div>\n        CoachmarkButton is to be use exclusively within the target prop of\n        Coachmark\n      </div>\n    );\n  }\n  return (\n    <Button\n      {\n        // Pass through any other property values as HTML attributes.\n        ...rest\n      }\n      className={cx(\n        blockClass, // Apply the block class to the main HTML element\n        className, // Apply any supplied class names to the main HTML element.\n        // example: `${blockClass}__template-string-class-${kind}-n-${size}`,\n        {\n          // switched classes dependant on props or state\n          // example: [`${blockClass}__here-if-small`]: size === 'sm',\n        }\n      )}\n      ref={ref}\n      role=\"button\"\n      aria-label={label}\n      {...getDevtoolsProps(componentName)}\n      {...coachmark.buttonProps}\n    >\n      {label}\n    </Button>\n  );\n});\n\n/**@ts-ignore*/\nCoachmarkButton.deprecated = {\n  level: 'warn',\n  details: `${componentName} is deprecated.`,\n};\n\n// Return a placeholder if not released and not enabled by feature flag\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCoachmarkButton.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCoachmarkButton.propTypes = {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   * The aria label.\n   */\n  label: PropTypes.string.isRequired,\n};\n"],"names":["useClickOutsideElement","coachmarkRef","overlayRef","overlayKind","callback","cb","useRef","isTooltip","COACHMARK_OVERLAY_KIND","useIsomorphicEffect","handleClickOutside","event","isOverlayOutside","isOutsideCoachmark","callCallback","useWindowEvent","eventName","savedCallback","useEffect","handler","throttle","fn","delay","time","blockClass","pkg","overlayBlockClass","componentName","defaults","Coachmark","forwardRef","align","autoAlign","children","className","onClose","overlayClassName","positionTune","portalTarget","target","theme","isOpenByDefault","closeIconDescription","rest","ref","isBeacon","isStacked","isOpen","setIsOpen","useState","shouldResetPosition","setShouldResetPosition","targetRect","setTargetRect","targetOffset","setTargetOffset","overlayBackupRef","backupRef","_coachmarkRef","_overlayRef","portalNode","popoverRef","targetName","React","closeOverlay","handleClose","useCallback","escFunction","handleTargetClick","e","prevIsOpen","contextValue","handleResize","overlayPositionStyle","combinedStyle","CoachmarkContext","cx","getDevtoolsProps","createPortal","CoachmarkOverlay","Popover","PopoverContent","overlayRefType","PropTypes","deprecatedProps","CoachmarkBeacon","props","label","kind","buttonProps","Button","CoachmarkButton","coachmark","useCoachmark"],"mappings":"uRAmBA,SAASA,GACPC,EACAC,EACAC,EACAC,EACA,CACA,MAAMC,EAAKC,EAAAA,OAAO,MAAS,EACrBC,EAAYJ,IAAgBK,EAAuB,QACzDC,EAAoB,IAAM,CACxBJ,EAAG,QAAUD,CACf,EAAG,CAACA,CAAQ,CAAC,EACbK,EAAoB,IAAM,CACxB,SAASC,EAAmBC,EAAO,CACjC,MAAMC,EACJV,EAAW,SAAW,CAACA,EAAW,QAAQ,SAASS,EAAM,MAAM,EAC3DE,EACJZ,EAAa,SAAW,CAACA,EAAa,QAAQ,SAASU,EAAM,MAAM,EACjEC,GAAoBC,GACtBC,EAAA,CAEJ,CAEA,SAASA,GAAe,CAClBP,GACFF,EAAG,QAAA,CAEP,CAEA,gBAAS,iBAAiB,YAAaK,CAAkB,EAClD,IAAM,CACX,SAAS,oBAAoB,YAAaA,CAAkB,CAC9D,CACF,EAAG,CAACT,EAAcC,EAAYK,CAAS,CAAC,CAC1C,CAEA,MAAMQ,GAAiB,CAACC,EAAWZ,IAAa,CAC9C,MAAMa,EAAgBX,EAAAA,OAAO,IAAI,EAEjCY,EAAAA,UAAU,IAAM,CACdD,EAAc,QAAUb,CAC1B,CAAC,EAEDc,EAAAA,UAAU,IAAM,CACd,SAASC,EAAQR,EAAO,CAClBM,EAAc,SAChBA,EAAc,QAAQN,CAAK,CAE/B,CAEA,cAAO,iBAAiBK,EAAWG,CAAO,EAEnC,IAAM,CACX,OAAO,oBAAoBH,EAAWG,CAAO,CAC/C,CACF,EAAG,CAACH,CAAS,CAAC,CAChB,ECnEaI,GAAW,CAACC,EAAIC,EAAgB,MAAQ,CACnD,IAAIC,EAAO,KAAK,IAAA,EAEhB,MAAO,IAAM,CACPA,EAAOD,EAAQ,KAAK,IAAA,GAAS,IAC/BD,EAAA,EACAE,EAAO,KAAK,IAAA,EAEhB,CACF,ECeMC,EAAa,GAAGC,EAAI,MAAM,cAC1BC,EAAoB,GAAGF,CAAU,WACjCG,EAAgB,YAEhBC,EAAW,CACf,MAAO,SACP,QAAS,IAAM,CAAC,EAChB,YAAa,UACb,MAAO,QACP,gBAAiB,GACjB,qBAAsB,EACxB,EAoGaC,EAAYC,EAAAA,WACvB,CACE,CACE,MAAAC,EAAQH,EAAS,MACjB,UAAAI,EACA,SAAAC,EACA,UAAAC,EACA,QAAAC,EAAUP,EAAS,QACnB,iBAAAQ,EACA,YAAAjC,EAAcyB,EAAS,YACvB,WAAA1B,EACA,aAAAmC,EACA,aAAAC,EACA,OAAAC,EACA,MAAAC,EAAQZ,EAAS,MACjB,gBAAAa,EAAkBb,EAAS,gBAC3B,qBAAAc,EAAuBd,EAAS,qBAEhC,GAAGe,CAAA,EAELC,IACG,CACH,MAAMC,EAAW1C,IAAgBK,EAAuB,QAClDsC,EAAY3C,IAAgBK,EAAuB,QACnD,CAACuC,EAAQC,CAAS,EAAIC,EAAAA,SAASH,GAAaL,CAAe,EAC3D,CAACS,EAAqBC,CAAsB,EAAIF,EAAAA,SAAS,EAAK,EAC9D,CAACG,GAAYC,EAAa,EAAIJ,WAAA,EAC9B,CAACK,GAAcC,EAAe,EAAIN,EAAAA,SAAS,CAAE,EAAG,EAAG,EAAG,EAAG,EACzDO,GAAmBlD,EAAAA,OAAO,MAAS,EACnCmD,GAAYnD,EAAAA,OAAO,MAAS,EAC5BoD,EAAgBd,GAAOa,GACvBE,EAAczD,GAAcsD,GAE5BI,EAAatD,EAAAA,OAA0C,IAAI,EAC3DuD,EAAavD,EAAAA,OAAuB,IAAI,EAE9C,IAAIwD,EACAC,EAAM,eAAexB,CAAM,GAAK,OAAOA,EAAO,MAAS,WACzDuB,EAAavB,EAAO,MAEtB9B,EAAoB,IAAM,CACxBmD,EAAW,QAAUtB,EAChB,UAAU,cAAcA,CAAY,GACrC,UAAU,cAAc,MAAM,EAC9B,UAAU,cAAc,MAAM,CACpC,EAAG,CAACA,CAAY,CAAC,EAEjB,MAAM0B,EAAe,IAAM,CACzBhB,EAAU,EAAK,CACjB,EAEMiB,EAAcC,EAAAA,YAAY,IAAM,CAChCpB,GAKFE,EAAU,EAAK,EACfb,EAAA,CAEJ,EAAG,CAACW,EAAWX,CAAO,CAAC,EAEjBgC,EAAcD,EAAAA,YACjBvD,GAAU,CACLA,EAAM,MAAQ,UAChBsD,EAAA,CAEJ,EACA,CAACA,CAAW,CAAA,EAGd/C,EAAAA,UAAU,KACR,SAAS,iBAAiB,UAAWiD,EAAa,EAAK,EAEhD,IAAM,CACX,SAAS,oBAAoB,UAAWA,EAAa,EAAK,CAC5D,GACC,CAACA,CAAW,CAAC,EAEhB,MAAMC,EAAqBC,GAAM,CAC/BhB,GAAcgB,EAAE,OAAO,uBAAuB,EAC9Cd,GAAgB,CAAE,EAAGc,EAAE,OAAO,WAAY,EAAGA,EAAE,OAAO,UAAW,EAE7DxB,EAEFG,EAAWsB,GAAe,CAACA,CAAU,GAGrCtB,EAAU,EAAK,EACfG,EAAuB,EAAI,EAE/B,EAEMoB,EAAqC,CACzC,YAAa,CACX,gBAAiBxB,EACjB,SAAU,EACV,QAASqB,EAGT,cAAeA,CAAA,EAEjB,iBAAkB,CAChB,QAASH,CAAA,EAEX,WAAAb,GACA,aAAAE,GACA,MAAAvB,EACA,aAAAM,EACA,OAAAU,EACA,qBAAAL,CAAA,EAEI8B,GAAepD,GAAS,IAAM,CAClC4C,EAAA,CACF,EAAG,GAAI,EAIP9C,OAAAA,EAAAA,UAAU,IAAM,CACVgC,IACFC,EAAuB,EAAK,EAC5BH,EAAU,EAAI,EAElB,EAAG,CAACE,CAAmB,CAAC,EAExBzC,EAAoB,IAAM,CACxB,MAAMgE,EAAuB,CAC3B,IAAK,IAAIpC,GAAc,GAAK,GAAK,EAAE,KACnC,KAAM,IAAIA,GAAc,GAAK,GAAK,EAAE,IAAA,EAEtC,GACEwB,EAAW,SACXA,EAAW,QAAQ,OACnBY,EACA,CACA,MAAMC,EAAgB,CACpB,SAAU,WACV,GAAGD,CAAA,EAEL,OAAO,OAAOZ,EAAW,QAAQ,MAAOa,CAAa,CACvD,CACF,EAAG,CAACb,EAAYxB,CAAY,CAAC,EAS7BnB,EAAAA,UAAU,IACD,IAAM8B,EAAU,EAAK,EAC3B,CAAA,CAAE,EAELhD,GACE0D,EACAC,EACAxD,EACA6D,CAAA,EAEFjD,GAAe,SAAUyD,EAAY,EAEnCT,EAAA,cAACY,GAAiB,SAAjB,CAA0B,MAAOJ,GAChCR,EAAA,cAAC,MAAA,CACC,UAAWa,EAAGpD,EAAY,GAAGA,CAAU,KAAKgB,CAAK,GAAIN,CAAS,EAC9D,IAAKwB,EAGH,GAAGf,EAEJ,GAAGkC,EAAiBlD,CAAa,CAAA,EAEjCxB,IAAgB,UACf4D,EAAA,cAAAA,EAAA,SAAA,KACGD,GAAY,cAAgB,kBACzBC,EAAM,aAAaxB,EAAmC,CACpD,YAAagC,EAAa,WAAA,CAC3B,EACDhC,EACHQ,GACCa,GAAY,SACZkB,GAAAA,aACEf,EAAA,cAACgB,EAAA,CACC,IAAKpB,EACL,eAAgB,GAChB,KAAMxD,EACN,QAAS8D,EACT,MAAAzB,EACA,UAAWoC,EACTxC,EACA,GAAGV,CAAiB,cAAA,CACtB,EAECO,CAAA,EAGH2B,GAAY,OAAA,CAElB,EAEAG,EAAA,cAACiB,GAAA,CACC,aAAW,GACX,MAAI,GACJ,IAAKnB,EACL,MAAA9B,EACA,UAAAC,EACA,KAAMe,CAAA,EAELe,GAAY,cAAgB,kBACzBC,EAAM,aAAaxB,EAAmC,CACpD,YAAagC,EAAa,WAAA,CAC3B,EACDhC,EACJwB,EAAA,cAACkB,QACElC,GACCgB,EAAA,cAACgB,EAAA,CACC,IAAKpB,EACL,eAAgB,GAChB,KAAMxD,EACN,QAAS8D,EACT,MAAAzB,EACA,UAAWoC,EAAGxC,EAAkB,CAC9B,CAAC,GAAGV,CAAiB,cAAc,EAAGqB,CAAA,CACvC,CAAA,EAEAd,CAAA,CAGP,CAAA,CACF,CAGN,CAEJ,CACF,EAEMiD,GACJ,OAAO,YAAgB,IACnBC,EAAU,OAEVA,EAAU,WAAW,WAAW,EAGtCtD,EAAU,WAAa,CACrB,MAAO,OACP,QAAS,GAAGF,CAAa,iBAC3B,EAKAE,EAAU,YAAcF,EAEjB,MAAMyD,GAAkB,CAK7B,iBAAkBD,EAAU,OAM5B,YAAaA,EAAU,MAAM,CAAC,UAAW,WAAY,SAAS,CAAC,EAE/D,WAAYA,EAAU,MAAM,CAC1B,QAASD,EAAA,CACV,EAYD,aAAcC,EAAU,OAKxB,OAAQA,EAAU,KAKlB,MAAOA,EAAU,MAAM,CAAC,QAAS,MAAM,CAAC,CAC1C,EAKAtD,EAAU,UAAY,CAMpB,MAAOsD,EAAU,MAAM,CACrB,SACA,cACA,eACA,OACA,WACA,cACA,QACA,YACA,eACA,MACA,WACA,WAAA,CACD,EAKD,UAAWA,EAAU,KAMrB,SAAUA,EAAU,KAAK,WAIzB,UAAWA,EAAU,OAKrB,qBAAsBA,EAAU,OAMhC,gBAAiBA,EAAU,KAK3B,QAASA,EAAU,KAKnB,aAAcA,EAAU,MAAM,CAC5B,EAAGA,EAAU,OACb,EAAGA,EAAU,MAAA,CACd,EAED,GAAGC,EACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8jBCjeA,MAAM5D,EAAa,GAAGC,EAAI,MAAM,qBAC1BE,EAAgB,kBAEhBC,GAAW,CACf,KAAM,SACR,EAiCayD,EAAkBtB,EAAM,WAGnC,CAACuB,EAAO1C,IAAQ,CAChB,KAAM,CACJ,MAAA2C,EACA,UAAArD,EACA,KAAAsD,EAAO5D,GAAS,KAChB,YAAA6D,EACA,GAAG9C,CAAA,EACD2C,EACJ,OACEvB,EAAA,cAAC,OAAA,CAGG,GAAGpB,EAEL,UAAWiC,EAAGpD,EAAY,GAAGA,CAAU,IAAIgE,CAAI,GAAItD,CAAS,EAC5D,IAAAU,EACC,GAAGiC,EAAiBlD,CAAa,EAClC,KAAK,SAAA,EAELoC,EAAA,cAAC,SAAA,CACC,KAAK,SACJ,GAAG0B,EACJ,UAAW,GAAGjE,CAAU,UAAA,EAExBuC,EAAA,cAAC,OAAI,UAAW,GAAGvC,CAAU,WAAY,aAAY+D,GACnDxB,EAAA,cAAC,QAAA,KAAOwB,CAAM,EACdxB,EAAA,cAAC,UAAO,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,CAChC,CAAA,CACF,CAGN,CAAC,EAGDsB,EAAgB,WAAa,CAC3B,MAAO,OACP,QAAS,GAAG1D,CAAa,iBAC3B,EAMA0D,EAAgB,YAAc1D,EAK9B0D,EAAgB,UAAY,CAI1B,YAAaF,EAAU,MAAM,CAE3B,GAAGO,EAAO,UAEV,QAASP,EAAU,KACnB,cAAeA,EAAU,KACzB,SAAUA,EAAU,OACnB,gBAAkBA,EAAU,IAAA,CAC9B,EAID,UAAWA,EAAU,OAMrB,KAAMA,EAAU,MAAM,CAAC,SAAgC,CAAC,EAIxD,MAAOA,EAAU,OAAO,UAC1B;;;qcCvGA,MAAM3D,GAAa,GAAGC,EAAI,MAAM,qBAC1BE,EAAgB,kBAsBTgE,EAAkB5B,EAAM,WAGnC,CAAC,CAAE,UAAA7B,EAAW,MAAAqD,EAAO,GAAG5C,CAAA,EAAQC,IAAQ,CACxC,MAAMgD,EAAYC,GAAA,EAClB,OAAKD,EASH7B,EAAA,cAAC2B,EAAA,CAGG,GAAG/C,EAEL,UAAWiC,EACTpD,GACAU,EAEA,CAAA,CAGA,EAEF,IAAAU,EACA,KAAK,SACL,aAAY2C,EACX,GAAGV,EAAiBlD,CAAa,EACjC,GAAGiE,EAAU,WAAA,EAEbL,CAAA,EA3BDxB,EAAA,cAAC,WAAG,8EAGJ,CA2BN,CAAC,EAGD4B,EAAgB,WAAa,CAC3B,MAAO,OACP,QAAS,GAAGhE,CAAa,iBAC3B,EAMAgE,EAAgB,YAAchE,EAK9BgE,EAAgB,UAAY,CAI1B,UAAWR,EAAU,OAIrB,MAAOA,EAAU,OAAO,UAC1B;"}