import{r as m,u as I,c as v,e as t,_ as O,t as K,M as ee,n as te,g as H,d as ne,D as V,B as ie,o as ae,aa as oe,H as se,w as ce,P as e,l as W,y as re}from"./iframe-Cbdf71kV.js";import{w as le,a as ue}from"./wrapFocus-bi0LZfCr.js";import{T as w}from"./Text-ByKyVd5E.js";import{b as fe,d as me}from"./bucket-9-DiKgF3S5.js";import{a as de,W as pe}from"./bucket-19-CLDj7gXe.js";import{b as be}from"./bucket-6-BiOweKob.js";function ge(n,c,r=!0){const a=i=>{const u=n.current&&document.activeElement===n.current||n.current?.contains(document.activeElement);se(i,[ce])&&r&&u&&c(i)};V(()=>(n.current!==null&&document.addEventListener("keydown",a,!1),()=>document.removeEventListener("keydown",a,!1)))}function M({children:n,className:c,onClick:r,inline:a,...i}){const u=I(),f=v(c,{[`${u}--actionable-notification__action-button`]:!0});return t.createElement(ie,O({className:f,kind:a?"ghost":"tertiary",onClick:r,size:"sm"},i),n)}M.propTypes={children:e.node,className:e.string,inline:e.bool,onClick:e.func};function A({"aria-label":n="close notification",ariaLabel:c,className:r,type:a="button",renderIcon:i=te,name:u,notificationType:f="toast",...E}){const l=I(),d=v(r,{[`${l}--${f}-notification__close-button`]:f}),g=v({[`${l}--${f}-notification__close-icon`]:f});return t.createElement("button",O({},E,{type:a,"aria-label":c||n,title:c||n,className:d}),i&&t.createElement(i,{className:g,name:u}))}A.propTypes={"aria-label":e.string,ariaLabel:W(e.string),className:e.string,name:e.string,notificationType:e.oneOf(["toast","inline","actionable"]),renderIcon:e.oneOfType([e.func,e.object]),type:e.string};const Ne={error:be,success:ee,warning:pe,"warning-alt":de,info:me,"info-square":fe};function R({iconDescription:n,kind:c,notificationType:r}){const a=I(),i=Ne[c];return i?t.createElement(i,{className:`${a}--${r}-notification__icon`,size:20},t.createElement("title",null,n)):null}R.propTypes={iconDescription:e.string.isRequired,kind:e.oneOf(["error","success","warning","warning-alt","info","info-square"]).isRequired,notificationType:e.oneOf(["inline","toast"]).isRequired};function Ee({["aria-label"]:n,ariaLabel:c,role:r="status",onClose:a,onCloseButtonClick:i=K,statusIconDescription:u,className:f,children:E,kind:l="error",lowContrast:d,hideCloseButton:g=!1,timeout:o=0,title:C,caption:$,subtitle:x,...p}){const[h,y]=m.useState(!0),N=I(),T=v(f,{[`${N}--toast-notification`]:!0,[`${N}--toast-notification--low-contrast`]:d,[`${N}--toast-notification--${l}`]:l}),F=m.useRef(null),s=_=>{(!a||a(_)!==!1)&&y(!1)},k=m.useRef(null);function D(_){i(_),s(_)}const B=m.useRef(a);return m.useEffect(()=>{B.current=a}),m.useEffect(()=>{if(!o)return;const _=window.setTimeout(q=>{y(!1),B.current&&B.current(q)},o);return()=>{window.clearTimeout(_)}},[o]),h?t.createElement("div",O({ref:k},p,{role:r,className:T}),t.createElement(R,{notificationType:"toast",kind:l,iconDescription:u||`${l} icon`}),t.createElement("div",{ref:F,className:`${N}--toast-notification__details`},C&&t.createElement(w,{as:"div",className:`${N}--toast-notification__title`},C),x&&t.createElement(w,{as:"div",className:`${N}--toast-notification__subtitle`},x),$&&t.createElement(w,{as:"div",className:`${N}--toast-notification__caption`},$),E),!g&&t.createElement(A,{notificationType:"toast",onClick:D,"aria-label":c||n})):null}Ee.propTypes={"aria-label":e.string,ariaLabel:W(e.string),caption:e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,timeout:e.number,title:e.string};function $e({["aria-label"]:n,children:c,title:r,subtitle:a,role:i="status",onClose:u,onCloseButtonClick:f=K,statusIconDescription:E,className:l,kind:d="error",lowContrast:g,hideCloseButton:o=!1,...C}){const[$,x]=m.useState(!0),p=I(),h=v(l,{[`${p}--inline-notification`]:!0,[`${p}--inline-notification--low-contrast`]:g,[`${p}--inline-notification--${d}`]:d,[`${p}--inline-notification--hide-close-button`]:o}),y=m.useRef(null),N=s=>{(!u||u(s)!==!1)&&x(!1)},T=m.useRef(null);function F(s){f(s),N(s)}return $?t.createElement("div",O({ref:T},C,{role:i,className:h}),t.createElement("div",{className:`${p}--inline-notification__details`},t.createElement(R,{notificationType:"inline",kind:d,iconDescription:E||`${d} icon`}),t.createElement("div",{ref:y,className:`${p}--inline-notification__text-wrapper`},r&&t.createElement(w,{as:"div",className:`${p}--inline-notification__title`},r),a&&t.createElement(w,{as:"div",className:`${p}--inline-notification__subtitle`},a),c)),!o&&t.createElement(A,{notificationType:"inline",onClick:F,"aria-label":n})):null}$e.propTypes={"aria-label":e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,title:e.string};function _e({actionButtonLabel:n,["aria-label"]:c,ariaLabel:r,children:a,role:i="alertdialog",onActionButtonClick:u,onClose:f,onCloseButtonClick:E=K,statusIconDescription:l,className:d,inline:g=!1,kind:o="error",lowContrast:C,hideCloseButton:$=!1,hasFocus:x=!0,closeOnEscape:p=!0,title:h,subtitle:y,...N}){const[T,F]=m.useState(!0),s=I(),k=H("actionable-notification"),D=H("actionable-notification-subtitle"),B=v(d,{[`${s}--actionable-notification`]:!0,[`${s}--actionable-notification--toast`]:!g,[`${s}--actionable-notification--low-contrast`]:C,[`${s}--actionable-notification--${o}`]:o,[`${s}--actionable-notification--hide-close-button`]:$}),_=m.useRef(null),q=m.useRef(null),P=m.useRef(null),S=m.useRef(null),L=ne("enable-experimental-focus-wrap-without-sentinels");V(()=>{x&&i==="alertdialog"&&document.querySelector("button.cds--actionable-notification__action-button")?.focus()});function J({target:b,relatedTarget:j}){if(T&&j&&b&&i==="alertdialog"){const{current:X}=_,{current:Y}=q,{current:Z}=P;ue({bodyNode:X,startTrapNode:Y,endTrapNode:Z,currentActiveNode:j,oldActiveNode:b})}}function Q(b){T&&ae(b,oe)&&S.current&&i==="alertdialog"&&le({containerNode:S.current,currentActiveNode:b.target,event:b})}const U=b=>{(!f||f(b)!==!1)&&F(!1)};ge(S,z,p);function z(b){E(b),U(b)}return T?t.createElement("div",O({},N,{ref:S,role:i,className:B,"aria-labelledby":h?k:D,onBlur:L?()=>{}:J,onKeyDown:L?Q:()=>{}}),!L&&t.createElement("span",{ref:q,tabIndex:0,role:"link",className:`${s}--visually-hidden`},"Focus sentinel"),t.createElement("div",{className:`${s}--actionable-notification__details`},t.createElement(R,{notificationType:g?"inline":"toast",kind:o,iconDescription:l||`${o} icon`}),t.createElement("div",{className:`${s}--actionable-notification__text-wrapper`},t.createElement("div",{className:`${s}--actionable-notification__content`},h&&t.createElement(w,{as:"div",className:`${s}--actionable-notification__title`,id:k},h),y&&t.createElement(w,{as:"div",className:`${s}--actionable-notification__subtitle`,id:D},y),a))),t.createElement("div",{className:`${s}--actionable-notification__button-wrapper`,ref:_},n&&t.createElement(M,{onClick:u,inline:g},n),!$&&t.createElement(A,{"aria-label":r||c,notificationType:"actionable",onClick:z})),!L&&t.createElement("span",{ref:P,tabIndex:0,role:"link",className:`${s}--visually-hidden`},"Focus sentinel")):null}_e.propTypes={actionButtonLabel:e.string,"aria-label":e.string,ariaLabel:W(e.string),children:e.node,className:e.string,closeOnEscape:e.bool,hasFocus:W(e.bool),hideCloseButton:e.bool,inline:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onActionButtonClick:e.func,onClose:e.func,onCloseButtonClick:e.func,role:e.string,statusIconDescription:e.string,subtitle:e.node,title:e.string};const we=n=>({error:"warning",success:"info"})[n];function G({actionButtonLabel:n,children:c,onActionButtonClick:r,title:a,titleId:i,subtitle:u,statusIconDescription:f,className:E,kind:l="info",lowContrast:d,...g}){const o=I(),C=v(E,{[`${o}--actionable-notification`]:!0,[`${o}--actionable-notification--low-contrast`]:d,[`${o}--actionable-notification--${l}`]:l,[`${o}--actionable-notification--hide-close-button`]:!0}),$=m.useRef(null);return t.createElement("div",O({},g,{className:C}),t.createElement("div",{className:`${o}--actionable-notification__details`},t.createElement(R,{notificationType:"inline",kind:l,iconDescription:f||`${l} icon`}),t.createElement("div",{ref:$,className:`${o}--actionable-notification__text-wrapper`},a&&t.createElement(w,{as:"div",id:i,className:`${o}--actionable-notification__title`},a),u&&t.createElement(w,{as:"div",className:`${o}--actionable-notification__subtitle`},u),c)),t.createElement("div",{className:`${o}--actionable-notification__button-wrapper`},n&&t.createElement(M,{onClick:r,"aria-describedby":i,inline:!0},n)))}G.propTypes={actionButtonLabel:e.string,children:e.node,className:e.string,kind:re(e.oneOf(["error","info","info-square","success","warning","warning-alt"]),["warning","info"],we),lowContrast:e.bool,onActionButtonClick:e.func,statusIconDescription:e.string,subtitle:e.node,title:e.string,titleId:e.string};const xe=n=>t.createElement(G,n);export{_e as A,G as C,$e as I,M as N,xe as S,Ee as T,A as a};
