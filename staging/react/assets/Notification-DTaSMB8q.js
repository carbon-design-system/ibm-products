import{r as f,u as x,c as I,e as t,_ as F,o as K,J as te,l as ne,d as V,a as ie,v as G,B as ae,m as oe,a6 as se,z as ce,t as re,P as e,i as W,a7 as le}from"./iframe-DoONWhft.js";import{w as ue,a as fe}from"./wrapFocus-BQ5Ztz-2.js";import{T as $}from"./Text-wCKpd-Jz.js";import{b as me,d as de}from"./bucket-9-DTxKsFW3.js";import{a as pe,W as be}from"./bucket-19-Cq7trOkA.js";import{b as ge}from"./bucket-6-Db2Sb-Fe.js";function Ne(n,c,r=!0){const i=o=>{const s=n.current&&document.activeElement===n.current||n.current?.contains(document.activeElement);ce(o,[re])&&r&&s&&c(o)};G(()=>(n.current!==null&&document.addEventListener("keydown",i,!1),()=>document.removeEventListener("keydown",i,!1)))}function z({children:n,className:c,onClick:r,inline:i,...o}){const s=x(),m=I(c,{[`${s}--actionable-notification__action-button`]:!0});return t.createElement(ae,F({className:m,kind:i?"ghost":"tertiary",onClick:r,size:"sm"},o),n)}z.propTypes={children:e.node,className:e.string,inline:e.bool,onClick:e.func};function A({"aria-label":n="close notification",ariaLabel:c,className:r,type:i="button",renderIcon:o=ne,name:s,notificationType:m="toast",...E}){const l=x(),d=I(r,{[`${l}--${m}-notification__close-button`]:m}),_=I({[`${l}--${m}-notification__close-icon`]:m});return t.createElement("button",F({},E,{type:i,"aria-label":c||n,title:c||n,className:d}),o&&t.createElement(o,{className:_,name:s}))}A.propTypes={"aria-label":e.string,ariaLabel:W(e.string),className:e.string,name:e.string,notificationType:e.oneOf(["toast","inline","actionable"]),renderIcon:e.oneOfType([e.func,e.object]),type:e.string};const Ee={error:ge,success:te,warning:be,"warning-alt":pe,info:de,"info-square":me};function k({iconDescription:n,kind:c,notificationType:r}){const i=x(),o=Ee[c];return o?t.createElement(o,{className:`${i}--${r}-notification__icon`,size:20},t.createElement("title",null,n)):null}k.propTypes={iconDescription:e.string.isRequired,kind:e.oneOf(["error","success","warning","warning-alt","info","info-square"]).isRequired,notificationType:e.oneOf(["inline","toast"]).isRequired};function $e({["aria-label"]:n,ariaLabel:c,role:r="status",onClose:i,onCloseButtonClick:o=K,statusIconDescription:s,className:m,children:E,kind:l="error",lowContrast:d,hideCloseButton:_=!1,timeout:a=0,title:N,caption:w,subtitle:T,...p}){const[B,C]=f.useState(!0),b=x(),R=I(m,{[`${b}--toast-notification`]:!0,[`${b}--toast-notification--low-contrast`]:d,[`${b}--toast-notification--${l}`]:l}),v=f.useRef(null),h=y=>{(!i||i(y)!==!1)&&C(!1)},u=f.useRef(null);function D(y){o(y),h(y)}const O=f.useRef(i);return f.useEffect(()=>{O.current=i}),f.useEffect(()=>{if(!a)return;const y=window.setTimeout(q=>{C(!1),O.current&&O.current(q)},a);return()=>{window.clearTimeout(y)}},[a]),B?t.createElement("div",F({ref:u},p,{role:r,className:R}),t.createElement(k,{notificationType:"toast",kind:l,iconDescription:s||`${l} icon`}),t.createElement("div",{ref:v,className:`${b}--toast-notification__details`},N&&t.createElement($,{as:"div",className:`${b}--toast-notification__title`},N),T&&t.createElement($,{as:"div",className:`${b}--toast-notification__subtitle`},T),w&&t.createElement($,{as:"div",className:`${b}--toast-notification__caption`},w),E),!_&&t.createElement(A,{notificationType:"toast",onClick:D,"aria-label":c||n})):null}$e.propTypes={"aria-label":e.string,ariaLabel:W(e.string),caption:e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,timeout:e.number,title:e.string};function _e({["aria-label"]:n,children:c,title:r,subtitle:i,role:o="status",onClose:s,onCloseButtonClick:m=K,statusIconDescription:E,className:l,kind:d="error",lowContrast:_,hideCloseButton:a=!1,...N}){const[w,T]=f.useState(!0),p=x(),B=I(l,{[`${p}--inline-notification`]:!0,[`${p}--inline-notification--low-contrast`]:_,[`${p}--inline-notification--${d}`]:d,[`${p}--inline-notification--hide-close-button`]:a}),C=f.useRef(null),b=h=>{(!s||s(h)!==!1)&&T(!1)},R=f.useRef(null);function v(h){m(h),b(h)}return w?t.createElement("div",F({ref:R},N,{role:o,className:B}),t.createElement("div",{className:`${p}--inline-notification__details`},t.createElement(k,{notificationType:"inline",kind:d,iconDescription:E||`${d} icon`}),t.createElement("div",{ref:C,className:`${p}--inline-notification__text-wrapper`},r&&t.createElement($,{as:"div",className:`${p}--inline-notification__title`},r),i&&t.createElement($,{as:"div",className:`${p}--inline-notification__subtitle`},i),c)),!a&&t.createElement(A,{notificationType:"inline",onClick:v,"aria-label":n})):null}_e.propTypes={"aria-label":e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,title:e.string};function we({actionButtonLabel:n,["aria-label"]:c,ariaLabel:r,caption:i,children:o,role:s="alertdialog",onActionButtonClick:m,onClose:E,onCloseButtonClick:l=K,statusIconDescription:d,className:_,inline:a=!1,kind:N="error",lowContrast:w,hideCloseButton:T=!1,hasFocus:p=!0,closeOnEscape:B=!0,title:C,subtitle:b,...R}){const[v,h]=f.useState(!0),u=x(),D=V("actionable-notification"),O=V("actionable-notification-subtitle"),y=I(_,{[`${u}--actionable-notification`]:!0,[`${u}--actionable-notification--toast`]:!a,[`${u}--actionable-notification--low-contrast`]:w,[`${u}--actionable-notification--${N}`]:N,[`${u}--actionable-notification--hide-close-button`]:T}),q=f.useRef(null),P=f.useRef(null),M=f.useRef(null),S=f.useRef(null),L=ie("enable-experimental-focus-wrap-without-sentinels");G(()=>{p&&s==="alertdialog"&&document.querySelector("button.cds--actionable-notification__action-button")?.focus()});function Q({target:g,relatedTarget:J}){if(v&&J&&g&&s==="alertdialog"){const{current:Y}=q,{current:Z}=P,{current:ee}=M;fe({bodyNode:Y,startTrapNode:Z,endTrapNode:ee,currentActiveNode:J,oldActiveNode:g})}}function U(g){v&&oe(g,se)&&S.current&&s==="alertdialog"&&ue({containerNode:S.current,currentActiveNode:g.target,event:g})}const X=g=>{(!E||E(g)!==!1)&&h(!1)};Ne(S,j,B);function j(g){l(g),X(g)}return v?t.createElement("div",F({},R,{ref:S,role:s,className:y,"aria-labelledby":C?D:O,onBlur:L?()=>{}:Q,onKeyDown:L?U:()=>{}}),!L&&t.createElement("span",{ref:P,tabIndex:0,role:"link",className:`${u}--visually-hidden`},"Focus sentinel"),t.createElement("div",{className:`${u}--actionable-notification__details`},t.createElement(k,{notificationType:a?"inline":"toast",kind:N,iconDescription:d||`${N} icon`}),t.createElement("div",{className:`${u}--actionable-notification__text-wrapper`},t.createElement("div",{className:`${u}--actionable-notification__content`},C&&t.createElement($,{as:"div",className:`${u}--actionable-notification__title`,id:D},C),b&&t.createElement($,{as:"div",className:`${u}--actionable-notification__subtitle`,id:O},b),i&&t.createElement($,{as:"div",className:`${u}--actionable-notification__caption`},i),o))),t.createElement("div",{className:`${u}--actionable-notification__button-wrapper`,ref:q},n&&t.createElement(z,{onClick:m,inline:a},n),!T&&t.createElement(A,{"aria-label":r||c,notificationType:"actionable",onClick:j})),!L&&t.createElement("span",{ref:M,tabIndex:0,role:"link",className:`${u}--visually-hidden`},"Focus sentinel")):null}we.propTypes={actionButtonLabel:e.string,"aria-label":e.string,ariaLabel:W(e.string),caption:e.string,children:e.node,className:e.string,closeOnEscape:e.bool,hasFocus:W(e.bool),hideCloseButton:e.bool,inline:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onActionButtonClick:e.func,onClose:e.func,onCloseButtonClick:e.func,role:e.string,statusIconDescription:e.string,subtitle:e.node,title:e.string};const Ce=n=>({error:"warning",success:"info"})[n];function H({actionButtonLabel:n,children:c,onActionButtonClick:r,title:i,titleId:o,subtitle:s,statusIconDescription:m,className:E,kind:l="info",lowContrast:d,..._}){const a=x(),N=I(E,{[`${a}--actionable-notification`]:!0,[`${a}--actionable-notification--low-contrast`]:d,[`${a}--actionable-notification--${l}`]:l,[`${a}--actionable-notification--hide-close-button`]:!0}),w=f.useRef(null);return t.createElement("div",F({},_,{className:N}),t.createElement("div",{className:`${a}--actionable-notification__details`},t.createElement(k,{notificationType:"inline",kind:l,iconDescription:m||`${l} icon`}),t.createElement("div",{ref:w,className:`${a}--actionable-notification__text-wrapper`},i&&t.createElement($,{as:"div",id:o,className:`${a}--actionable-notification__title`},i),s&&t.createElement($,{as:"div",className:`${a}--actionable-notification__subtitle`},s),c)),t.createElement("div",{className:`${a}--actionable-notification__button-wrapper`},n&&t.createElement(z,{onClick:r,"aria-describedby":o,inline:!0},n)))}H.propTypes={actionButtonLabel:e.string,children:e.node,className:e.string,kind:le(e.oneOf(["error","info","info-square","success","warning","warning-alt"]),["warning","info"],Ce),lowContrast:e.bool,onActionButtonClick:e.func,statusIconDescription:e.string,subtitle:e.node,title:e.string,titleId:e.string};const Oe=n=>t.createElement(H,n);export{we as A,H as C,_e as I,z as N,Oe as S,$e as T,A as a};
