import{b as T}from"./index-B_euquWE.js";import{p as x}from"./settings-0ThqPtR3.js";import{r as h}from"./index-DxDX2vOa.js";import{w as v}from"./wait-CTNFjQS8.js";const l=(n,e)=>{const s=n==null?void 0:n.querySelector(e);return e&&!(s!=null&&s.disabled)?s:null},I=(n,e)=>{const s=T(),p=`${x.prefix}--tearsheet`,i=`${x.prefix}--side-panel`,r=`:not(.${s}--visually-hidden,.${p}__header--no-close-icon,.${s}--btn--disabled,[aria-hidden="true"],[tabindex="-1"],[disabled])`,q=`button${r}`,w=`input${r}`,f=`select${r}`,g=`textarea${r}`,S=`[href]${r}`,b=`[tabindex="0"]${r}`,k=`.${i}--scrolls`,$=`${q},${S},${w},${f},${g},${b},${k}`,o=n==null?void 0:n.current,c=h.useCallback(()=>{let t=o==null?void 0:o.querySelectorAll(`${$}`);t!=null&&t.length&&(t=Array.prototype.filter.call(t,D=>{var d;return((d=window==null?void 0:window.getComputedStyle(D))==null?void 0:d.display)!=="none"}));const u=t==null?void 0:t[0],a=t==null?void 0:t[(t==null?void 0:t.length)-1],y=t,A=l(o,e);return{first:u,last:a,all:y,specified:A}},[o,$,e]);h.useEffect(()=>{c()},[c]);const C=async t=>{if(t.key==="Tab"){const{first:u,last:a,all:y}=c();await v(1),t.shiftKey&&!Array.prototype.includes.call(y,document==null?void 0:document.activeElement)?(t.preventDefault(),a==null||a.focus()):Array.prototype.includes.call(y,document==null?void 0:document.activeElement)||(t.preventDefault(),u==null||u.focus())}};return{firstElement:c().first,lastElement:c().last,allElements:c().all,specifiedElement:c().specified,keyDownListener:C,getFocusable:c}},P=(n,e,s=void 0)=>{var p;if(s&&l(e==null?void 0:e.current,s)){const i=l(e==null?void 0:e.current,s);if(i&&((p=window==null?void 0:window.getComputedStyle(i))==null?void 0:p.display)!=="none")return i.focus()}setTimeout(()=>n==null?void 0:n.focus(),0)};export{P as c,l as g,I as u};
