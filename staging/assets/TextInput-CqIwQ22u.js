import{b as re,d as he,c as o,_ as be,P as e,e as te}from"./index-B_euquWE.js";import{e as t,r as E}from"./index-DxDX2vOa.js";import{u as we}from"./useNormalizedInputProps-BaY27oQV.js";import{F as xe}from"./FormContext-Dj7olUH1.js";import{n as me,T as ge}from"./settings-0ThqPtR3.js";import{W as ve,e as fe,f as $e}from"./bucket-18-Dvh787Y8.js";import{u as _e}from"./useAnnouncer-Dwt0jqXi.js";import{T as se}from"./Text-9AedOkae.js";const ye=w=>({"data-invalid":!0,"aria-invalid":!0,"aria-describedby":w}),Te=w=>({"aria-describedby":w}),Ce=w=>({"aria-describedby":w}),oe=w=>{let{sharedTextInputProps:P,invalid:O,invalidId:T,warn:d,warnId:u,hasHelper:v,helperId:m}=w;return{...P,...O?ye(T):{},...d?Te(u):{},...v?Ce(m):{}}},de=t.forwardRef(function(P,O){let{labelText:T,className:d,id:u,placeholder:v,onChange:m=me,onClick:b=me,disabled:s=!1,hideLabel:D,invalid:_=!1,invalidText:L="",helperText:x="",light:j,type:V="password",togglePasswordVisibility:z,tooltipPosition:C="bottom",tooltipAlignment:c="center",hidePasswordLabel:f="Hide password",showPasswordLabel:k="Show password",size:p=void 0,...$}=P;const l=re(),I=he(),F=u+"-error-msg",i=o(`${l}--text-input`,`${l}--password-input`,d,{[`${l}--text-input--light`]:j,[`${l}--text-input--invalid`]:_,[`${l}--text-input--${p}`]:p}),h={id:u,onChange:R=>{s||m==null||m(R)},onClick:R=>{s||b==null||b(R)},placeholder:v,type:V,ref:O,className:i,...$},N=o(`${l}--label`,{[`${l}--visually-hidden`]:D,[`${l}--label--disabled`]:s}),n=o(`${l}--form__helper-text`,{[`${l}--form__helper-text--disabled`]:s}),r=T?t.createElement("label",{htmlFor:u,className:N},T):null,a=_?t.createElement("div",{className:`${l}--form-requirement`,id:F},L):null,A=V==="text",q=A?t.createElement(fe,{className:`${l}--icon-visibility-off`}):t.createElement($e,{className:`${l}--icon-visibility-on`}),G=o(`${l}--text-input--password__visibility__toggle`,`${l}--btn`,`${l}--btn--icon-only`,`${l}--tooltip__trigger`,`${l}--tooltip--a11y`,{[`${l}--tooltip--${C}`]:C,[`${l}--tooltip--align-${c}`]:c}),S=x?`controlled-password-helper-text-${I}`:void 0,J=t.createElement(t.Fragment,null,t.createElement("input",be({},oe({invalid:_,sharedTextInputProps:h,invalidId:F,hasHelper:!!(!a&&x),helperId:S}),{"data-toggle-password-visibility":V==="password"})),t.createElement("button",{type:"button",className:G,onClick:z},t.createElement("span",{className:`${l}--assistive-text`},A?f:k),q)),K=x?t.createElement("div",{id:S,className:n},x):null;return t.createElement("div",{className:`${l}--form-item ${l}--text-input-wrapper ${l}--password-input-wrapper`},r,t.createElement("div",{className:`${l}--text-input__field-wrapper`,"data-invalid":_||null},_&&t.createElement(ve,{className:`${l}--text-input__invalid-icon`}),J),a||K)});de.displayName="ControlledPasswordInput";de.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:te(e.bool),onChange:e.func,onClick:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),value:e.oneOfType([e.string,e.number])};const pe=t.forwardRef(function(P,O){let{className:T,disabled:d=!1,helperText:u,hideLabel:v,hidePasswordLabel:m="Hide password",id:b,inline:s,invalid:D=!1,invalidText:_,labelText:L,light:x,onChange:j=()=>{},onClick:V=()=>{},onTogglePasswordVisibility:z,placeholder:C,readOnly:c,size:f="md",showPasswordLabel:k="Show password",tooltipPosition:p="bottom",tooltipAlignment:$="end",type:l="password",warn:I=!1,warnText:F,...i}=P;const[h,N]=E.useState(l),n=re(),r=we({id:b,invalid:D,invalidText:_,warn:I,warnText:F,readOnly:c,disabled:d}),{isFluid:a}=E.useContext(xe),A=W=>{N(h==="password"?"text":"password"),z&&z(W)},q=o(`${n}--text-input`,`${n}--password-input`,T,{[`${n}--text-input--light`]:x,[`${n}--text-input--invalid`]:r.invalid,[`${n}--text-input--warning`]:r.warn,[`${n}--text-input--${f}`]:f,[`${n}--layout--size-${f}`]:f}),G={id:b,onChange:W=>{d||j(W)},onClick:W=>{d||V(W)},placeholder:C,type:h,className:q,readOnly:c,ref:O,...i},S=o(`${n}--form-item`,`${n}--text-input-wrapper`,`${n}--password-input-wrapper`,{[`${n}--text-input-wrapper--readonly`]:c,[`${n}--text-input-wrapper--light`]:x,[`${n}--text-input-wrapper--inline`]:s,[`${n}--text-input--fluid`]:a}),J=o(`${n}--label`,{[`${n}--visually-hidden`]:v,[`${n}--label--disabled`]:d,[`${n}--label--inline`]:s,[`${n}--label--inline--${f}`]:s&&!!f}),K=o(`${n}--form__helper-text`,{[`${n}--form__helper-text--disabled`]:d,[`${n}--form__helper-text--inline`]:s}),R=o(`${n}--text-input__field-outer-wrapper`,{[`${n}--text-input__field-outer-wrapper--inline`]:s}),ie=o(`${n}--text-input__field-wrapper`,{[`${n}--text-input__field-wrapper--warning`]:r.warn}),le=o({[`${n}--text-input__invalid-icon`]:r.invalid||r.warn,[`${n}--text-input__invalid-icon--warning`]:r.warn}),X=L?t.createElement("label",{htmlFor:b,className:J},L):null,Y=u?t.createElement("div",{id:r.helperId,className:K},u):null,M=h==="text",Z=M?t.createElement(fe,{className:`${n}--icon-visibility-off`}):t.createElement($e,{className:`${n}--icon-visibility-on`}),ae=o(`${n}--text-input--password__visibility__toggle`,`${n}--btn`,`${n}--tooltip__trigger`,`${n}--tooltip--a11y`,{[`${n}--tooltip--${p}`]:p,[`${n}--tooltip--align-${$}`]:$});let g;(p==="top"||p==="bottom")&&($==="center"&&(g=p),$==="end"&&(g=`${p}-end`),$==="start"&&(g=`${p}-start`)),(p==="right"||p==="left")&&(g=p),!m||m.trim()===""?console.warn('Warning: The "hidePasswordLabel" should not be blank.'):(!k||k.trim()==="")&&console.warn('Warning: The "showPasswordLabel" should not be blank.');const ee=t.createElement(t.Fragment,null,t.createElement("input",be({},oe({sharedTextInputProps:G,invalid:r.invalid,invalidId:r.invalidId,warn:r.warn,warnId:r.warnId,hasHelper:!!(u&&!a&&(s||!s&&!r.validation)),helperId:r.helperId}),{disabled:d,"data-toggle-password-visibility":h==="password"})),a&&t.createElement("hr",{className:`${n}--text-input__divider`}),t.createElement(ge,{align:g,className:`${n}--toggle-password-tooltip`,label:M?m:k},t.createElement("button",{type:"button",className:ae,disabled:d||c,onClick:A},Z)));E.useEffect(()=>{N(l)},[l]);const Q=r.icon;return t.createElement("div",{className:S},s?t.createElement("div",{className:`${n}--text-input__label-helper-wrapper`},X,!a&&Y):X,t.createElement("div",{className:R},t.createElement("div",{className:ie,"data-invalid":r.invalid||null},Q&&t.createElement(Q,{className:le}),ee,a&&!s&&r.validation),!a&&!s&&(r.validation||Y)))});pe.displayName="PasswordInput";pe.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,inline:e.bool,invalid:e.bool,readOnly:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:te(e.bool),onChange:e.func,onClick:e.func,onTogglePasswordVisibility:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),type:e.oneOf(["password","text"]),value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};const ne=t.forwardRef(function(P,O){var ue;let{className:T,decorator:d,disabled:u=!1,helperText:v,hideLabel:m,id:b,inline:s=!1,invalid:D=!1,invalidText:_,labelText:L,light:x,onChange:j=()=>{},onClick:V=()=>{},placeholder:z,readOnly:C,size:c,type:f="text",warn:k=!1,warnText:p,enableCounter:$=!1,maxCount:l,slug:I,...F}=P;const i=re(),{defaultValue:h,value:N}=F,[n,r]=E.useState((h==null?void 0:h.toString().length)||(N==null?void 0:N.toString().length)||0),a=we({id:b,readOnly:C,disabled:u,invalid:D,invalidText:_,warn:k,warnText:p}),A=o(`${i}--text-input`,{[`${i}--text-input--light`]:x,[`${i}--text-input--invalid`]:a.invalid,[`${i}--text-input--warning`]:a.warn,[`${i}--text-input--${c}`]:c,[`${i}--layout--size-${c}`]:c}),q={id:b,onChange:y=>{var U;a.disabled||(r((U=y.target.value)==null?void 0:U.length),j(y))},onClick:y=>{a.disabled||V(y)},placeholder:z,type:f,ref:O,className:A,title:z,disabled:a.disabled,readOnly:C,"aria-describedby":v&&a.helperId,...F};$&&(q.maxLength=l);const G=o([o(`${i}--form-item`,T)],`${i}--text-input-wrapper`,{[`${i}--text-input-wrapper--readonly`]:C,[`${i}--text-input-wrapper--light`]:x,[`${i}--text-input-wrapper--inline`]:s,[`${i}--text-input-wrapper--inline--invalid`]:s&&a.invalid}),S=o(`${i}--label`,{[`${i}--visually-hidden`]:m,[`${i}--label--disabled`]:a.disabled,[`${i}--label--inline`]:s,[`${i}--label--inline--${c}`]:s&&!!c}),J=o(`${i}--form__helper-text`,{[`${i}--form__helper-text--disabled`]:a.disabled,[`${i}--form__helper-text--inline`]:s}),K=o(`${i}--text-input__field-outer-wrapper`,{[`${i}--text-input__field-outer-wrapper--inline`]:s}),R=o(`${i}--text-input__field-wrapper`,{[`${i}--text-input__field-wrapper--warning`]:a.warn,[`${i}--text-input__field-wrapper--slug`]:I,[`${i}--text-input__field-wrapper--decorator`]:d}),ie=o({[`${i}--text-input__invalid-icon`]:a.invalid||a.warn,[`${i}--text-input__invalid-icon--warning`]:a.warn}),le=o(`${i}--label`,{[`${i}--label--disabled`]:u,[`${i}--text-input__label-counter`]:!0}),X=$&&l?t.createElement(se,{as:"div",className:le},`${n}/${l}`):null,Y=L?t.createElement(se,{as:"label",htmlFor:b,className:S},L):null,M=t.createElement("div",{className:`${i}--text-input__label-wrapper`},Y,X),Z=v?t.createElement(se,{as:"div",id:a.helperId,className:J},v):null,ae=t.createElement("input",oe({sharedTextInputProps:q,invalid:a.invalid,invalidId:a.invalidId,warn:a.warn,warnId:a.warnId})),{isFluid:g}=E.useContext(xe),ee=E.useRef(null),[Q,W]=E.useState(""),H=_e(n,l);E.useEffect(()=>{if(H&&H!==Q){const y=ee.current;if(y){y.textContent="";const U=setTimeout(()=>{y&&(y.textContent=H,W(H))},1e3);return()=>{U&&clearTimeout(U)}}}},[H,Q]);const ce=a.icon;let B=t.isValidElement(I??d)?I??d:null;return B&&((ue=B.type)==null?void 0:ue.displayName)==="AILabel"&&(B=t.cloneElement(B,{size:"mini"})),t.createElement("div",{className:G},s?t.createElement("div",{className:`${i}--text-input__label-helper-wrapper`},M,!g&&(a.validation||Z)):M,t.createElement("div",{className:K},t.createElement("div",{className:R,"data-invalid":a.invalid||null},ce&&t.createElement(ce,{className:ie}),ae,I?B:d?t.createElement("div",{className:`${i}--text-input__field-inner-wrapper--decorator`},B):"",t.createElement("span",{className:`${i}--text-input__counter-alert`,role:"alert","aria-live":"assertive","aria-atomic":"true",ref:ee},H),g&&t.createElement("hr",{className:`${i}--text-input__divider`}),g&&!s&&a.validation),!g&&!s&&(a.validation||Z)))});ne.displayName="TextInput";ne.PasswordInput=pe;ne.ControlledPasswordInput=de;ne.propTypes={className:e.string,decorator:e.node,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,enableCounter:e.bool,helperText:e.node,hideLabel:e.bool,id:e.string.isRequired,inline:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:te(e.bool),maxCount:e.number,onChange:e.func,onClick:e.func,placeholder:e.string,readOnly:e.bool,size:e.oneOf(["sm","md","lg"]),slug:te(e.node),type:e.string,value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};export{pe as P,ne as T};
