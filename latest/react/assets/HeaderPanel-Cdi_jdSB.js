import{b as $,d as k,_ as T,k as R,Y as K,Z as V,P as e,i as C,B as q,l as v}from"./index-4poXP75K.js";import{r as h,e as l}from"./index-DtHxqM--.js";import{L as M,A as D}from"./Link-UZfSSxF0.js";const I=h.forwardRef(function(u,y){const{"aria-label":c,"aria-labelledby":N,className:p,children:w,isSelected:E,expanded:x,tabIndex:r=x?0:-1,index:o,handleSwitcherItemFocus:d,onKeyDown:L=()=>{},href:S,target:b,rel:f,...t}=u,s=$(),_=k(`${s}--switcher__item`,{[p||""]:!!p}),m={"aria-label":c,"aria-labelledby":N},i=k(`${s}--switcher__item-link`,{[`${s}--switcher__item-link--selected`]:E});function n(a){R(a,K)&&(a.preventDefault(),d==null||d({currentIndex:o||-1,direction:1})),R(a,V)&&(a.preventDefault(),d==null||d({currentIndex:o||-1,direction:-1}))}return l.createElement("li",{className:_},l.createElement(M,T({onKeyDown:a=>{n(a),L(a)},href:S,target:b,rel:f,ref:y},t,{className:i,tabIndex:r},m),w))});I.displayName="SwitcherItem";I.propTypes={...D,children:e.node.isRequired,className:e.string,handleSwitcherItemFocus:e.func,href:e.string,index:e.number,onClick:e.func,onKeyDown:e.func,tabIndex:e.number,target:e.string,rel:e.string};const A=h.forwardRef(function(u,y){const c=h.useRef(null),N=C([c,y]),p=$(),{"aria-label":w,"aria-labelledby":E,className:x,children:r,expanded:o}=u,d={"aria-label":w,"aria-labelledby":E},L=k(`${p}--switcher`,{[x||""]:!!x}),S=({currentIndex:f,direction:t})=>{var i,n;const s=l.Children.toArray(r).reduce((a,g,B)=>(l.isValidElement(g)&&Object.keys(g.props).length!==0&&g.type===I&&a.push(B),a),[]),_=(()=>{const a=s.indexOf(f)+t;switch(s[a]){case void 0:return t===-1?s[s.length-1]:s[0];case 0:if(t===1)return s[1];default:return s[a]}})(),m=(n=(i=c.current)==null?void 0:i.children[_])==null?void 0:n.children[0];m&&m.focus()},b=l.Children.toArray(r).map((f,t)=>l.isValidElement(f)&&f.type===I?l.cloneElement(f,{handleSwitcherItemFocus:S,index:t,key:t,expanded:o}):l.cloneElement(f,{index:t,key:t,expanded:o}));return l.createElement("ul",T({ref:N,className:L},d),b)});A.displayName="Switcher";A.propTypes={...D,children:e.node.isRequired,className:e.string,expanded:e.bool};const O=()=>{},H=l.forwardRef(function({children:u,className:y,expanded:c,addFocusListeners:N=!0,onHeaderPanelFocus:p=O,href:w,...E},x){const r=$(),o=h.useRef(null),d=C([o,x]),L=h.useRef(c!==void 0).current,[S,b]=h.useState(c),f=L?c:S,[t,s]=h.useState(null),_=k(`${r}--header-panel`,{[`${r}--header-panel--expanded`]:f,[y]:!!y}),m={};return N&&(m.onBlur=i=>{var n;!i.currentTarget.contains(i.relatedTarget)&&!((n=t==null?void 0:t.classList)!=null&&n.contains(`${r}--switcher__item-link`))&&(b(!1),s(null),c&&p())},m.onKeyDown=i=>{R(i,v)&&(b(!1),p(),w&&(window.location.href=w))}),q("click",i=>{var g;const n=i.target;if(!(n instanceof HTMLElement))return;s(n),h.isValidElement(u)&&typeof u.type!="string"&&u.type===A&&!n.closest(`.${r}--header-panel--expanded`)&&!n.closest(`.${r}--header__action`)&&!((g=o==null?void 0:o.current)!=null&&g.classList.contains(`${r}--switcher`))&&c&&(b(!1),p())}),l.createElement("div",T({},E,{className:_,ref:d},m),u)});H.propTypes={addFocusListeners:e.bool,children:e.node,className:e.string,expanded:e.bool,href:e.string,onHeaderPanelFocus:e.func};H.displayName="HeaderPanel";export{H,A as S,I as a};
