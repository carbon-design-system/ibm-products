import{r as i,p as S,c as T,e as a,T as $}from"./iframe-BBf3bqTv.js";import{g as A}from"./devtools-c2gfrTL0.js";const H=e=>e?e?.offsetHeight<e?.scrollHeight:!1;function z({lines:e,value:p,expanded:l}){const[o,u]=i.useState(!1),t=i.useRef(null);return i.useEffect(()=>{const c=new ResizeObserver(()=>{if(!l){const s=H(t.current);s!==o&&u(s)}});return t.current&&c.observe(t.current),()=>{c.disconnect()}},[l,e,p,o]),{ref:t,truncated:o}}const r=`${S.prefix}--truncated-text`,y="TruncatedText",g=i.forwardRef((e,p)=>{const{align:l="top",autoAlign:o=!1,className:u,collapseLabel:t,expandLabel:c,id:s=`${r}-default-id`,lines:x=2,value:f,type:d="tooltip",...v}=e,[n,w]=i.useState(!1),{ref:E,truncated:q}=z({lines:x,value:f,expanded:n}),C={WebkitLineClamp:d==="expand"&&!n||d==="tooltip"?x:"none"},N=T(`${r}__text-content`,{[`${r}__text-content--expanded`]:n}),h=()=>{w(!n)},_=O=>{const{key:b}=O;(b==="Enter"||b===" ")&&h()},m=a.createElement("span",{...d==="tooltip"?{role:"button"}:{},ref:E,className:N,id:s,style:C},f),k=a.createElement($,{align:l,autoAlign:o,label:f},m),R=a.createElement(a.Fragment,null,m,a.createElement("span",{"aria-controls":s,"aria-expanded":n,className:`${r}__expand-toggle`,onClick:h,onKeyDown:_,role:"button",tabIndex:0},n?t:c)),L=d==="expand"?R:k;return a.createElement("div",{...v,className:T(r,u),ref:p,...A(y)},q?L:m)});g.displayName=y;g.__docgenInfo={description:"",methods:[],displayName:"TruncatedText",props:{align:{required:!1,tsType:{name:"PopoverAlignment"},description:"Specify how the tooltip should align with the content in tooltip variant. Refer to Carbon tooltip docs for additional information."},autoAlign:{required:!1,tsType:{name:"boolean"},description:"Specify whether a auto align functionality should be applied in tooltip variant. Refer to Carbon tooltip docs for additional information."},className:{required:!1,tsType:{name:"string"},description:"Optional class."},collapseLabel:{required:!1,tsType:{name:"string"},description:"The label on the collapse button."},expandLabel:{required:!1,tsType:{name:"string"},description:"The label on expand button."},id:{required:!0,tsType:{name:"string"},description:"Unique identifier for the element."},lines:{required:!1,tsType:{name:"number"},description:"The maximum number of lines to display before truncation."},type:{required:!1,tsType:{name:"union",raw:"'tooltip' | 'expand'",elements:[{name:"literal",value:"'tooltip'"},{name:"literal",value:"'expand'"}]},description:'The method to display the full text when truncated. Options are "tooltip" or "expand". if not passed, the text would just be truncated with ellipsis.'},value:{required:!1,tsType:{name:"string"},description:"The string value to be truncated."}}};export{g as T};
//# sourceMappingURL=TruncatedText-DbYAUHIX.js.map
