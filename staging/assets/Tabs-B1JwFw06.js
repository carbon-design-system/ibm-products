import{e as $e,d as _e,b as F,c as M,l as O,_ as A,Q as ye,M as Le,j as be,C as we,w as Ce,t as me,R as ve,U as he,V as pe,i as V,W as Ne}from"./index-CQ0F2wkl.js";import{k as oe,T as ge,h as Te}from"./settings-xiNX1vM3.js";import{P as n}from"./index-Dk74W0Oi.js";import{r,R as t}from"./index-BwDkhjyp.js";import{r as re}from"./index-DcAOwtUU.js";import{u as Pe}from"./useControllableState-DwpxGhsf.js";import{g as le}from"./useNoInteractiveChildren-B4Ro9ZJd.js";import{b as ce}from"./index-ABeo-Xma.js";import{u as Re}from"./useMatchMedia-DGyu3MoP.js";import{T as U}from"./Text-BiMgJRID.js";function ae(p){const d=r.useRef(p),m=r.useRef(!1);r.useEffect(()=>{d.current=p}),r.useEffect(()=>{m.current!==!0&&(m.current=!0,d.current())},[])}function ie(p){let{onPress:d,onPressIn:m,onPressOut:a,onLongPress:v,delayLongPressMs:f=500}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=r.useRef(d),i=r.useRef(m),h=r.useRef(a),I=r.useRef(v),[$,y]=r.useState(!1),[e,x]=r.useState(!1),w=r.useRef({longPress:!1});r.useEffect(()=>{l.current=d},[d]),r.useEffect(()=>{i.current=m},[m]),r.useEffect(()=>{h.current=a},[a]),r.useEffect(()=>{I.current=v},[v]),r.useEffect(()=>{const{current:u}=p;function L(c){var B;y(!0),(B=i.current)==null||B.call(i),c.preventDefault()}function S(){var c;y(!1),x(!1),(c=h.current)==null||c.call(h,w.current)}function g(){var c;y(!1),x(!1),(c=h.current)==null||c.call(h),w.current.longPress=!1}function b(){var c;y(!1),x(!1),(c=h.current)==null||c.call(h),w.current.longPress=!1}function s(){var c;x(!1),y(!1),(c=l.current)==null||c.call(l,w.current),w.current.longPress=!1}function T(c){c.preventDefault()}return u.addEventListener("pointerdown",L),u.addEventListener("pointerup",S),u.addEventListener("pointercancel",g),u.addEventListener("pointerleave",b),u.addEventListener("click",s),u.addEventListener("contextmenu",T),()=>{u.removeEventListener("pointerdown",L),u.removeEventListener("pointerup",S),u.removeEventListener("pointercancel",g),u.removeEventListener("pointerleave",b),u.removeEventListener("click",s),u.removeEventListener("contextmenu",T)}},[p]),r.useEffect(()=>{if($){const u=setTimeout(()=>{y(!1),x(!0)},f);return()=>{clearTimeout(u)}}},[$,f]),r.useEffect(()=>{var u;if(e)return w.current.longPress=!0,(u=I.current)==null?void 0:u.call(I)},[e])}var ue,de;const G=t.createContext({baseId:"",activeIndex:0,defaultSelectedIndex:0,dismissable:!1,onTabCloseRequest(){},setActiveIndex(){},selectedIndex:0,setSelectedIndex(){}}),Ee=t.createContext({index:0,hasSecondaryLabel:!1}),Se=`(min-width: ${Te.lg.width})`,xe=t.createContext(0);function We(p){let{children:d,defaultSelectedIndex:m=0,onChange:a,selectedIndex:v,dismissable:f,onTabCloseRequest:l}=p;const i=_e("ccs"),[h,I]=r.useState(m),[$,y]=Pe({value:v,defaultValue:m,onChange:x=>a==null?void 0:a({selectedIndex:x})}),e={baseId:i,activeIndex:h,defaultSelectedIndex:m,dismissable:f,onTabCloseRequest:l,setActiveIndex:I,selectedIndex:$,setSelectedIndex:y};return t.createElement(G.Provider,{value:e},d)}We.propTypes={children:n.node,defaultSelectedIndex:n.number,dismissable:n.bool,onChange:n.func,onTabCloseRequest:p=>{if(p.dismissable&&!p.onTabCloseRequest)return new Error("dismissable property specified without also providing an onTabCloseRequest property.")},selectedIndex:n.number};n.node,n.number,n.string,n.func,n.number;function Be(p,d,m){switch(!0){case V(p,me):return(m+1)%d;case V(p,ve):return(d+m-1)%d;case V(p,he):return 0;case V(p,pe):return d-1;default:return m}}function De(p){let{activation:d="automatic","aria-label":m,children:a,className:v,contained:f=!1,fullWidth:l=!1,iconSize:i,leftOverflowButtonProps:h,light:I,rightOverflowButtonProps:$,scrollDebounceWait:y=200,scrollIntoView:e,...x}=p;const{activeIndex:w,selectedIndex:u,setSelectedIndex:L,setActiveIndex:S,dismissable:g}=t.useContext(G),b=F(),s=r.useRef(null),T=r.useRef(null),c=r.useRef(null),[B,q]=r.useState(!1),[P,R]=r.useState(0);let k=!1;f&&(k=t.Children.toArray(a).some(o=>re.isElement(o)&&!!o.props.secondaryLabel));const J=Re(Se),X=l&&f&&J&&t.Children.toArray(a).length<9,Y=M(`${b}--tabs`,{[`${b}--tabs--contained`]:f,[`${b}--tabs--light`]:I,[`${b}--tabs__icon--default`]:i==="default",[`${b}--tabs__icon--lg`]:i==="lg",[`${b}--layout--size-lg`]:i==="lg",[`${b}--tabs--tall`]:k,[`${b}--tabs--full-width`]:X,[`${b}--tabs--dismissable`]:g},v),D=44,[j,Z]=r.useState(s.current?P+D+s.current.clientWidth<s.current.scrollWidth:!1),ee=s.current?B&&P>0:!1,K=M(`${b}--tab--overflow-nav-button`,`${b}--tab--overflow-nav-button--previous`,{[`${b}--tab--overflow-nav-button--hidden`]:!ee}),Q=M(`${b}--tab--overflow-nav-button`,`${b}--tab--overflow-nav-button--next`,{[`${b}--tab--overflow-nav-button--hidden`]:!j}),C=r.useRef([]),te=r.useCallback(()=>oe(o=>{R(o.target.scrollLeft)},y),[y]);function _(o){var E;if(Ce(o,[me,ve,he,pe])){o.preventDefault();const H=C.current.filter(se=>se!==null).filter(se=>!se.disabled),ne=H.indexOf(C.current[d==="automatic"?u:w]),z=C.current.indexOf(H[Be(o,H.length,ne)]);d==="automatic"?L(z):d==="manual"&&S(z),(E=C.current[z])==null||E.focus()}}function W(o){var N;let{relatedTarget:E}=o;(N=s.current)!=null&&N.contains(E)||d==="manual"&&S(u)}return ae(()=>{const o=C.current[u];e&&o&&o.scrollIntoView({block:"nearest",inline:"nearest"})}),r.useEffect(()=>{Z(s.current?P+D+s.current.clientWidth+1<s.current.scrollWidth:!1),g&&s.current&&q(s.current.scrollWidth>s.current.clientWidth)},[P,a,g,B]),ae(()=>{var o;if((o=C.current[u])!=null&&o.disabled){const E=C.current.filter(N=>!N.disabled);if(E.length>0){const N=E[0];L(C.current.indexOf(N))}}}),O(()=>{s.current&&q(s.current.scrollWidth>s.current.clientWidth+1);function o(){s.current&&q(s.current.scrollWidth>s.current.clientWidth+1)}const E=oe(o,200);return window.addEventListener("resize",E),()=>{E.cancel(),window.removeEventListener("resize",E)}},[]),O(()=>{P!==null&&s.current&&(s.current.scrollLeft=P)},[P]),O(()=>{if(!B||!s.current)return;const o=d==="manual"?C.current[w]:C.current[u];if(o){const{width:E}=o.getBoundingClientRect(),N=o.offsetLeft,H=o.offsetLeft+E,ne=s.current.scrollLeft+D,z=s.current.scrollLeft+s.current.clientWidth-D;N<ne&&R(N-D),H>z&&R(H+D-s.current.clientWidth)}},[d,w,u,B,a]),ie(T,{onPress(o){let{longPress:E}=o;!E&&s.current&&R(Math.max(P-s.current.scrollWidth/C.current.length*1.5,0))},onLongPress(){return fe(s,"backward",R)}}),ie(c,{onPress(o){let{longPress:E}=o;!E&&s.current&&R(Math.min(P+s.current.scrollWidth/C.current.length*1.5,s.current.scrollWidth-s.current.clientWidth))},onLongPress(){return fe(s,"forward",R)}}),t.createElement("div",{className:Y},t.createElement("button",A({"aria-hidden":"true",tabIndex:-1,"aria-label":"Scroll left",ref:T,className:K,type:"button"},h),ue||(ue=t.createElement(ye,null))),t.createElement("div",A({},x,{"aria-label":m,ref:s,role:"tablist",className:`${b}--tab--list`,onScroll:te,onKeyDown:_,onBlur:W}),t.Children.map(a,(o,E)=>re.isElement(o)?t.createElement(Ee.Provider,{value:{index:E,hasSecondaryLabel:k,contained:f}},t.cloneElement(o,{ref:N=>{C.current[E]=N}})):null)),t.createElement("button",A({"aria-hidden":"true",tabIndex:-1,"aria-label":"Scroll right",ref:c,className:Q,type:"button"},$),de||(de=t.createElement(Le,null))))}De.propTypes={activation:n.oneOf(["automatic","manual"]),"aria-label":n.string.isRequired,children:n.node,className:n.string,contained:n.bool,fullWidth:n.bool,iconSize:n.oneOf(["default","lg"]),leftOverflowButtonProps:n.object,light:$e(n.bool),rightOverflowButtonProps:n.object,scrollDebounceWait:n.number,scrollIntoView:n.bool};n.oneOf(["automatic","manual"]),n.string.isRequired,n.node,n.string;function fe(p,d,m){const a=p.current;if(!a)return()=>{};const v=a==null?void 0:a.style["scroll-behavior"];a.style["scroll-behavior"]="auto";const f=d==="forward"?5:-5;let l=null;function i(){a&&(a.scrollLeft=a.scrollLeft+f,l=requestAnimationFrame(i))}return l=requestAnimationFrame(i),()=>{a.style["scroll-behavior"]=v,m(a.scrollLeft),l&&cancelAnimationFrame(l)}}const Ie=r.forwardRef(function(d,m){let{as:a="button",children:v,className:f,disabled:l,onClick:i,onKeyDown:h,secondaryLabel:I,renderIcon:$,...y}=d;const e=F(),{selectedIndex:x,setSelectedIndex:w,baseId:u,dismissable:L,onTabCloseRequest:S}=t.useContext(G),{index:g,hasSecondaryLabel:b,contained:s}=t.useContext(Ee),T=r.useRef(null),c=r.useRef(null),B=be([m,c]),[q,P]=r.useState(!1),R=`${u}-tab-${g}`,k=`${u}-tabpanel-${g}`,[J,X]=r.useState(!1),Y=_=>(X(_.offsetHeight<_.scrollHeight),_.offsetHeight<_.scrollHeight),D=M(`${e}--tabs__nav-item`,`${e}--tabs__nav-link`,{[`${e}--tabs__nav-item--selected`]:x===g,[`${e}--tabs__nav-item--disabled`]:l,[`${e}--tabs__nav-item--hover-off`]:q},f),j=a,Z=_=>{s&&c.current&&(_.stopPropagation(),P(!0),c.current.classList.add(`${e}--tabs__nav-item--hover-off`))},ee=()=>{s&&c.current&&(c.current.classList.remove(`${e}--tabs__nav-item--hover-off`),P(!1))};ce(T,"mouseover",Z),ce(T,"mouseleave",ee),O(()=>{function _(){const W=document.getElementById(`${R}`)||c.current;if(W!=null&&W.closest(`.${e}--tabs--vertical`)){const o=W==null?void 0:W.getElementsByClassName(`${e}--tabs__nav-item-label`)[0];Y(o)}}return _(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[e,R]);const K=_=>{var W;if(_.stopPropagation(),S==null||S(g),c.current&&c.current.parentElement){const o=Array.from(c.current.parentElement.childNodes).filter(E=>{const N=E;return N.classList.contains(`${e}--tabs__nav-link`)&&!N.classList.contains(`${e}--tabs__nav-item--disabled`)}).length;if(c.current&&g+1!==o)c.current.focus();else{const E=(o-2)*2;(W=c.current.parentElement.childNodes[E])==null||W.focus()}}},Q=_=>{L&&V(_,Ne)&&K(_),h==null||h(_)},C=t.createElement("div",{className:M({[`${e}--tabs__nav-item--close`]:L,[`${e}--tabs__nav-item--close--hidden`]:!L})},t.createElement("button",{type:"button",tabIndex:x===g&&L?0:-1,"aria-disabled":l,"aria-hidden":x===g&&L?"false":"true",disabled:l,className:M({[`${e}--tabs__nav-item--close-icon`]:L,[`${e}--visually-hidden`]:!L,[`${e}--tabs__nav-item--close-icon--selected`]:x===g,[`${e}--tabs__nav-item--close-icon--disabled`]:l}),onClick:K,title:`Remove ${typeof v=="string"?v:""} tab`,ref:T},t.createElement(we,{"aria-hidden":x===g&&L?"false":"true","aria-label":`Press delete to remove ${typeof v=="string"?v:""} tab`}))),te=$??L;return J?t.createElement(ge,{label:v,align:"top",leaveDelayMs:0,autoAlign:!0,onMouseEnter:()=>!1,closeOnActivation:!0},t.createElement(j,A({},y,{"aria-controls":k,"aria-disabled":l,"aria-selected":x===g,ref:B,id:R,role:"tab",className:D,disabled:l,title:v,onClick:_=>{l||(w(g),i==null||i(_))},onKeyDown:Q,tabIndex:x===g?"0":"-1",type:"button"}),t.createElement("div",{className:`${e}--tabs__nav-item-label-wrapper`},t.createElement(U,{className:`${e}--tabs__nav-item-label`},v)),b&&I&&t.createElement(U,{as:"div",className:`${e}--tabs__nav-item-secondary-label`,title:I},I))):t.createElement(t.Fragment,null,t.createElement(j,A({},y,{"aria-controls":k,"aria-disabled":l,"aria-selected":x===g,ref:B,id:R,role:"tab",className:D,disabled:l,onClick:_=>{l||(w(g),i==null||i(_))},onKeyDown:Q,tabIndex:x===g?"0":"-1",type:"button"}),t.createElement("div",{className:`${e}--tabs__nav-item-label-wrapper`},L&&$&&t.createElement("div",{className:`${e}--tabs__nav-item--icon-left`},t.createElement($,{size:16})),t.createElement(U,{className:`${e}--tabs__nav-item-label`},v),!L&&$&&t.createElement("div",{className:M(`${e}--tabs__nav-item--icon`,{[`${e}--visually-hidden`]:!te})},!L&&$&&t.createElement($,{size:16}))),b&&I&&t.createElement(U,{as:"div",className:`${e}--tabs__nav-item-secondary-label`,title:I},I)),C)});Ie.propTypes={as:n.oneOfType([n.string,n.elementType]),children:n.node,className:n.string,disabled:n.bool,onClick:n.func,onKeyDown:n.func,renderButton:n.func,renderIcon:n.oneOfType([n.func,n.object]),secondaryLabel:n.string};const Me=t.forwardRef(function(d,m){let{children:a,className:v,defaultOpen:f=!1,enterDelayMs:l,leaveDelayMs:i,label:h,...I}=d;const $=F(),y=M(`${$}--tabs__nav-item--icon-only`,v);return t.createElement(ge,{align:"bottom",defaultOpen:f,className:`${$}--icon-tooltip`,enterDelayMs:l,label:h,leaveDelayMs:i},t.createElement(Ie,A({className:y,ref:m},I),a))});Me.propTypes={children:n.node,className:n.string,defaultOpen:n.bool,enterDelayMs:n.number,label:n.node.isRequired,leaveDelayMs:n.number};const Ae=t.forwardRef(function(d,m){let{children:a,className:v,...f}=d;const l=F(),i=r.useRef(null),h=be([m,i]),[I,$]=r.useState(0),[y,e]=r.useState(!1),{selectedIndex:x,baseId:w}=t.useContext(G),u=t.useContext(xe),L=`${w}-tabpanel-${u}`,S=`${w}-tab-${u}`,g=M(`${l}--tab-content`,v,{[`${l}--tab-content--interactive`]:y});return ae(()=>{if(!i.current)return;le(i.current)&&(e(!0),$(-1))}),r.useEffect(()=>{const b=i.current;if(!b)return;function s(){le(b)?(e(!0),$(-1)):(e(!1),$(0))}const T=new MutationObserver(s);return T.observe(b,{childList:!0,subtree:!0}),()=>T.disconnect()},[]),t.createElement("div",A({},f,{"aria-labelledby":S,id:L,className:g,ref:h,role:"tabpanel",tabIndex:I,hidden:x!==u}),a)});Ae.propTypes={children:n.node,className:n.string};function ke(p){let{children:d}=p;const m=F(),a=r.useRef([]),v=r.useRef([]);return O(()=>{var h,I;const f=(h=a.current[0])==null?void 0:h.previousElementSibling,l=f==null?void 0:f.classList.contains(`${m}--tabs--vertical`),i=(I=f==null?void 0:f.parentElement)==null?void 0:I.style.height;if(l&&!i){v.current=a.current.map(e=>(e==null?void 0:e.hidden)||!1),a.current.forEach(e=>{e&&(e.hidden=!1)});const $=a.current.map(e=>(e==null?void 0:e.offsetHeight)||0),y=Math.max(...$);f.style.height=y+"px",a.current.forEach((e,x)=>{e&&(e.hidden=v.current[x])})}}),t.createElement(t.Fragment,null,t.Children.map(d,(f,l)=>re.isElement(f)?t.createElement(xe.Provider,{value:l},t.cloneElement(f,{ref:i=>{a.current[l]=i}})):null))}ke.propTypes={children:n.node};export{De as T,Ie as a,We as b,ke as c,Ae as d};
