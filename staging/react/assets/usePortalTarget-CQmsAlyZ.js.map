{"version":3,"file":"usePortalTarget-CQmsAlyZ.js","sources":["../../src/global/js/hooks/usePortalTarget.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2023, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { pkg } from '../../../settings';\nimport { createPortal } from 'react-dom';\nimport { useFeatureFlag } from '../../../components/FeatureFlags';\n\nconst usePortalTarget = (portalTargetIn) => {\n  const enablePortalTarget = useFeatureFlag('default-portal-target-body');\n  const [portalTarget, setPortalTarget] = useState(null);\n\n  useEffect(() => {\n    if (portalTargetIn) {\n      setPortalTarget(portalTargetIn);\n    } else {\n      if (\n        pkg.isFeatureEnabled('default-portal-target-body') ||\n        enablePortalTarget\n      ) {\n        setPortalTarget(document.body);\n      }\n    }\n  }, [portalTargetIn, enablePortalTarget]);\n\n  const renderPortalUse = useCallback(\n    (children) =>\n      portalTarget ? createPortal(children, portalTarget) : children,\n    [portalTarget]\n  );\n\n  return renderPortalUse;\n};\n\nexport { usePortalTarget };\n"],"names":["usePortalTarget","portalTargetIn","enablePortalTarget","useFeatureFlag","portalTarget","setPortalTarget","useState","useEffect","pkg","useCallback","children","createPortal"],"mappings":"+FAYA,MAAMA,EAAmBC,GAAmB,CAC1C,MAAMC,EAAqBC,EAAe,4BAA4B,EAChE,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAAS,IAAI,EAErDC,OAAAA,EAAAA,UAAU,IAAM,CACVN,EACFI,EAAgBJ,CAAc,GAG5BO,EAAI,iBAAiB,4BAA4B,GACjDN,IAEAG,EAAgB,SAAS,IAAI,CAGnC,EAAG,CAACJ,EAAgBC,CAAkB,CAAC,EAEfO,EAAAA,YACrBC,GACCN,EAAeO,EAAAA,aAAaD,EAAUN,CAAY,EAAIM,EACxD,CAACN,CAAY,CAAA,CAIjB"}