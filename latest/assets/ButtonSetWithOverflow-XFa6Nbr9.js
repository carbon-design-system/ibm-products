import{r as l,e}from"./index-DtHxqM--.js";import{b as q,P as s,d as C}from"./index-CMVdkQrl.js";import{u as y}from"./useResizeObserver-DtwIjblY.js";import{B as k,p as P}from"./settings-C3kz8lqM.js";import{B as I}from"./ButtonSet-S29aEq84.js";import{M}from"./MenuItem-tJ9rUog4.js";import{M as T}from"./index-CB_9HnqS.js";import{p as F}from"./props-helper-3VCN3cvm.js";const n=`${P.prefix}--button-set-with-overflow`,L="ButtonSetWithOverflow",d="md",z=({buttons:u,className:N,onWidthChange:_,buttonSetOverflowLabel:R,menuOptionsClass:E,rightAlign:$})=>{const O=q(),[W,x]=l.useState(!1),h=l.useRef(null),g=l.useRef(null),v=l.useRef(null),m=l.useRef({}),b=()=>{var o,r,c;const f=(o=h.current)==null?void 0:o.offsetWidth;let i=!0;const p=(r=g.current)==null?void 0:r.querySelectorAll(`.${O}--btn`);let t=0;for(let S of p)t+=S.offsetWidth;const a=(c=v.current)==null?void 0:c.offsetWidth;_&&(m.current.minWidth!==a||m.current.maxWidth!==t)&&(m.current.minWidth=a,m.current.maxWidth=t,_({...m.current})),t<=f&&(i=!1),x(i)};l.useEffect(()=>{b()},[u]);const w=e.forwardRef(({isHidden:f=!1,buttons:i,...p},t)=>e.createElement(I,{...p,ref:t},i.map(({label:a,key:o,kind:r,id:c,...S})=>{const A=r==="default"?"primary":r;return e.createElement(k,{...S,key:o&&`button-set-${o}`,size:d,type:"button",kind:A,id:c?f?`${c}--hidden`:c:null},a)})));w.propTypes={isHidden:s.bool};const B=e.forwardRef(({buttons:f,...i},p)=>e.createElement(T,{...i,ref:p,label:R},f.map(({key:t,kind:a,...o})=>{const r=a==="danger"?"danger":"default";return e.createElement(M,{...F(o,["iconDescription","renderIcon"]),key:t&&`button-menu-${t}`,kind:r})}).reverse()));return y(g,b),y(v,b),y(h,b),e.createElement("div",{className:C([n,N,{[`${n}--right`]:$}]),ref:h},e.createElement("div",{className:`${n}__button-container ${n}__button-container--hidden`},e.createElement(w,{"aria-hidden":!0,ref:g,size:d,buttons:u,isHidden:!0})),e.createElement("div",{className:`${n}__button-container ${n}__button-container--hidden`,"aria-hidden":!0},e.createElement(B,{className:E,ref:v,buttons:u,size:d})),e.createElement("div",{className:`${n}__button-container ${n}__button-container--visible`},W?e.createElement(B,{buttons:u,size:d,className:E}):e.createElement(w,{className:`${n}__button-container`,size:d,buttons:u})))};z.propTypes={buttonSetOverflowLabel:s.node.isRequired,buttons:s.array.isRequired,className:s.string,menuOptionsClass:s.string,onWidthChange:s.func,rightAlign:s.bool};z.displayName=L;z.__docgenInfo={description:"",methods:[],displayName:"ButtonSetWithOverflow",props:{buttonSetOverflowLabel:{description:"buttonSetOverflowLabel - used when button set is shown as combo button",type:{name:"node"},required:!0},buttons:{description:`Specifies the buttons for the ButtonSetWithOverflow. Each item is specified as an object
with the properties of a Carbon Button plus a label.

Carbon Button API https://react.carbondesignsystem.com/?path=/docs/components-button--default#component-api`,type:{name:"array"},required:!0},className:{description:"className",type:{name:"string"},required:!1},menuOptionsClass:{description:"class name applied to the overflow options",type:{name:"string"},required:!1},onWidthChange:{description:"onResize reports maxSize on resize",type:{name:"func"},required:!1},rightAlign:{description:"align buttons to right of available space",type:{name:"bool"},required:!1}}};export{z as B};
