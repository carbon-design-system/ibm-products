{"version":3,"file":"CreateSidePanel-CgGvLgLv.js","sources":["../../src/components/CreateSidePanel/CreateSidePanel.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2021, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React, { PropsWithChildren, ReactNode } from 'react';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { pkg } from '../../settings';\n\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\n\n// Carbon and package components we use.\nimport { ButtonProps, Form } from '@carbon/react';\nimport { SidePanel } from '../SidePanel';\nimport uuidv4 from '../../global/js/utils/uuidv4';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--create-side-panel`;\nconst componentName = 'CreateSidePanel';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\ninterface CreateSidePanelProps {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n  /**\n   * The description of the CreateSidePanel serves to provide more information about the form within the panel.\n   */\n  description?: ReactNode;\n  /**\n   * Specifies a boolean for disabling or enabling the primary button. This is important for form validation\n   * Returning `true` prevents the primary button from being clicked until required fields are completed.\n   */\n  disableSubmit?: boolean;\n  /**\n   * Specifies an optional field that provides a additional context for a form\n   */\n  formDescription?: ReactNode;\n\n  /**\n   * Specifies a required field that provides a title for a form\n   */\n  formTitle: ReactNode;\n\n  /**\n   * Unique identifier\n   */\n  id?: string;\n\n  /**\n   * Specifies an optional handler which is called when the CreateSidePanel\n   * is closed.\n   */\n  onRequestClose?(): void;\n  /**\n   * Specifies an optional handler which is called when the CreateSidePanel\n   * primary button is pressed.\n   */\n  onRequestSubmit?(): void;\n  /**\n   * Specifies whether the CreateSidePanel is open or not.\n   */\n  open: boolean;\n  /**\n   * Specifies the primary button's text in the modal.\n   */\n  primaryButtonText: string;\n  /**\n   * Specifies the secondary button's text in the modal.\n   */\n  secondaryButtonText: string;\n  /**\n   * This is the selector to the element that contains all of the page content that will shrink when the panel is a slide in.\n   * This prop is required since create flows use the `slideIn` variant of the side panel.\n   */\n  selectorPageContent: string;\n  /**\n   * Specifies which DOM element in the form should be focused.\n   */\n  selectorPrimaryFocus: string;\n\n  /**\n   *  **Experimental:** Provide a `Slug` component to be rendered inside the `SidePanel` component\n   */\n  slug?: ReactNode;\n\n  /**\n   * The subtitle of the CreateSidePanel is optional and serves to provide more information about the modal.\n   */\n  subtitle?: ReactNode;\n  /**\n   * The title of the CreateSidePanel is usually the product or service name.\n   */\n  title: string;\n}\n\n/**\n * Use with medium complexity creations if the user needs page context. On-page content can be seen and interacted with.\n */\nexport const CreateSidePanel = React.forwardRef(\n  (\n    {\n      // The component props, in alphabetical order (for consistency).\n      className,\n      children,\n      disableSubmit,\n      formTitle,\n      formDescription,\n      id,\n      onRequestClose,\n      onRequestSubmit,\n      open,\n      primaryButtonText,\n      secondaryButtonText,\n      selectorPageContent,\n      selectorPrimaryFocus,\n      subtitle,\n      title,\n      ...rest\n    }: PropsWithChildren<CreateSidePanelProps>,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const actions: ButtonProps<React.ElementType>[] = [\n      {\n        label: primaryButtonText,\n        onClick: (event) => {\n          event.preventDefault();\n          onRequestSubmit?.();\n        },\n        kind: 'primary',\n        disabled: disableSubmit,\n        type: 'submit',\n      },\n      {\n        label: secondaryButtonText,\n        onClick: onRequestClose,\n        kind: 'secondary',\n      },\n    ];\n\n    const formTitleId = uuidv4();\n\n    return (\n      selectorPageContent && (\n        <SidePanel\n          {...rest}\n          {...{\n            id,\n            open,\n            ref,\n            selectorPageContent,\n            onRequestClose,\n            title,\n            subtitle,\n            selectorPrimaryFocus,\n            ...getDevtoolsProps(componentName),\n          }}\n          placement=\"right\"\n          slideIn\n          animateTitle={false}\n          className={cx(blockClass, className)}\n          size=\"md\"\n          actions={actions}\n        >\n          <h3\n            className={`${blockClass}__form-title-text ${blockClass}__content-text`}\n            id={formTitleId}\n          >\n            {formTitle}\n          </h3>\n          <p\n            className={`${blockClass}__form-description-text ${blockClass}__content-text`}\n          >\n            {formDescription}\n          </p>\n          <Form\n            className={`${blockClass}__form`}\n            aria-labelledby={formTitleId}\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) =>\n              e.preventDefault()\n            }\n          >\n            {children}\n          </Form>\n        </SidePanel>\n      )\n    );\n  }\n);\n\nCreateSidePanel.displayName = componentName;\n\nCreateSidePanel.propTypes = {\n  /**\n   * Sets the body content of the create side panel\n   */\n  /**@ts-ignore*/\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   * The description of the CreateSidePanel serves to provide more information about the form within the panel.\n   */\n  description: PropTypes.node,\n  /**\n   * Specifies a boolean for disabling or enabling the primary button. This is important for form validation\n   * Returning `true` prevents the primary button from being clicked until required fields are completed.\n   */\n  disableSubmit: PropTypes.bool,\n  /**\n   * Specifies an optional field that provides a additional context for a form\n   */\n  formDescription: PropTypes.node,\n\n  /**\n   * Specifies a required field that provides a title for a form\n   */\n  formTitle: PropTypes.node.isRequired,\n\n  /**\n   * Unique identifier\n   */\n  id: PropTypes.string,\n\n  /**\n   * Specifies an optional handler which is called when the CreateSidePanel\n   * is closed.\n   */\n  onRequestClose: PropTypes.func,\n  /**\n   * Specifies an optional handler which is called when the CreateSidePanel\n   * primary button is pressed.\n   */\n  onRequestSubmit: PropTypes.func,\n  /**\n   * Specifies whether the CreateSidePanel is open or not.\n   */\n  /**@ts-ignore*/\n  open: PropTypes.bool,\n  /**\n   * Specifies the primary button's text in the modal.\n   */\n  primaryButtonText: PropTypes.string.isRequired,\n  /**\n   * Specifies the secondary button's text in the modal.\n   */\n  secondaryButtonText: PropTypes.string.isRequired,\n  /**\n   * This is the selector to the element that contains all of the page content that will shrink if the panel is a slide in.\n   * This prop is required when using the `slideIn` variant of the side panel.\n   */\n  selectorPageContent: PropTypes.string.isRequired,\n  /**\n   * Specifies which DOM element in the form should be focused.\n   */\n  /**@ts-ignore*/\n  selectorPrimaryFocus: PropTypes.node.isRequired,\n\n  /**\n   *  **Experimental:** Provide a `Slug` component to be rendered inside the `SidePanel` component\n   */\n  slug: PropTypes.node,\n\n  /**\n   * The subtitle of the CreateSidePanel is optional and serves to provide more information about the modal.\n   */\n  subtitle: PropTypes.node,\n  /**\n   * The title of the CreateSidePanel is usually the product or service name.\n   */\n  title: PropTypes.string.isRequired,\n};\n"],"names":["blockClass","pkg","componentName","CreateSidePanel","React","className","children","disableSubmit","formTitle","formDescription","id","onRequestClose","onRequestSubmit","open","primaryButtonText","secondaryButtonText","selectorPageContent","selectorPrimaryFocus","subtitle","title","rest","ref","actions","event","formTitleId","uuidv4","SidePanel","getDevtoolsProps","cx","Form","e","PropTypes"],"mappings":"qOAuBA,MAAMA,EAAa,GAAGC,EAAI,MAAM,sBAC1BC,EAAgB,kBAmFTC,EAAkBC,EAAM,WACnC,CACE,CAEE,UAAAC,EACA,SAAAC,EACA,cAAAC,EACA,UAAAC,EACA,gBAAAC,EACA,GAAAC,EACA,eAAAC,EACA,gBAAAC,EACA,KAAAC,EACA,kBAAAC,EACA,oBAAAC,EACA,oBAAAC,EACA,qBAAAC,EACA,SAAAC,EACA,MAAAC,EACA,GAAGC,CAAA,EAELC,IACG,CACH,MAAMC,EAA4C,CAChD,CACE,MAAOR,EACP,QAAUS,GAAU,CAClBA,EAAM,eAAA,EACNX,IAAA,CACF,EACA,KAAM,UACN,SAAUL,EACV,KAAM,QAAA,EAER,CACE,MAAOQ,EACP,QAASJ,EACT,KAAM,WAAA,CACR,EAGIa,EAAcC,EAAA,EAEpB,OACET,GACEZ,EAAA,cAACsB,EAAA,CACE,GAAGN,EAEF,GAAAV,EACA,KAAAG,EACA,IAAAQ,EACA,oBAAAL,EACA,eAAAL,EACA,MAAAQ,EACA,SAAAD,EACA,qBAAAD,EACA,GAAGU,EAAiBzB,CAAa,EAEnC,UAAU,QACV,QAAM,GACN,aAAc,GACd,UAAW0B,EAAG5B,EAAYK,CAAS,EACnC,KAAK,KACL,QAAAiB,CAAA,EAEAlB,EAAA,cAAC,KAAA,CACC,UAAW,GAAGJ,CAAU,qBAAqBA,CAAU,iBACvD,GAAIwB,CAAA,EAEHhB,CAAA,EAEHJ,EAAA,cAAC,IAAA,CACC,UAAW,GAAGJ,CAAU,2BAA2BA,CAAU,gBAAA,EAE5DS,CAAA,EAEHL,EAAA,cAACyB,EAAA,CACC,UAAW,GAAG7B,CAAU,SACxB,kBAAiBwB,EACjB,SAAWM,GACTA,EAAE,eAAA,CAAe,EAGlBxB,CAAA,CACH,CAIR,CACF,EAEAH,EAAgB,YAAcD,EAE9BC,EAAgB,UAAY,CAK1B,SAAU4B,EAAU,UAAU,CAC5BA,EAAU,QAAQA,EAAU,IAAI,EAChCA,EAAU,IAAA,CACX,EAAE,WAIH,UAAWA,EAAU,OAIrB,YAAaA,EAAU,KAKvB,cAAeA,EAAU,KAIzB,gBAAiBA,EAAU,KAK3B,UAAWA,EAAU,KAAK,WAK1B,GAAIA,EAAU,OAMd,eAAgBA,EAAU,KAK1B,gBAAiBA,EAAU,KAK3B,KAAMA,EAAU,KAIhB,kBAAmBA,EAAU,OAAO,WAIpC,oBAAqBA,EAAU,OAAO,WAKtC,oBAAqBA,EAAU,OAAO,WAKtC,qBAAsBA,EAAU,KAAK,WAKrC,KAAMA,EAAU,KAKhB,SAAUA,EAAU,KAIpB,MAAOA,EAAU,OAAO,UAC1B;;"}