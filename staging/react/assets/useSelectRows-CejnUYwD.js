import{e as d,u as A,c as x,p as C,r as i}from"./iframe-Cff_uvRq.js";import{T as L}from"./TableSelectRow-B8_IWBq6.js";import{s as N,S as W,h as H}from"./useDatagrid-BsKXOQhy.js";const b=`${C.prefix}--datagrid`,f=`${C.prefix}--datagrid__checkbox-cell`,O=t=>d.createElement(W,{...t}),j=t=>d.createElement(D,{...t}),G=t=>{v(t);const n=o=>{const{rows:e}=o,l=e.map(s=>({...s,isSelectable:!0}));Object.assign(o,{rows:l})};t.useInstance.push(n),t.useInstance.push(o=>{Object.assign(o,{withSelectRows:!0})}),t.visibleColumns.push(o=>{const e=[...o],l=e.findIndex(r=>r.id==="expander"),s=l>-1?e.splice(l,1):[];return[...l>-1&&s&&s.length?s:[],{id:N,Header:O,Cell:j},...e]})},v=t=>{const n=A(),o=(e,{row:l})=>{const{checked:s}=l.getToggleRowSelectedProps();return[e,{className:x([`${b}__carbon-row`,{[`${n}--data-table--selected`]:s,[`${b}__active-row`]:s}])}]};t.getRowProps.push(o)},D=t=>{const{isFetching:n=!1,tableId:o,row:e,cell:l,radio:s,toggleAllRowsSelected:r,onRadioSelect:a,onRowSelect:w,columns:R,withStickyColumn:P,dispatch:u,getRowId:p}=t,[k,g]=i.useState();i.useLayoutEffect(()=>{g(window.innerWidth);function c(){g(window.innerWidth)}return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const $=n||e.getRowProps().disabled,{onChange:S,title:I,...E}=e.getToggleRowSelectedProps(),m=l.getCellProps(),_=R[0]?.sticky==="left"&&P,h=`${o}-${e.id}-${e.index}`,{key:y,_cellProps:z}=m,T=i.useCallback(c=>{c.stopPropagation(),s&&(r(!1),a&&a(e)),S(c),w?.(e,c),H({dispatch:u,rowData:e,isChecked:c.target.checked,getRowId:p,selectAll:null})},[u,p,S,a,w,s,e,r]);return d.createElement(L,{key:y,...z,...E,radio:s,onSelect:T,id:h,name:`${h}-name`,className:x([f,m.className,{[`${f}-sticky-left`]:_&&Number(k)>671}]),"aria-label":I,disabled:$})};export{G as u};
