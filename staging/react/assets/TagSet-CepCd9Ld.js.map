{"version":3,"file":"TagSet-CepCd9Ld.js","sources":["../../src/components/TagSet/TagSetModal.tsx","../../src/components/TagSet/TagSetOverflow.tsx","../../src/components/TagSet/TagSet.tsx"],"sourcesContent":["//\n// Copyright IBM Corp. 2021, 2020\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\nimport React, { ReactNode, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport {\n  ComposedModal,\n  ModalHeader,\n  ModalBody,\n  Search,\n  Tag,\n} from '@carbon/react';\n\nimport { pkg } from '../../settings';\nimport { prepareProps } from '../../global/js/utils/props-helper';\nimport { usePortalTarget } from '../../global/js/hooks/usePortalTarget';\n\nconst componentName = 'TagSetModal';\nconst blockClass = `${pkg.prefix}--tag-set-modal`;\n\n// Default values for props\nconst defaults = {\n  // required for accessibility if using hasScrollingContent\n  modalAriaLabel: 'List of all tags',\n  // marked as required by TagSet if needed, default used to satisfy <Search /> component\n  searchLabel: '',\n};\n\ninterface TagType {\n  label: string;\n}\ntype AllTags = TagType[] & Omit<React.ComponentProps<typeof Tag>, 'filter'>[];\n\ninterface TagSetModalProps {\n  allTags?: AllTags;\n  className?: string;\n  modalAriaLabel?: string;\n  onClose?: () => void;\n  open?: boolean;\n  portalTarget?: ReactNode;\n  searchLabel?: string;\n  searchPlaceholder?: string;\n  title?: string;\n}\nexport const TagSetModal = ({\n  // The component props, in alphabetical order (for consistency).\n\n  allTags,\n  className,\n  title,\n  modalAriaLabel = defaults.modalAriaLabel,\n  onClose,\n  open,\n  portalTarget: portalTargetIn,\n  searchLabel = defaults.searchLabel,\n  searchPlaceholder,\n\n  // Collect any other property values passed in.\n  ...rest\n}: TagSetModalProps) => {\n  const [filteredModalTags, setFilteredModalTags] = useState<AllTags>([]);\n  const [search, setSearch] = useState('');\n  const renderPortalUse = usePortalTarget(portalTargetIn);\n  useEffect(() => {\n    let newFilteredModalTags: AllTags = [];\n    if (open) {\n      if (search === '' && allTags) {\n        newFilteredModalTags = allTags?.slice(0);\n      } else {\n        const lCaseSearch = search.toLocaleLowerCase();\n\n        allTags?.forEach((tag) => {\n          const dataSearch = tag['data-search']\n            ?.toLocaleLowerCase()\n            ?.indexOf(lCaseSearch);\n          const labelSearch = tag.label\n            ?.toLocaleLowerCase()\n            ?.indexOf(lCaseSearch);\n\n          if (dataSearch > -1 || labelSearch > -1) {\n            newFilteredModalTags.push(tag);\n          }\n        });\n      }\n    }\n    setFilteredModalTags(newFilteredModalTags);\n  }, [allTags, open, search]);\n\n  const handleSearch = (ev) => {\n    setSearch(ev.target.value || '');\n  };\n\n  return renderPortalUse(\n    <ComposedModal\n      {\n        // Pass through any other property values as HTML attributes.\n        ...rest\n      }\n      containerClassName={`${blockClass}__container`}\n      className={cx(className, `${blockClass}`)}\n      size=\"sm\"\n      {...{ open, onClose }}\n    >\n      <ModalHeader\n        className={`${blockClass}__header`}\n        closeModal={onClose}\n        title={title}\n      >\n        <Search\n          data-modal-primary-focus\n          className={`${blockClass}__search`}\n          labelText={searchLabel}\n          placeholder={searchPlaceholder}\n          onChange={handleSearch}\n          size=\"lg\"\n        />\n      </ModalHeader>\n      <ModalBody\n        className={`${blockClass}__body`}\n        hasForm\n        hasScrollingContent\n        aria-label={modalAriaLabel}\n      >\n        {filteredModalTags.map(({ label, ...other }, index) => (\n          <Tag {...other} key={`all-tags-${index}`}>\n            {label}\n          </Tag>\n        ))}\n        <div className={`${blockClass}__fade`} />\n      </ModalBody>\n    </ComposedModal>\n  );\n};\n\nTagSetModal.propTypes = {\n  allTags: PropTypes.arrayOf(\n    PropTypes.shape({\n      ...prepareProps(Tag.propTypes, 'filter'),\n      label: PropTypes.string.isRequired,\n    })\n  ),\n  className: PropTypes.string,\n  onClose: PropTypes.func,\n  open: PropTypes.bool,\n  portalTarget: PropTypes.node,\n  searchLabel: PropTypes.string,\n  searchPlaceholder: PropTypes.string,\n  title: PropTypes.string,\n};\n\nTagSetModal.displayName = componentName;\n","//\n// Copyright IBM Corp. 2021, 2024\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\nimport React, {\n  ForwardedRef,\n  PropsWithChildren,\n  ReactNode,\n  useRef,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nimport cx from 'classnames';\n\n/**@ts-ignore */\nimport { Link, Popover, PopoverContent, OperationalTag } from '@carbon/react';\nimport { useClickOutside } from '../../global/js/hooks';\nimport { pkg } from '../../settings';\n\nconst componentName = 'TagSetOverflow';\nconst blockClass = `${pkg.prefix}--tag-set-overflow`;\n\n// Default values for props\nconst defaults = {\n  allTagsModalSearchThreshold: 10,\n};\n\ntype OverflowAlign =\n  | 'top'\n  | 'top-left'\n  | 'top-right'\n  | 'bottom'\n  | 'bottom-left'\n  | 'bottom-right'\n  | 'left'\n  | 'left-bottom'\n  | 'left-top'\n  | 'right'\n  | 'right-bottom'\n  | 'right-top';\ntype OverflowType = 'default' | 'tag';\ninterface TagSetOverflowProps {\n  /**\n   * count of overflowTags over which a modal is offered\n   */\n  allTagsModalSearchThreshold?: number;\n  /**\n   * className\n   */\n  className?: string;\n  /**\n   * An optional click handler that overrides the default functionality of displaying all tags in a modal\n   */\n  onOverflowClick?: ((overFlowTags: ReactNode[]) => void) | undefined;\n  /**\n   * function to execute on clicking show all\n   */\n  onShowAllClick: () => void;\n  /**\n   * overflowAlign from the standard tooltip\n   */\n  overflowAlign?: OverflowAlign;\n  /** @type {Array<any>}\n   * tags shown in overflow\n   */\n  overflowTags: ReactNode[];\n  /**\n   * Type of rendering displayed inside of the tag overflow component\n   */\n  overflowType?: OverflowType;\n  /**\n   * Will auto-align the popover on first render if it is not visible. This prop is currently experimental and is subject to future changes.\n   */\n  overflowAutoAlign?: boolean;\n  /**\n   * Open state of the popover\n   */\n  popoverOpen?: boolean;\n  /**\n   * Setter function for the popoverOpen state value\n   */\n  setPopoverOpen: (value: boolean) => void;\n  /**\n   * label for the overflow show all tags link\n   */\n  showAllTagsLabel?: string;\n  /**\n   * Size of the overflow tag\n   */\n  size?: string;\n}\n\nexport const TagSetOverflow = React.forwardRef(\n  (\n    {\n      // The component props, in alphabetical order (for consistency).\n\n      allTagsModalSearchThreshold = defaults.allTagsModalSearchThreshold,\n      onOverflowClick,\n      className,\n      onShowAllClick,\n      overflowAlign = 'bottom',\n      overflowAutoAlign,\n      overflowTags,\n      overflowType,\n      showAllTagsLabel,\n      popoverOpen = false,\n      setPopoverOpen,\n      size,\n      // Collect any other property values passed in.\n      ...rest\n    }: PropsWithChildren<TagSetOverflowProps>,\n    ref: ForwardedRef<HTMLSpanElement>\n  ) => {\n    const localRef = useRef<HTMLSpanElement>(null);\n    const overflowTagContent = useRef(null);\n\n    useClickOutside(ref || localRef, () => {\n      if (popoverOpen) {\n        setPopoverOpen(false);\n      }\n    });\n\n    const handleShowAllTagsClick = (ev) => {\n      ev.stopPropagation();\n      ev.preventDefault();\n      setPopoverOpen(false);\n      onShowAllClick();\n    };\n\n    const handleEscKeyPress = (event) => {\n      const { key } = event;\n      if (key === 'Escape') {\n        setPopoverOpen(false);\n      }\n    };\n\n    const handleOverflowClick = () => {\n      // If a custom overflow function is provided then trigger that function\n      // on clicking the overflow\n      if (onOverflowClick) {\n        onOverflowClick(overflowTags);\n      } else {\n        setPopoverOpen(!popoverOpen);\n      }\n    };\n\n    if (onOverflowClick) {\n      return (\n        <span\n          {\n            // Pass through any other property values as HTML attributes.\n            ...rest\n          }\n          aria-hidden={overflowTags.length === 0}\n          className={cx(`${blockClass}`, {\n            [`${blockClass}--hidden`]: overflowTags.length === 0,\n          })}\n          ref={ref || localRef}\n        >\n          <OperationalTag\n            onClick={() => handleOverflowClick()}\n            className={`${blockClass}__popover-trigger`}\n            size={size}\n            text={`+${overflowTags.length}`}\n          />\n        </span>\n      );\n    }\n\n    return (\n      <span\n        {\n          // Pass through any other property values as HTML attributes.\n          ...rest\n        }\n        aria-hidden={overflowTags.length === 0}\n        className={cx(`${blockClass}`, {\n          [`${blockClass}--hidden`]: overflowTags.length === 0,\n        })}\n        ref={ref || localRef}\n      >\n        <Popover\n          align={overflowAlign}\n          className={cx(className, `${blockClass}__tagset-popover`)}\n          dropShadow\n          highContrast\n          onKeyDown={handleEscKeyPress}\n          open={popoverOpen}\n          autoAlign={overflowAutoAlign}\n        >\n          <OperationalTag\n            onClick={() => setPopoverOpen(!popoverOpen)}\n            className={cx(`${blockClass}__popover-trigger`)}\n            size={size}\n            text={`+${overflowTags.length}`}\n            aria-expanded={popoverOpen}\n            aria-controls={`${pkg.prefix}-overflow-content`}\n          />\n          <PopoverContent\n            id={`${pkg.prefix}-overflow-content`}\n            aria-hidden={!popoverOpen}\n          >\n            <div ref={overflowTagContent} className={`${blockClass}__content`}>\n              <ul className={`${blockClass}__tag-list`}>\n                {overflowTags\n                  .filter((_, index) =>\n                    overflowTags.length > allTagsModalSearchThreshold\n                      ? index < allTagsModalSearchThreshold\n                      : index <= allTagsModalSearchThreshold\n                  )\n                  .map((tag, index) => {\n                    type TagProps = { type?: string; filter?: boolean };\n                    const tagProps: TagProps = {};\n                    if (overflowType === 'tag') {\n                      tagProps.type = 'high-contrast';\n                    }\n                    if (overflowType === 'default') {\n                      tagProps.filter = false;\n                    }\n                    if (React.isValidElement(tag)) {\n                      return (\n                        <li\n                          className={cx(`${blockClass}__tag-item`, {\n                            [`${blockClass}__tag-item--default`]:\n                              overflowType === 'default',\n                            [`${blockClass}__tag-item--tag`]:\n                              overflowType === 'tag',\n                          })}\n                          key={index}\n                        >\n                          {React.cloneElement(tag, tagProps)}\n                        </li>\n                      );\n                    }\n                  })}\n              </ul>\n              {overflowTags.length > allTagsModalSearchThreshold && (\n                <Link\n                  className={`${blockClass}__show-all-tags-link`}\n                  href=\"\"\n                  onClick={handleShowAllTagsClick}\n                  role=\"button\"\n                >\n                  {showAllTagsLabel}\n                </Link>\n              )}\n            </div>\n          </PopoverContent>\n        </Popover>\n      </span>\n    );\n  }\n);\n\nTagSetOverflow.displayName = componentName;\n\nTagSetOverflow.propTypes = {\n  /**\n   * count of overflowTags over which a modal is offered\n   */\n  allTagsModalSearchThreshold: PropTypes.number,\n  /**\n   * className\n   */\n  className: PropTypes.string,\n  /**\n   * An optional click handler that overrides the default functionality of displaying all tags in a modal\n   */\n  onOverflowClick: PropTypes.func,\n  /**\n   * function to execute on clicking show all\n   */\n  onShowAllClick: PropTypes.func.isRequired,\n  /**\n   * overflowAlign from the standard tooltip\n   */\n  overflowAlign: PropTypes.oneOf([\n    'top',\n    'top-left',\n    'top-right',\n    'bottom',\n    'bottom-left',\n    'bottom-right',\n    'left',\n    'left-bottom',\n    'left-top',\n    'right',\n    'right-bottom',\n    'right-top',\n  ]),\n  /**\n   * Will auto-align the popover on first render if it is not visible. This prop is currently experimental and is subject to future changes.\n   */\n  overflowAutoAlign: PropTypes.bool,\n  /**\n   * tags shown in overflow\n   */\n  /**@ts-ignore */\n  overflowTags: PropTypes.arrayOf(PropTypes.object).isRequired,\n  /**\n   * Type of rendering displayed inside of the tag overflow component\n   */\n  overflowType: PropTypes.oneOf(['default', 'tag']),\n  /**\n   * Open state of the popover\n   */\n  popoverOpen: PropTypes.bool,\n  /**\n   * Setter function for the popoverOpen state value\n   */\n  setPopoverOpen: PropTypes.func.isRequired,\n  /**\n   * label for the overflow show all tags link\n   */\n  showAllTagsLabel: PropTypes.string,\n  /**\n   * Size of the overflow tag\n   */\n  size: PropTypes.string,\n};\n","//\n// Copyright IBM Corp. 2020, 2025\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\nimport React, {\n  JSX,\n  PropsWithChildren,\n  ReactNode,\n  RefObject,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\n\nimport PropTypes from 'prop-types';\nimport { Tag } from '@carbon/react';\nimport { TagBaseProps } from '@carbon/type';\nimport { TagSetModal } from './TagSetModal';\nimport { TagSetOverflow } from './TagSetOverflow';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\nimport { useResizeObserver } from '../../global/js/hooks/useResizeObserver';\nimport { DismissibleTag } from '@carbon/react';\n\nconst componentName = 'TagSet';\nconst blockClass = `${pkg.prefix}--tag-set`;\n\nconst allTagsModalSearchThreshold = 10;\n\n// Default values for props\nconst defaults = {\n  align: 'start',\n  measurementOffset: 0,\n  overflowAlign: 'bottom',\n  overflowType: 'default',\n  onOverflowTagChange: () => {},\n};\n\ntype Align = 'start' | 'center' | 'end';\ntype OverflowAlign =\n  | 'top'\n  | 'top-left'\n  | 'top-right'\n  | 'bottom'\n  | 'bottom-left'\n  | 'bottom-right'\n  | 'left'\n  | 'left-bottom'\n  | 'left-top'\n  | 'right'\n  | 'right-bottom'\n  | 'right-top';\ntype OverflowType = 'default' | 'tag';\n\ntype TagType = {\n  label: string;\n  type?: keyof typeof tagTypes;\n  /**\n   * @deprecated Use the `onClose` function instead to render as a DismissibleTag\n   */\n  filter?: boolean;\n} & TagBaseProps;\nexport interface TagSetProps extends PropsWithChildren {\n  /**\n   * align the Tags displayed by the TagSet. Default start.\n   */\n  align?: Align;\n  /**\n   * aria label for all tags modal with hasScrollingContent\n   */\n  allTagsModalAriaLabel?: string;\n  /**\n   * label text for the show all search.\n   */\n  allTagsModalSearchLabel?: string;\n  /**\n   * placeholder text for the show all search.\n   */\n  allTagsModalSearchPlaceholderText?: string;\n  /**\n   * portal target for the all tags modal\n   */\n  allTagsModalTarget?: ReactNode;\n  /**\n   * title for the show all modal.\n   */\n  allTagsModalTitle?: string;\n  /**\n   * className\n   */\n  className?: string;\n  /**\n   * Optional ref for custom resize container to measure available space\n   * Default will measure the available space of the TagSet container itself.\n   */\n  containingElementRef?: React.Ref<HTMLElement>;\n  /**\n   * maximum visible tags\n   */\n  maxVisible?: number;\n  /**\n   * Specify offset amount for measure available space, only used when `containingElementSelector`\n   * is also provided\n   */\n  measurementOffset?: number;\n  /**\n   * display tags in multiple lines\n   */\n  multiline?: boolean;\n  /**\n   * An optional click handler that overrides the default functionality of displaying all tags in a modal\n   */\n  onOverflowClick?: ((overFlowTags: ReactNode[]) => void) | undefined;\n  /**\n   * Handler to get overflow tags\n   */\n  onOverflowTagChange?: (value: ReactNode) => void;\n  /**\n   * overflowAlign from the standard tooltip. Default center.\n   */\n  overflowAlign?: OverflowAlign;\n  /**\n   * Will auto-align the popover on first render if it is not visible. This prop is currently experimental and is subject to future changes.\n   */\n  overflowAutoAlign?: boolean;\n  /**\n   * overflowClassName for the tooltip popup\n   */\n  overflowClassName?: string;\n  /**\n   * Type of rendering displayed inside of the tag overflow component\n   */\n  overflowType?: OverflowType;\n  /**\n   * label for the overflow show all tags link.\n   */\n  showAllTagsLabel?: string;\n  /**\n   * The tags to be shown in the TagSet. Each tag is specified as an object\n   * with properties: **label**\\* (required) to supply the tag content, and\n   * other properties will be passed to the Carbon Tag component, such as\n   * **type**, **disabled**, **ref**, **className** , and any other Tag props.\n   *\n   * See https://react.carbondesignsystem.com/?path=/docs/components-tag--default\n   */\n  tags?: TagType[];\n}\n\nexport const TagSet = React.forwardRef<HTMLDivElement, TagSetProps>(\n  (\n    {\n      // The component props, in alphabetical order (for consistency).\n\n      align = 'start',\n      allTagsModalTarget,\n      className,\n      maxVisible,\n      multiline,\n      overflowAutoAlign,\n      overflowAlign = 'bottom',\n      overflowClassName,\n      overflowType = 'default',\n      allTagsModalAriaLabel,\n      allTagsModalTitle = 'All tags',\n      allTagsModalSearchLabel = 'Search all tags',\n      allTagsModalSearchPlaceholderText = 'Search all tags',\n      showAllTagsLabel = 'View all tags',\n      onOverflowClick,\n      tags,\n      containingElementRef,\n      measurementOffset = defaults.measurementOffset,\n      onOverflowTagChange = defaults.onOverflowTagChange,\n\n      // Collect any other property values passed in.\n      ...rest\n    }: TagSetProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const [displayCount, setDisplayCount] = useState<number>(3);\n    const [displayedTags, setDisplayedTags] = useState<JSX.Element[]>([]);\n    const [hiddenSizingTags, setHiddenSizingTags] = useState<JSX.Element[]>([]);\n    const [showAllModalOpen, setShowAllModalOpen] = useState(false);\n    const localTagSetRef = useRef<HTMLDivElement>(null);\n    const tagSetRef = ref || localTagSetRef;\n    const sizingContainerRef = useRef<HTMLDivElement>(null);\n    const displayedArea = useRef(null);\n    const [sizingTags, setSizingTags] = useState<HTMLDivElement[]>([]);\n    const overflowTag = useRef<HTMLDivElement>(null);\n    const [maxVisibleCount, setMaxVisibleCount] = useState<number>(0);\n\n    const [popoverOpen, setPopoverOpen] = useState(false);\n\n    const handleShowAllClick = () => {\n      setShowAllModalOpen(true);\n    };\n\n    useEffect(() => {\n      const maxCount = maxVisible || tags?.length || 0;\n      setMaxVisibleCount(maxCount);\n    }, [maxVisible, tags]);\n\n    useEffect(() => {\n      const newSizingTags: HTMLDivElement[] = [];\n      // create sizing tags\n      setHiddenSizingTags(\n        tags && tags.length > 0\n          ? tags.map(({ label, id, filter, onClose, ...other }, index) => {\n              return (\n                <div\n                  key={index}\n                  className={`${blockClass}__sizing-tag`}\n                  ref={(el) => {\n                    if (el != null) {\n                      newSizingTags[index] = el;\n                    }\n                  }}\n                >\n                  {typeof onClose === 'function' || filter ? (\n                    <DismissibleTag\n                      {...other}\n                      data-original-id={id}\n                      text={label}\n                    />\n                  ) : (\n                    <Tag\n                      {...other} // ensure id is not duplicated\n                      data-original-id={id}\n                    >\n                      {label}\n                    </Tag>\n                  )}\n                </div>\n              );\n            })\n          : []\n      );\n      setSizingTags(newSizingTags);\n    }, [tags]);\n\n    const handleTagOnClose = useCallback(\n      (onClose, index) => {\n        onClose?.();\n        if (index <= displayCount - 1) {\n          setPopoverOpen(false);\n        }\n      },\n      [displayCount]\n    );\n\n    useEffect(() => {\n      let size = 'md';\n      // create visible and overflow tags\n      let newDisplayedTags =\n        tags && tags.length > 0\n          ? tags.map(({ label, onClose, filter, ...other }, index) => {\n              if (index == tags.length - 1 && other.size) {\n                size = other.size;\n              }\n\n              if (typeof onClose === 'function' || filter) {\n                return (\n                  <DismissibleTag\n                    {...other}\n                    key={`displayed-tag-${index}`}\n                    onClose={() => handleTagOnClose(onClose, index)}\n                    text={label}\n                  />\n                );\n              }\n\n              return (\n                <Tag {...other} key={`displayed-tag-${index}`}>\n                  {label}\n                </Tag>\n              );\n            })\n          : [];\n\n      // separate out tags for the overflow\n      const newOverflowTags = newDisplayedTags.splice(\n        displayCount,\n        newDisplayedTags.length - displayCount\n      );\n\n      // add wrapper around displayed tags\n      newDisplayedTags = newDisplayedTags.map((tag, index) => (\n        <div key={index} className={`${blockClass}__displayed-tag`}>\n          {tag}\n        </div>\n      ));\n\n      newDisplayedTags.push(\n        <TagSetOverflow\n          allTagsModalSearchThreshold={allTagsModalSearchThreshold}\n          overflowAutoAlign={overflowAutoAlign}\n          className={overflowClassName}\n          onShowAllClick={handleShowAllClick}\n          overflowTags={newOverflowTags}\n          overflowAlign={overflowAlign}\n          overflowType={overflowType}\n          showAllTagsLabel={showAllTagsLabel}\n          size={size}\n          key=\"displayed-tag-overflow\"\n          ref={overflowTag}\n          popoverOpen={popoverOpen}\n          onOverflowClick={onOverflowClick}\n          setPopoverOpen={setPopoverOpen}\n        />\n      );\n\n      onOverflowTagChange?.(newOverflowTags);\n      setDisplayedTags(newDisplayedTags);\n    }, [\n      displayCount,\n      overflowAlign,\n      overflowClassName,\n      overflowType,\n      showAllTagsLabel,\n      onOverflowClick,\n      tags,\n      onOverflowTagChange,\n      popoverOpen,\n      handleTagOnClose,\n      overflowAutoAlign,\n    ]);\n\n    const checkFullyVisibleTags = useCallback(() => {\n      if (multiline) {\n        return setDisplayCount(maxVisibleCount);\n      }\n\n      // how many will fit?\n      let willFit = 0;\n\n      if (sizingTags.length > 0) {\n        const optionalContainingElement =\n          typeof containingElementRef !== 'function' &&\n          containingElementRef?.current;\n        const measurementOffsetValue =\n          typeof measurementOffset === 'number' ? measurementOffset : 0;\n        let spaceAvailable = optionalContainingElement\n          ? optionalContainingElement.offsetWidth - measurementOffsetValue\n          : tagSetRef?.['current'].offsetWidth;\n\n        for (const i in sizingTags) {\n          const tagWidth = sizingTags[i]?.offsetWidth || 0;\n\n          if (spaceAvailable >= tagWidth) {\n            spaceAvailable -= tagWidth;\n            willFit += 1;\n          } else {\n            break;\n          }\n        }\n\n        if (willFit < sizingTags.length && overflowTag.current) {\n          while (\n            willFit > 0 &&\n            spaceAvailable < overflowTag.current.offsetWidth\n          ) {\n            // Highly unlikely any useful tag is smaller\n            willFit -= 1; // remove one tag\n            spaceAvailable += sizingTags[willFit].offsetWidth;\n          }\n        }\n      }\n\n      if (willFit < 1) {\n        setDisplayCount(0);\n      } else {\n        setDisplayCount(\n          maxVisibleCount ? Math.min(willFit, maxVisibleCount) : willFit\n        );\n      }\n    }, [\n      maxVisibleCount,\n      multiline,\n      sizingTags,\n      tagSetRef,\n      measurementOffset,\n      containingElementRef,\n    ]);\n\n    useEffect(() => {\n      checkFullyVisibleTags();\n    }, [checkFullyVisibleTags, maxVisibleCount, multiline, sizingTags]);\n\n    /* don't know how to test resize */\n    /* istanbul ignore next */\n    const handleResize = () => {\n      /* istanbul ignore next */ // not sure how to test resize\n      checkFullyVisibleTags();\n    };\n\n    /* don't know how to test resize */\n    /* istanbul ignore next */\n    const handleSizerTagsResize = () => {\n      /* istanbul ignore next */ // not sure how to test resize\n      checkFullyVisibleTags();\n    };\n\n    const handleModalClose = () => {\n      setShowAllModalOpen(false);\n\n      const launcherButton = overflowTag.current?.querySelector('button');\n      setTimeout(() => launcherButton?.focus(), 0);\n    };\n\n    useResizeObserver(\n      sizingContainerRef as RefObject<HTMLDivElement>,\n      handleSizerTagsResize\n    );\n\n    const resizeOption = containingElementRef\n      ? containingElementRef\n      : tagSetRef;\n    useResizeObserver(resizeOption as RefObject<HTMLElement>, handleResize);\n\n    return (\n      <div\n        {...rest}\n        className={cx([blockClass, className])}\n        ref={tagSetRef}\n        {...getDevtoolsProps(componentName)}\n      >\n        <div\n          className={cx([\n            `${blockClass}__space`,\n            `${blockClass}__space--align-${align}`,\n          ])}\n        >\n          <div\n            className={`${blockClass}__tag-container ${blockClass}__tag-container--hidden`}\n            aria-hidden={true}\n            ref={sizingContainerRef}\n          >\n            {hiddenSizingTags}\n          </div>\n\n          <div\n            className={cx([\n              `${blockClass}__tag-container`,\n              multiline && `${blockClass}__tag-container--multiline`,\n            ])}\n            ref={displayedArea}\n          >\n            {displayedTags}\n          </div>\n        </div>\n        {!onOverflowClick && (\n          <TagSetModal\n            allTags={tags}\n            open={showAllModalOpen}\n            title={allTagsModalTitle}\n            onClose={handleModalClose}\n            modalAriaLabel={allTagsModalAriaLabel}\n            searchLabel={allTagsModalSearchLabel}\n            searchPlaceholder={allTagsModalSearchPlaceholderText}\n            portalTarget={allTagsModalTarget}\n          />\n        )}\n      </div>\n    );\n  }\n);\n\n// Return a placeholder if not released and not enabled by feature flag\n\n// copied from carbon-components-react/src/components/Tag/Tag.js for DocGen\nconst TYPES = {\n  red: 'Red',\n  magenta: 'Magenta',\n  purple: 'Purple',\n  blue: 'Blue',\n  cyan: 'Cyan',\n  teal: 'Teal',\n  green: 'Green',\n  gray: 'Gray',\n  'cool-gray': 'Cool-Gray',\n  'warm-gray': 'Warm-Gray',\n  'high-contrast': 'High-Contrast',\n  outline: 'Outline',\n};\nconst tagTypes = Object.keys(TYPES);\n\nTagSet['types'] = tagTypes;\n\nTagSet.propTypes = {\n  /**\n   * align the Tags displayed by the TagSet. Default start.\n   */\n  align: PropTypes.oneOf(['start', 'center', 'end']),\n  /**\n   * aria label for all tags modal with hasScrollingContent\n   */\n  allTagsModalAriaLabel: PropTypes.string,\n  /**\n   * label text for the show all search.\n   */\n  allTagsModalSearchLabel: PropTypes.string,\n  /**\n   * placeholder text for the show all search.\n   */\n  allTagsModalSearchPlaceholderText: PropTypes.string,\n  /**\n   * portal target for the all tags modal\n   */\n  allTagsModalTarget: PropTypes.node,\n  /**\n   * title for the show all modal.\n   */\n  allTagsModalTitle: PropTypes.string,\n  /**\n   * className\n   */\n  className: PropTypes.string,\n  /**\n   * Optional ref for custom resize container to measure available space\n   * Default will measure the available space of the TagSet container itself.\n   */\n  /**@ts-ignore */\n  containingElementRef: PropTypes.object,\n  /**\n   * maximum visible tags\n   */\n  maxVisible: PropTypes.number,\n  /**\n   * Specify offset amount for measure available space, only used when `containingElementSelector`\n   * is also provided\n   */\n  measurementOffset: PropTypes.number,\n  /**\n   * display tags in multiple lines\n   */\n  multiline: PropTypes.bool,\n  /**\n   * An optional click handler that overrides the default functionality of displaying all tags in a modal\n   */\n  onOverflowClick: PropTypes.func,\n  /**\n   * Handler to get overflow tags\n   */\n  onOverflowTagChange: PropTypes.func,\n  /**\n   * overflowAlign from the standard tooltip. Default center.\n   */\n  overflowAlign: PropTypes.oneOf([\n    'top',\n    'top-left',\n    'top-right',\n    'bottom',\n    'bottom-left',\n    'bottom-right',\n    'left',\n    'left-bottom',\n    'left-top',\n    'right',\n    'right-bottom',\n    'right-top',\n  ]),\n  /**\n   * Will auto-align the popover on first render if it is not visible. This prop is currently experimental and is subject to future changes.\n   */\n  overflowAutoAlign: PropTypes.bool,\n  /**\n   * overflowClassName for the tooltip popup\n   */\n  overflowClassName: PropTypes.string,\n  /**\n   * Type of rendering displayed inside of the tag overflow component\n   */\n  overflowType: PropTypes.oneOf(['default', 'tag']),\n  /**\n   * label for the overflow show all tags link.\n   */\n  showAllTagsLabel: PropTypes.string,\n  /**\n   * The tags to be shown in the TagSet. Each tag is specified as an object\n   * with properties: **label**\\* (required) to supply the tag content, and\n   * other properties will be passed to the Carbon Tag component, such as\n   * **type**, **disabled**, **ref**, **className** , and any other Tag props.\n   *\n   * See https://react.carbondesignsystem.com/?path=/docs/components-tag--default\n   */\n  tags: PropTypes.arrayOf(\n    PropTypes.shape({\n      ...Tag.propTypes,\n      label: PropTypes.string.isRequired,\n      // we duplicate this prop to improve the DocGen\n      type: PropTypes.oneOf(tagTypes),\n    })\n  ),\n};\n\nTagSet.displayName = componentName;\n\nexport default TagSet;\n"],"names":["componentName","blockClass","pkg","defaults","TagSetModal","allTags","className","title","modalAriaLabel","onClose","open","portalTargetIn","searchLabel","searchPlaceholder","rest","filteredModalTags","setFilteredModalTags","useState","search","setSearch","renderPortalUse","usePortalTarget","useEffect","newFilteredModalTags","lCaseSearch","tag","dataSearch","labelSearch","handleSearch","ev","React","ComposedModal","cx","ModalHeader","Search","ModalBody","label","other","index","Tag","PropTypes","prepareProps","TagSetOverflow","allTagsModalSearchThreshold","onOverflowClick","onShowAllClick","overflowAlign","overflowAutoAlign","overflowTags","overflowType","showAllTagsLabel","popoverOpen","setPopoverOpen","size","ref","localRef","useRef","overflowTagContent","useClickOutside","handleShowAllTagsClick","handleEscKeyPress","event","key","handleOverflowClick","OperationalTag","Popover","PopoverContent","_","tagProps","Link","TagSet","align","allTagsModalTarget","maxVisible","multiline","overflowClassName","allTagsModalAriaLabel","allTagsModalTitle","allTagsModalSearchLabel","allTagsModalSearchPlaceholderText","tags","containingElementRef","measurementOffset","onOverflowTagChange","displayCount","setDisplayCount","displayedTags","setDisplayedTags","hiddenSizingTags","setHiddenSizingTags","showAllModalOpen","setShowAllModalOpen","localTagSetRef","tagSetRef","sizingContainerRef","displayedArea","sizingTags","setSizingTags","overflowTag","maxVisibleCount","setMaxVisibleCount","handleShowAllClick","maxCount","newSizingTags","id","filter","el","DismissibleTag","handleTagOnClose","useCallback","newDisplayedTags","newOverflowTags","checkFullyVisibleTags","willFit","optionalContainingElement","measurementOffsetValue","spaceAvailable","i","tagWidth","handleResize","handleSizerTagsResize","handleModalClose","launcherButton","useResizeObserver","getDevtoolsProps","TYPES","tagTypes"],"mappings":"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"}