import{e as t,r as y}from"./index-BOZkNhcz.js";import{j as G,a as yt,h as bt,C as vt}from"./index-CKePA1sA.js";import{useMDXComponents as Bn}from"./index-aaDvWpb8.js";import"./DocsRenderer-CFRXHY34-CAZB0tDV.js";import{b as Ie,_ as Se,c as R,P as n,g as ht,J as wt,C as Hn,a2 as Gn}from"./index-Cd8snwnz.js";import{T as Mn}from"./TextInput-Bs2r8Jim.js";import{e as Rn,aB as Fn}from"./bucket-6-Bh7P8rIU.js";import{a7 as We}from"./bucket-7-Djjnd2yB.js";import{p as Vn,T as Ct,B as Wn,Q as Kn,b8 as zn,O as Un}from"./settings-DqneCnpo.js";import{a8 as Zn}from"./bucket-17-CXe10FQN.js";import{B as Tt,C as $e}from"./bucket-1-D7l_4S5E.js";import{u as N}from"./uuidv4-BQrI85uz.js";import{s as qt}from"./index-CtW6Lsnp.js";import{g as At}from"./devtools-Bjt2CwRv.js";import{S as Jn,H as Yn}from"./index-pvIsy2-t.js";import{L as kt}from"./index-26QMFoPE.js";import{P as Ot,a as _t}from"./index-CN8ymWyE.js";import{W as Et,a as Qn,b2 as Le}from"./bucket-18-D95sPjw6.js";import{A as Xn,t as xt}from"./bucket-0-BxsXdw_5.js";import{S as et}from"./Search-ByDDtaAB.js";import{C as nt,a$ as It,aZ as St}from"./bucket-2-BRYD7UVO.js";import{N as Nt}from"./NumberInput-CtjGEpw1.js";import{T as Pt}from"./TextArea-CIevhdFH.js";import{D as ln,a as Re}from"./DatePicker-C50cTdwC.js";import{S as Fe}from"./SelectItem-L_lAK4_1.js";import{aO as tt}from"./bucket-16-B-hxUebt.js";import"./_commonjsHelpers-BosuxZz1.js";import"./iframe-BLi-C7G1.js";import"./index-hBZdtWkn.js";import"./index-2uioG_CI.js";import"./index-CO8sV34W.js";import"./index-ogSvIofg.js";import"./react-18-Cs6RDBhU.js";import"./useNormalizedInputProps-CMiK_Vbq.js";import"./Text-Rb3iZwUo.js";import"./FormContext-qEw5DNxz.js";import"./useAnnouncer-Dwt0jqXi.js";import"./events-OVwOsPzJ.js";import"./LayerContext-DxTbsTfh.js";import"./bucket-14-B-58TyUV.js";const at=e=>{let{hideLabel:a,className:r,...i}=e;const l=Ie();return t.createElement("div",Se({className:R(`${l}--form-item`,r)},i),!a&&t.createElement("span",{className:`${l}--label ${l}--skeleton`}),t.createElement("div",{className:`${l}--select ${l}--skeleton`},t.createElement("div",{className:`${l}--select-input`})))};at.propTypes={className:n.string,hideLabel:n.bool};const jt=Array.from({length:qt.length-1}).map((e,a)=>a+1),rt=t.forwardRef(function(a,r){const{as:i="div",children:l,className:s,gap:u,orientation:c="vertical",...m}=a,d=Ie(),p=R(s,{[`${d}--stack-${c}`]:!0,[`${d}--stack-scale-${u}`]:typeof u=="number"}),w={...m.style};return typeof u=="string"&&(w[`--${d}-stack-gap`]=u),t.createElement(i,Se({},m,{ref:r,className:p,style:w}),l)});rt.propTypes={as:n.elementType,children:n.node,className:n.string,gap:n.oneOfType([n.string,n.oneOf(jt)]),orientation:n.oneOf(["horizontal","vertical"])};const Lt=t.forwardRef(function(a,r){return t.createElement(rt,Se({},a,{ref:r,orientation:"vertical"}))}),it=t.forwardRef(function(a,r){let{children:i,className:l,disabled:s=!1,hideLabel:u,id:c,invalidText:m="Invalid time format.",invalid:d=!1,warningText:p="Warning message.",warning:w=!1,labelText:b,light:g=!1,maxLength:A=5,onChange:v=()=>{},onClick:f=()=>{},onBlur:h=()=>{},pattern:_="(1[012]|[1-9]):[0-5][0-9](\\s)?",placeholder:L="hh:mm",readOnly:C,size:E="md",type:D="text",value:$,...K}=a;const S=Ie(),[P,I]=t.useState($),[F,z]=t.useState($);$!==F&&(I($),z($));function Y(V){s||(C||I(P),f(V))}function ie(V){!s&&!C&&(I(P),v(V))}function O(V){s||(C||I(P),h(V))}const k=R(`${S}--time-picker__input-field`,`${S}--text-input`,[l],{[`${S}--text-input--light`]:g,[`${S}--time-picker__input-field-error`]:d||w}),q=R({[`${S}--time-picker`]:!0,[`${S}--time-picker--light`]:g,[`${S}--time-picker--invalid`]:d,[`${S}--time-picker--warning`]:w,[`${S}--time-picker--readonly`]:C,[`${S}--time-picker--${E}`]:E,...l&&{[l]:!0}}),j=R(`${S}--label`,{[`${S}--visually-hidden`]:u,[`${S}--label--disabled`]:s}),T=b?t.createElement("label",{htmlFor:c,className:j},b):null;function x(){const V={onMouseDown:Q=>{C&&(Q.preventDefault(),Q.target.focus())},onKeyDown:Q=>{C&&["ArrowDown","ArrowUp"," "].includes(Q.key)&&Q.preventDefault()}};return t.Children.map(i,Q=>{const X=Q;if(X)return t.cloneElement(X,{...X.props,disabled:X.props.disabled??s,readOnly:C,...V})})}const B={readOnly:C};return t.createElement("div",{className:R(`${S}--form-item`,l)},T,t.createElement("div",{className:q},t.createElement("div",{className:`${S}--time-picker__input`},t.createElement("input",Se({className:k,"data-invalid":d||void 0,disabled:s,id:c,maxLength:A,onClick:Y,onChange:ie,onBlur:O,placeholder:L,pattern:_,ref:r,type:D,value:$},K,B)),(d||w)&&t.createElement("div",{className:`${S}--time-picker__error__icon`},d?t.createElement(Et,{className:`${S}--checkbox__invalid-icon`,size:16}):t.createElement(Qn,{className:`${S}--text-input__invalid-icon--warning`,size:16}))),x()),(d||w)&&t.createElement("div",{className:`${S}--form-requirement`},d?m:p))});it.propTypes={children:n.node,className:n.string,disabled:n.bool,hideLabel:n.bool,id:n.string.isRequired,invalid:n.bool,invalidText:n.node,labelText:n.node,light:ht(n.bool),maxLength:n.number,onBlur:n.func,onChange:n.func,onClick:n.func,pattern:n.string,placeholder:n.string,readOnly:n.bool,size:n.oneOf(["sm","md","lg"]),type:n.string,value:n.string,warning:n.bool,warningText:n.node};const Ke=t.forwardRef(function(a,r){let{["aria-label"]:i="open list of options",children:l,id:s,disabled:u=!1,className:c,...m}=a;const d=Ie(),p=R({[`${d}--select`]:!0,[`${d}--time-picker__select`]:!0,...c&&{[c]:!0}});return t.createElement("div",{className:p},t.createElement("select",Se({"aria-label":i,className:`${d}--select-input`,disabled:u,id:s,ref:r},m),l),t.createElement(wt,{className:`${d}--select__arrow`,"aria-hidden":"true"}))});Ke.propTypes={children:n.node,className:n.string,defaultValue:n.any,disabled:n.bool,id:n.string.isRequired};const o=`${Vn.prefix}--condition-builder`,ae="Non-Hierarchical",W="Hierarchical",_e=(e,a)=>{e&&setTimeout(()=>{var r,i,l,s,u;Z((r=e.target.closest('[role="gridcell"]'))==null?void 0:r.querySelector("button"),a),(l=(i=e.target.closest('[role="gridcell"]'))==null?void 0:i.querySelector("button"))==null||l.click(),(u=(s=e.target.closest('[role="gridcell"]'))==null?void 0:s.querySelector("button"))==null||u.focus()},0)},oe=(e,a)=>{setTimeout(()=>{Z(e,a)},0)},ze=(e,a,r,i,l,s)=>{e==document.activeElement?a!==r.length-1?oe(r[a+1],s):oe(r[i?0:r.length-1],s):Array.from(r).indexOf(document.activeElement)==-1&&l&&oe(r[0],s)},Ue=(e,a,r,i,l,s)=>{e==document.activeElement?oe(a!==0?r[a-1]:r[i?r.length-1:0],s):Array.from(r).indexOf(document.activeElement)==-1&&l&&oe(r[r.length-1],s)},$t=(e,a)=>e[a],pe=e=>e&&e!=="INVALID",Z=(e,a)=>{var i,l;const r=(e==null?void 0:e.closest(`.${o}__content-container`))??(e==null?void 0:e.closest(`.${o}__actions-container`));r&&Array.from(r.querySelectorAll('[tabindex="0"]')).map(s=>s==null?void 0:s.setAttribute("tabindex","-1")),e==null||e.setAttribute("tabindex","0"),(l=(i=a.current)==null?void 0:i.querySelector(`.${o}__statement-button`))==null||l.setAttribute("tabindex","1"),e==null||e.focus()},Ve=e=>{const a=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return`${a}/${r}/${i}`},Dt=(e,a,r)=>r!=null&&r.valueFormatter&&["date","custom"].includes(e)?r.valueFormatter(a):{text:l=>l,textarea:l=>l,time:l=>l,number:l=>l,option:l=>l&&typeof l!="string"?(Array.isArray(l)?l:[l]).map(u=>u.label).join(", "):l,date:l=>{if(Array.isArray(l)&&l.length>1){const s=l!=null&&l[0]&&!isNaN(new Date(l[0]))?Ve(new Date(l[0])):"",u=l!=null&&l[1]&&!isNaN(new Date(l[1]))?Ve(new Date(l[1])):"";return`${s} To ${u}`}else return Array.isArray(l)&&!isNaN(new Date(l[0]))?Ve(new Date(l[0])):l},custom:l=>l}[e](a,r),ot=(e,a)=>{var r;return(e==null?void 0:e.operator)==="oneOf"||((r=a==null?void 0:a.operators)==null?void 0:r.find(i=>(e==null?void 0:e.operator)===i.id&&i.isMultiSelect))},te=({className:e,label:a,hideLabel:r,tooltipAlign:i,renderIcon:l,onClick:s,showToolTip:u,wrapperProps:c,onBlur:m,onFocus:d,onMouseEnter:p,onMouseLeave:w,isInvalid:b,wrapperClassName:g,tabIndex:A,description:v,...f})=>{const h=v||a,_=Ie(),L=()=>{const C=f["data-name"]??"";return t.createElement("button",{tabIndex:A!==void 0?A:-1,className:R([e,`${o}__button`,{[`${o}__text-ellipsis`]:u&&!r&&!b},{[`${o}__invalid-input`]:b}]),type:"button",onClick:s,onBlur:m,onFocus:d,onMouseEnter:p,onMouseLeave:w,"data-name":C,...f},l&&t.createElement(l,null),!r&&t.createElement("span",null,a),b&&t.createElement(Qn,null))};return r||u||v?t.createElement(Ct,{label:h,align:i,className:`${g} ${o}__tooltip ${_}--icon-tooltip`,...c,leaveDelayMs:0},L()):t.createElement(t.Fragment,null,L())};te.propTypes={className:n.string,hideLabel:n.bool,isInvalid:n.bool,label:n.string,onBlur:n.func,onClick:n.func,onFocus:n.func,onMouseEnter:n.func,onMouseLeave:n.func,renderIcon:n.oneOfType([n.func,n.object]),showToolTip:n.bool,tabIndex:n.number,tooltipAlign:n.string,wrapperClassName:n.string,wrapperProps:n.object};te.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderButton",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},label:{required:!1,tsType:{name:"string"},description:"label of the button",type:{name:"string"}},hideLabel:{required:!1,tsType:{name:"boolean"},description:"decides if label and tooltip to be hidden",type:{name:"bool"}},tooltipAlign:{required:!1,tsType:{name:"PopoverAlignment"},description:"tooltip position",type:{name:"string"}},renderIcon:{required:!1,tsType:{name:"CarbonIconType"},description:"Optional prop to allow overriding the icon rendering.",type:{name:"union",value:[{name:"func"},{name:"object"}]}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:"callback triggered on click of add button",type:{name:"func"}},onBlur:{required:!1,tsType:{name:"ReactFocusEventHandler",raw:"React.FocusEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:"mouse events callbacks",type:{name:"func"}},onFocus:{required:!1,tsType:{name:"ReactFocusEventHandler",raw:"React.FocusEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:"",type:{name:"func"}},onMouseEnter:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:"",type:{name:"func"}},onMouseLeave:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:"",type:{name:"func"}},showToolTip:{required:!1,tsType:{name:"boolean"},description:"decides if  tooltip to be shown",type:{name:"bool"}},wrapperProps:{required:!1,tsType:{name:"object"},description:"optional props for tree grid to add role and aria-label to wrapper span",type:{name:"object"}},isInvalid:{required:!1,tsType:{name:"boolean"},description:"boolean to know the updated value in not valid",type:{name:"bool"}},wrapperClassName:{required:!1,tsType:{name:"string"},description:"classname applies to the wrapper of popover",type:{name:"string"}},tabIndex:{required:!1,tsType:{name:"number"},description:"Tab index",type:{name:"number"}},description:{required:!1,tsType:{name:"string"},description:""}}};const Bt={operator:"or",groups:[{groupOperator:"and",statement:"ifAll",id:N(),conditions:[{property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:N()}]}]},J=y.createContext({rootState:{groups:[]}}),Je=e=>{const[a,r]=y.useState({groups:[]}),[i,l]=y.useState([]),s={rootState:a,setRootState:r,actionState:i,setActionState:l,inputConfig:e.inputConfig,popOverSearchThreshold:e.popOverSearchThreshold,getOptions:e.getOptions,variant:e.variant,translateWithId:e.translateWithId,conditionBuilderRef:e.conditionBuilderRef,statementConfigCustom:e.statementConfigCustom};return t.createElement(J.Provider,{value:s},e.children)};Je.propTypes={children:n.node.isRequired,conditionBuilderRef:n.object,getOptions:n.func,inputConfig:n.shape({properties:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired,icon:n.oneOfType([n.func,n.object]),description:n.string,type:n.oneOf(["text","textarea","number","date","option","time","custom"]).isRequired,config:n.shape({options:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired,icon:n.oneOfType([n.func,n.object])})),component:n.func,operators:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired})),long:n.bool})}))}).isRequired,popOverSearchThreshold:n.number.isRequired,translateWithId:n.func,variant:n.string.isRequired};Je.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderProvider",props:{rootState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},description:""},setRootState:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}}],raw:"SetStateAction<ConditionBuilderState>"}],raw:"Dispatch<SetStateAction<ConditionBuilderState>>"},description:""},actionState:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},description:""},setActionState:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"}],raw:"SetStateAction<Action[]>"}],raw:"Dispatch<SetStateAction<Action[]>>"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:"Provide the contents of the ConditionBuilder.",type:{name:"node"}},inputConfig:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  properties: Property[];
}`,signature:{properties:[{key:"properties",value:{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
  description?: string;
  type?: any;
  config?: any;
} & ConfigType`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
  description?: string;
  type?: any;
  config?: any;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"type",value:{name:"any",required:!1}},{key:"config",value:{name:"any",required:!1}}]}},{name:"union",raw:`| PropertyConfigOption['config']
| PropertyConfigTextArea['config']
| PropertyConfigText['config']
| PropertyConfigNumber['config']
| PropertyConfigDate['config']
| PropertyConfigTime['config']
| PropertyConfigCustom['config']`,elements:[{name:"signature",raw:"PropertyConfigOption['config']"},{name:"PropertyConfigTextArea['config']",raw:"PropertyConfigTextArea['config']"},{name:"PropertyConfigText['config']",raw:"PropertyConfigText['config']"},{name:"PropertyConfigNumber['config']",raw:"PropertyConfigNumber['config']"},{name:"signature",raw:"PropertyConfigDate['config']"},{name:"signature",raw:"PropertyConfigTime['config']"},{name:"signature",raw:"PropertyConfigCustom['config']"}]}]}],raw:"Property[]",required:!0}}]}},description:"This is a mandatory prop that defines the input to the condition builder.",type:{name:"shape",value:{properties:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},description:{name:"string",required:!1},type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'textarea'",computed:!1},{value:"'number'",computed:!1},{value:"'date'",computed:!1},{value:"'option'",computed:!1},{value:"'time'",computed:!1},{value:"'custom'",computed:!1}],required:!0},config:{name:"shape",value:{options:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1}}},required:!1},component:{name:"func",required:!1},operators:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0}}},required:!1},long:{name:"bool",required:!1}},required:!1}}},required:!1}}}},popOverSearchThreshold:{required:!0,tsType:{name:"number"},description:"Provide an mandatory numeric value that will be used to enable search option in the popovers with list.",type:{name:"number"}},getOptions:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  state: ConditionBuilderState,
  condition: Condition
) => Promise<Option[]>`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},name:"state"},{type:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"},{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},name:"condition"}],return:{name:"Promise",elements:[{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"}],raw:"Promise<Option[]>"}}},description:`This is an optional callback function that will be triggered when options array is not passed in the inputConfig against a property. 
This can be a asynchronous function that need  to  return a promise, so it will allow to fetch options from API call.
options has to be in valid format
[{
          label: 'label',
          id: 'id',
        },...]`,type:{name:"func"}},variant:{required:!0,tsType:{name:"string"},description:"Provide the condition builder variant: Non-Hierarchical/ Hierarchical",type:{name:"string"}},translateWithId:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => string",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"string"}}},description:`Optional prop if you want to pass translation to the texts used . Otherwise this will the defined defaults.
This callback function will receive the message id and you need to return the corresponding text for that id.
The message key will be one of [   "ifText",   "addConditionText",   "addConditionGroupText",   "addSubgroupText",   "conditionText",   "propertyText",   "operatorText",   "valueText",   "connectorText",   "conditionRowText",   "removeConditionText",   "addConditionRowText",   "startText",   "endText",   "clearSearchText",   "actionsText",   "then",   "removeActionText",   "addActionText",   "invalidText",   "invalidNumberWarnText"
]`,type:{name:"func"}},statementConfigCustom:{required:!1,tsType:{name:"Array",elements:[{name:"intersection",raw:`Item & {
  connector: 'and' | 'or';
  secondaryLabel?: string;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  connector: 'and' | 'or';
  secondaryLabel?: string;
}`,signature:{properties:[{key:"connector",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!0}},{key:"secondaryLabel",value:{name:"string",required:!1}}]}}]}],raw:"statementConfig[]"},description:""},conditionBuilderRef:{required:!1,tsType:{name:"ForwardedRef",elements:[{name:"HTMLDivElement"}],raw:"ForwardedRef<HTMLDivElement>"},description:"ref of condition builder",type:{name:"object"}}},composes:["PropsWithChildren"]};const ge={ifText:"if",unlessText:"unless",excl_if:"excl.if",and:"and",or:"or",is:"is",ifAll:"if all",ifAny:"if any",unlessAll:"unless all",unlessAny:"unless any",greater:"is greater than",greaterEqual:"is greater than or equal to",lower:"is lower than",lowerEqual:"is lower than or equal to",startsWith:"starts with",endsWith:"ends with",contains:"contains",oneOf:"is one of",before:"is before",after:"is after",between:"is between",addConditionText:"Add condition",addConditionGroupText:"Add condition group",addSubgroupText:"Add subgroup",conditionText:"Condition",propertyText:"Property",operatorText:"Operator",valueText:"Value",connectorText:"Connector",conditionRowText:"Condition row",conditionRowGroupText:"Condition row group",removeConditionText:"Delete condition",addConditionRowText:"Add condition row",startText:"Start",endText:"End",clearSearchText:"Clear search input",actionsText:"Actions",then:"then",removeActionText:"Remove Action",addActionText:"Add action",invalidText:"Incomplete",invalidNumberWarnText:"Invalid number, must be 0 or greater",conditionBuilderText:"Condition Builder",actionSectionText:"Action Section",conditionHeadingText:"Condition",addPropertyText:"Add property",addOperatorText:"Add operator",addValueText:"Add value",conditionBuilderHierarchicalText:"Condition Builder Hierarchical"},U=(e,a)=>{const{translateWithId:r}=y.useContext(J);return e.map(i=>(a!=null&&a[i]&&(i=a[i]),r!=null&&r(i)?r(i):ge[i]?ge[i]:i))},Ht=(e,a,r)=>{var l;(l=document.activeElement.closest(`.${o}__popover`))!=null&&l.querySelector('[role="dialog"]')||Ft(e,a,r)},Gt=(e,a,r)=>{Mt(e)||Rt(e,r==null?void 0:r.current,a)},Mt=e=>!["Escape"].includes(e.key)&&(e.target.closest(`.${o}__item-date`)||e.target.closest(`.${o}__item-time`)),Rt=(e,a,r)=>{var m,d,p,w,b,g;const i=e.key,l=$t(e,"shiftKey"),s=(m=a.querySelector("ul"))==null?void 0:m.dataset.multiSelect,u=(d=a.querySelectorAll('[role="option"]'))==null?void 0:d.length;let c=[];if(i==="Escape"&&(_e(e,r),e.preventDefault()),u)switch(i){case"ArrowUp":e.preventDefault(),a.querySelectorAll('[role="option"]').forEach((A,v,f)=>{Ue(A,v,f,null,null,r)}),Array.from(((p=e.target.closest("ul"))==null?void 0:p.querySelectorAll("li"))??[]).indexOf(e.target)===1&&(a.querySelector(`.${o}__popover-content-wrapper`).scrollTop=0);break;case"ArrowDown":e.preventDefault(),a.querySelectorAll('[role="option"]').forEach((A,v,f)=>{ze(A,v,f,null,null,r)});break;case"Tab":c=[...Array.from(a.querySelectorAll(`.${o}__selectAll-button,[role="searchbox"]`)),a.querySelector('[role="option"]')],c.forEach((A,v,f)=>{l?Ue(A,v,f,!0,!0,r):ze(A,v,f,!0,!0,r)}),e.preventDefault();break;case" ":s==="true"&&(document.activeElement.type!=="button"&&((w=document.activeElement)==null||w.click()),e.preventDefault());break;case"Enter":s==="true"?document.activeElement.type!=="button"&&(e.preventDefault(),(b=document.activeElement)==null||b.click()):document.activeElement.type!=="button"&&(_e(e,r),(g=document.activeElement)==null||g.click());break}},Ft=(e,a,r)=>{var i,l,s,u,c,m;switch(e.key){case"ArrowRight":if(e.preventDefault(),r==W){let d=Array.from((i=e.target.closest('[role="row"]'))==null?void 0:i.querySelectorAll('[role="gridcell"] button'));if(d.length===1)e.target=e.target.closest('[role="row"]'),sn(e,a,r);else if(e.target.getAttribute("role")=="row")Z(d[0],a);else{let p=d.indexOf(e.target);p<d.length-1&&oe(d[p+1],a)}}else un(e,a);break;case"ArrowLeft":if(e.preventDefault(),r==W){if(e.target.getAttribute("role")!=="row"){let d=Array.from((l=e.target.closest('[role="row"]'))==null?void 0:l.querySelectorAll('[role="gridcell"] button')),p=d.indexOf(e.target);if(p>0)oe(d[p-1],a);else{let w=e.target.closest('[role="row"]');Z(w,a)}}}else un(e,a);break;case"ArrowUp":case"ArrowDown":e.preventDefault(),r==W?sn(e,a,r):Vt(e,a,r);break;case"Enter":((u=(s=document.activeElement)==null?void 0:s.querySelectorAll("button"))==null?void 0:u.length)===1&&((m=(c=document.activeElement)==null?void 0:c.querySelectorAll("button")[0])==null||m.click());break}},Ye=e=>{var a;return Array.from((a=e.current)==null?void 0:a.querySelectorAll('[role="row"]'))},lt=(e,a)=>Ye(a).findIndex(i=>i.contains(e)),Vt=(e,a,r)=>{const i=Ye(a),l=lt(e.target,a);st(e,l,i,r,a)},sn=(e,a,r)=>{const i=Ye(a),l=lt(e.target,a);let s=l;e.target.getAttribute("role")=="row"?(["ArrowDown","ArrowRight"].includes(e.key)?s+=1:e.key==="ArrowUp"&&(s-=1),s<0?s=0:s>=i.length&&(s=i.length-1),s!==l&&Z(i[s],a)):st(e,l,i,r,a)},st=(e,a,r,i,l)=>{let s=a;e.key==="ArrowUp"&&(s=a==0?a:a-1),e.key==="ArrowDown"&&(s=a===r.length-1?r.length-1:a+1);const u=r[s],c=e.target.dataset.name;u!=null&&u.querySelector(`[data-name="${c}"]`)?Z(u==null?void 0:u.querySelector(`[data-name="${c}"]`),l):i===W&&Z(u,l)},un=(e,a)=>{a.current.querySelectorAll('[role="gridcell"] button').forEach((r,i,l)=>{e.key==="ArrowRight"?ze(r,i,l,null,null,a):Ue(r,i,l,null,null,a)})},M=({children:e,className:a,label:r,renderIcon:i,title:l,type:s,showToolTip:u,condition:c,popOverClassName:m,config:d,renderChildren:p,onChange:w,description:b,...g})=>{const A=y.useRef(null),[v,f]=y.useState(!1),{conditionBuilderRef:h,statementConfigCustom:_}=y.useContext(J),L={ifAll:ge.ifText,ifAny:ge.ifText,unlessAll:ge.unlessText,unlessAny:ge.unlessText};_==null||_.forEach(T=>{L[T.id]=T.label});const[C,E,D,$,K,S]=U(["invalidText","addConditionText","addPropertyText","addOperatorText","addValueText",r],L),P=()=>{const{property:T,operator:x}=c||{};return r==="INVALID"||g["data-name"]==="propertyField"&&T==="INVALID"||g["data-name"]==="operatorField"&&x==="INVALID"?{propertyLabel:C,isInvalid:!0}:{isInvalid:!1,propertyLabel:g["data-name"]=="valueField"&&s?Dt(s,r,d):S}},{propertyLabel:I,isInvalid:F}=P();y.useEffect(()=>{if(c){const T=g["data-name"];(c.popoverToOpen&&T!==c.popoverToOpen||T=="valueField"&&s==="option"&&!ot(c,d))&&Y(),c.popoverToOpen==T&&ie()}else Y()},[c,r]),y.useEffect(()=>{var T;if(v&&A.current){const x=(T=A==null?void 0:A.current)==null?void 0:T.querySelector("input,textarea");x&&setTimeout(()=>x.focus(),0)}},[A,v]);const z=()=>{(g["data-name"]==="propertyField"&&!(c!=null&&c.property)||g["data-name"]==="operatorField"&&!(c!=null&&c.operator)||g["data-name"]==="valueField"&&!(c!=null&&c.value))&&(w==null||w("INVALID"))},Y=()=>{v&&z(),f(!1)},ie=()=>f(!0),O=()=>{(e||p)&&f(!v)},k=T=>{Gt(T,h,A),T.key==="Escape"&&z()},q=T=>{var x;return T&&((x=d==null?void 0:d.operators)==null?void 0:x.find(B=>B.id===T))},j=()=>{var T;return d!=null&&d.operators&&g["data-name"]==="operatorField"?((T=q(I))==null?void 0:T.label)??I:I||(g["data-name"]==="propertyField"?D:g["data-name"]==="operatorField"?$:g["data-name"]==="valueField"?K:E)};return t.createElement(Ot,{open:v,isTabTip:!0,role:"gridcell",className:`${m} ${o}__popover`,ref:A,onRequestClose:Y},t.createElement(te,{label:j(),hideLabel:!r,onClick:O,className:a,"aria-haspopup":!0,"aria-expanded":v,renderIcon:i||(r==null?Xn:void 0),showToolTip:u,isInvalid:F,description:b,...g}),v&&t.createElement(_t,{className:`${o}__popover-content-wrapper`,role:"dialog","aria-label":l,onKeyDown:k},t.createElement(kt,null,t.createElement("h1",{className:`${o}__item__title`},l),t.createElement("div",{className:`${o}__popover-content`},p?p(A):e))))};M.propTypes={children:n.node,className:n.string,condition:n.object,config:n.object,label:n.oneOfType([n.string,n.array,n.object]),onChange:n.func,popOverClassName:n.string,renderChildren:n.func,renderIcon:n.oneOfType([n.func,n.object]),showToolTip:n.bool,title:n.string,type:n.string};M.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItem",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},label:{required:!1,tsType:{name:"union",raw:"string | Option | Option[]",elements:[{name:"string"},{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"}]},description:"text to be displayed in the field",type:{name:"union",value:[{name:"string"},{name:"array"},{name:"object"}]}},renderIcon:{required:!1,tsType:{name:"CarbonIconType"},description:"Optional prop to allow overriding the icon rendering.",type:{name:"union",value:[{name:"func"},{name:"object"}]}},title:{required:!1,tsType:{name:"string"},description:"title of the popover",type:{name:"string"}},showToolTip:{required:!1,tsType:{name:"boolean"},description:"show tool tip",type:{name:"bool"}},popOverClassName:{required:!1,tsType:{name:"string"},description:"class name for popover",type:{name:"string"}},type:{required:!1,tsType:{name:"string"},description:"input type",type:{name:"string"}},description:{required:!1,tsType:{name:"string"},description:""},condition:{required:!1,tsType:{name:"intersection",raw:"Action & Condition",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"},{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}}]},description:"current condition state object",type:{name:"object"}},config:{required:!1,tsType:{name:"union",raw:`| PropertyConfigOption['config']
| PropertyConfigTextArea['config']
| PropertyConfigText['config']
| PropertyConfigNumber['config']
| PropertyConfigDate['config']
| PropertyConfigTime['config']
| PropertyConfigCustom['config']`,elements:[{name:"signature",raw:"PropertyConfigOption['config']"},{name:"PropertyConfigTextArea['config']",raw:"PropertyConfigTextArea['config']"},{name:"PropertyConfigText['config']",raw:"PropertyConfigText['config']"},{name:"PropertyConfigNumber['config']",raw:"PropertyConfigNumber['config']"},{name:"signature",raw:"PropertyConfigDate['config']"},{name:"signature",raw:"PropertyConfigTime['config']"},{name:"signature",raw:"PropertyConfigCustom['config']"}]},description:"this is the config object again the current property from inputConfig",type:{name:"object"}},renderChildren:{required:!1,tsType:{name:"signature",type:"function",raw:"(ref: Ref<HTMLDivElement>) => ReactNode",signature:{arguments:[{type:{name:"Ref",elements:[{name:"HTMLDivElement"}],raw:"Ref<HTMLDivElement>"},name:"ref"}],return:{name:"ReactNode"}}},description:"callback prop that returns the jsx for children",type:{name:"func"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(val: string) => void",signature:{arguments:[{type:{name:"string"},name:"val"}],return:{name:"void"}}},description:"callback to update the current condition of the state tree",type:{name:"func"}},tabIndex:{required:!1,tsType:{name:"number"},description:""},onMouseEnter:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:""},onMouseLeave:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"ReactFocusEventHandler",raw:"React.FocusEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},onBlur:{required:!1,tsType:{name:"ReactFocusEventHandler",raw:"React.FocusEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},children:{description:"provide the contents of the popover",type:{name:"node"},required:!1}},composes:["PropsWithChildren"]};const le=({conditionState:e={},config:a={},onChange:r})=>{const{popOverSearchThreshold:i}=y.useContext(J),l=y.useRef(null),[s,u]=U(["propertyText","clearSearchText"]),c=a.options,[m,d]=y.useState(""),p=e.value,w=m?c==null?void 0:c.filter(f=>{var h;return(h=f.label)==null?void 0:h.toLowerCase().includes(m.toLowerCase())}):c;y.useEffect(()=>{var f;if(l.current){const h=(f=l.current)==null?void 0:f.querySelector("input, button,li");h&&h.focus()}},[c]);const b=(f,h)=>{r(h.id,f)},g=f=>{const{value:h}=f.target;d(h)},A=()=>e.label?e.label:s,v=f=>t.createElement("div",{className:`${o}__statement_wrapper`},t.createElement("div",null,f.label," (",f.connector,")"),t.createElement("div",null,f.secondaryLabel));if(c)return t.createElement("div",{className:`${o}__item-option`,ref:l},i&&c.length>i&&t.createElement("div",{className:`${o}__item-option__search`},t.createElement(et,{size:"sm",labelText:u,closeButtonLabelText:u,onChange:g})),t.createElement("ul",{"aria-label":A(),role:"listbox"},w==null?void 0:w.map(f=>{const h=p===f.id,_=f.icon;return t.createElement("li",{tabIndex:0,key:f.id,role:"option","aria-selected":h,className:`${o}__item-option__option`,onKeyUp:()=>!1,onClick:L=>b(L,f)},t.createElement("div",{className:`${o}__item-option__option-content`},t.createElement("span",{className:`${o}__item-option__option-label`},_&&t.createElement(_,null),a.isStatement?v(f):f.label),h&&t.createElement(nt,{className:`${o}__checkmark`})))})))};le.propTypes={conditionState:n.object,config:n.object,onChange:n.func};le.__docgenInfo={description:"",methods:[],displayName:"ItemOption",props:{conditionState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  label?: string;
  value?: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!1}},{key:"value",value:{name:"string",required:!1}}]}},description:"current condition object",defaultValue:{value:"{}",computed:!1},type:{name:"object"}},config:{required:!1,tsType:{name:"intersection",raw:`{ options?: option[] | statementConfig[] } & {
  isStatement?: boolean;
}`,elements:[{name:"signature",type:"object",raw:"{ options?: option[] | statementConfig[] }",signature:{properties:[{key:"options",value:{name:"union",raw:"option[] | statementConfig[]",elements:[{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"option[]"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  connector: 'and' | 'or';
  secondaryLabel?: string;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  connector: 'and' | 'or';
  secondaryLabel?: string;
}`,signature:{properties:[{key:"connector",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!0}},{key:"secondaryLabel",value:{name:"string",required:!1}}]}}]}],raw:"statementConfig[]"}],required:!1}}]}},{name:"signature",type:"object",raw:`{
  isStatement?: boolean;
}`,signature:{properties:[{key:"isStatement",value:{name:"boolean",required:!1}}]}}]},description:"current config object that this property is part of",defaultValue:{value:"{}",computed:!1},type:{name:"object"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string, e: Event) => void",signature:{arguments:[{type:{name:"string"},name:"value"},{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:"callback to update state oin date change",type:{name:"func"}}}};const He=()=>{const[e,a,r,i,l,s,u,c,m,d,p,w,b,g,A,v,f,h]=U(["ifAll","ifAny","unlessAll","unlessAny","and","or","is","greater","greaterEqual","lower","lowerEqual","startsWith","endsWith","contains","oneOf","before","after","between"]),{statementConfigCustom:_}=y.useContext(J);return{statementConfig:_??[{id:"ifAll",connector:"and",label:e,secondaryLabel:"(a && b)"},{id:"ifAny",connector:"or",label:a,secondaryLabel:"(a || b)"},{id:"unlessAll",connector:"and",label:r,secondaryLabel:"! (a && b)"},{id:"unlessAny",connector:"or",label:i,secondaryLabel:"! (a || b)"}],connectorConfig:[{label:l,id:"and"},{label:s,id:"or"}],operatorConfig:[{label:u,id:"is",type:"all"},{label:c,id:"greater",type:"number"},{label:m,id:"greaterEqual",type:"number"},{label:d,id:"lower",type:"number"},{label:p,id:"lowerEqual",type:"number"},{label:w,id:"startsWith",type:"text,textarea"},{label:b,id:"endsWith",type:"text,textarea"},{label:g,id:"contains",type:"text,textarea"},{label:A,id:"oneOf",type:"option"},{label:v,id:"before",type:"date,time"},{label:f,id:"after",type:"date,time"},{label:h,id:"between",type:"date"}]}},Ne=({operator:e,className:a,onChange:r,...i})=>{const{variant:l,conditionBuilderRef:s}=y.useContext(J),[u]=U(["connectorText"]),{connectorConfig:c}=He(),m=y.useCallback((b,g)=>{g?b.classList.add("hoveredConnector"):b.classList.remove("hoveredConnector")},[]),d=b=>{const g=b==null?void 0:b.currentTarget.closest(".eachGroup");m(g,!0)},p=b=>{const g=b==null?void 0:b.currentTarget.closest(".eachGroup");m(g,!1)},w=(b,g)=>{r==null||r(b),_e(g,s)};return l==W?t.createElement("span",{className:`${a} ${o}__connector--disabled`},t.createElement(te,{label:e})):t.createElement(M,{label:e,title:u,"data-name":"connectorField",onMouseEnter:d,onMouseLeave:p,onFocus:d,onBlur:p,...i,popOverClassName:a,className:`${o}__connector-button`},t.createElement(le,{config:{options:c},conditionState:{value:e,label:u},onChange:w}))};Ne.propTypes={className:n.string,onChange:n.func,operator:n.string};Ne.__docgenInfo={description:"",methods:[],displayName:"ConditionConnector",props:{operator:{required:!1,tsType:{name:"string"},description:"string that defines the connector operator (and/or)",type:{name:"string"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(op: string) => void",signature:{arguments:[{type:{name:"string"},name:"op"}],return:{name:"void"}}},description:"callback to update the current condition of the state tree",type:{name:"func"}}}};const Qe=({conditionState:e,config:a,onChange:r})=>{var c;const[i]=U(["invalidNumberWarnText"]),l=(m,{value:d})=>{d!==""&&!isNaN(d)&&s(d)?r(`${d} ${a.unit??""}`):r("INVALID")},s=m=>!(a.max!==void 0&&a.min===void 0&&m>a.max||a.min!==void 0&&a.max===void 0&&m<a.min||a.max!==void 0&&a.min!==void 0&&(m>a.max||m<a.min)),u=()=>{var m,d;return((d=(m=e.value)==null?void 0:m.split(" "))==null?void 0:d[0])??""};return t.createElement("div",{className:`${o}__item-number`},t.createElement(Nt,{...a,label:e.property,hideLabel:!0,id:(c=e.property)==null?void 0:c.replace(/\s/g,""),invalidText:i,allowEmpty:!0,onChange:l,defaultValue:u()}))};Qe.propTypes={conditionState:n.object,config:n.object,onChange:n.func};Qe.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemNumber",props:{conditionState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"},{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},description:"current condition object",type:{name:"object"}},config:{required:!1,tsType:{name:"PropertyConfigNumber['config']",raw:"PropertyConfigNumber['config']"},description:"current config object that this property is part of",type:{name:"object"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"callback to update state oin date change",type:{name:"func"}}}};const De=({conditionState:e,onChange:a,config:r,type:i})=>{var s;const l={...r,hideLabel:!0,value:pe(e.value)?e.value:"",id:(s=e.property)==null?void 0:s.replace(/\s/g,""),onChange:u=>{a(u.target.value)},labelText:e.property};return t.createElement("div",{className:`${o}__item-text`},i=="textarea"?t.createElement(Pt,{...l}):t.createElement(Mn,{...l}))};De.propTypes={conditionState:n.object,config:n.object,onChange:n.func,type:n.string};De.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemText",props:{conditionState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"},{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},description:"current condition object",type:{name:"object"}},config:{required:!1,tsType:{name:"union",raw:"PropertyConfigText | PropertyConfigTextArea",elements:[{name:"PropertyConfigText"},{name:"PropertyConfigTextArea"}]},description:"config of the current property",type:{name:"object"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"callback to update state oin date change",type:{name:"func"}},type:{required:!1,tsType:{name:"union",raw:"'textarea' | 'text'",elements:[{name:"literal",value:"'textarea'"},{name:"literal",value:"'text'"}]},description:"current input type",type:{name:"string"}}}};const Xe=({conditionState:e,onChange:a,parentRef:r})=>{const i=y.useRef(null),[l,s]=U(["startText","endText"]),u=e.operator=="between"?"range":"single",c=m=>{a(m&&m.length>0?m:"INVALID")};return t.createElement("div",{className:`${o}__item-date `},u=="single"&&t.createElement(ln,{ref:i,dateFormat:"d/m/Y",datePickerType:"single",value:e.value,onClose:c,appendTo:r==null?void 0:r.current},t.createElement(Re,{id:"datePicker",placeholder:"dd/mm/yyyy",labelText:e.property})),u=="range"&&t.createElement(ln,{ref:i,dateFormat:"d/m/Y",datePickerType:u,onClose:c,value:e.value,appendTo:r==null?void 0:r.current},t.createElement(Re,{id:"datePickerStart",placeholder:"dd/mm/yyyy",labelText:l}),t.createElement(Re,{id:"datePickerEnd",placeholder:"dd/mm/yyyy",labelText:s})))};Xe.propTypes={conditionState:n.object,onChange:n.func,parentRef:n.object};Xe.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemDate",props:{conditionState:{description:"current condition object",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1},parentRef:{description:"reference to the popover node",type:{name:"object"},required:!1}}};const en=({onChange:e,config:a})=>{var w,b;const[r,i]=y.useState(""),[l,s]=y.useState("AM"),[u,c]=y.useState((w=a==null?void 0:a.timeZones)==null?void 0:w[0]);y.useEffect(()=>{const g=`${r??""} ${l??""} ${u??""}`;e(r?g:void 0)},[r,l,u]);const m=g=>{c(g.target.value)},d=g=>{s(g.target.value)},p=g=>{i(g.target.value)};return t.createElement("div",{className:`${o}__item-time`},t.createElement(it,{id:"time-picker",labelText:"Select a time",onChange:p},t.createElement(Ke,{id:"time-picker-day-zone",onChange:d},t.createElement(Fe,{value:"AM",text:"AM"}),t.createElement(Fe,{value:"PM",text:"PM"})),t.createElement(Ke,{id:"time-picker-time-zone",onChange:m},(b=a==null?void 0:a.timeZones)==null?void 0:b.map((g,A)=>t.createElement(Fe,{key:A,value:g,text:g})))))};en.propTypes={config:n.object,onChange:n.func};en.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemTime",props:{config:{description:"current config object that this property is part of",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1}}};const Ee=({className:e,onClick:a,addConditionSubGroupHandler:r,showConditionSubGroupPreviewHandler:i,hideConditionSubGroupPreviewHandler:l,showConditionPreviewHandler:s,hideConditionPreviewHandler:u,enableSubGroup:c,buttonLabel:m,tabIndex:d})=>{const[p,w,b]=U(["addConditionText","addConditionRowText","addSubgroupText"]),g=()=>{u==null||u(),a()},A=()=>c?{onMouseEnter:s,onMouseLeave:u,onFocus:s,onBlur:u}:{},v=()=>({onMouseEnter:i,onMouseLeave:l,onFocus:i,onBlur:l}),f=()=>m||(c?void 0:w),h=c?{role:"gridcell"}:{};return t.createElement("div",{className:`${e} ${o}__add-button-wrapper`,role:c?"none":"gridcell","aria-label":f()},t.createElement(te,{renderIcon:xt,onClick:g,...A(),wrapperProps:h,className:`${o}__add-button`,hideLabel:!0,"data-name":"addButton",label:m??p,tabIndex:d,wrapperClassName:`${o}__add-condition-wrapper`}),c&&t.createElement(te,{renderIcon:tt,onClick:r,className:R(`${o}__add-condition-sub-group`),hideLabel:!0,label:b,wrapperProps:h,wrapperClassName:`${o}__add-condition-sub-group-wrapper ${o}__gap-left`,...v()}))};Ee.propTypes={addConditionSubGroupHandler:n.func,buttonLabel:n.string,className:n.string,enableSubGroup:n.bool,hideConditionPreviewHandler:n.func,hideConditionSubGroupPreviewHandler:n.func,onClick:n.func,showConditionPreviewHandler:n.func,showConditionSubGroupPreviewHandler:n.func,tabIndex:n.number};Ee.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderAdd",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"callback triggered on click of add button",type:{name:"func"}},addConditionSubGroupHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for hiding sub group preview",type:{name:"func"}},showConditionSubGroupPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},hideConditionSubGroupPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},showConditionPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},hideConditionPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for hiding sub group preview",type:{name:"func"}},enableSubGroup:{required:!1,tsType:{name:"boolean"},description:"boolean to enable sub groups for the tree variant",type:{name:"bool"}},buttonLabel:{required:!1,tsType:{name:"string"},description:"tooltip label for plus button",type:{name:"string"}},tabIndex:{required:!1,tsType:{name:"number"},description:"Tab index",type:{name:"number"}}}};const Ge=({conditionState:e={},config:a={},onChange:r})=>{const i=ot(e,a),{popOverSearchThreshold:l,getOptions:s,rootState:u}=y.useContext(J),[c,m]=U(["propertyText","clearSearchText"]),d=y.useRef(null),[p,w]=y.useState(a.options),[b,g]=y.useState(""),A=p==null?void 0:p.filter(C=>C.label.toLowerCase().includes(b.toLowerCase())),v=Array.isArray(e.value)?e.value:e.value!==void 0?[e.value]:[];y.useEffect(()=>{!p&&s&&(async()=>{const E=await s(u,e);(E==null?void 0:E.length)>0&&Object.keys(E[0]).includes("label")&&Object.keys(E[0]).includes("id")&&w(E)})()},[]),y.useEffect(()=>{if(d.current){const C=d.current.querySelector("input, button,li");C&&(C==null||C.focus())}},[p]);const f=C=>{C.currentTarget.dataset.selectedAll=="false"?r(void 0):r(p)},h=C=>{const{value:E}=C.target;g(E)},_=(C,E,D)=>{const $=v.filter(K=>K!=="INVALID");if(i)if(D){const K=$.filter(S=>S.id!==E.id);r(K.length>0?K:void 0)}else r([...$,E]);else r(E,C);C.target instanceof SVGElement&&C.stopPropagation()},L=()=>e.label?e.label:e.property?e.property:c;return p?t.createElement("div",{className:`${o}__item-option`,ref:d},l&&p.length>l&&t.createElement("div",{className:`${o}__item-option__search`},t.createElement(et,{size:"sm",labelText:m,closeButtonLabelText:m,onChange:h})),i&&t.createElement("div",{className:`${o}__multiselectSelectionStatusContainer`},t.createElement("label",null,v.length,"/",p.length," Selected"),t.createElement(Wn,{kind:"ghost",size:"sm","data-selected-all":`${v.length==0}`,onClick:f,className:`${o}__selectAll-button`},v.length==0?"Select all":"Deselect all")),t.createElement("ul",{"aria-label":L(),role:"listbox","data-multi-select":i},A==null?void 0:A.map(C=>{const E=v.map($=>$.id).includes(C.id),D=C.icon;return t.createElement("li",{tabIndex:0,key:C.id,role:"option","aria-selected":E,className:`${o}__item-option__option`,onKeyUp:()=>!1,onClick:$=>_($,C,E)},t.createElement("div",{className:`${o}__item-option__option-content`},i?t.createElement(t.Fragment,null,t.createElement("span",{className:`${o}__option-check-box`},E?t.createElement(It,null):t.createElement(St,null)),t.createElement("span",{className:`${o}__item-option__option-label`},C.label),D&&t.createElement("span",{className:`${o}__option-icon`},t.createElement(D,null))):t.createElement(t.Fragment,null,t.createElement("span",{className:`${o}__item-option__option-label`},D&&t.createElement(D,null),C.label),E&&t.createElement(nt,{className:`${o}__checkmark`}))))}))):t.createElement(at,null)};Ge.propTypes={conditionState:n.object,config:n.object,onChange:n.func};Ge.__docgenInfo={description:"",methods:[],displayName:"ItemOptionForValueField",props:{conditionState:{required:!1,tsType:{name:"intersection",raw:"Condition & { label?: string }",elements:[{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"},{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:"{ label?: string }",signature:{properties:[{key:"label",value:{name:"string",required:!1}}]}}]},description:"current condition object",defaultValue:{value:"{}",computed:!1},type:{name:"object"}},config:{required:!1,tsType:{name:"signature",raw:"PropertyConfigOption['config']"},description:"current config object that this property is part of",defaultValue:{value:"{}",computed:!1},type:{name:"object"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: any, e?: Event) => void",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:"callback to update state oin date change",type:{name:"func"}}}};const Be=e=>{const{onRemove:a,onChange:r,condition:i={},conjunction:l,onConnectorOperatorChange:s,isStatement:u,group:c,onStatementChange:m,conditionIndex:d,addConditionHandler:p,addConditionSubGroupHandler:w,aria:b,hideConditionSubGroupPreviewHandler:g,showConditionSubGroupPreviewHandler:A,hideConditionPreviewHandler:v,showConditionPreviewHandler:f,isLastCondition:h}=e,{property:_,value:L,operator:C}=i,{inputConfig:E,variant:D,conditionBuilderRef:$}=y.useContext(J),[K,S]=y.useState(!1),[P,I]=y.useState(!1),[F,z,Y,ie,O]=U(["conditionRowText","conditionText","propertyText","operatorText","removeConditionText"]),{statementConfig:k,operatorConfig:q}=He(),j=H=>{var ne;return((ne=E==null?void 0:E.properties)==null?void 0:ne.find(ft=>ft.id==H))??{}},{icon:T,type:x,config:B,label:V,description:qe}=j(_),X={text:De,number:Qe,date:Xe,time:en,option:Ge,custom:B==null?void 0:B.component,textarea:De}[x],Pe=()=>{I(!0)},Ae=()=>{I(!1)},je=(H,ne)=>{_e(ne,$),m==null||m(H)},ee=H=>{r({...i,property:H,operator:void 0,value:"",popoverToOpen:pe(H)?"operatorField":""})},ce=H=>{r({...i,operator:H,value:void 0,popoverToOpen:pe(H)?"valueField":""})},ke=H=>{const ne={...i};delete ne.popoverToOpen,r({...ne,value:H})},me=()=>{S(!0)},Oe=()=>{S(!1)},ct=(H,ne)=>D===W?!0:h(H,ne),mt=()=>B!=null&&B.operators?B.operators:q.filter(H=>H.type.indexOf(x)!=-1||H.type=="all"),pt=()=>D==W?{"aria-level":b.level,"aria-posinset":b.posinset,"aria-setsize":b.setsize}:{},gt=H=>t.createElement(X,{conditionState:{property:_,operator:C,value:L},onChange:ke,config:B,"data-name":"valueField",parentRef:H,type:x});return t.createElement("div",{className:R(`${o}__condition-block`,{[`${o}__condition__deletion-preview`]:K},{[`${o}__gap-bottom`]:D==W},{[`${o}__gap ${o}__gap-bottom`]:D==ae},{[`${o}__condition--interacting`]:P}),role:"row","aria-label":F,...pt(),tabIndex:-1,onMouseEnter:Pe,onMouseLeave:Ae,onBlur:Ae},l?t.createElement(Ne,{className:`${o}__gap`,operator:l,onChange:H=>s==null?void 0:s(H)}):"",u&&t.createElement(M,{label:c.statement,title:z,"data-name":"connectorField",popOverClassName:`${o}__gap`,className:`${o}__statement-button`,tabIndex:0},t.createElement(le,{conditionState:{value:c.statement,label:z},onChange:je,config:{options:k,isStatement:!0}})),t.createElement(M,{label:V??(i==null?void 0:i.property),title:Y,renderIcon:T??void 0,className:`${o}__property-field`,"data-name":"propertyField",condition:i,type:x,description:qe,onChange:ee},t.createElement(le,{conditionState:{value:_,label:Y},onChange:ee,config:{options:E==null?void 0:E.properties}})),pe(_)&&t.createElement(M,{label:C,title:ie,"data-name":"operatorField",condition:i,type:x,config:B,onChange:ce},t.createElement(le,{config:{options:mt()},conditionState:{value:C,label:ie},onChange:ce})),pe(_)&&pe(C)&&t.createElement(M,{label:L,type:x,title:V,showToolTip:!0,"data-name":"valueField",condition:i,config:B,onChange:ke,renderChildren:gt}),t.createElement("span",{role:"gridcell","aria-label":O},t.createElement(te,{hideLabel:!0,label:O,onClick:a,onMouseEnter:me,onMouseLeave:Oe,onFocus:me,onBlur:Oe,renderIcon:Hn,className:`${o}__close-condition`,"data-name":"closeCondition",wrapperClassName:`${o}__close-condition-wrapper`})),ct(d,c.conditions)&&t.createElement(Ee,{onClick:()=>{p==null||p(d)},addConditionSubGroupHandler:()=>{w==null||w(d)},showConditionSubGroupPreviewHandler:A,hideConditionSubGroupPreviewHandler:g,enableSubGroup:D==W,showConditionPreviewHandler:f,hideConditionPreviewHandler:v,className:`${o}__gap ${o}__gap-left`}))};Be.propTypes={addConditionHandler:n.func,addConditionSubGroupHandler:n.func,aria:n.object,condition:n.object,conditionIndex:n.number,conjunction:n.string,group:n.object,hideConditionPreviewHandler:n.func,hideConditionSubGroupPreviewHandler:n.func,isLastCondition:n.func,isStatement:n.bool,onChange:n.func,onConnectorOperatorChange:n.func,onRemove:n.func,onStatementChange:n.func,showConditionPreviewHandler:n.func,showConditionSubGroupPreviewHandler:n.func,state:n.object};Be.__docgenInfo={description:"",methods:[],displayName:"ConditionBlock",props:{condition:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"},{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},description:"",type:{name:"object"}},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"e"}],return:{name:"void"}}},description:"callback for Remove a condition",type:{name:"func"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(condition: Condition) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}]},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"},{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},name:"condition"}],return:{name:"void"}}},description:"callback to update the current condition of the state tree",type:{name:"func"}},onConnectorOperatorChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(op: string) => void",signature:{arguments:[{type:{name:"string"},name:"op"}],return:{name:"void"}}},description:"callback to handle the connector(and/or) change",type:{name:"func"}},onStatementChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(v: string) => void",signature:{arguments:[{type:{name:"string"},name:"v"}],return:{name:"void"}}},description:"callback to handle the statement(if/ excl.if) change",type:{name:"func"}},addConditionHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"(conditionIndex: number) => void",signature:{arguments:[{type:{name:"number"},name:"conditionIndex"}],return:{name:"void"}}},description:"callback to add a new condition",type:{name:"func"}},addConditionSubGroupHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"(conditionIndex: number) => void",signature:{arguments:[{type:{name:"number"},name:"conditionIndex"}],return:{name:"void"}}},description:"callback to add a new condition subgroup",type:{name:"func"}},hideConditionSubGroupPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for hiding sub group preview",type:{name:"func"}},showConditionSubGroupPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for showing sub group preview",type:{name:"func"}},hideConditionPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for hiding sub group preview",type:{name:"func"}},showConditionPreviewHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"handler for showing add condition preview",type:{name:"func"}},conjunction:{required:!1,tsType:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}]},description:"string that decides to show the condition connector",type:{name:"string"}},isStatement:{required:!1,tsType:{name:"boolean"},description:"boolean that decides to show the statement(if/ excl.if)",type:{name:"bool"}},group:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}},description:"object that hold the current group object where is condition is part of",type:{name:"object"}},conditionIndex:{required:!1,tsType:{name:"number"},description:"",type:{name:"number"}},aria:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  level: number;
  posinset: number;
  setsize?: number;
}`,signature:{properties:[{key:"level",value:{name:"number",required:!0}},{key:"posinset",value:{name:"number",required:!0}},{key:"setsize",value:{name:"number",required:!1}}]}},description:"object hold aria attributes",type:{name:"object"}},isLastCondition:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  index: number,
  conditions: (ConditionGroup | Condition)[]
) => void`,signature:{arguments:[{type:{name:"number"},name:"index"},{type:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]"},name:"conditions"}],return:{name:"void"}}},description:"",type:{name:"func"}},state:{description:"object that hold the current condition",type:{name:"object"},required:!1}}};const xe=({previewType:e,group:a,colorIndex:r})=>{const[i,l]=y.useState(!1),[s,u,c,m]=U(["valueText","operatorText","propertyText","ifText"]);y.useEffect(()=>{l(!0)},[]);const d=()=>t.createElement("div",{className:`${o}__preview-condition`},t.createElement(M,{label:s,renderIcon:Tt}),t.createElement(M,{label:u}),t.createElement(M,{label:c}));return t.createElement(t.Fragment,null,e=="newGroup"&&t.createElement(t.Fragment,null,t.createElement("div",{className:R([`${o}__group__row ${o}__group-preview `,{[`${o}__group-preview-animate`]:i}])},t.createElement(M,{className:`${o}__statement-button`,label:a.groupOperator})),t.createElement("div",{"data-color-index":r,"aria-hidden":!0,className:R([`${o}__group ${o}__condition-wrapper ${o}__group-preview ${o}__group-wrapper `,{[`${o}__group-preview-animate`]:i}])},t.createElement("div",{className:`${o}__gap`},t.createElement(M,{className:`${o}__statement-button`,label:m})),d())),e=="subGroup"&&t.createElement("div",{className:R([`${o}__group__row ${o}__group-preview ${o}__gap-bottom`,{[`${o}__group-preview-animate`]:i}])},t.createElement("div",{className:`${o}__condition-block  ${o}__gap`},t.createElement(M,{label:a.groupOperator,className:`${o}__statement-button`,popOverClassName:`${o}__gap`}),t.createElement("div",{className:`${o}__group ${o}__condition-wrapper`},t.createElement(Ne,{className:`${o}__gap ${o}__groupConnector`,operator:m}),d()))),e=="condition"&&t.createElement("div",{className:R([`${o}__group__row ${o}__group-preview ${o}__gap-bottom`,{[`${o}__group-preview-animate`]:i}])},t.createElement("div",{className:`${o}__condition-block  ${o}__gap`},t.createElement(M,{label:a.groupOperator,className:`${o}__statement-button`,popOverClassName:`${o}__gap`}),d())))};xe.propTypes={colorIndex:n.number,group:n.object,previewType:n.oneOf(["condition","subGroup","newGroup"])};xe.__docgenInfo={description:"",methods:[],displayName:"ConditionPreview",props:{previewType:{required:!1,tsType:{name:"union",raw:"'newGroup' | 'subGroup' | 'condition'",elements:[{name:"literal",value:"'newGroup'"},{name:"literal",value:"'subGroup'"},{name:"literal",value:"'condition'"}]},description:"type of review to be displayed",type:{name:"enum",value:[{value:"'condition'",computed:!1},{value:"'subGroup'",computed:!1},{value:"'newGroup'",computed:!1}]}},group:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}},description:"current conditional group",type:{name:"object"}},colorIndex:{required:!1,tsType:{name:"number"},description:"index of the color for next group",type:{name:"number"}}}};const Me=({group:e,aria:a,onRemove:r,onChange:i,className:l})=>{const[s,u,c]=U(["conditionBuilderGroupText","conditionText","conditionBuilderText"]),{statementConfig:m}=He(),{variant:d,conditionBuilderRef:p}=y.useContext(J),[w,b]=y.useState(-1),[g,A]=y.useState(-1);y.useState(!1);const v=y.useRef(null),f=(O,k,q)=>{var j;if(e&&e.conditions&&e.conditions.length>1)if(d==W?E(k):C(k,q),h(e.conditions,O)){const T=e.conditions.filter(x=>O!==x.id);if((T==null?void 0:T[0]).conditions){const x=T[0];T.splice(0,1,...x==null?void 0:x.conditions)}i==null||i({...e,conditions:T})}else{const T=(j=e==null?void 0:e.conditions)==null?void 0:j.reduce((x,B)=>{const V=B;return V.conditions?x.concat(V.conditions):x},[]);i==null||i({...e,conditions:T})}else r==null||r(k)},h=(O,k)=>O.find(q=>!q.conditions&&q.id!==k),_=(O,k)=>{const q=[...e!=null&&e.conditions?e.conditions.slice(0,k):[],O,...e!=null&&e.conditions?e.conditions.slice(k+1):[]];i==null||i({...e,conditions:q,id:(e==null?void 0:e.id)??N()})},L=O=>{const k={property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:N()};i==null||i({...e,conditions:[...e.conditions?e.conditions.slice(0,O+1):[],k,...e.conditions?e.conditions.slice(O+1):[]]})},C=(O,k)=>{var j;const q=(j=O.currentTarget.closest(`.${o}__group`))==null?void 0:j.querySelectorAll('[data-name="closeCondition"]');k==q.length-1?Z(q[k-1],p):Z(q[k+1],p)},E=O=>{var x,B,V,qe,Q,X,Pe,Ae,je;const k=(B=(x=O.currentTarget)==null?void 0:x.closest('[role="row"]'))==null?void 0:B.getAttribute("aria-level"),q=(qe=(V=O.currentTarget)==null?void 0:V.closest('[role="row"]'))==null?void 0:qe.getAttribute("aria-posinset"),j=(Q=v.current)==null?void 0:Q.querySelector(`[aria-level="${k}"][aria-posinset="${Number(q)+1}"]`),T=(X=v.current)==null?void 0:X.querySelector(`[aria-level="${k}"][aria-posinset="${Number(q)-1}"]`);if(j!=null&&j.classList.contains(`${o}__condition-block`))Z(j==null?void 0:j.querySelector('[data-name="closeCondition"]'),p);else if(T!=null&&T.classList.contains(`${o}__condition-block`))Z(T==null?void 0:T.querySelector('[data-name="closeCondition"]'),p);else{const ee=(Pe=v.current)==null?void 0:Pe.querySelectorAll(`[aria-level="${Number(k)-1}"][role="row"]`),ce=(Ae=v.current)==null?void 0:Ae.querySelector(`[aria-level="${Number(k)+1}"][role="row"]`);if(ce){const ke={ariaLevel:Number(ce.ariaLevel)-1,ariaPosInSet:ce.ariaPosInSet};setTimeout(()=>{var Oe;const me=(Oe=v.current)==null?void 0:Oe.querySelector(`[role="row"][aria-level="${ke.ariaLevel}"][aria-posinset="${ke.ariaPosInSet}"]`);Z(me==null?void 0:me.querySelector('[data-name="closeCondition"]'),p)},0)}else ee!=null&&ee.length&&ee.length>1&&Z((je=ee[ee.length-2])==null?void 0:je.querySelector('[data-name="closeCondition"]'),p)}},D=O=>{i({...e,conditions:[...e.conditions?e.conditions.slice(0,O+1):[],{statement:"ifAll",groupOperator:"and",conditions:[{property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:N()}],id:N()},...e.conditions?e.conditions.slice(O+1):[]]})},$=(O,k)=>O+1>=k.length||k.length-1!=O&&k[O+1].conditions,K=O=>{A(O)},S=()=>{A(-1)},P=O=>{b(O)},I=()=>{b(-1)},F=O=>{var q;const k=(q=m.find(j=>j.id==O))==null?void 0:q.connector;i({...e,groupOperator:k,statement:O})},z=O=>{i({...e,groupOperator:O})},Y=()=>{var O;return t.createElement("div",{className:`${l}  eachGroup`},t.createElement("div",{className:`${o}__condition-wrapper`,role:"grid","aria-label":c},(O=e==null?void 0:e.conditions)==null?void 0:O.map((k,q)=>{var j;return t.createElement("div",{key:k.id,className:`${o}__group-wrapper`},t.createElement(Be,{conjunction:q>0?e.groupOperator:void 0,aria:{level:a.level+1,posinset:q+1,setsize:(j=e==null?void 0:e.conditions)==null?void 0:j.length},isStatement:q==0,condition:k,group:e,conditionIndex:q,onChange:T=>{_(T,q)},addConditionHandler:L,onRemove:T=>{f(k.id,T,q)},onConnectorOperatorChange:z,onStatementChange:F,isLastCondition:$}))})))},ie=()=>{var O;return t.createElement("div",{className:`${l} ${o}__condition-wrapper`,role:a.level===1?"rowgroup":void 0,"aria-label":a.level==1?s:void 0,ref:v},t.createElement("div",{tabIndex:0,role:"row","aria-level":a.level,"aria-posinset":a.posinset,"aria-setsize":a.setsize},t.createElement(M,{label:e.statement,title:u,"data-name":"connectorField",popOverClassName:`${o}__gap`,className:`${o}__statement-button`},t.createElement(le,{conditionState:{value:e.statement,label:u},onChange:(k,q)=>{_e(q,p),F(k)},config:{options:m,isStatement:!0}}))),(O=e==null?void 0:e.conditions)==null?void 0:O.map((k,q)=>{var j,T;return t.createElement(y.Fragment,{key:k.id},k.conditions?t.createElement("div",{className:R(`${o}__condition-block subgroup  ${o}__gap`,{[`${o}__gap-bottom`]:e&&e.conditions&&e.conditions.length<q+1},{})},t.createElement(Ne,{className:`${o}__gap ${o}__gap-bottom ${o}__groupConnector`,operator:e.groupOperator,"aria-hidden":!0}),t.createElement(Me,{aria:{level:a.level+1,posinset:q+1,setsize:((j=e.conditions)==null?void 0:j.length)??0},className:`${o}__group`,group:k,onChange:x=>{_(x,q)},onRemove:x=>{f(k.id,x,q)}})):t.createElement("div",null,t.createElement(Be,{conjunction:q>0?e.groupOperator:void 0,aria:{level:a.level+1,posinset:q+1,setsize:((T=e.conditions)==null?void 0:T.length)??0},isStatement:!1,condition:k,group:e,conditionIndex:q,addConditionHandler:L,addConditionSubGroupHandler:D,onChange:x=>{_(x,q)},onRemove:x=>{f(k.id,x,q)},onConnectorOperatorChange:z,onStatementChange:F,showConditionSubGroupPreviewHandler:()=>{K(q)},hideConditionSubGroupPreviewHandler:S,showConditionPreviewHandler:()=>{P(q)},hideConditionPreviewHandler:I,isLastCondition:$})),q==g&&t.createElement(xe,{previewType:"subGroup",group:e}),q==w&&t.createElement(xe,{previewType:"condition",group:e}))}))};return t.createElement(t.Fragment,null,d==W&&ie(),d==ae&&Y())};Me.propTypes={aria:n.object,className:n.string,group:n.object,onChange:n.func,onRemove:n.func};Me.__docgenInfo={description:"",methods:[],displayName:"ConditionGroupBuilder",props:{group:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}},description:"",type:{name:"object"}},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:"call back to remove the particular group from the state tree",type:{name:"func"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(group: ConditionGroup) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}},name:"group"}],return:{name:"void"}}},description:"callback to update the current condition of the state tree",type:{name:"func"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},aria:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  level: number;
  posinset: number;
  setsize: number;
}`,signature:{properties:[{key:"level",value:{name:"number",required:!0}},{key:"posinset",value:{name:"number",required:!0}},{key:"setsize",value:{name:"number",required:!0}}]}},description:"object contains the aria attributes",type:{name:"object"}}}};const ut=()=>{const{rootState:e,setRootState:a}=y.useContext(J),[r]=U(["conditionText"]),{connectorConfig:i}=He(),l=s=>{a({...e,operator:s})};return t.createElement("div",{className:`${o}__group-separator ${o}__group-separator-row`,role:"row",tabIndex:-1,"aria-level":1},t.createElement(M,{label:e.operator,title:r,"data-name":"connectorField",popOverClassName:`${o}__gap`,className:`${o}__statement-button`},t.createElement(le,{conditionState:{value:e.operator,label:r},onChange:l,config:{options:i}})))};ut.__docgenInfo={description:"",methods:[],displayName:"GroupConnector"};const nn=({actions:e,className:a})=>{const{actionState:r=[],setActionState:i}=y.useContext(J),[l,s]=y.useState(-1),[u,c,m,d,p,w]=U(["actionsText","then","and","removeActionText","addActionText","actionSectionText"]),b=()=>{const h={id:N(),label:void 0,popoverToOpen:"valueField"};i==null||i([...r,h])},g=(h,_)=>{const C={...e.find(E=>E.id===h),id:r[_].id};i==null||i([...r.slice(0,_),C,...r.slice(_+1)])},A=h=>{i==null||i(r.filter(_=>_.id!==h))},v=h=>{s(h)},f=()=>{s(-1)};return t.createElement("div",{className:a},t.createElement(Jn,{className:`${o}__heading`,level:4},t.createElement(Yn,null,u)),t.createElement("div",{className:`${o}__condition-wrapper`,role:"grid","aria-label":w},r==null?void 0:r.map((h,_)=>t.createElement("div",{key:h.id,role:"row",className:R(`${o}__condition-block ${o}__gap ${o}__gap-bottom`,{[`${o}__condition__deletion-preview`]:l==_})},t.createElement(M,{className:`${o}__statement-button`,tabIndex:0,popOverClassName:`${o}__gap`,label:_===0?c:m}),t.createElement(M,{label:h.label,title:u,condition:h,"data-name":"valueField",type:"option"},t.createElement(Ge,{conditionState:{value:h.label},onChange:L=>g(L.id,_),config:{options:e}})),t.createElement("span",{role:"gridcell","aria-label":d},t.createElement(te,{hideLabel:!0,label:d,onClick:()=>A(h.id),onMouseEnter:()=>v(_),onMouseLeave:f,onFocus:()=>v(_),onBlur:f,renderIcon:Hn,className:`${o}__close-condition`,"data-name":"closeCondition"})),r.length===_+1&&t.createElement(Ee,{onClick:b,className:`${o}__gap ${o}__gap-left`,buttonLabel:p,tabIndex:0}))),r.length===0&&t.createElement(Ee,{onClick:b,className:`${o}__gap ${o}__gap-left`,buttonLabel:p,tabIndex:0})))};nn.propTypes={actions:n.arrayOf(n.shape({id:n.oneOfType([n.string,n.number]).isRequired,label:n.string.isRequired})),className:n.string};nn.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderActions",props:{actions:{required:!1,tsType:{name:"union",raw:"Action[] | Option[]",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"}]},description:"optional array of object that give the list of actions.",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!0},label:{name:"string",required:!0}}}}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}}}};const tn=({startConditionLabel:e,getConditionState:a,getActionsState:r,initialState:i,actions:l})=>{var S;const{rootState:s,setRootState:u,variant:c,actionState:m}=y.useContext(J),d=y.useRef(i!=null&&i.state?JSON.parse(JSON.stringify(i==null?void 0:i.state)):null),[p,w]=y.useState(!1),[b,g]=y.useState(!1),[A,v,f]=U(["addConditionGroupText","conditionHeadingText","conditionBuilderHierarchicalText"]),h=()=>{g(!0)},_=()=>{g(!1)};y.useEffect(()=>{var P;(P=s==null?void 0:s.groups)!=null&&P.length?w(!0):w(!1),a&&a(s??{})},[s]),y.useEffect(()=>{r==null||r(m??[])},[m]),y.useEffect(()=>{i!=null&&i.enabledDefault&&(u==null||u(i.state))},[i]);const L=()=>{var P,I;w(!0),(I=(P=d==null?void 0:d.current)==null?void 0:P.groups)!=null&&I.length?(u==null||u(d.current),d.current=null):u==null||u(Bt)},C=y.useCallback(P=>{var F;const I=(F=s==null?void 0:s.groups)==null?void 0:F.filter(z=>P!==(z==null?void 0:z.id));u==null||u({...s,groups:s?I:[]}),(I==null?void 0:I.length)===0&&(d.current=null)},[u,s]),E=(P,I)=>{if(s&&s.groups){const F=[...s.groups?s.groups.slice(0,I):[],P,...s.groups?s.groups.slice(I+1):[]];u==null||u({...s,groups:F})}},D=()=>{const P={statement:"ifAll",groupOperator:"and",id:N(),conditions:[{property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:N()}]};u==null||u({...s,groups:s&&s.groups?[...s.groups,P]:[P]})},$=()=>{var I;return(((I=s==null?void 0:s.groups)==null?void 0:I.length)??0)%5};if(!p)return t.createElement(Wn,{className:`${o}__addConditionText-button`,renderIcon:P=>t.createElement(Xn,{...P}),iconDescription:e,kind:"ghost",size:"sm",onClick:L},e);const K=c===W?{role:"treegrid","aria-label":f}:null;return t.createElement(t.Fragment,null,t.createElement(Jn,{className:`${o}__heading`,level:4},t.createElement(Yn,null,v)),t.createElement("div",{className:`${o}__content-container`,...K},s&&((S=s==null?void 0:s.groups)==null?void 0:S.map((P,I)=>t.createElement("div",{key:P.id,className:`${o}__group-wrapper`},t.createElement(Me,{className:`${o}__group`,aria:{level:1,posinset:I*2+1,setsize:(s.groups&&s.groups.length*2)??0},group:P,onRemove:()=>{C(P.id)},onChange:F=>{E(F,I)}}),s.groups&&I<s.groups.length-1&&t.createElement(ut,null)))),c==W&&t.createElement("div",{role:"row",tabIndex:-1,"aria-level":1,className:`${o}__add-group`},t.createElement(te,{renderIcon:tt,onClick:D,onMouseEnter:h,onMouseLeave:_,onFocus:h,onBlur:_,className:`${o}__add-condition-group `,hideLabel:!0,label:A,wrapperProps:{role:"gridcell","aria-label":A}})),b&&t.createElement(xe,{previewType:"newGroup",colorIndex:$(),group:{groupOperator:s==null?void 0:s.operator,id:N()}})),l&&t.createElement(nn,{actions:l,className:`${o}__actions-container`}))};tn.propTypes={actions:n.arrayOf(n.shape({id:n.oneOfType([n.string,n.number]).isRequired,label:n.string.isRequired})),getActionsState:n.func,getConditionState:n.func.isRequired,initialState:n.shape({state:n.shape({groups:n.arrayOf(n.shape({groupOperator:n.string,statement:n.string,conditions:n.arrayOf(n.oneOfType([n.shape({property:n.string,operator:n.string,value:n.oneOfType([n.string,n.arrayOf(n.shape({id:n.string,label:n.string})),n.shape({id:n.string,label:n.string})])}),n.object]))})),operator:n.string}),enabledDefault:n.bool}),startConditionLabel:n.string.isRequired};tn.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderContent",props:{startConditionLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},getConditionState:{required:!0,tsType:{name:"signature",type:"function",raw:"(state: ConditionBuilderState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},name:"state"}],return:{name:"void"}}},description:"This is a callback function that returns the updated state",type:{name:"func"}},getActionsState:{required:!1,tsType:{name:"signature",type:"function",raw:"(state: Action[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},name:"state"}],return:{name:"void"}}},description:"callback functions that will provide the updated action state back.",type:{name:"func"}},initialState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  state: ConditionBuilderState;
  enabledDefault?: boolean;
}`,signature:{properties:[{key:"state",value:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]},required:!0}},{key:"enabledDefault",value:{name:"boolean",required:!1}}]}},description:"Optional prop if the condition building need to start from a predefined initial state",type:{name:"shape",value:{state:{name:"shape",value:{groups:{name:"arrayOf",value:{name:"shape",value:{groupOperator:{name:"string",required:!1},statement:{name:"string",required:!1},conditions:{name:"arrayOf",value:{name:"union",value:[{name:"shape",value:{property:{name:"string",required:!1},operator:{name:"string",required:!1},value:{name:"union",value:[{name:"string"},{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}},{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}],required:!1}}},{name:"object"}]},required:!1}}},required:!1},operator:{name:"string",required:!1}},required:!1},enabledDefault:{name:"bool",required:!1}}}},actions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},description:"optional array of object that give the list of actions.",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!0},label:{name:"string",required:!0}}}}}}};const an="ConditionBuilder";let de=t.forwardRef(({className:e,inputConfig:a,startConditionLabel:r="Add Condition",popOverSearchThreshold:i,getOptions:l,initialState:s,getConditionState:u,getActionsState:c,variant:m=ae,actions:d,translateWithId:p,statementConfigCustom:w,...b},g)=>{const A=y.useRef(null),v=g||A,f=h=>{Ht(h,v,m)};return t.createElement(Je,{inputConfig:a,popOverSearchThreshold:i,getOptions:l,variant:m,translateWithId:p,conditionBuilderRef:v,statementConfigCustom:w},t.createElement("div",{...b,className:R(o,e,{}),ref:v,...At(an)},t.createElement(Lt,{className:`${o}__${m}`,onKeyDown:f},t.createElement(tn,{startConditionLabel:r,getConditionState:u,getActionsState:c,initialState:s,actions:d}))))});de=Vn.checkComponentEnabled(de,an);de.displayName=an;de.propTypes={actions:n.arrayOf(n.shape({id:n.oneOfType([n.string,n.number]).isRequired,label:n.string.isRequired})),className:n.string,getActionsState:n.func,getConditionState:n.func.isRequired,getOptions:n.func,initialState:n.shape({state:n.shape({groups:n.arrayOf(n.shape({groupOperator:n.string,statement:n.string,conditions:n.arrayOf(n.oneOfType([n.shape({property:n.string,operator:n.string,value:n.oneOfType([n.string,n.arrayOf(n.shape({id:n.string,label:n.string})),n.shape({id:n.string,label:n.string})])}),n.object]))})),operator:n.string}),enabledDefault:n.bool}),inputConfig:n.shape({properties:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired,icon:n.oneOfType([n.func,n.object]),type:n.oneOf(["text","textarea","number","date","option","time","custom"]).isRequired,description:n.string,config:n.shape({options:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired,icon:n.oneOfType([n.func,n.object])})),component:n.func,operators:n.arrayOf(n.shape({id:n.string.isRequired,label:n.string.isRequired})),valueFormatter:n.func})}))}).isRequired,popOverSearchThreshold:n.number.isRequired,startConditionLabel:n.string,statementConfigCustom:n.arrayOf(n.shape({id:n.string.isRequired,connector:n.oneOf(["and","or"]).isRequired,label:n.string.isRequired,secondaryLabel:n.string})),translateWithId:n.func,variant:n.oneOf(["Non-Hierarchical","Hierarchical"])};de.__docgenInfo={description:"TODO: A description of the component.",methods:[],displayName:"ConditionBuilder",props:{inputConfig:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  properties: Property[];
}`,signature:{properties:[{key:"properties",value:{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
  description?: string;
  type?: any;
  config?: any;
} & ConfigType`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
  description?: string;
  type?: any;
  config?: any;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"type",value:{name:"any",required:!1}},{key:"config",value:{name:"any",required:!1}}]}},{name:"union",raw:`| PropertyConfigOption['config']
| PropertyConfigTextArea['config']
| PropertyConfigText['config']
| PropertyConfigNumber['config']
| PropertyConfigDate['config']
| PropertyConfigTime['config']
| PropertyConfigCustom['config']`,elements:[{name:"signature",raw:"PropertyConfigOption['config']"},{name:"PropertyConfigTextArea['config']",raw:"PropertyConfigTextArea['config']"},{name:"PropertyConfigText['config']",raw:"PropertyConfigText['config']"},{name:"PropertyConfigNumber['config']",raw:"PropertyConfigNumber['config']"},{name:"signature",raw:"PropertyConfigDate['config']"},{name:"signature",raw:"PropertyConfigTime['config']"},{name:"signature",raw:"PropertyConfigCustom['config']"}]}]}],raw:"Property[]",required:!0}}]}},description:"This is a mandatory prop that defines the input to the condition builder.",type:{name:"shape",value:{properties:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'textarea'",computed:!1},{value:"'number'",computed:!1},{value:"'date'",computed:!1},{value:"'option'",computed:!1},{value:"'time'",computed:!1},{value:"'custom'",computed:!1}],required:!0},description:{name:"string",required:!1},config:{name:"shape",value:{options:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1}}},required:!1},component:{name:"func",required:!1},operators:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0}}},required:!1},valueFormatter:{name:"func",required:!1}},required:!1}}},required:!1}}}},initialState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  state: ConditionBuilderState;
  enabledDefault?: boolean;
}`,signature:{properties:[{key:"state",value:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]},required:!0}},{key:"enabledDefault",value:{name:"boolean",required:!1}}]}},description:`Optional prop if you want to pass a saved condition state, pass as "initialState.state".
"initialState.enabledDefault" will populate the builder with the provided initial state before clicking Add Condition button.

 This state should respect the structure of condition state that is available in getConditionState callback`,type:{name:"shape",value:{state:{name:"shape",value:{groups:{name:"arrayOf",value:{name:"shape",value:{groupOperator:{name:"string",required:!1},statement:{name:"string",required:!1},conditions:{name:"arrayOf",value:{name:"union",value:[{name:"shape",value:{property:{name:"string",required:!1},operator:{name:"string",required:!1},value:{name:"union",value:[{name:"string"},{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}},{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}],required:!1}}},{name:"object"}]},required:!1}}},required:!1},operator:{name:"string",required:!1}},required:!1},enabledDefault:{name:"bool",required:!1}}}},getActionsState:{required:!1,tsType:{name:"signature",type:"function",raw:"(state: Action[] | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"Action[] | undefined",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},{name:"undefined"}]},name:"state"}],return:{name:"void"}}},description:"This is a callback that gives back the updated action state",type:{name:"func"}},getConditionState:{required:!0,tsType:{name:"signature",type:"function",raw:"(state: ConditionBuilderState | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"ConditionBuilderState | undefined",elements:[{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},{name:"undefined"}]},name:"state"}],return:{name:"void"}}},description:"This is a callback that gives back updated condition state",type:{name:"func"}},getOptions:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  state: ConditionBuilderState,
  condition: Condition
) => Promise<Option[]>`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  groups?: ConditionGroup[];
  operator?: LogicalOperator;
}`,signature:{properties:[{key:"groups",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  conditions?: (ConditionGroup | Condition)[];
  groupOperator?: LogicalOperator;
  statement?: StatementOperator;
  id: string;
}`,signature:{properties:[{key:"conditions",value:{name:"Array",elements:[{name:"unknown"}],raw:"(ConditionGroup | Condition)[]",required:!1}},{key:"groupOperator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}},{key:"statement",value:{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"ConditionGroup[]",required:!1}},{key:"operator",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1}}]}},name:"state"},{type:{name:"signature",type:"object",raw:`{
  property?: string;
  operator?: Operator | '' | 'INVALID';
  value?: string | Option[] | Option;
  id?: string | number;
  popoverToOpen?: string;
}`,signature:{properties:[{key:"property",value:{name:"string",required:!1}},{key:"operator",value:{name:"union",raw:"Operator | '' | 'INVALID'",elements:[{name:"union",raw:`| LogicalOperator
| StatementOperator
| CoreOperator
| NumberOperator
| StringOperator
| ArrayOperator
| OptionOperator
| DateOperator`,elements:[{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!1},{name:"union",raw:"'ifAll' | 'ifAny' | 'unlessAll' | 'unlessAny'",elements:[{name:"literal",value:"'ifAll'"},{name:"literal",value:"'ifAny'"},{name:"literal",value:"'unlessAll'"},{name:"literal",value:"'unlessAny'"}],required:!1},{name:"literal",value:"'is'"},{name:"union",raw:"'greater' | 'greaterEqual' | 'lower' | 'lowerEqual'",elements:[{name:"literal",value:"'greater'"},{name:"literal",value:"'greaterEqual'"},{name:"literal",value:"'lower'"},{name:"literal",value:"'lowerEqual'"}]},{name:"union",raw:"'startsWith' | 'endsWith'",elements:[{name:"literal",value:"'startsWith'"},{name:"literal",value:"'endsWith'"}]},{name:"literal",value:"'contains'"},{name:"literal",value:"'oneOf'"},{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]}]},{name:"literal",value:"''"},{name:"literal",value:"'INVALID'"}],required:!1}},{key:"value",value:{name:"union",raw:"string | Option[] | Option",elements:[{name:"string"},{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"},{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],required:!1}},{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"popoverToOpen",value:{name:"string",required:!1}}]}},name:"condition"}],return:{name:"Promise",elements:[{name:"Array",elements:[{name:"intersection",raw:`Item & {
  icon?: CarbonIconType;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  icon?: CarbonIconType;
}`,signature:{properties:[{key:"icon",value:{name:"CarbonIconType",required:!1}}]}}]}],raw:"Option[]"}],raw:"Promise<Option[]>"}}},description:`This is a callback that get triggered when  you want to dynamically fetch options.
 Component call this when the option array is not passed against a property with type as option in the input config.
This is an asynchronous callback that can return a promise , and you need to resolve the promise with options array in the valid format.
You will receive the root condition state and current condition as the 2 arguments.
eg: const getOptions = async (conditionState,condition) => {
  switch (condition.property) {
    case 'continent':
      return new Promise((resolve) => {
        const continents=[{
      label: 'Africa',
      id: 'Africa',
    },...]
          resolve(continents);
      });
      default:
      return [];
  }
};`,type:{name:"func"}},actions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id?: string | number;
  label?: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"label",value:{name:"string",required:!1}}]}}],raw:"Action[]"},description:"optional array of actions",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!0},label:{name:"string",required:!0}}}}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},popOverSearchThreshold:{required:!0,tsType:{name:"number"},description:"Provide an mandatory numeric value that will be used to enable search option in the popovers with list.",type:{name:"number"}},startConditionLabel:{required:!1,tsType:{name:"string"},description:"Provide a label to the button that starts condition builder",defaultValue:{value:"'Add Condition'",computed:!1},type:{name:"string"}},variant:{required:!1,tsType:{name:"union",raw:"'Non-Hierarchical' | 'Hierarchical'",elements:[{name:"literal",value:"'Non-Hierarchical'"},{name:"literal",value:"'Hierarchical'"}]},description:"Provide the condition builder variant: Non-Hierarchical/ Hierarchical",defaultValue:{value:"'Non-Hierarchical'",computed:!1},type:{name:"enum",value:[{value:"'Non-Hierarchical'",computed:!1},{value:"'Hierarchical'",computed:!1}]}},translateWithId:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => string",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"string"}}},description:`Optional prop, if you need to pass translations to the texts on the component instead of the defined defaults.
This callback function will receive the message id and you need to return the corresponding text for that id.
The message id will be one of [   "ifText","addConditionText",   "addConditionGroupText",   "addSubgroupText",   "conditionText",   "propertyText",   "operatorText",   "valueText",   "connectorText",   "conditionRowText","conditionRowGroupText","conditionBuilderText","actionSectionText",   "removeConditionText",   "addConditionRowText",   "startText",   "endText",   "clearSearchText",   "actionsText",   "then",   "removeActionText",   "addActionText",   "invalidText",  "invalidNumberWarnText"]
]`,type:{name:"func"}},statementConfigCustom:{required:!1,tsType:{name:"Array",elements:[{name:"intersection",raw:`Item & {
  connector: 'and' | 'or';
  secondaryLabel?: string;
}`,elements:[{name:"signature",type:"object",raw:"{ id: string; label: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  connector: 'and' | 'or';
  secondaryLabel?: string;
}`,signature:{properties:[{key:"connector",value:{name:"union",raw:"'and' | 'or'",elements:[{name:"literal",value:"'and'"},{name:"literal",value:"'or'"}],required:!0}},{key:"secondaryLabel",value:{name:"string",required:!1}}]}}]}],raw:"statementConfig[]"},description:"Optional prop for passing custom configuration for statement option from default op",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},connector:{name:"enum",value:[{value:"'and'",computed:!1},{value:"'or'",computed:!1}],required:!0},label:{name:"string",required:!0},secondaryLabel:{name:"string",required:!1}}}}}}};function dn(e){const a={a:"a",h1:"h1",h2:"h2",li:"li",ul:"ul",...Bn(),...e.components};return G.jsxs(G.Fragment,{children:[G.jsx(a.h1,{id:"conditionbuilder",children:"ConditionBuilder"}),`
`,G.jsx(a.h2,{id:"table-of-contents",children:"Table of Contents"}),`
`,G.jsxs(a.ul,{children:[`
`,G.jsx(a.li,{children:G.jsx(a.a,{href:"#overview",children:"Overview"})}),`
`,G.jsx(a.li,{children:G.jsx(a.a,{href:"#example-usage",children:"Example usage"})}),`
`,G.jsx(a.li,{children:G.jsx(a.a,{href:"#component-api",children:"Component API"})}),`
`]}),`
`,G.jsx(a.h2,{id:"overview",children:"Overview"}),`
`,`
`,G.jsx(a.h2,{id:"example-usage",children:"Example usage"}),`
`,`
`,G.jsx(yt,{children:G.jsx(bt,{of:ue})}),`
`,G.jsx(a.h2,{id:"code-sample",children:"Code sample"}),`
`,`
`,G.jsx(a.h2,{id:"component-api",children:"Component API"}),`
`,G.jsx(vt,{})]})}function Wt(e={}){const{wrapper:a}={...Bn(),...e.components};return a?G.jsx(a,{...e,children:G.jsx(dn,{...e})}):dn(e)}const Kt=".c4p--condition-builder{padding:1.5rem}",rn=({onChange:e,conditionState:a})=>{const r=i=>{e(i.target.value)};return t.createElement("div",{className:"custom-component"},t.createElement(Mn,{labelText:"labelText",hideLabel:!0,value:a.value??"",id:"customInput",onChange:r}))};rn.propTypes={conditionState:n.object,onChange:n.func};rn.__docgenInfo={description:"",methods:[],displayName:"CustomInput",props:{conditionState:{description:"current condition state",type:{name:"object"},required:!1},onChange:{description:"This function need to be called that provides a label which should be shown in the condition after a user has made their selection / set their value",type:{name:"func"},required:!1}}};const zt=[["AF","Afghanistan"],["AX","land Islands"],["AL","Albania"],["DZ","Algeria"],["AS","American Samoa"],["AD","Andorra"],["AO","Angola"],["AI","Anguilla"],["AQ","Antarctica"],["AG","Antigua & Barbuda"],["AR","Argentina"],["AM","Armenia"],["AW","Aruba"],["AC","Ascension Island"],["AU","Australia"],["AT","Austria"],["AZ","Azerbaijan"],["BS","Bahamas"],["BH","Bahrain"],["BD","Bangladesh"],["BB","Barbados"],["BY","Belarus"],["BE","Belgium"],["BZ","Belize"],["BJ","Benin"],["BM","Bermuda"],["BT","Bhutan"],["BO","Bolivia"],["BA","Bosnia & Herzegovina"],["BW","Botswana"],["BV","Bouvet Island"],["BR","Brazil"],["IO","British Indian Ocean Territory"],["VG","British Virgin Islands"],["BN","Brunei"],["BG","Bulgaria"],["BF","Burkina Faso"],["BI","Burundi"],["KH","Cambodia"],["CM","Cameroon"],["CA","Canada"],["IC","Canary Islands"],["CV","Cape Verde"],["BQ","Caribbean Netherlands"],["KY","Cayman Islands"],["CF","Central African Republic"],["EA","Ceuta & Melilla"],["TD","Chad"],["CL","Chile"],["CN","China"],["CX","Christmas Island"],["CP","Clipperton Island"],["CC","Cocos (Keeling) Islands"],["CO","Colombia"],["KM","Comoros"],["CG","Congo - Brazzaville"],["CD","Congo - Kinshasa"],["CK","Cook Islands"],["CR","Costa Rica"],["CI","Cte d'Ivoire"],["HR","Croatia"],["CU","Cuba"],["CW","Curaao"],["CY","Cyprus"],["CZ","Czechia"],["DK","Denmark"],["DG","Diego Garcia"],["DJ","Djibouti"],["DM","Dominica"],["DO","Dominican Republic"],["EC","Ecuador"],["EG","Egypt"],["SV","El Salvador"],["GQ","Equatorial Guinea"],["ER","Eritrea"],["EE","Estonia"],["SZ","Eswatini"],["ET","Ethiopia"],["EU","European Union"],["FK","Falkland Islands"],["FO","Faroe Islands"],["FJ","Fiji"],["FI","Finland"],["FR","France"],["GF","French Guiana"],["PF","French Polynesia"],["TF","French Southern Territories"],["GA","Gabon"],["GM","Gambia"],["GE","Georgia"],["DE","Germany"],["GH","Ghana"],["GI","Gibraltar"],["GR","Greece"],["GL","Greenland"],["GD","Grenada"],["GP","Guadeloupe"],["GU","Guam"],["GT","Guatemala"],["GG","Guernsey"],["GN","Guinea"],["GW","Guinea-Bissau"],["GY","Guyana"],["HT","Haiti"],["HM","Heard & McDonald Islands"],["HN","Honduras"],["HK","Hong Kong SAR China"],["HU","Hungary"],["IS","Iceland"],["IN","India"],["ID","Indonesia"],["IR","Iran"],["IQ","Iraq"],["IE","Ireland"],["IM","Isle of Man"],["IL","Israel"],["IT","Italy"],["JM","Jamaica"],["JP","Japan"],["JE","Jersey"],["JO","Jordan"],["KZ","Kazakhstan"],["KE","Kenya"],["KI","Kiribati"],["XK","Kosovo"],["KW","Kuwait"],["KG","Kyrgyzstan"],["LA","Laos"],["LV","Latvia"],["LB","Lebanon"],["LS","Lesotho"],["LR","Liberia"],["LY","Libya"],["LI","Liechtenstein"],["LT","Lithuania"],["LU","Luxembourg"],["MO","Macao SAR China"],["MG","Madagascar"],["MW","Malawi"],["MY","Malaysia"],["MV","Maldives"],["ML","Mali"],["MT","Malta"],["MH","Marshall Islands"],["MQ","Martinique"],["MR","Mauritania"],["MU","Mauritius"],["YT","Mayotte"],["MX","Mexico"],["FM","Micronesia"],["MD","Moldova"],["MC","Monaco"],["MN","Mongolia"],["ME","Montenegro"],["MS","Montserrat"],["MA","Morocco"],["MZ","Mozambique"],["MM","Myanmar (Burma)"],["NA","Namibia"],["NR","Nauru"],["NP","Nepal"],["NL","Netherlands"],["NC","New Caledonia"],["NZ","New Zealand"],["NI","Nicaragua"],["NE","Niger"],["NG","Nigeria"],["NU","Niue"],["NF","Norfolk Island"],["KP","North Korea"],["MK","North Macedonia"],["MP","Northern Mariana Islands"],["NO","Norway"],["OM","Oman"],["PK","Pakistan"],["PW","Palau"],["PS","Palestinian Territories"],["PA","Panama"],["PG","Papua New Guinea"],["PY","Paraguay"],["PE","Peru"],["PH","Philippines"],["PN","Pitcairn Islands"],["PL","Poland"],["PT","Portugal"],["PR","Puerto Rico"],["QA","Qatar"],["RE","Runion"],["RO","Romania"],["RU","Russia"],["RW","Rwanda"],["BL","St. Barthlemy"],["SH","St. Helena"],["KN","St. Kitts & Nevis"],["LC","St. Lucia"],["MF","St. Martin"],["PM","St. Pierre & Miquelon"],["VC","St. Vincent & Grenadines"],["WS","Samoa"],["SM","San Marino"],["ST","So Tom & Prncipe"],["SA","Saudi Arabia"],["SN","Senegal"],["RS","Serbia"],["SC","Seychelles"],["SL","Sierra Leone"],["SG","Singapore"],["SX","Sint Maarten"],["SK","Slovakia"],["SI","Slovenia"],["SB","Solomon Islands"],["SO","Somalia"],["ZA","South Africa"],["GS","South Georgia & South Sandwich Islands"],["KR","South Korea"],["SS","South Sudan"],["ES","Spain"],["LK","Sri Lanka"],["SD","Sudan"],["SR","Suriname"],["SJ","Svalbard & Jan Mayen"],["SE","Sweden"],["CH","Switzerland"],["SY","Syria"],["TW","Taiwan"],["TJ","Tajikistan"],["TZ","Tanzania"],["TH","Thailand"],["TL","Timor-Leste"],["TG","Togo"],["TK","Tokelau"],["TO","Tonga"],["TT","Trinidad & Tobago"],["TA","Tristan da Cunha"],["TN","Tunisia"],["TR","Turkey"],["TM","Turkmenistan"],["TC","Turks & Caicos Islands"],["TV","Tuvalu"],["UG","Uganda"],["UA","Ukraine"],["AE","United Arab Emirates"],["GB","United Kingdom"],["UN","United Nations"],["US","United States"],["UM","U.S. Outlying Islands"],["VI","U.S. Virgin Islands"],["UY","Uruguay"],["UZ","Uzbekistan"],["VU","Vanuatu"],["VA","Vatican City"],["VE","Venezuela"],["VN","Vietnam"],["WF","Wallis & Futuna"],["EH","Western Sahara"],["YE","Yemen"],["ZM","Zambia"],["ZW","Zimbabwe"]],Ut=["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson",`cyan
(synonym of aqua)`,"darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","transparent","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple"],Ze=[{label:"has value",id:"hasValue"},{label:"has no value",id:"hasNoValue"},{label:"has values",id:"hasValues",isMultiSelect:!0}],se={properties:[{id:"continent",label:"Continent",icon:Rn,type:"option",description:"Continent",config:{options:[{label:"Africa",id:"Africa"},{label:"Antarctica",id:"Antarctica"},{label:"Asia",id:"Asia"},{label:"Australia",id:"Australia"},{label:"Europe",id:"Europe"}]}},{id:"region",label:"Region",icon:Fn,type:"option",config:{options:zt.map(([e,a])=>({id:e,label:a,icon:()=>t.createElement("span",null,String.fromCodePoint(...[...e].map(r=>127397+r.charCodeAt(0))))}))}},{id:"color",label:"Color",icon:Gn,type:"option",config:{options:Ut.map(e=>({id:e,label:e,icon:()=>t.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},t.createElement("rect",{x:"0",y:"0",width:"12",height:"12",rx:"1",fill:e}))}))}},{id:"id",label:"ID",icon:We,type:"text",config:{}},{id:"id_long",label:"Id Long",icon:We,type:"textarea",config:{}},{id:"price",label:"Price",icon:Kn,type:"number",config:{min:0,step:1,unit:"Dollars"}},{id:"date",label:"Date",icon:$e,type:"date",config:{}},{id:"time",label:"Time",icon:$e,type:"time",config:{timeZones:["IST","CET","UTC","LOCAL"]}},{id:"delivery",label:"Delivery",icon:zn,type:"option",config:{options:[{label:"Processing",id:"Processing"},{label:"Preparing for dispatch",id:"Preparing for dispatch"},{label:"Dispatched",id:"Dispatched"},{label:"In delivery",id:"In delivery"},{label:"Delivered",id:"Delivered"}]}},{id:"season",label:"Season",icon:Zn,type:"option",config:{options:[{label:"Winter",id:"Winter"},{label:"Spring",id:"Spring"},{label:"Summer",id:"Summer"},{label:"Fall",id:"Fall"}]}},{id:"product",label:"Product",icon:Un,type:"custom",config:{component:rn,operators:Ze,valueFormatter:e=>e}}]};function Zt(e){const a=e.properties.map(r=>r.id==="continent"?{...r,config:{...r.config,operators:Ze}}:r.id==="id"?{...r,config:{...r.config,operators:Ze.slice(0,2)}}:r);return{...e,properties:a}}const Jt=Zt(se),Yt={properties:[{id:"continent",label:"Continent",icon:Rn,type:"option",config:{}},{id:"region",label:"Region",icon:Fn,type:"option",config:{}},{id:"color",label:"Color",icon:Gn,type:"option",config:{}},{id:"id",label:"ID",icon:We,type:"text",config:{}},{id:"price",label:"Price",icon:Kn,type:"number",config:{min:0,step:1,unit:"Dollars"}},{id:"date",label:"Date",icon:$e,type:"date",config:{}},{id:"time",label:"Time",icon:$e,type:"time",config:{timeZones:["IST","CET","UTC","LOCAL"]}},{id:"product",label:"Product",icon:Un,type:"text",config:{}},{id:"delivery",label:"Delivery",icon:zn,type:"option",config:{options:[{label:"Processing",id:"Processing"},{label:"Preparing for dispatch",id:"Preparing for dispatch"},{label:"Dispatched",id:"Dispatched"},{label:"In delivery",id:"In delivery"},{label:"Delivered",id:"Delivered"}]}},{id:"season",label:"Season",icon:Zn,type:"option",config:{options:[{label:"Winter",id:"Winter"},{label:"Spring",id:"Spring"},{label:"Summer",id:"Summer"},{label:"Fall",id:"Fall"}]}}]},Qt={operator:"or",groups:[{groupOperator:"and",statement:"ifAll",id:N(),conditions:[{property:"continent",operator:"is",value:{label:"Africa",id:"Africa"},id:N()},{property:"region",operator:"oneOf",value:[{label:"Algeria",id:"DZ"},{label:"Andorra",id:"AD"}],id:N()},{statement:"unlessAll",groupOperator:"and",conditions:[{property:"delivery",operator:"is",value:{label:"Delivered",id:"Delivered"},id:N()},{property:"id",operator:"startsWith",value:"#delivered",id:N()}],id:N()},{statement:"ifAny",groupOperator:"or",conditions:[{property:"season",operator:"is",value:{label:"Summer",id:"Summer"},id:N()},{property:"season",operator:"is",value:{label:"Fall",id:"Fall"},id:N()}],id:N()}]},{statement:"ifAll",groupOperator:"and",id:N(),conditions:[{property:"delivery",operator:"oneOf",value:[{label:"Processing",id:"Processing"},{label:"Preparing for dispatch",id:"Preparing for dispatch"}],id:N()},{statement:"ifAll",groupOperator:"and",conditions:[{property:"price",operator:"greater",value:"50 Dollars",id:N()},{property:"id",operator:"is",value:"#proccessing",id:N()}],id:N()}]}]},Xt={groups:[{groupOperator:"and",statement:"ifAll",id:N(),conditions:[{property:"continent",operator:"is",value:{label:"Asia",id:"Asia"},id:N()},{property:"region",operator:"oneOf",value:[{label:"Afghanistan",id:"AF"},{label:"India",id:"IN"}],id:N()},{property:"date",operator:"between",value:["2024-12-04T18:30:00.000Z","2024-12-18T18:30:00.000Z"],id:N()},{property:"season",operator:"is",value:{label:"Fall",id:"Fall"},id:N()}]}],operator:"or"},ea={operator:"or",groups:[{groupOperator:"and",statement:"ifAll",id:"e1c37cb2-3e11-4eb6-937a-b9add468345b",conditions:[{property:"continent",operator:"hasValues",value:[{label:"Africa",id:"Africa"},{label:"Antarctica",id:"Antarctica"}],id:"b7720ec9-e52a-4a7b-90c1-b4aa3c55daeb"},{property:"id",operator:"hasValue",value:"test",id:"eba8a891-7203-4b22-bf44-c4a9f0c80c4b"}]}]},za={title:"Experimental/Components/ConditionBuilder",component:de,tags:["autodocs"],parameters:{layout:"fullscreen",styles:Kt,docs:{page:Wt}}},na=()=>[{label:"Africa",id:"Africa"},{label:"Antarctica",id:"Antarctica"},{label:"Asia",id:"Asia"},{label:"Australia",id:"Australia"},{label:"Europe",id:"Europe"}],ta=()=>[{label:"Afghanistan",id:"AF",icon:Le},{label:"Albania",id:"AL",icon:Le},{label:"Algeria",id:"AG",icon:Le},{label:"Andorra",id:"AN",icon:Le}],aa=()=>[{label:"black",id:"black"},{label:"silver",id:"silver"},{label:"gray",id:"gray"},{label:"white",id:"white"},{label:"maroon",id:"maroon"},{label:"red",id:"red"},{label:"purple",id:"purple"},{label:"fuchsia",id:"fuchsia"},{label:"green",id:"green"},{label:"lime",id:"lime"},{label:"olive",id:"olive"},{label:"yellow",id:"yellow"},{label:"navy",id:"navy"},{label:"blue",id:"blue"},{label:"teal",id:"teal"},{label:"aqua",id:"aqua"}],ra=async(e,{property:a})=>{switch(a){case"continent":return new Promise(r=>{setTimeout(()=>{r(na())},2e3)});case"region":return new Promise(r=>{setTimeout(()=>{r(ta())},2e3)});case"color":return new Promise(r=>{setTimeout(()=>{r(aa())},2e3)});default:return[]}},ia={startConditionLabel:"Add condition",popOverSearchThreshold:4,getConditionState:e=>{console.log(e)}},dt=[{id:N(),label:"Add item to cart"},{id:N(),label:"Proceed item to checkout"}],on=e=>({ifText:"if",addConditionText:"Add condition",addConditionGroupText:"Add condition group",addSubgroupText:"Add subgroup"})[e],re=e=>{const a=y.useRef(void 0);return t.createElement(de,{...e,ref:a,...ia})},oa=[{id:"if",connector:"and",label:"if"},{id:"exclIf",connector:"or",label:"excl. if"}],ue=re.bind({});ue.storyName="Condition Builder";ue.args={inputConfig:se,variant:ae};const fe=re.bind({});fe.storyName="With dynamic options";fe.args={inputConfig:Yt,getOptions:ra,variant:ae};const ye=re.bind({});ye.storyName="With initial state";ye.args={initialState:{state:Xt,enabledDefault:!0},inputConfig:se,variant:ae,translateWithId:on};const be=re.bind({});be.storyName="With Custom statement configuration";be.args={inputConfig:se,variant:ae,translateWithId:on,statementConfigCustom:oa};const ve=re.bind({});ve.storyName="With Custom operator configuration";ve.args={inputConfig:Jt,initialState:{state:ea,enabledDefault:!0},variant:ae,translateWithId:on};const he=re.bind({});he.storyName="With Actions";he.args={inputConfig:se,variant:ae,actions:dt,getActionsState:e=>{console.log("action state",e)}};const we=re.bind({});we.storyName="Condition Builder (Hierarchical)";we.args={inputConfig:se,variant:W};const Ce=re.bind({});Ce.storyName="With initial state (Hierarchical)";Ce.args={initialState:{state:Qt,enabledDefault:!1},inputConfig:se,variant:W};const Te=re.bind({});Te.storyName="With Actions (Hierarchical)";Te.args={inputConfig:se,variant:W,actions:dt,getActionsState:e=>{}};var cn,mn,pn;ue.parameters={...ue.parameters,docs:{...(cn=ue.parameters)==null?void 0:cn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(pn=(mn=ue.parameters)==null?void 0:mn.docs)==null?void 0:pn.source}}};var gn,fn,yn;fe.parameters={...fe.parameters,docs:{...(gn=fe.parameters)==null?void 0:gn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(yn=(fn=fe.parameters)==null?void 0:fn.docs)==null?void 0:yn.source}}};var bn,vn,hn;ye.parameters={...ye.parameters,docs:{...(bn=ye.parameters)==null?void 0:bn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(hn=(vn=ye.parameters)==null?void 0:vn.docs)==null?void 0:hn.source}}};var wn,Cn,Tn;be.parameters={...be.parameters,docs:{...(wn=be.parameters)==null?void 0:wn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(Tn=(Cn=be.parameters)==null?void 0:Cn.docs)==null?void 0:Tn.source}}};var qn,An,kn;ve.parameters={...ve.parameters,docs:{...(qn=ve.parameters)==null?void 0:qn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(kn=(An=ve.parameters)==null?void 0:An.docs)==null?void 0:kn.source}}};var On,_n,En;he.parameters={...he.parameters,docs:{...(On=he.parameters)==null?void 0:On.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(En=(_n=he.parameters)==null?void 0:_n.docs)==null?void 0:En.source}}};var xn,In,Sn;we.parameters={...we.parameters,docs:{...(xn=we.parameters)==null?void 0:xn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(Sn=(In=we.parameters)==null?void 0:In.docs)==null?void 0:Sn.source}}};var Nn,Pn,jn;Ce.parameters={...Ce.parameters,docs:{...(Nn=Ce.parameters)==null?void 0:Nn.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(jn=(Pn=Ce.parameters)==null?void 0:Pn.docs)==null?void 0:jn.source}}};var Ln,$n,Dn;Te.parameters={...Te.parameters,docs:{...(Ln=Te.parameters)==null?void 0:Ln.docs,source:{originalSource:`args => {
  const ref = useRef(undefined);
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(Dn=($n=Te.parameters)==null?void 0:$n.docs)==null?void 0:Dn.source}}};const Ua=["conditionBuilder","conditionBuilderDynamicOptions","conditionBuilderWithInitialState","conditionBuilderWithCustomStatements","conditionBuilderWithCustomOperators","conditionBuilderWithActions","conditionBuilderHierarchical","conditionBuilderWithInitialStateHierarchical","conditionBuilderWithActionsHierarchical"];export{Ua as __namedExportsOrder,ue as conditionBuilder,fe as conditionBuilderDynamicOptions,we as conditionBuilderHierarchical,he as conditionBuilderWithActions,Te as conditionBuilderWithActionsHierarchical,ve as conditionBuilderWithCustomOperators,be as conditionBuilderWithCustomStatements,ye as conditionBuilderWithInitialState,Ce as conditionBuilderWithInitialStateHierarchical,za as default};
