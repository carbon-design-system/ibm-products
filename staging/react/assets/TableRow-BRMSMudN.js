import{r as u,u as x,c as $,ar as U,w as V,N as Z,e as n,_ as T,P as e,k as G}from"./iframe-BbTYfv9-.js";import{w as J}from"./wrapComponent-CuAt2Unq.js";import{A as H}from"./index-DxihRps1.js";import{i as I}from"./utils-C-ow7gcy.js";import{b as K,j as Q}from"./bucket-1-C8b05e8n.js";const f={NONE:"NONE",DESC:"DESC",ASC:"ASC"},X=u.createContext({titleId:void 0,descriptionId:void 0}),W=(a,t)=>{if(a.children.length>0)return!1;const r=window.getComputedStyle(a);t.font=r.font?r.font:`${r.fontSize}" "${r.fontFamily}`;let c=(t?.measureText(a.textContent??"")).width??0;const d=r.letterSpacing?.split("px");d&&d.length&&!isNaN(Number(d[0]))&&(c+=Number(d[0])*(a.textContent?.length??0));const m=r.paddingLeft?.split("px");m&&m.length&&!isNaN(Number(m[0]))&&(c+=Number(m[0]));const b=r.paddingLeft?.split("px");return b&&b.length&&!isNaN(Number(b[0]))&&(c+=Number(b[0])),c>a.getBoundingClientRect().width},Y=({className:a,children:t,useZebraStyles:r,size:l="lg",isSortable:c=!1,useStaticWidth:d,stickyHeader:m,overflowMenuOnHover:b=!0,experimentalAutoAlign:h=!1,...C})=>{const{titleId:p,descriptionId:E}=u.useContext(X),s=x(),i=u.useRef(null),L=$(`${s}--data-table`,a,{[`${s}--data-table--${l}`]:l,[`${s}--data-table--sort`]:c,[`${s}--data-table--zebra`]:r,[`${s}--data-table--static`]:d,[`${s}--data-table--sticky-header`]:m,[`${s}--data-table--visible-overflow-menu`]:!b}),o=u.useCallback((N=!1)=>{N?i.current?.classList.add(`${s}--data-table--top-aligned-body`):i.current?.classList.remove(`${s}--data-table--top-aligned-body`)},[s]),y=u.useCallback((N=!1)=>{N?i.current?.classList.add(`${s}--data-table--top-aligned-header`):i.current?.classList.remove(`${s}--data-table--top-aligned-header`)},[s]),g=u.useCallback(()=>{if(h){const S=document.createElement("canvas").getContext("2d");if(i.current&&S){const _=Array.from(i.current.querySelectorAll("td")).some(v=>W(v,S)),D=Array.from(i.current.querySelectorAll("th")).some(v=>{const R=v.querySelector(`.${s}--table-header-label`);return R&&W(R,S)});o(_),y(D)}}else o(!1),y(!1)},[h,o,y,s]),w=U(g,100);V("resize",w),typeof document<"u"&&document?.fonts?.status&&document.fonts.status!=="loaded"&&document.fonts.ready.then(()=>{g()}),Z(()=>{g()},[g,l]);const A=n.createElement("div",{className:`${s}--data-table-content`},n.createElement("table",T({"aria-labelledby":p,"aria-describedby":E},C,{className:L,ref:i}),t));return m?n.createElement("section",{className:`${s}--data-table_inner-container`},A):A};Y.propTypes={children:e.node,className:e.string,experimentalAutoAlign:e.bool,isSortable:e.bool,overflowMenuOnHover:e.bool,size:e.oneOf(["xs","sm","md","lg","xl"]),stickyHeader:e.bool,useStaticWidth:e.bool,useZebraStyles:e.bool,tabIndex:e.number};const ee=({children:a,className:t,...r})=>n.createElement("tbody",T({"aria-live":r["aria-live"]??"polite",className:t},r),a);ee.propTypes={"aria-live":e.oneOf(["polite","assertive","off"]),children:e.node,className:e.string};const te=u.forwardRef,B=te((a,t)=>{const{children:r,className:l,hasAILabelHeader:c,colSpan:d,...m}=a,b=x(),h=$(l,{[`${b}--table-cell--column-slug`]:c});return n.createElement("td",T({className:h||void 0,ref:t,colSpan:d},m),r)});B.displayName="TableCell";B.propTypes={children:e.node,className:e.string,colSpan:e.number,hasAILabelHeader:e.bool,headers:e.string};const k=({className:a,decorator:t})=>{const r=x(),l=$({...a&&{[a]:!0},[`${r}--table-column-decorator`]:!0,[`${r}--table-column-decorator--active`]:t}),d=I(t,H)?u.cloneElement(t,{size:"mini"}):null;return n.createElement("td",{className:l},d)};k.displayName="TableDecoratorRow";k.propTypes={className:e.string,decorator:e.node};const q={},ae=(a,t)=>(q[a]||(q[a]=!0),a),z=({className:a,slug:t})=>{u.useEffect(()=>{ae("TableSlugRow")},[]);const r=x(),l=$({...a&&{[a]:!0},[`${r}--table-column-slug`]:!0,[`${r}--table-column-slug--active`]:t});let c;return t&&(c=n.cloneElement(t,{size:"mini"})),n.createElement("td",{className:l},c)};z.displayName="TableSlugRow";z.propTypes={className:e.string,slug:e.node};const fe=J({name:"TableHead",type:"thead"}),re="col",F={"carbon.table.header.icon.description":"carbon.table.header.icon.description"},se={[F["carbon.table.header.icon.description"]]:"Click to sort rows by header in ascending order"},oe=(a,t)=>t&&a===F["carbon.table.header.icon.description"]?t.isSortHeader&&f?t.sortDirection===f.NONE?`Click to sort rows by ${t.header} header in ascending order`:t.sortDirection===f.ASC?`Click to sort rows by ${t.header} header in descending order`:`Click to unsort rows by ${t.header} header`:`Click to sort rows by ${t.header} header in ascending order`:se[a],ne={[f.NONE]:"none",[f.ASC]:"ascending",[f.DESC]:"descending"},le=u.forwardRef,P=le((a,t)=>{const{className:r,children:l,colSpan:c,decorator:d,isSortable:m=!1,isSortHeader:b,onClick:h,scope:C=re,sortDirection:p,translateWithId:E=oe,slug:s,id:i,...L}=a,o=x(),y=G("table-sort"),g=u.useRef(null),w=s??d,A=I(w,H),N=A,S=A?u.cloneElement(w,{size:"mini",ref:g}):w,_=$({[`${o}--table-header-label`]:!0,[`${o}--table-header-label--slug ${o}--table-header-label--ai-label`]:N,[`${o}--table-header-label--decorator`]:d});if(!m)return n.createElement("th",T({},L,{id:i,className:r,scope:C,colSpan:c,ref:t}),l?n.createElement("div",{className:_},l,n.createElement("div",{className:`${o}--table-header-label--decorator-inner`},S)):null);const D=$(r,{[`${o}--table-sort`]:!0,[`${o}--table-sort--active`]:b&&p!==f.NONE,[`${o}--table-sort--descending`]:b&&p===f.DESC}),v=!b||!p?"none":ne[p],R=E&&E("carbon.table.header.icon.description",{header:l,sortDirection:p,isSortHeader:b,sortStates:f}),M=$(r,`${o}--table-sort__header`,{[`${o}--table-sort__header--ai-label`]:N,[`${o}--table-sort__header--decorator`]:d}),j=O=>{if(!(N&&g.current&&g.current.contains(O.target))&&h)return h(O)};return n.createElement("th",{id:i,"aria-sort":v,className:M,colSpan:c,ref:t,scope:C},n.createElement("div",{className:`${o}--table-sort__description`,id:y},R),n.createElement("button",T({type:"button","aria-describedby":y,className:D,onClick:j},L),n.createElement("span",{className:`${o}--table-sort__flex`},n.createElement("div",{className:`${o}--table-header-label`},l),n.createElement(K,{size:20,className:`${o}--table-sort__icon`}),n.createElement(Q,{size:20,className:`${o}--table-sort__icon-unsorted`}),n.createElement("div",{className:`${o}--table-header-label--decorator-inner`},S))))});P.propTypes={children:e.node,className:e.string,colSpan:e.number,id:e.string,isSortHeader:e.bool,isSortable:e.bool,onClick:e.func,scope:e.string,sortDirection:e.oneOf(Object.values(f)),translateWithId:e.func};P.displayName="TableHeader";const ce=u.forwardRef,ie=ce((a,t)=>{const{ariaLabel:r,"aria-label":l,"aria-controls":c,onExpand:d,isExpanded:m,isSelected:b,expandHeader:h,...C}=a,p=x(),E=u.Children.toArray(a.children).some(i=>I(i,z)?!!i.props.slug:I(i,k)&&I(i.props.decorator,H)),s=$(a.className,{[`${p}--data-table--selected`]:b,[`${p}--data-table--slug-row ${p}--data-table--ai-label-row`]:E});return s&&(C.className=s),n.createElement("tr",T({ref:t},C))});ie.propTypes={className:e.string,isSelected:e.bool,ariaLabel:e.string,"aria-label":e.string,"aria-controls":e.string,onExpand:e.func,isExpanded:e.bool};export{Y as T,fe as a,ie as b,P as c,ee as d,B as e,X as f,z as g,k as h,f as s};
//# sourceMappingURL=TableRow-BRMSMudN.js.map
