"use strict";(self.webpackChunk_carbon_ibm_cloud_cognitive_core=self.webpackChunk_carbon_ibm_cloud_cognitive_core||[]).push([[292],{"../ibm-products/src/components/DataSpreadsheet/DataSpreadsheet.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,dataSpreadsheet:()=>dataSpreadsheet,default:()=>DataSpreadsheet_stories,emptyWithCells:()=>emptyWithCells,largeDatasetSpreadsheet:()=>largeDatasetSpreadsheet,withManyColumns:()=>withManyColumns});var react=__webpack_require__("../../node_modules/react/index.js"),react_table=__webpack_require__("../../node_modules/react-table/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),settings=__webpack_require__("../ibm-products/src/settings.js"),index_esm=__webpack_require__("../../node_modules/react-window/dist/index.esm.js"),es=__webpack_require__("../../node_modules/@carbon/layout/es/index.js"),deepCloneObject=__webpack_require__("../ibm-products/src/global/js/utils/deepCloneObject.js"),usePreviousValue=__webpack_require__("../ibm-products/src/global/js/hooks/usePreviousValue.js"),removeCellSelections=__webpack_require__("../ibm-products/src/components/DataSpreadsheet/utils/removeCellSelections.js"),getSelectionAreaPoints=function getSelectionAreaPoints(area){var greatestRowIndex=Math.max(area.point1.row,area.point2.row),greatestColumnIndex=Math.max(area.point1.column,area.point2.column),lowestRowIndex=Math.min(area.point1.row,area.point2.row);return{greatestRowIndex,greatestColumnIndex,lowestColumnIndex:Math.min(area.point1.column,area.point2.column),lowestRowIndex}},createCellSelectionArea=function createCellSelectionArea(_ref){var ref=_ref.ref,area=_ref.area,blockClass=_ref.blockClass,defaultColumn=_ref.defaultColumn,selectionAreas=_ref.selectionAreas,setSelectionAreas=_ref.setSelectionAreas,setActiveCellInsideSelectionArea=_ref.setActiveCellInsideSelectionArea,visibleColumns=_ref.visibleColumns,_getSelectionAreaPoin=getSelectionAreaPoints(area),lowestColumnIndex=_getSelectionAreaPoin.lowestColumnIndex,lowestRowIndex=_getSelectionAreaPoin.lowestRowIndex,greatestColumnIndex=_getSelectionAreaPoin.greatestColumnIndex,greatestRowIndex=_getSelectionAreaPoin.greatestRowIndex;(greatestRowIndex-lowestRowIndex>0||greatestColumnIndex-lowestColumnIndex>0)&&(setActiveCellInsideSelectionArea(!0),ref.current.querySelector(".".concat(blockClass,"__active-cell--highlight")).setAttribute("data-selection-id",area.matcher));var selectionAreaVariableWidth=0;visibleColumns.forEach((function(item,index){index>=lowestColumnIndex&&index<=greatestColumnIndex&&(selectionAreaVariableWidth+=(null==item?void 0:item.width)||(null==defaultColumn?void 0:defaultColumn.width))}));var selectionAreaCellHeight=(document.querySelector('[data-row-index="'.concat(area.point1.row,'"][data-column-index="').concat(area.point1.column,'"]'))||document.querySelector(".".concat(blockClass,"__body--td"))).offsetHeight,selectionAreaTotalHeight=selectionAreaCellHeight*(greatestRowIndex-lowestRowIndex+1),bodyContainer=document.querySelector(".".concat(blockClass,"__list--container")).firstElementChild,placementElement=bodyContainer.querySelector('[data-row-index="'.concat(lowestRowIndex,'"][data-column-index="').concat(lowestColumnIndex,'"]')),relativePosition={top:placementElement?placementElement.getBoundingClientRect().top-bodyContainer.getBoundingClientRect().top:0===lowestRowIndex?0:selectionAreaCellHeight*lowestRowIndex,left:placementElement?placementElement.getBoundingClientRect().left-bodyContainer.getBoundingClientRect().left:0===lowestColumnIndex?defaultColumn.rowHeaderWidth-4+0:defaultColumn.width*lowestColumnIndex+(defaultColumn.rowHeaderWidth-4)},selectionAreaElement=document.querySelector('[data-matcher-id="'.concat(area.matcher,'"]'))||document.createElement("div");selectionAreaElement.classList.add("".concat(blockClass,"__selection-area--element")),selectionAreaElement.setAttribute("data-matcher-id",area.matcher),selectionAreaElement.style.width=(0,es.px)(selectionAreaVariableWidth),selectionAreaElement.style.height=(0,es.px)(selectionAreaTotalHeight),selectionAreaElement.style.left=(0,es.px)(relativePosition.left),selectionAreaElement.style.top=(0,es.px)(relativePosition.top),bodyContainer.appendChild(selectionAreaElement);var selectionAreasClone=(0,deepCloneObject.k)(selectionAreas),indexOfCurrentArea=selectionAreasClone.findIndex((function(item){return item.matcher===area.matcher}));selectionAreasClone[indexOfCurrentArea].areaCreated=!0,setSelectionAreas(selectionAreasClone)};function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var checkActiveHeaderCell=function checkActiveHeaderCell(headerIndex,selectionAreas,headerType){var areasCloned=(0,deepCloneObject.k)(selectionAreas),activeRowIndexes=[];areasCloned.forEach((function(area){for(var _area$point,_area$point2,_area$point3,_area$point4,greatestRowIndex=Math.max(null===(_area$point=area.point1)||void 0===_area$point?void 0:_area$point[headerType],null===(_area$point2=area.point2)||void 0===_area$point2?void 0:_area$point2[headerType]),i=Math.min(null===(_area$point3=area.point1)||void 0===_area$point3?void 0:_area$point3[headerType],null===(_area$point4=area.point2)||void 0===_area$point4?void 0:_area$point4[headerType]);i<=greatestRowIndex;i++)activeRowIndexes.push(i)}));var activeRowIndexesNoDuplicates=_toConsumableArray(new Set(activeRowIndexes));return!(null==areasCloned||!areasCloned.length||!activeRowIndexesNoDuplicates.includes(headerIndex))},checkSelectedHeaderCell=function checkSelectedHeaderCell(headerIndex,selectionAreas,headerType,items){return(0,deepCloneObject.k)(selectionAreas).some((function(area){for(var _area$point,_area$point2,_area$point3,_area$point4,_area$point5,_area$point6,_area$point7,_area$point8,oppositeType="column"===headerType?"row":"column",minOppositeSelection=Math.min(null==area||null===(_area$point=area.point1)||void 0===_area$point?void 0:_area$point[oppositeType],null==area||null===(_area$point2=area.point2)||void 0===_area$point2?void 0:_area$point2[oppositeType]),maxOppositeSelection=Math.max(null==area||null===(_area$point3=area.point1)||void 0===_area$point3?void 0:_area$point3[oppositeType],null==area||null===(_area$point4=area.point2)||void 0===_area$point4?void 0:_area$point4[oppositeType]),minSelection=Math.min(null==area||null===(_area$point5=area.point1)||void 0===_area$point5?void 0:_area$point5[headerType],null==area||null===(_area$point6=area.point2)||void 0===_area$point6?void 0:_area$point6[headerType]),maxSelection=Math.max(null==area||null===(_area$point7=area.point1)||void 0===_area$point7?void 0:_area$point7[headerType],null==area||null===(_area$point8=area.point2)||void 0===_area$point8?void 0:_area$point8[headerType]),isTrueSelectedState=(null==items?void 0:items.length)-1===maxOppositeSelection&&0===minOppositeSelection,i=minSelection;i<=maxSelection;i++)if(headerIndex===i&&isTrueSelectedState)return!0;return!1}))},getSpreadsheetWidth=function getSpreadsheetWidth(_ref){var type=_ref.type,headerGroup=_ref.headerGroup,scrollBarSizeValue=_ref.scrollBarSizeValue,totalVisibleColumns=_ref.totalVisibleColumns,defaultColumn=_ref.defaultColumn,totalColumnsWidth=_ref.totalColumnsWidth,visibleColumns=_ref.visibleColumns,additionalWidth=scrollBarSizeValue+defaultColumn.rowHeaderWidth;if(!totalVisibleColumns){if("header"===type)return(0,es.px)(parseInt(headerGroup.getHeaderGroupProps().style.width)+additionalWidth);if("header"!==type)return totalColumnsWidth+additionalWidth}if(totalVisibleColumns)return visibleColumns.map((function(item,index){return index<=totalVisibleColumns-1&&((null==item?void 0:item.width)||(null==defaultColumn?void 0:defaultColumn.width))})).reduce((function(prev,curr){return prev+curr}),0)+additionalWidth};function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function useSpreadsheetMouseUp_toConsumableArray(arr){return function useSpreadsheetMouseUp_arrayWithoutHoles(arr){if(Array.isArray(arr))return useSpreadsheetMouseUp_arrayLikeToArray(arr)}(arr)||function useSpreadsheetMouseUp_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function useSpreadsheetMouseUp_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useSpreadsheetMouseUp_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useSpreadsheetMouseUp_arrayLikeToArray(o,minLen)}(arr)||function useSpreadsheetMouseUp_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useSpreadsheetMouseUp_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var checkForHoldingKey=function checkForHoldingKey(event,key){return"cmd"==key?event.metaKey||event.ctrlKey:event[key]},uuidv4=__webpack_require__("../ibm-products/src/global/js/utils/uuidv4.js");function handleHeaderCellSelection_toConsumableArray(arr){return function handleHeaderCellSelection_arrayWithoutHoles(arr){if(Array.isArray(arr))return handleHeaderCellSelection_arrayLikeToArray(arr)}(arr)||function handleHeaderCellSelection_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function handleHeaderCellSelection_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return handleHeaderCellSelection_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return handleHeaderCellSelection_arrayLikeToArray(o,minLen)}(arr)||function handleHeaderCellSelection_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function handleHeaderCellSelection_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var handleHeaderCellSelection=function handleHeaderCellSelection(_ref2){var type=_ref2.type,activeCellCoordinates=_ref2.activeCellCoordinates,rows=_ref2.rows,columns=_ref2.columns,currentMatcher=_ref2.currentMatcher,setActiveCellCoordinates=_ref2.setActiveCellCoordinates,setCurrentMatcher=_ref2.setCurrentMatcher,setSelectionAreas=_ref2.setSelectionAreas,spreadsheetRef=_ref2.spreadsheetRef,index=_ref2.index,isKeyboard=_ref2.isKeyboard,setSelectionAreaData=_ref2.setSelectionAreaData,isHoldingCommandKey=_ref2.isHoldingCommandKey,isHoldingShiftKey=_ref2.isHoldingShiftKey;isHoldingCommandKey||(setSelectionAreaData([]),(0,removeCellSelections.c)({spreadsheetRef}));var rowValue=isKeyboard?null==activeCellCoordinates?void 0:activeCellCoordinates.row:index,columnValue=isKeyboard?null==activeCellCoordinates?void 0:activeCellCoordinates.column:index,point1={row:"column"===type?0:rowValue,column:"column"===type?columnValue:0},point2={row:"column"===type?rows.length-1:rowValue,column:"column"===type?columnValue:columns.length-1},tempMatcher=(0,uuidv4.Z)();isHoldingShiftKey||(setActiveCellCoordinates({row:"column"===type?0:rowValue,column:"column"===type?columnValue:0}),setCurrentMatcher(tempMatcher));var newSelectionArea={point1,point2,areaCreated:!1,matcher:tempMatcher,header:{type,selectedIndexList:["column"===type?columnValue:rowValue]}};setSelectionAreas((function(prev){var selectionsClone=(0,deepCloneObject.k)(prev);if(isHoldingCommandKey){var previouslyCreatedHeaderSelection=selectionsClone.filter((function(item){var _item$header;return null===(_item$header=item.header)||void 0===_item$header?void 0:_item$header.type})).filter((function(item){var _item$header2;return(null===(_item$header2=item.header)||void 0===_item$header2?void 0:_item$header2.type)===type})),isHeaderPartOfPreviousSelection=checkActiveHeaderCell(index,previouslyCreatedHeaderSelection,type);return previouslyCreatedHeaderSelection.length&&isHeaderPartOfPreviousSelection?prev:[].concat(handleHeaderCellSelection_toConsumableArray(prev),[newSelectionArea])}if(isHoldingShiftKey){var _selectionAreasClone$,currentSelectionArea=selectionsClone.filter((function(item){var _item$header3;return null===(_item$header3=item.header)||void 0===_item$header3?void 0:_item$header3.type})).filter((function(item){return item.matcher===currentMatcher}))[0],originalAreaIndex=Math.max(null==currentSelectionArea?void 0:currentSelectionArea.point1[type],null==currentSelectionArea?void 0:currentSelectionArea.point2[type],null==activeCellCoordinates?void 0:activeCellCoordinates[type]),newIndexValue="column"===type?columnValue:rowValue,newPoint={row:originalAreaIndex<newIndexValue?rows.length-1:0,column:columnValue},selectionAreasClone=(0,deepCloneObject.k)(prev),indexOfCurrentArea=selectionAreasClone.findIndex((function(item){return item.matcher===currentMatcher})),newIndexList=function getSelectedItemIndexList(_ref){for(var indexList=_ref.indexList,newIndex=_ref.newIndex,activeCellIndex=_ref.activeCellIndex,lowestIndex=newIndex>activeCellIndex?activeCellIndex:Math.min.apply(Math,handleHeaderCellSelection_toConsumableArray(indexList).concat([newIndex])),highestIndex=newIndex<activeCellIndex?activeCellIndex:Math.max.apply(Math,handleHeaderCellSelection_toConsumableArray(indexList).concat([newIndex])),newIndexList=[],i=lowestIndex;i<=highestIndex;i++)newIndexList.push(i);return[].concat(newIndexList)}({indexList:(null===(_selectionAreasClone$=selectionAreasClone[indexOfCurrentArea])||void 0===_selectionAreasClone$||null===(_selectionAreasClone$=_selectionAreasClone$.header)||void 0===_selectionAreasClone$?void 0:_selectionAreasClone$.selectedIndexList)||["column"===type?columnValue:rowValue],newIndex:newIndexValue,activeCellIndex:null==activeCellCoordinates?void 0:activeCellCoordinates[type]}),setPoint1=function setPoint1(value){return value<newIndexValue?{row:"column"===type?0:Math.min.apply(Math,handleHeaderCellSelection_toConsumableArray(newIndexList)),column:"column"===type?Math.min.apply(Math,handleHeaderCellSelection_toConsumableArray(newIndexList)):0}:newPoint},setPoint2=function setPoint2(value){return value<newIndexValue?newPoint:{row:"column"===type?rows.length-1:Math.max.apply(Math,handleHeaderCellSelection_toConsumableArray(newIndexList)),column:"column"===type?Math.max.apply(Math,handleHeaderCellSelection_toConsumableArray(newIndexList)):columns.length-1}};if(!activeCellCoordinates||void 0===activeCellCoordinates){setCurrentMatcher(tempMatcher);var firstSelectionArea={point1:setPoint1("column"===type?columnValue:rowValue),point2:setPoint2("column"===type?columnValue:rowValue),areaCreated:!1,matcher:tempMatcher,header:{type,selectedIndexList:["column"===type?columnValue:rowValue]}};return setActiveCellCoordinates({row:"column"===type?0:rowValue,column:"column"===type?columnValue:0}),[firstSelectionArea]}return selectionAreasClone[indexOfCurrentArea].point1=setPoint1(null==activeCellCoordinates?void 0:activeCellCoordinates[type]),selectionAreasClone[indexOfCurrentArea].point2=setPoint2(null==activeCellCoordinates?void 0:activeCellCoordinates[type]),selectionAreasClone[indexOfCurrentArea].areaCreated=!1,selectionAreasClone[indexOfCurrentArea].header.selectedIndexList=newIndexList,selectionAreasClone}return[newSelectionArea]}))},handleMultipleKeys=__webpack_require__("../ibm-products/src/components/DataSpreadsheet/utils/handleMultipleKeys.js");function handleActiveCellInSelectionEnter_typeof(o){return handleActiveCellInSelectionEnter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},handleActiveCellInSelectionEnter_typeof(o)}function handleActiveCellInSelectionEnter_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function handleActiveCellInSelectionEnter_defineProperty(obj,key,value){return(key=function handleActiveCellInSelectionEnter_toPropertyKey(arg){var key=function handleActiveCellInSelectionEnter_toPrimitive(input,hint){if("object"!==handleActiveCellInSelectionEnter_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==handleActiveCellInSelectionEnter_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===handleActiveCellInSelectionEnter_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var handleActiveCellInSelectionEnter=function handleActiveCellInSelectionEnter(_ref){var activeCellInsideSelectionArea=_ref.activeCellInsideSelectionArea,activeCellCoordinates=_ref.activeCellCoordinates,activeCellRef=_ref.activeCellRef,selectionAreas=_ref.selectionAreas,updateActiveCellCoordinates=_ref.updateActiveCellCoordinates;if(activeCellInsideSelectionArea){var activeCellSelectionId=activeCellRef.current.getAttribute("data-selection-id"),activeCellIndexInSelectionAreas=selectionAreas.findIndex((function(item){return item.matcher===activeCellSelectionId})),selectionAreaToNavigate=selectionAreas[activeCellIndexInSelectionAreas],_getSelectionAreaPoin=getSelectionAreaPoints(selectionAreaToNavigate),lowestColumnIndex=_getSelectionAreaPoin.lowestColumnIndex,lowestRowIndex=_getSelectionAreaPoin.lowestRowIndex,greatestColumnIndex=_getSelectionAreaPoin.greatestColumnIndex,greatestRowIndex=_getSelectionAreaPoin.greatestRowIndex,coordinatesClone=function handleActiveCellInSelectionEnter_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?handleActiveCellInSelectionEnter_ownKeys(Object(t),!0).forEach((function(r){handleActiveCellInSelectionEnter_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):handleActiveCellInSelectionEnter_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},activeCellCoordinates);if((null==activeCellCoordinates?void 0:activeCellCoordinates.row)<greatestRowIndex&&updateActiveCellCoordinates({coords:coordinatesClone,updatedValue:{row:(null==coordinatesClone?void 0:coordinatesClone.row)+1},optOutOfSelectionAreaUpdate:!0}),(null==activeCellCoordinates?void 0:activeCellCoordinates.row)===greatestRowIndex&&((null==activeCellCoordinates?void 0:activeCellCoordinates.column)<greatestColumnIndex&&updateActiveCellCoordinates({coords:coordinatesClone,updatedValue:{column:(null==coordinatesClone?void 0:coordinatesClone.column)+1,row:lowestRowIndex},optOutOfSelectionAreaUpdate:!0}),(null==activeCellCoordinates?void 0:activeCellCoordinates.column)===greatestColumnIndex)){if(selectionAreas.length>1){if(selectionAreas[activeCellIndexInSelectionAreas+1]){activeCellRef.current.setAttribute("data-selection-id",selectionAreas[activeCellIndexInSelectionAreas+1].matcher);var nextSelectionArea=selectionAreas[activeCellIndexInSelectionAreas+1],_getSelectionAreaPoin2=getSelectionAreaPoints(nextSelectionArea);return void updateActiveCellCoordinates({coords:coordinatesClone,updatedValue:{column:_getSelectionAreaPoin2.lowestColumnIndex,row:_getSelectionAreaPoin2.lowestRowIndex},optOutOfSelectionAreaUpdate:!0})}activeCellRef.current.setAttribute("data-selection-id",selectionAreas[0].matcher);var firstSelectionArea=selectionAreas[0],_getSelectionAreaPoin3=getSelectionAreaPoints(firstSelectionArea);updateActiveCellCoordinates({coords:coordinatesClone,updatedValue:{column:_getSelectionAreaPoin3.lowestColumnIndex,row:_getSelectionAreaPoin3.lowestRowIndex},optOutOfSelectionAreaUpdate:!0})}if(1===selectionAreas.length)return updateActiveCellCoordinates({coords:coordinatesClone,updatedValue:{column:lowestColumnIndex,row:lowestRowIndex},optOutOfSelectionAreaUpdate:!0})}}},rangeWithCallback=function rangeWithCallback(start,end,fn){for(var i=start;i<=end;i++)fn(i)};function commonEventHandlers_toConsumableArray(arr){return function commonEventHandlers_arrayWithoutHoles(arr){if(Array.isArray(arr))return commonEventHandlers_arrayLikeToArray(arr)}(arr)||function commonEventHandlers_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function commonEventHandlers_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return commonEventHandlers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return commonEventHandlers_arrayLikeToArray(o,minLen)}(arr)||function commonEventHandlers_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function commonEventHandlers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _div,blockClass="".concat(settings.K.prefix,"--data-spreadsheet"),handleKeyPress=function handleKeyPress(event){for(var _len4=arguments.length,rest=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++)rest[_key4-1]=arguments[_key4];var activeCellInsideSelectionArea=rest[0],updateActiveCellCoordinates=rest[1],activeCellCoordinates=rest[2],removeActiveCell=rest[3],columns=rest[4],rows=rest[5],spreadsheetRef=rest[6],currentMatcher=rest[7],removeCellEditor=rest[8],selectionAreas=rest[9],handleHomeEndKey=rest[10],keysPressedList=rest[11],usingMac=rest[12],updateData=rest[13],checkForReturnCondition=rest[14],handleArrowKeyPress=rest[15],setSelectionAreas=rest[16],setSelectionAreaData=rest[17],setCurrentMatcher=rest[18],activeCellRef=rest[19],setActiveCellCoordinates=rest[20],setContainerHasFocus=rest[21],setActiveCellContent=rest[22],key=event.key;if(!checkForReturnCondition(key)&&(["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].indexOf(key)>-1&&null!=selectionAreas&&selectionAreas.length&&keysPressedList.length<2&&!(0,handleMultipleKeys.uu)(keysPressedList)&&(setSelectionAreas([]),setSelectionAreaData([]),(0,removeCellSelections.c)({spreadsheetRef})),(null==keysPressedList?void 0:keysPressedList.length)>1&&(0,handleMultipleKeys.ug)({activeCellCoordinates,event,keysPressedList,selectionAreas,currentMatcher,rows,setSelectionAreas,columns,updateActiveCellCoordinates,spreadsheetRef,removeCellSelections:removeCellSelections.c,blockClass,setCurrentMatcher,usingMac}),keysPressedList.length<2&&!(0,handleMultipleKeys.uu)(keysPressedList)||"header"===activeCellCoordinates.row||"header"===activeCellCoordinates.column))switch(key){case"Backspace":case"Delete":!function handleCellDeletion(_ref){var _selectionAreaToEmpty,_selectionAreaToEmpty2,_selectionAreaToEmpty3,_selectionAreaToEmpty4,_selectionAreaToEmpty5,_selectionAreaToEmpty6,_selectionAreaToEmpty7,_selectionAreaToEmpty8,activeCellCoordinates=_ref.activeCellCoordinates,selectionAreas=_ref.selectionAreas,currentMatcher=_ref.currentMatcher,rows=_ref.rows,setActiveCellContent=_ref.setActiveCellContent,updateData=_ref.updateData;if("header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.column)&&"header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.row)){var selectionAreaClone=(0,deepCloneObject.k)(selectionAreas),indexOfCurrentSelectionArea=selectionAreaClone.findIndex((function(item){return item.matcher===currentMatcher})),selectionAreaToEmptyContents=selectionAreaClone[indexOfCurrentSelectionArea],lowestColumnIndex=Math.min(null==selectionAreaToEmptyContents||null===(_selectionAreaToEmpty=selectionAreaToEmptyContents.point1)||void 0===_selectionAreaToEmpty?void 0:_selectionAreaToEmpty.column,null==selectionAreaToEmptyContents||null===(_selectionAreaToEmpty2=selectionAreaToEmptyContents.point2)||void 0===_selectionAreaToEmpty2?void 0:_selectionAreaToEmpty2.column),greatestColumnIndex=Math.max(null==selectionAreaToEmptyContents||null===(_selectionAreaToEmpty3=selectionAreaToEmptyContents.point1)||void 0===_selectionAreaToEmpty3?void 0:_selectionAreaToEmpty3.column,null==selectionAreaToEmptyContents||null===(_selectionAreaToEmpty4=selectionAreaToEmptyContents.point2)||void 0===_selectionAreaToEmpty4?void 0:_selectionAreaToEmpty4.column),lowestRowIndex=Math.min(null==selectionAreaToEmptyContents||null===(_selectionAreaToEmpty5=selectionAreaToEmptyContents.point1)||void 0===_selectionAreaToEmpty5?void 0:_selectionAreaToEmpty5.row,null==selectionAreaToEmptyContents||null===(_selectionAreaToEmpty6=selectionAreaToEmptyContents.point2)||void 0===_selectionAreaToEmpty6?void 0:_selectionAreaToEmpty6.row),greatestRowIndex=Math.max(null==selectionAreaToEmptyContents||null===(_selectionAreaToEmpty7=selectionAreaToEmptyContents.point1)||void 0===_selectionAreaToEmpty7?void 0:_selectionAreaToEmpty7.row,null==selectionAreaToEmptyContents||null===(_selectionAreaToEmpty8=selectionAreaToEmptyContents.point2)||void 0===_selectionAreaToEmpty8?void 0:_selectionAreaToEmpty8.row);rangeWithCallback(lowestColumnIndex,greatestColumnIndex,(function(columnIndex){rangeWithCallback(lowestRowIndex,greatestRowIndex,(function(rowIndex){var cellProps=rows[rowIndex].cells[columnIndex];updateData(rowIndex,null==cellProps?void 0:cellProps.column.id,"")}))})),setActiveCellContent(null)}}({selectionAreas,currentMatcher,rows,setActiveCellContent,updateData,activeCellCoordinates});break;case"Enter":handleActiveCellInSelectionEnter({activeCellInsideSelectionArea,activeCellCoordinates,activeCellRef,selectionAreas,updateActiveCellCoordinates});break;case"Home":case"End":if(event.preventDefault(),(0,handleMultipleKeys.MP)(keysPressedList,usingMac))return;handleHomeEndKey({type:key});break;case"Tab":if(activeCellInsideSelectionArea)return event.preventDefault(),function handleActiveCellInSelectionTab(_ref){var activeCellInsideSelectionArea=_ref.activeCellInsideSelectionArea,activeCellCoordinates=_ref.activeCellCoordinates,activeCellRef=_ref.activeCellRef,selectionAreas=_ref.selectionAreas,updateActiveCellCoordinates=_ref.updateActiveCellCoordinates;if(activeCellInsideSelectionArea){var activeCellSelectionId=activeCellRef.current.getAttribute("data-selection-id"),activeCellIndexInSelectionAreas=selectionAreas.findIndex((function(item){return item.matcher===activeCellSelectionId})),selectionAreaToNavigate=selectionAreas[activeCellIndexInSelectionAreas],_getSelectionAreaPoin=getSelectionAreaPoints(selectionAreaToNavigate),lowestColumnIndex=_getSelectionAreaPoin.lowestColumnIndex,lowestRowIndex=_getSelectionAreaPoin.lowestRowIndex,greatestColumnIndex=_getSelectionAreaPoin.greatestColumnIndex,greatestRowIndex=_getSelectionAreaPoin.greatestRowIndex;if((null==activeCellCoordinates?void 0:activeCellCoordinates.column)<greatestColumnIndex&&updateActiveCellCoordinates({updatedValue:{column:(null==activeCellCoordinates?void 0:activeCellCoordinates.column)+1},optOutOfSelectionAreaUpdate:!0}),(null==activeCellCoordinates?void 0:activeCellCoordinates.column)===greatestColumnIndex&&((null==activeCellCoordinates?void 0:activeCellCoordinates.row)<greatestRowIndex&&updateActiveCellCoordinates({updatedValue:{column:lowestColumnIndex,row:(null==activeCellCoordinates?void 0:activeCellCoordinates.row)+1},optOutOfSelectionAreaUpdate:!0}),(null==activeCellCoordinates?void 0:activeCellCoordinates.row)===greatestRowIndex)){if(selectionAreas.length>1){if(selectionAreas[activeCellIndexInSelectionAreas+1]){activeCellRef.current.setAttribute("data-selection-id",selectionAreas[activeCellIndexInSelectionAreas+1].matcher);var nextSelectionArea=selectionAreas[activeCellIndexInSelectionAreas+1],_getSelectionAreaPoin2=getSelectionAreaPoints(nextSelectionArea);return void updateActiveCellCoordinates({updatedValue:{column:_getSelectionAreaPoin2.lowestColumnIndex,row:_getSelectionAreaPoin2.lowestRowIndex},optOutOfSelectionAreaUpdate:!0})}activeCellRef.current.setAttribute("data-selection-id",selectionAreas[0].matcher);var firstSelectionArea=selectionAreas[0],_getSelectionAreaPoin3=getSelectionAreaPoints(firstSelectionArea);updateActiveCellCoordinates({updatedValue:{column:_getSelectionAreaPoin3.lowestColumnIndex,row:_getSelectionAreaPoin3.lowestRowIndex},optOutOfSelectionAreaUpdate:!0})}if(1===selectionAreas.length)return updateActiveCellCoordinates({updatedValue:{column:lowestColumnIndex,row:lowestRowIndex},optOutOfSelectionAreaUpdate:!0})}}}({activeCellInsideSelectionArea,activeCellCoordinates,activeCellRef,selectionAreas,updateActiveCellCoordinates});setSelectionAreas([]),removeActiveCell(),removeCellEditor(),setContainerHasFocus(!1),setActiveCellCoordinates(null);break;case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":handleArrowKeyPress(key)}},jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function DataSpreadsheetBody_typeof(o){return DataSpreadsheetBody_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DataSpreadsheetBody_typeof(o)}function DataSpreadsheetBody_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function DataSpreadsheetBody_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DataSpreadsheetBody_ownKeys(Object(t),!0).forEach((function(r){DataSpreadsheetBody_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DataSpreadsheetBody_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function DataSpreadsheetBody_defineProperty(obj,key,value){return(key=function DataSpreadsheetBody_toPropertyKey(arg){var key=function DataSpreadsheetBody_toPrimitive(input,hint){if("object"!==DataSpreadsheetBody_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==DataSpreadsheetBody_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===DataSpreadsheetBody_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function DataSpreadsheetBody_toConsumableArray(arr){return function DataSpreadsheetBody_arrayWithoutHoles(arr){if(Array.isArray(arr))return DataSpreadsheetBody_arrayLikeToArray(arr)}(arr)||function DataSpreadsheetBody_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||DataSpreadsheetBody_unsupportedIterableToArray(arr)||function DataSpreadsheetBody_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||DataSpreadsheetBody_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DataSpreadsheetBody_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return DataSpreadsheetBody_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DataSpreadsheetBody_arrayLikeToArray(o,minLen):void 0}}function DataSpreadsheetBody_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DataSpreadsheetBody_blockClass="".concat(settings.K.prefix,"--data-spreadsheet"),DataSpreadsheetBody=(0,react.forwardRef)((function(_ref,ref){var activeCellRef=_ref.activeCellRef,columns=_ref.columns,activeCellCoordinates=_ref.activeCellCoordinates,defaultColumn=_ref.defaultColumn,defaultEmptyRowCount=_ref.defaultEmptyRowCount,getTableBodyProps=_ref.getTableBodyProps,headerGroups=_ref.headerGroups,id=_ref.id,onDataUpdate=_ref.onDataUpdate,prepareRow=_ref.prepareRow,rows=_ref.rows,selectionAreaData=_ref.selectionAreaData,setSelectionAreaData=_ref.setSelectionAreaData,setActiveCellCoordinates=_ref.setActiveCellCoordinates,selectionAreas=_ref.selectionAreas,setContainerHasFocus=_ref.setContainerHasFocus,setSelectionAreas=_ref.setSelectionAreas,scrollBarSize=_ref.scrollBarSize,totalColumnsWidth=_ref.totalColumnsWidth,clickAndHoldActive=_ref.clickAndHoldActive,setClickAndHoldActive=_ref.setClickAndHoldActive,currentMatcher=_ref.currentMatcher,setCurrentMatcher=_ref.setCurrentMatcher,onSelectionAreaChange=_ref.onSelectionAreaChange,setActiveCellInsideSelectionArea=_ref.setActiveCellInsideSelectionArea,totalVisibleColumns=_ref.totalVisibleColumns,setHeaderCellHoldActive=_ref.setHeaderCellHoldActive,setColumnOrder=_ref.setColumnOrder,visibleColumns=_ref.visibleColumns,_useState2=_slicedToArray((0,react.useState)(!1),2),validStartingPoint=_useState2[0],setValidStartingPoint=_useState2[1],contentScrollRef=(0,react.useRef)(),previousState=(0,usePreviousValue.z)({selectionAreaData,clickAndHoldActive,rowHeight:defaultColumn.rowHeight});(0,react.useEffect)((function(){null==ref||ref.current.style.setProperty("--".concat(DataSpreadsheetBody_blockClass,"--total-width"),(0,es.px)(totalColumnsWidth+scrollBarSize))}),[ref,scrollBarSize,totalColumnsWidth]),(0,react.useEffect)((function(){var _previousState$select;selectionAreaData.length&&((!clickAndHoldActive&&null!=previousState&&previousState.clickAndHoldActive||(null==previousState||null===(_previousState$select=previousState.selectionAreaData)||void 0===_previousState$select?void 0:_previousState$select.length)!==(null==selectionAreaData?void 0:selectionAreaData.length))&&onSelectionAreaChange(selectionAreaData))}),[null==previousState?void 0:previousState.selectionAreaData,selectionAreaData,onSelectionAreaChange,clickAndHoldActive,null==previousState?void 0:previousState.clickAndHoldActive]),(0,react.useEffect)((function(){selectionAreas&&selectionAreas.length&&selectionAreas.map((function(area){if(area.areaCreated){var rowStart=Math.min(area.point1.row,area.point2.row),rowEnd=Math.max(area.point1.row,area.point2.row),columnStart=Math.min(area.point1.column,area.point2.column),columnEnd=Math.max(area.point1.column,area.point2.column),selectionData={rows:{start:rowStart,end:rowEnd},columns:{start:columnStart,end:columnEnd},cells:populateSelectionAreaCellData({rowStart,rowEnd,columnStart,columnEnd}),selectionId:area.matcher};setSelectionAreaData((function(prev){var newAreaData=(0,deepCloneObject.k)(prev).filter((function(item){return item.selectionId!==area.matcher}));return[].concat(DataSpreadsheetBody_toConsumableArray(newAreaData),[selectionData])}))}!area.areaCreated&&area.point1&&area.point2&&area.matcher&&createCellSelectionArea({ref,area,blockClass:DataSpreadsheetBody_blockClass,defaultColumn,selectionAreas,setSelectionAreas,setActiveCellInsideSelectionArea,visibleColumns})}))}),[selectionAreas,setSelectionAreas,defaultColumn,onSelectionAreaChange,setSelectionAreaData,ref,activeCellCoordinates,setActiveCellInsideSelectionArea,visibleColumns]);var populateSelectionAreaCellData=function populateSelectionAreaCellData(_ref2){for(var rowStart=_ref2.rowStart,rowEnd=_ref2.rowEnd,columnStart=_ref2.columnStart,columnEnd=_ref2.columnEnd,cellContainer=[],rowIndex=rowStart;rowIndex<=rowEnd;rowIndex++)for(var columnIndex=columnStart;columnIndex<=columnEnd;columnIndex++)cellContainer.push([rowIndex,columnIndex,"".concat(DataSpreadsheetBody_blockClass,"__cell--").concat(rowIndex,"--").concat(columnIndex)]);return cellContainer};!function useSpreadsheetMouseUp(_ref){var currentMatcher=_ref.currentMatcher,setSelectionAreas=_ref.setSelectionAreas,setClickAndHoldActive=_ref.setClickAndHoldActive,setValidStartingPoint=_ref.setValidStartingPoint,validStartingPoint=_ref.validStartingPoint,_ref$blockClass=_ref.blockClass,blockClass=void 0===_ref$blockClass?"".concat(settings.K.prefix,"--data-spreadsheet"):_ref$blockClass,ref=_ref.ref,setHeaderCellHoldActive=_ref.setHeaderCellHoldActive,setColumnOrder=_ref.setColumnOrder,visibleColumns=_ref.visibleColumns,setActiveCellCoordinates=_ref.setActiveCellCoordinates,activeCellCoordinates=_ref.activeCellCoordinates,rows=_ref.rows,defaultColumn=_ref.defaultColumn,selectionAreas=_ref.selectionAreas;(0,react.useEffect)((function(){var handleMouseUp=function handleMouseUp(event){if(!validStartingPoint){setHeaderCellHoldActive(!1);var selectionAreaCloneElement=ref.current.querySelector(".".concat(blockClass,"__selection-area--element-cloned"));if(!selectionAreaCloneElement)return;if(selectionAreaCloneElement){var closestCell=event.target.closest(".".concat(blockClass,"--interactive-cell-element")),newColumnIndex=null===parseInt||void 0===parseInt?void 0:parseInt(null==closestCell?void 0:closestCell.getAttribute("data-column-index")),originalColumnIndex=null===parseInt||void 0===parseInt?void 0:parseInt(null==selectionAreaCloneElement?void 0:selectionAreaCloneElement.getAttribute("data-column-index-original")),selectionAreaIndexArray=selectionAreas.filter((function(item){return(null==item?void 0:item.matcher)===currentMatcher}))[0].header.selectedIndexList;if(!ref.current.querySelector('[data-row-index="header"][data-column-index="'.concat(newColumnIndex,'"]')))return;var selectionAreaToMove=ref.current.querySelector('[data-matcher-id="'.concat(currentMatcher,'"]')),spreadsheetPosition=ref.current.getBoundingClientRect(),leftScrollAmount=ref.current.querySelector(".".concat(blockClass,"__list--container")).scrollLeft,newIndexLessThanStarting=newColumnIndex<originalColumnIndex,newIndexGreater=newColumnIndex>originalColumnIndex,differenceBetweenOldNewIndex=newIndexGreater?newColumnIndex-originalColumnIndex:originalColumnIndex-newColumnIndex;if(setSelectionAreas((function(prev){var selectionAreaClone=(0,deepCloneObject.k)(prev);if(originalColumnIndex===newColumnIndex)return prev;var indexOfItemToUpdate=selectionAreaClone.findIndex((function(item){return item.matcher===currentMatcher}));if(-1===indexOfItemToUpdate)return prev;if(!selectionAreaIndexArray.includes(newColumnIndex)){var newIndexArray=newIndexGreater?selectionAreaIndexArray.map((function(num){return num+differenceBetweenOldNewIndex})):selectionAreaIndexArray.map((function(num){return num-differenceBetweenOldNewIndex}));selectionAreaClone[indexOfItemToUpdate].header.selectedIndexList=newIndexArray,selectionAreaClone[indexOfItemToUpdate].point1.column=Math.min.apply(Math,useSpreadsheetMouseUp_toConsumableArray(newIndexArray)),selectionAreaClone[indexOfItemToUpdate].point2.column=Math.max.apply(Math,useSpreadsheetMouseUp_toConsumableArray(newIndexArray))}return selectionAreaClone})),!selectionAreaIndexArray.includes(newColumnIndex)){var deleteCount=selectionAreaIndexArray.length,startIndex=Math.min.apply(Math,useSpreadsheetMouseUp_toConsumableArray(selectionAreaIndexArray)),columnIdArray=visibleColumns.map((function(column){return column.id})),columnIdArrayClone=useSpreadsheetMouseUp_toConsumableArray(columnIdArray);columnIdArrayClone.splice(startIndex,deleteCount);var originalPointIndex=selectionAreaIndexArray.findIndex((function(item){return item===originalColumnIndex})),updatedNewIndexWithNewOrder=newColumnIndex-originalPointIndex;columnIdArrayClone.splice.apply(columnIdArrayClone,[updatedNewIndexWithNewOrder,0].concat(useSpreadsheetMouseUp_toConsumableArray(function getNewColumnOrder(){var newColumnList=[];return selectionAreaIndexArray.map((function(index){return newColumnList.push(columnIdArray[index])})),newColumnList}()))),setColumnOrder(columnIdArrayClone);var newCellCoords=_objectSpread(_objectSpread({},activeCellCoordinates),{},{column:newIndexGreater?activeCellCoordinates.column+differenceBetweenOldNewIndex:activeCellCoordinates.column-differenceBetweenOldNewIndex});setActiveCellCoordinates(newCellCoords);var newRelativePosition=Array.from(ref.current.querySelectorAll(".".concat(blockClass,"__th--selected-header")))[0].getBoundingClientRect().left-spreadsheetPosition.left+leftScrollAmount,updatedSelectionAreaPlacement=newIndexLessThanStarting?newRelativePosition:newColumnIndex===originalColumnIndex?selectionAreaToMove.style.left:newRelativePosition;selectionAreaToMove.style.left=(0,es.px)(updatedSelectionAreaPlacement)}var indicatorLineElement=ref.current.querySelector(".".concat(blockClass,"__reorder-indicator-line"));null==indicatorLineElement||indicatorLineElement.remove(),null==selectionAreaCloneElement||selectionAreaCloneElement.remove()}}if(validStartingPoint){setClickAndHoldActive(!1),setValidStartingPoint(!1);var cellButton=event.target.closest(".".concat(blockClass,"__body--td"));if(cellButton){var endCellCoordinates={row:Number(cellButton.getAttribute("data-row-index")),column:Number(cellButton.getAttribute("data-column-index"))};setSelectionAreas((function(prev){var selectionAreaClone=(0,deepCloneObject.k)(prev),indexOfItemToUpdate=selectionAreaClone.findIndex((function(item){return item.matcher===currentMatcher}));return-1===indexOfItemToUpdate?prev:(selectionAreaClone[indexOfItemToUpdate].point2=endCellCoordinates,selectionAreaClone[indexOfItemToUpdate].areaCreated=!1,selectionAreaClone)}))}}};return document.addEventListener("mouseup",handleMouseUp),function(){document.removeEventListener("mouseup",handleMouseUp)}}),[blockClass,currentMatcher,setSelectionAreas,setClickAndHoldActive,setValidStartingPoint,validStartingPoint,ref,setHeaderCellHoldActive,setColumnOrder,visibleColumns,setActiveCellCoordinates,activeCellCoordinates,rows,defaultColumn,selectionAreas])}({currentMatcher,setClickAndHoldActive,setSelectionAreas,setValidStartingPoint,validStartingPoint,ref,setHeaderCellHoldActive,setColumnOrder,visibleColumns,setActiveCellCoordinates,rows,activeCellCoordinates,defaultColumn,selectionAreas}),(0,react.useEffect)((function(){var activeCellButton=(null==spreadsheetBodyRef?void 0:spreadsheetBodyRef.current).querySelector(".".concat(DataSpreadsheetBody_blockClass,"__active-cell--highlight"));if(activeCellButton&&defaultColumn.rowHeight!==previousState.rowHeight&&(activeCellButton.style.height="".concat(null==defaultColumn?void 0:defaultColumn.rowHeight,"px"),activeCellCoordinates)){var activeTargetElement=ref.current.querySelector('[data-row-index="'.concat(activeCellCoordinates.row,'"][data-column-index="').concat(activeCellCoordinates.column,'"]')),_listContainer=ref.current.querySelector(".".concat(DataSpreadsheetBody_blockClass,"__list--container")),newActiveCellTopPosition=activeTargetElement.getBoundingClientRect().top-_listContainer.getBoundingClientRect().top;activeCellButton.style.top=(0,es.px)(newActiveCellTopPosition),(0,removeCellSelections.c)({spreadsheetRef:ref}),selectionAreas.map((function(area){if(!area.areaCreated&&area.point1&&area.point2&&area.matcher)return createCellSelectionArea({ref,area,blockClass:DataSpreadsheetBody_blockClass,defaultColumn,selectionAreas,setSelectionAreas,setActiveCellInsideSelectionArea,visibleColumns})}))}}),[defaultColumn,ref,activeCellCoordinates,null==previousState?void 0:previousState.rowHeight,selectionAreas,setActiveCellInsideSelectionArea,setSelectionAreas,visibleColumns]),(0,react.useEffect)((function(){removeDuplicateSelections()}),[selectionAreas,removeDuplicateSelections]);var removeDuplicateSelections=(0,react.useCallback)((function(){var uniqueAttrArray=[],removedSelectionAreaMatcherArr=[];ref.current.querySelectorAll(".".concat(DataSpreadsheetBody_blockClass,"__selection-area--element")).forEach((function(selectorEl){var _selectorEl$style=selectorEl.style,top=_selectorEl$style.top,left=_selectorEl$style.left,height=_selectorEl$style.height,width=_selectorEl$style.width,uniqueAttrStr="".concat(top).concat(left).concat(height).concat(width);-1==uniqueAttrArray.indexOf(uniqueAttrStr)?uniqueAttrArray.push(uniqueAttrStr):(selectorEl.remove(),removedSelectionAreaMatcherArr.push(selectorEl.getAttribute("data-matcher-id")))})),removedSelectionAreaMatcherArr.length&&(setSelectionAreas((function(prev){return(0,deepCloneObject.k)(prev).filter((function(item){return!removedSelectionAreaMatcherArr.includes(item.matcher)}))})),setSelectionAreaData((function(prev){return(0,deepCloneObject.k)(prev).filter((function(item){return!removedSelectionAreaMatcherArr.includes(item.selectionId)}))})))}),[ref,setSelectionAreas,setSelectionAreaData]),handleBodyCellClickEvent=(0,react.useCallback)((function(cell,columnIndex){return function(event){!function handleBodyCellClick(cell,columnIndex,event){for(var _len=arguments.length,rest=new Array(_len>3?_len-3:0),_key=3;_key<_len;_key++)rest[_key-3]=arguments[_key];var currentMatcher=rest[0],activeCellCoordinates=rest[1],selectionAreas=rest[2],setActiveCellCoordinates=rest[3],setSelectionAreas=rest[4],setContainerHasFocus=rest[5],setClickAndHoldActive=rest[6],setCurrentMatcher=rest[7],ref=rest[8],setSelectionAreaData=rest[9],setActiveCellInsideSelectionArea=rest[10],activeCellRef=rest[11],setValidStartingPoint=rest[12];event.preventDefault(),setValidStartingPoint(event.target.closest(".".concat(blockClass,"__body--td")).classList.contains("".concat(blockClass,"__body--td")));var isHoldingCommandKey=checkForHoldingKey(event,"cmd"),isHoldingShiftKey=checkForHoldingKey(event,"shiftKey");setContainerHasFocus(!0);var activeCoordinates={row:cell.row.index,column:columnIndex},tempMatcher=(0,uuidv4.Z)();if(setClickAndHoldActive(!0),isHoldingCommandKey)ref.current.querySelector(".".concat(blockClass,"__active-cell--highlight")).setAttribute("data-selection-id",tempMatcher),setActiveCellInsideSelectionArea(!0),setActiveCellCoordinates(activeCoordinates),setCurrentMatcher(tempMatcher),setSelectionAreas((function(prev){return[].concat(commonEventHandlers_toConsumableArray(prev),[{point1:activeCoordinates,matcher:tempMatcher}])}));else if(isHoldingShiftKey){setContainerHasFocus(!0);var selectionAreaClone=(0,deepCloneObject.k)(selectionAreas),indexOfItemToUpdate=selectionAreaClone.findIndex((function(item){return item.matcher===currentMatcher}));if(-1===indexOfItemToUpdate)return;selectionAreaClone[indexOfItemToUpdate].point1=activeCellCoordinates,selectionAreaClone[indexOfItemToUpdate].point2=activeCoordinates,selectionAreaClone[indexOfItemToUpdate].areaCreated=!1,selectionAreaClone[indexOfItemToUpdate].matcher=currentMatcher,setSelectionAreas(selectionAreaClone)}else activeCellRef.current.style.display="none",setActiveCellInsideSelectionArea(!1),setActiveCellCoordinates(activeCoordinates),(0,removeCellSelections.c)({spreadsheetRef:ref}),setSelectionAreas([{point1:activeCoordinates,matcher:tempMatcher}]),setCurrentMatcher(tempMatcher),setSelectionAreaData([])}(cell,columnIndex,event,currentMatcher,activeCellCoordinates,selectionAreas,setActiveCellCoordinates,setSelectionAreas,setContainerHasFocus,setClickAndHoldActive,setCurrentMatcher,ref,setSelectionAreaData,setActiveCellInsideSelectionArea,activeCellRef,setValidStartingPoint)}}),[currentMatcher,activeCellCoordinates,selectionAreas,setActiveCellCoordinates,setSelectionAreas,setContainerHasFocus,setClickAndHoldActive,setCurrentMatcher,ref,setSelectionAreaData,setActiveCellInsideSelectionArea,activeCellRef]),handleBodyScroll=function handleBodyScroll(){ref.current.querySelector("\n        .".concat(DataSpreadsheetBody_blockClass,"__header--container .").concat(DataSpreadsheetBody_blockClass,"__tr")).scrollLeft=contentScrollRef.current.scrollLeft};(0,react.useEffect)((function(){contentScrollRef.current.addEventListener("scroll",(function(event){return handleBodyScroll()}));var contentScrollElementRef=contentScrollRef.current;return function(){contentScrollElementRef.removeEventListener("scroll",handleBodyScroll)}}));var handleBodyCellHoverEvent=(0,react.useCallback)((function(cell,columnIndex){return function(){!function handleBodyCellHover(cell,columnIndex){for(var _len2=arguments.length,rest=new Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)rest[_key2-2]=arguments[_key2];var clickAndHoldActive=rest[0],currentMatcher=rest[1],setSelectionAreas=rest[2];if(clickAndHoldActive){var cellCoordinates={row:cell.row.index,column:columnIndex};setSelectionAreas((function(prev){var _selectionAreaClone$i,_selectionAreaClone$i2,selectionAreaClone=(0,deepCloneObject.k)(prev),indexOfItemToUpdate=selectionAreaClone.findIndex((function(item){return item.matcher===currentMatcher}));return-1===indexOfItemToUpdate||(null===(_selectionAreaClone$i=selectionAreaClone[indexOfItemToUpdate].point2)||void 0===_selectionAreaClone$i?void 0:_selectionAreaClone$i.row)===cellCoordinates.row&&(null===(_selectionAreaClone$i2=selectionAreaClone[indexOfItemToUpdate].point2)||void 0===_selectionAreaClone$i2?void 0:_selectionAreaClone$i2.column)===cellCoordinates.column?prev:(selectionAreaClone[indexOfItemToUpdate].point2=cellCoordinates,selectionAreaClone[indexOfItemToUpdate].areaCreated=!1,selectionAreaClone)}))}}(cell,columnIndex,clickAndHoldActive,currentMatcher,setSelectionAreas)}}),[clickAndHoldActive,currentMatcher,setSelectionAreas]),handleRowHeaderClickEvent=(0,react.useCallback)((function(index){return function(event){!function handleRowHeaderClick(index,event){for(var _len3=arguments.length,rest=new Array(_len3>2?_len3-2:0),_key3=2;_key3<_len3;_key3++)rest[_key3-2]=arguments[_key3];var columns=rest[0],ref=rest[1],setSelectionAreas=rest[2],setCurrentMatcher=rest[3],setActiveCellCoordinates=rest[4],activeCellCoordinates=rest[5],rows=rest[6],setSelectionAreaData=rest[7],isHoldingCommandKey=checkForHoldingKey(event,"cmd");handleHeaderCellSelection({type:"row",activeCellCoordinates,rows,columns,setActiveCellCoordinates,setCurrentMatcher,setSelectionAreas,spreadsheetRef:ref,index,setSelectionAreaData,isHoldingCommandKey})}(index,event,columns,ref,setSelectionAreas,setCurrentMatcher,setActiveCellCoordinates,activeCellCoordinates,rows,setSelectionAreaData)}}),[columns,ref,setSelectionAreas,setCurrentMatcher,setActiveCellCoordinates,activeCellCoordinates,rows,setSelectionAreaData]);(0,react.useEffect)((function(){if(null==rows||!rows.length){!function buildEmptyRows(){var emptyRowData=[];DataSpreadsheetBody_toConsumableArray(Array(defaultEmptyRowCount)).map((function(){var _headerGroups$,emptyCell={};null===(_headerGroups$=headerGroups[0])||void 0===_headerGroups$||_headerGroups$.headers.map((function(header){emptyCell[header.id]=null})),emptyRowData.push(emptyCell)})),onDataUpdate(emptyRowData)}()}}),[rows,headerGroups,defaultEmptyRowCount,onDataUpdate]);var RenderRow=(0,react.useCallback)((function(_ref3){var index=_ref3.index,style=_ref3.style,row=rows[index];if(rows&&rows.length)return prepareRow(row),(0,jsx_runtime.jsxs)("div",DataSpreadsheetBody_objectSpread(DataSpreadsheetBody_objectSpread({},row.getRowProps({style})),{},{className:classnames_default()("".concat(DataSpreadsheetBody_blockClass,"__tr")),"data-row-index":index,"aria-rowindex":index+1,"aria-owns":"".concat(DataSpreadsheetBody_blockClass,"__cell-editor-text-area"),children:[(0,jsx_runtime.jsx)("div",{role:"rowheader",className:"".concat(DataSpreadsheetBody_blockClass,"__td-th--cell-container"),children:(0,jsx_runtime.jsx)("button",{id:"".concat(DataSpreadsheetBody_blockClass,"__cell--").concat(index,"--header"),tabIndex:-1,"data-row-index":index,"data-column-index":"header",type:"button",onClick:handleRowHeaderClickEvent(index),className:classnames_default()("".concat(DataSpreadsheetBody_blockClass,"__td"),"".concat(DataSpreadsheetBody_blockClass,"__td-th"),"".concat(DataSpreadsheetBody_blockClass,"--interactive-cell-element"),DataSpreadsheetBody_defineProperty(DataSpreadsheetBody_defineProperty({},"".concat(DataSpreadsheetBody_blockClass,"__td-th--active-header"),(null==activeCellCoordinates?void 0:activeCellCoordinates.row)===index||checkActiveHeaderCell(index,selectionAreas,"row")),"".concat(DataSpreadsheetBody_blockClass,"__td-th--selected-header"),checkSelectedHeaderCell(index,selectionAreas,"row",columns))),style:{width:null==defaultColumn?void 0:defaultColumn.rowHeaderWidth},children:index+1})}),row.cells.map((function(cell,index){var _cell$column;return(0,jsx_runtime.jsx)("div",DataSpreadsheetBody_objectSpread(DataSpreadsheetBody_objectSpread({"aria-colindex":index+1},cell.getCellProps()),{},{role:"gridcell",style:DataSpreadsheetBody_objectSpread(DataSpreadsheetBody_objectSpread({},cell.getCellProps().style),{},{display:"grid",minWidth:(null==cell||null===(_cell$column=cell.column)||void 0===_cell$column?void 0:_cell$column.width)||(null==defaultColumn?void 0:defaultColumn.width)}),children:(0,jsx_runtime.jsx)("button",{id:"".concat(DataSpreadsheetBody_blockClass,"__cell--").concat(cell.row.index,"--").concat(index),tabIndex:-1,"data-row-index":cell.row.index,"data-column-index":index,className:classnames_default()("".concat(DataSpreadsheetBody_blockClass,"__td"),"".concat(DataSpreadsheetBody_blockClass,"__body--td"),"".concat(DataSpreadsheetBody_blockClass,"--interactive-cell-element")),onMouseDown:handleBodyCellClickEvent(cell,index),onMouseOver:handleBodyCellHoverEvent(cell,index),onFocus:function onFocus(){},type:"button",children:cell.render("Cell")})}),"cell_".concat(index))}))]}))}),[prepareRow,rows,null==activeCellCoordinates?void 0:activeCellCoordinates.row,selectionAreas,handleRowHeaderClickEvent,handleBodyCellClickEvent,handleBodyCellHoverEvent,defaultColumn,columns]),spreadsheetBodyRef=(0,react.useRef)();return(0,jsx_runtime.jsx)("div",DataSpreadsheetBody_objectSpread(DataSpreadsheetBody_objectSpread({ref:spreadsheetBodyRef,className:classnames_default()("".concat(DataSpreadsheetBody_blockClass,"__body--container"))},getTableBodyProps()),{},{children:(0,jsx_runtime.jsx)(index_esm.t7,{className:classnames_default()("".concat(DataSpreadsheetBody_blockClass,"__list--container"),"".concat(DataSpreadsheetBody_blockClass,"__list--container--").concat(id)),height:400,itemCount:rows.length||defaultEmptyRowCount,itemSize:null==defaultColumn?void 0:defaultColumn.rowHeight,width:getSpreadsheetWidth({scrollBarSizeValue:scrollBarSize,totalVisibleColumns,defaultColumn,totalColumnsWidth,visibleColumns}),outerRef:contentScrollRef,children:null!=rows&&rows.length?RenderRow:function RenderEmptyRows(){return _div||(_div=(0,jsx_runtime.jsx)("div",{}))}})}))}));DataSpreadsheetBody.propTypes={activeCellCoordinates:prop_types_default().shape({row:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),column:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number])}),activeCellRef:prop_types_default().object,clickAndHoldActive:prop_types_default().bool,columns:prop_types_default().array,currentMatcher:prop_types_default().string,defaultColumn:prop_types_default().shape({rowHeight:prop_types_default().number,rowHeaderWidth:prop_types_default().number,width:prop_types_default().number}),defaultEmptyRowCount:prop_types_default().number,getTableBodyProps:prop_types_default().func,headerGroups:prop_types_default().arrayOf(prop_types_default().object),id:prop_types_default().oneOfType([prop_types_default().number,prop_types_default().string]),onActiveCellChange:prop_types_default().func,onDataUpdate:prop_types_default().func,onSelectionAreaChange:prop_types_default().func,prepareRow:prop_types_default().func,rows:prop_types_default().arrayOf(prop_types_default().object),scrollBarSize:prop_types_default().number,selectionAreaData:prop_types_default().array,selectionAreas:prop_types_default().array,setActiveCellCoordinates:prop_types_default().func,setActiveCellInsideSelectionArea:prop_types_default().func,setClickAndHoldActive:prop_types_default().func,setColumnOrder:prop_types_default().func,setContainerHasFocus:prop_types_default().func,setCurrentMatcher:prop_types_default().func,setHeaderCellHoldActive:prop_types_default().func,setSelectionAreaData:prop_types_default().func,setSelectionAreas:prop_types_default().func,totalColumnsWidth:prop_types_default().number,totalVisibleColumns:prop_types_default().number,visibleColumns:prop_types_default().array},DataSpreadsheetBody.__docgenInfo={description:"",methods:[],displayName:"DataSpreadsheetBody",props:{activeCellCoordinates:{description:"Object containing the active cell coordinates",type:{name:"shape",value:{row:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},column:{name:"union",value:[{name:"string"},{name:"number"}],required:!1}}},required:!1},activeCellRef:{description:"This is the ref of the button input, which is the active cell element",type:{name:"object"},required:!1},clickAndHoldActive:{description:"Is the user clicking and holding in the data spreadsheet body",type:{name:"bool"},required:!1},columns:{description:"All of the spreadsheet columns",type:{name:"array"},required:!1},currentMatcher:{description:"This represents the id of the current cell selection area",type:{name:"string"},required:!1},defaultColumn:{description:"Default spreadsheet sizing values",type:{name:"shape",value:{rowHeight:{name:"number",required:!1},rowHeaderWidth:{name:"number",required:!1},width:{name:"number",required:!1}}},required:!1},defaultEmptyRowCount:{description:"Sets the number of empty rows to be created when there is no data provided",type:{name:"number"},required:!1},getTableBodyProps:{description:"Function to set table body prop values",type:{name:"func"},required:!1},headerGroups:{description:"Headers provided from useTable hook",type:{name:"arrayOf",value:{name:"object"}},required:!1},id:{description:"The spreadsheet id",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},onActiveCellChange:{description:"The event handler that is called when the active cell changes",type:{name:"func"},required:!1},onDataUpdate:{description:"The event handler that is called to set the rows for the empty spreadsheet",type:{name:"func"},required:!1},onSelectionAreaChange:{description:"The event handler that is called when the selection areas change",type:{name:"func"},required:!1},prepareRow:{description:"Prepare row function from react-table",type:{name:"func"},required:!1},rows:{description:"All of the spreadsheet row data",type:{name:"arrayOf",value:{name:"object"}},required:!1},scrollBarSize:{description:"The scrollbar width",type:{name:"number"},required:!1},selectionAreaData:{description:"Array of selection area data",type:{name:"array"},required:!1},selectionAreas:{description:"Array of selection areas",type:{name:"array"},required:!1},setActiveCellCoordinates:{description:"Setter fn for activeCellCoordinates state value",type:{name:"func"},required:!1},setActiveCellInsideSelectionArea:{description:"Setter fn for active cell inside of selection area",type:{name:"func"},required:!1},setClickAndHoldActive:{description:"Setter fn for clickAndHold state value",type:{name:"func"},required:!1},setColumnOrder:{description:"Setter fn for column ordering, provided from react-table",type:{name:"func"},required:!1},setContainerHasFocus:{description:"Setter fn for containerHasFocus state value",type:{name:"func"},required:!1},setCurrentMatcher:{description:"Setter fn for currentMatcher state value",type:{name:"func"},required:!1},setHeaderCellHoldActive:{description:"Setter fn for header cell hold active value",type:{name:"func"},required:!1},setSelectionAreaData:{description:"Setter fn for selectionAreaData state value",type:{name:"func"},required:!1},setSelectionAreas:{description:"Setter fn for selectionAreas state value",type:{name:"func"},required:!1},totalColumnsWidth:{description:"The total columns width",type:{name:"number"},required:!1},totalVisibleColumns:{description:"The total number of columns to be initially visible, additional columns will be rendered and\nvisible via horizontal scrollbar",type:{name:"number"},required:!1},visibleColumns:{description:"Prop from react-table used to reorder columns",type:{name:"array"},required:!1}}};var selectAllCells=__webpack_require__("../ibm-products/src/components/DataSpreadsheet/utils/selectAllCells.js"),moveColumnIndicatorLine=function moveColumnIndicatorLine(_ref){var _ref$blockClass=_ref.blockClass,blockClass=void 0===_ref$blockClass?"".concat(settings.K.prefix,"--data-spreadsheet"):_ref$blockClass,clonedSelectionElement=_ref.clonedSelectionElement,ref=_ref.ref,spreadsheetCoords=_ref.spreadsheetCoords,leftScrollAmount=_ref.leftScrollAmount,closestCell=event.target.closest(".".concat(blockClass,"--interactive-cell-element")),newColumnIndex=null==closestCell?void 0:closestCell.getAttribute("data-column-index"),originalColumnIndex=null==clonedSelectionElement?void 0:clonedSelectionElement.getAttribute("data-column-index-original"),closestCellCoords=closestCell.getBoundingClientRect(),indicatorLineElement=ref.current.querySelector(".".concat(blockClass,"__reorder-indicator-line")),matcherId=null==clonedSelectionElement?void 0:clonedSelectionElement.getAttribute("data-matcher-id"),selectionAreaOrigin=ref.current.querySelector('[data-matcher-id="'.concat(matcherId,'"]'));Number(newColumnIndex)>Number(originalColumnIndex)&&(indicatorLineElement.style.left=(0,es.px)(closestCellCoords.left-spreadsheetCoords.left+closestCell.offsetWidth-2+leftScrollAmount)),Number(newColumnIndex)<Number(originalColumnIndex)&&(indicatorLineElement.style.left=(0,es.px)(closestCellCoords.left-spreadsheetCoords.left+leftScrollAmount)),Number(newColumnIndex)===Number(originalColumnIndex)&&(indicatorLineElement.style.left=selectionAreaOrigin.style.left)};function DataSpreadsheetHeader_typeof(o){return DataSpreadsheetHeader_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DataSpreadsheetHeader_typeof(o)}function DataSpreadsheetHeader_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function DataSpreadsheetHeader_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DataSpreadsheetHeader_ownKeys(Object(t),!0).forEach((function(r){DataSpreadsheetHeader_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DataSpreadsheetHeader_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function DataSpreadsheetHeader_defineProperty(obj,key,value){return(key=function DataSpreadsheetHeader_toPropertyKey(arg){var key=function DataSpreadsheetHeader_toPrimitive(input,hint){if("object"!==DataSpreadsheetHeader_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==DataSpreadsheetHeader_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===DataSpreadsheetHeader_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function DataSpreadsheetHeader_slicedToArray(arr,i){return function DataSpreadsheetHeader_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DataSpreadsheetHeader_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function DataSpreadsheetHeader_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DataSpreadsheetHeader_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DataSpreadsheetHeader_arrayLikeToArray(o,minLen)}(arr,i)||function DataSpreadsheetHeader_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DataSpreadsheetHeader_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DataSpreadsheetHeader_blockClass="".concat(settings.K.prefix,"--data-spreadsheet"),DataSpreadsheetHeader=(0,react.forwardRef)((function(_ref,ref){var activeCellCoordinates=_ref.activeCellCoordinates,cellSize=_ref.cellSize,columns=_ref.columns,currentMatcher=_ref.currentMatcher,defaultColumn=_ref.defaultColumn,headerGroups=_ref.headerGroups,scrollBarSize=_ref.scrollBarSize,selectionAreas=_ref.selectionAreas,setActiveCellCoordinates=_ref.setActiveCellCoordinates,setCurrentMatcher=_ref.setCurrentMatcher,setSelectionAreas=_ref.setSelectionAreas,setSelectionAreaData=_ref.setSelectionAreaData,rows=_ref.rows,totalVisibleColumns=_ref.totalVisibleColumns,updateActiveCellCoordinates=_ref.updateActiveCellCoordinates,setHeaderCellHoldActive=_ref.setHeaderCellHoldActive,headerCellHoldActive=_ref.headerCellHoldActive,selectAllAriaLabel=_ref.selectAllAriaLabel,visibleColumns=_ref.visibleColumns,_useState2=DataSpreadsheetHeader_slicedToArray((0,react.useState)(0),2),scrollBarSizeValue=_useState2[0],setScrollBarSizeValue=_useState2[1],_useState4=DataSpreadsheetHeader_slicedToArray((0,react.useState)(!1),2),selectedHeaderReorderActive=_useState4[0],setSelectedHeaderReorderActive=_useState4[1],previousState=(0,usePreviousValue.z)({cellSize});(0,react.useEffect)((function(){if((null==previousState?void 0:previousState.cellSize)!==cellSize){var _ref$current,scrollContainer=null==ref||null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.querySelector(".".concat(DataSpreadsheetHeader_blockClass,"__list--container")),hasScrollBar=(null==scrollContainer?void 0:scrollContainer.scrollHeight)>(null==scrollContainer?void 0:scrollContainer.clientHeight);setScrollBarSizeValue(hasScrollBar?0:scrollBarSize)}}),[cellSize,ref,scrollBarSize,null==previousState?void 0:previousState.cellSize]);var handleColumnHeaderClick=function handleColumnHeaderClick(index){return function(event){var isHoldingCommandKey=checkForHoldingKey(event,"cmd"),isHoldingShiftKey=checkForHoldingKey(event,"shiftKey");handleHeaderCellSelection({type:"column",activeCellCoordinates,rows,columns,setActiveCellCoordinates,setCurrentMatcher,setSelectionAreas,spreadsheetRef:ref,index,setSelectionAreaData,isHoldingCommandKey,isHoldingShiftKey,currentMatcher})}},handleSelectAllClick=function handleSelectAllClick(){(0,selectAllCells.p)({ref,setCurrentMatcher,setSelectionAreas,rows,columns,activeCellCoordinates,updateActiveCellCoordinates})},handleHeaderMouseDown=function handleHeaderMouseDown(index){return function(event){var _selectionAreaToClone;if(!event.shiftKey){setSelectedHeaderReorderActive(!0);var selectionAreaToClone=selectionAreas.filter((function(item){return(null==item?void 0:item.matcher)===currentMatcher})),selectionAreaElement=ref.current.querySelector('[data-matcher-id="'.concat(null===(_selectionAreaToClone=selectionAreaToClone[0])||void 0===_selectionAreaToClone?void 0:_selectionAreaToClone.matcher,'"]')),clickXPosition=event.clientX,headerButtonCoords=event.target.getBoundingClientRect(),headerIndex=event.target.getAttribute("data-column-index"),offsetXValue=clickXPosition-headerButtonCoords.left,lowestColumnIndexFromSelectionArea=Math.min(selectionAreaToClone[0].point1.column,selectionAreaToClone[0].point2.column),selectionAreaCoords=selectionAreaElement.getBoundingClientRect(),updatedOffsetDifference=lowestColumnIndexFromSelectionArea<parseInt(headerIndex)?offsetXValue+(headerButtonCoords.left-selectionAreaCoords.left):offsetXValue,bodyContainer=document.querySelector(".".concat(DataSpreadsheetHeader_blockClass,"__list--container")).firstElementChild,selectionAreaClonedElement=selectionAreaElement.cloneNode(),reorderIndicatorLine=selectionAreaElement.cloneNode();reorderIndicatorLine.className="".concat(DataSpreadsheetHeader_blockClass,"__reorder-indicator-line"),reorderIndicatorLine.style.width=(0,es.px)(2),selectionAreaClonedElement.classList.add("".concat(DataSpreadsheetHeader_blockClass,"__selection-area--element-cloned")),selectionAreaClonedElement.setAttribute("data-clone-offset-x",updatedOffsetDifference),selectionAreaClonedElement.setAttribute("data-column-index-original",index),bodyContainer.appendChild(selectionAreaClonedElement),bodyContainer.appendChild(reorderIndicatorLine),setHeaderCellHoldActive(!0)}}};return function useSpreadsheetMouseMove(_ref){var ref=_ref.ref,_ref$blockClass=_ref.blockClass,blockClass=void 0===_ref$blockClass?"".concat(settings.K.prefix,"--data-spreadsheet"):_ref$blockClass,headerCellHoldActive=_ref.headerCellHoldActive,defaultColumn=_ref.defaultColumn;(0,react.useEffect)((function(){var handleMouseMove=function handleMouseMove(event){var clonedSelectionElement=ref.current.querySelector(".".concat(blockClass,"__selection-area--element-cloned"));clonedSelectionElement&&ref.current.addEventListener("mousemove",handleMouseMove);var spreadsheetCoords=ref.current.getBoundingClientRect(),listContainer=ref.current.querySelector(".".concat(blockClass,"__list--container")),scrollAmount=listContainer.scrollLeft;moveColumnIndicatorLine({clonedSelectionElement,ref,spreadsheetCoords,leftScrollAmount:scrollAmount}),ref.current.getBoundingClientRect();var xPositionRelativeToSpreadsheet=event.clientX-spreadsheetCoords.left,offsetXValue=null==clonedSelectionElement?void 0:clonedSelectionElement.getAttribute("data-clone-offset-x"),totalSpreadsheetScrollingWidth=listContainer.scrollWidth,clonedSelectionWidth=clonedSelectionElement.offsetWidth,clonePlacement=Math.max(xPositionRelativeToSpreadsheet-offsetXValue,null==defaultColumn?void 0:defaultColumn.rowHeaderWidth);clonedSelectionElement.style.left=(0,es.px)(totalSpreadsheetScrollingWidth-clonedSelectionWidth>=clonePlacement?clonePlacement+scrollAmount:totalSpreadsheetScrollingWidth-clonedSelectionWidth)};headerCellHoldActive&&ref.current.addEventListener("mousemove",handleMouseMove);var spreadsheetRef=ref.current;return headerCellHoldActive||null==spreadsheetRef||spreadsheetRef.removeEventListener("mousemove",handleMouseMove),function(){null==spreadsheetRef||spreadsheetRef.removeEventListener("mousemove",handleMouseMove)}}))}({ref,headerCellHoldActive,defaultColumn}),(0,jsx_runtime.jsx)("div",{className:classnames_default()("".concat(DataSpreadsheetHeader_blockClass,"__header--container")),role:"rowgroup",children:headerGroups.map((function(headerGroup,index){return(0,jsx_runtime.jsxs)("div",DataSpreadsheetHeader_objectSpread(DataSpreadsheetHeader_objectSpread({},headerGroup.getHeaderGroupProps()),{},{style:DataSpreadsheetHeader_objectSpread(DataSpreadsheetHeader_objectSpread({},headerGroup.getHeaderGroupProps().style),{},{width:getSpreadsheetWidth({type:"header",headerGroup,scrollBarSizeValue,totalVisibleColumns,defaultColumn,visibleColumns}),overflow:"hidden"}),className:"".concat(DataSpreadsheetHeader_blockClass,"__tr"),children:[(0,jsx_runtime.jsx)("div",{role:"columnheader",className:"".concat(DataSpreadsheetHeader_blockClass,"__select-all-cell-container"),style:{width:null==defaultColumn?void 0:defaultColumn.rowHeaderWidth,height:null==defaultColumn?void 0:defaultColumn.rowHeight},children:(0,jsx_runtime.jsx)("button",{id:"".concat(DataSpreadsheetHeader_blockClass,"__cell--header--header"),"data-row-index":"header","data-column-index":"header",type:"button",tabIndex:-1,"aria-label":selectAllAriaLabel,onClick:handleSelectAllClick,className:classnames_default()("".concat(DataSpreadsheetHeader_blockClass,"__th"),"".concat(DataSpreadsheetHeader_blockClass,"--interactive-cell-element"),"".concat(DataSpreadsheetHeader_blockClass,"__th--select-all"),DataSpreadsheetHeader_defineProperty({},"".concat(DataSpreadsheetHeader_blockClass,"__th--active-header"),"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column)&&"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row))),children:""})}),headerGroup.headers.map((function(column,index){var selectedHeader=checkSelectedHeaderCell(index,selectionAreas,"column",rows);return(0,jsx_runtime.jsx)("div",DataSpreadsheetHeader_objectSpread(DataSpreadsheetHeader_objectSpread({role:"columnheader",className:"".concat(DataSpreadsheetHeader_blockClass,"__columnheader")},column.getHeaderProps()),{},{children:(0,jsx_runtime.jsx)("button",{id:"".concat(DataSpreadsheetHeader_blockClass,"__cell--header--").concat(index),"data-row-index":"header","data-column-index":index,tabIndex:-1,onMouseDown:selectedHeader?handleHeaderMouseDown(index):null,onMouseUp:selectedHeader?function(){return setSelectedHeaderReorderActive(!1)}:null,onClick:selectedHeader?null:handleColumnHeaderClick(index),style:{height:null==defaultColumn?void 0:defaultColumn.rowHeight,width:(null==column?void 0:column.width)||(null==defaultColumn?void 0:defaultColumn.width)},className:classnames_default()("".concat(DataSpreadsheetHeader_blockClass,"__th"),"".concat(DataSpreadsheetHeader_blockClass,"--interactive-cell-element"),DataSpreadsheetHeader_defineProperty(DataSpreadsheetHeader_defineProperty(DataSpreadsheetHeader_defineProperty({},"".concat(DataSpreadsheetHeader_blockClass,"__th--active-header"),(null==activeCellCoordinates?void 0:activeCellCoordinates.column)===index||checkActiveHeaderCell(index,selectionAreas,"column")),"".concat(DataSpreadsheetHeader_blockClass,"__th--selected-header"),selectedHeader),"".concat(DataSpreadsheetHeader_blockClass,"__th--selected-header-reorder-active"),selectedHeaderReorderActive)),type:"button",children:column.render("Header")})}),"column_".concat(index))}))]}),"header_".concat(index))}))})}));DataSpreadsheetHeader.propTypes={activeCellCoordinates:prop_types_default().shape({row:prop_types_default().oneOfType([prop_types_default().number,prop_types_default().string]),column:prop_types_default().oneOfType([prop_types_default().number,prop_types_default().string])}),cellSize:prop_types_default().oneOf(["xs","sm","md","lg"]),columns:prop_types_default().array,currentMatcher:prop_types_default().string,defaultColumn:prop_types_default().shape({rowHeight:prop_types_default().number,rowHeaderWidth:prop_types_default().number,width:prop_types_default().number}),headerCellHoldActive:prop_types_default().bool,headerGroups:prop_types_default().arrayOf(prop_types_default().object),rows:prop_types_default().arrayOf(prop_types_default().object),scrollBarSize:prop_types_default().number,selectAllAriaLabel:prop_types_default().string.isRequired,selectionAreas:prop_types_default().arrayOf(prop_types_default().object),setActiveCellCoordinates:prop_types_default().func,setCurrentMatcher:prop_types_default().func,setHeaderCellHoldActive:prop_types_default().func,setSelectionAreaData:prop_types_default().func,setSelectionAreas:prop_types_default().func,totalVisibleColumns:prop_types_default().number,updateActiveCellCoordinates:prop_types_default().func,visibleColumns:prop_types_default().array},DataSpreadsheetHeader.__docgenInfo={description:"",methods:[],displayName:"DataSpreadsheetHeader",props:{activeCellCoordinates:{description:"Object containing the active cell coordinates",type:{name:"shape",value:{row:{name:"union",value:[{name:"number"},{name:"string"}],required:!1},column:{name:"union",value:[{name:"number"},{name:"string"}],required:!1}}},required:!1},cellSize:{description:"Specifies the cell height",type:{name:"enum",value:[{value:"'xs'",computed:!1},{value:"'sm'",computed:!1},{value:"'md'",computed:!1},{value:"'lg'",computed:!1}]},required:!1},columns:{description:"All of the spreadsheet columns",type:{name:"array"},required:!1},currentMatcher:{description:"uuid that corresponds to the current selection area",type:{name:"string"},required:!1},defaultColumn:{description:"Default spreadsheet sizing values",type:{name:"shape",value:{rowHeight:{name:"number",required:!1},rowHeaderWidth:{name:"number",required:!1},width:{name:"number",required:!1}}},required:!1},headerCellHoldActive:{description:"Whether or not a click/hold is active on a header cell",type:{name:"bool"},required:!1},headerGroups:{description:"Headers provided from useTable hook",type:{name:"arrayOf",value:{name:"object"}},required:!1},rows:{description:"All of the spreadsheet row data",type:{name:"arrayOf",value:{name:"object"}},required:!1},scrollBarSize:{description:"The scrollbar width",type:{name:"number"},required:!1},selectAllAriaLabel:{description:"The aria label applied to the Select all button",type:{name:"string"},required:!0},selectionAreas:{description:"All of the cell selection area items",type:{name:"arrayOf",value:{name:"object"}},required:!1},setActiveCellCoordinates:{description:"Setter fn for activeCellCoordinates value",type:{name:"func"},required:!1},setCurrentMatcher:{description:"Setter fn for currentMatcher value",type:{name:"func"},required:!1},setHeaderCellHoldActive:{description:"Setter fn for header cell hold active value",type:{name:"func"},required:!1},setSelectionAreaData:{description:"Setter fn for selectionAreaData state value",type:{name:"func"},required:!1},setSelectionAreas:{description:"Setter fn for selectionAreas value",type:{name:"func"},required:!1},totalVisibleColumns:{description:"The total number of columns to be initially visible, additional columns will be rendered and\nvisible via horizontal scrollbar",type:{name:"number"},required:!1},updateActiveCellCoordinates:{description:"Function used to update the active cell coordinates",type:{name:"func"},required:!1},visibleColumns:{description:"Array of visible columns provided by react-table useTable hook",type:{name:"array"},required:!1}}};var devtools=__webpack_require__("../ibm-products/src/global/js/utils/devtools.js");function useActiveElement_slicedToArray(arr,i){return function useActiveElement_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useActiveElement_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function useActiveElement_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useActiveElement_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useActiveElement_arrayLikeToArray(o,minLen)}(arr,i)||function useActiveElement_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useActiveElement_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useMultipleKeyTracking=__webpack_require__("../ibm-products/src/components/DataSpreadsheet/hooks/useMultipleKeyTracking.js");function useSpreadsheetEdit_slicedToArray(arr,i){return function useSpreadsheetEdit_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useSpreadsheetEdit_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function useSpreadsheetEdit_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useSpreadsheetEdit_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useSpreadsheetEdit_arrayLikeToArray(o,minLen)}(arr,i)||function useSpreadsheetEdit_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useSpreadsheetEdit_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getSizeInPixels=function getSizeInPixels(carbonSize){return Number(carbonSize.replace("rem","")*es.XE)};function handleEditSubmit_typeof(o){return handleEditSubmit_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},handleEditSubmit_typeof(o)}function handleEditSubmit_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function handleEditSubmit_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?handleEditSubmit_ownKeys(Object(t),!0).forEach((function(r){handleEditSubmit_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):handleEditSubmit_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function handleEditSubmit_defineProperty(obj,key,value){return(key=function handleEditSubmit_toPropertyKey(arg){var key=function handleEditSubmit_toPrimitive(input,hint){if("object"!==handleEditSubmit_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==handleEditSubmit_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===handleEditSubmit_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var handleEditSubmit=function handleEditSubmit(_ref){var activeCellCoordinates=_ref.activeCellCoordinates,cellEditorRulerRef=_ref.cellEditorRulerRef,columns=_ref.columns,previousState=_ref.previousState,removeCellEditor=_ref.removeCellEditor,rows=_ref.rows,setActiveCellCoordinates=_ref.setActiveCellCoordinates,setCurrentMatcher=_ref.setCurrentMatcher,setSelectionAreas=_ref.setSelectionAreas,spreadsheetRef=_ref.spreadsheetRef,updateData=_ref.updateData;return function(event){var key=event.key,updateSelectionAreaOnCellEditSubmit=function updateSelectionAreaOnCellEditSubmit(_ref2){var type=_ref2.type;(0,removeCellSelections.c)({spreadsheetRef}),function submitEditChanges(){var prevCoords=null==previousState?void 0:previousState.activeCellCoordinates,cellProps=rows[null==prevCoords?void 0:prevCoords.row].cells[null==prevCoords?void 0:prevCoords.column];removeCellEditor(),updateData(null==prevCoords?void 0:prevCoords.row,cellProps.column.id)}();var tempMatcher=(0,uuidv4.Z)(),newSelectionArea={row:"Enter"===type?activeCellCoordinates.row===rows.length-1?activeCellCoordinates.row:activeCellCoordinates.row+1:activeCellCoordinates.row,column:"Tab"===type?activeCellCoordinates.column===columns.length-1?activeCellCoordinates.column:activeCellCoordinates.column+1:activeCellCoordinates.column};setSelectionAreas([{point1:newSelectionArea,point2:newSelectionArea,matcher:tempMatcher,areaCreated:!1}]),setCurrentMatcher(tempMatcher),cellEditorRulerRef.current.textContent=""};"Enter"===key&&(updateSelectionAreaOnCellEditSubmit({type:"Enter"}),setActiveCellCoordinates((function(prev){return handleEditSubmit_objectSpread(handleEditSubmit_objectSpread({},prev),{},{row:prev.row===rows.length-1?prev.row:prev.row+1})}))),"Tab"===key&&(event.preventDefault(),updateSelectionAreaOnCellEditSubmit({type:"Tab"}),setActiveCellCoordinates((function(prev){return handleEditSubmit_objectSpread(handleEditSubmit_objectSpread({},prev),{},{column:prev.column===columns.length-1?prev.column:prev.column+1})})))}},_excluded=["cellSize","className","columns","data","defaultEmptyRowCount","onDataUpdate","id","onActiveCellChange","onSelectionAreaChange","selectAllAriaLabel","spreadsheetAriaLabel","theme","totalVisibleColumns"];function DataSpreadsheet_typeof(o){return DataSpreadsheet_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DataSpreadsheet_typeof(o)}function DataSpreadsheet_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function DataSpreadsheet_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DataSpreadsheet_ownKeys(Object(t),!0).forEach((function(r){DataSpreadsheet_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DataSpreadsheet_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function DataSpreadsheet_defineProperty(obj,key,value){return(key=function DataSpreadsheet_toPropertyKey(arg){var key=function DataSpreadsheet_toPrimitive(input,hint){if("object"!==DataSpreadsheet_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==DataSpreadsheet_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===DataSpreadsheet_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function DataSpreadsheet_slicedToArray(arr,i){return function DataSpreadsheet_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DataSpreadsheet_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function DataSpreadsheet_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DataSpreadsheet_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DataSpreadsheet_arrayLikeToArray(o,minLen)}(arr,i)||function DataSpreadsheet_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DataSpreadsheet_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var DataSpreadsheet_blockClass="".concat(settings.K.prefix,"--data-spreadsheet"),defaults={cellSize:"sm",columns:Object.freeze([]),data:Object.freeze([]),defaultEmptyRowCount:16,onDataUpdate:Object.freeze((function(){})),onActiveCellChange:Object.freeze((function(){})),onSelectionAreaChange:Object.freeze((function(){})),theme:"light"},DataSpreadsheet=react.forwardRef((function(_ref,ref){var _ref$cellSize=_ref.cellSize,cellSize=void 0===_ref$cellSize?defaults.cellSize:_ref$cellSize,className=_ref.className,_ref$columns=_ref.columns,columns=void 0===_ref$columns?defaults.columns:_ref$columns,_ref$data=_ref.data,data=void 0===_ref$data?defaults.data:_ref$data,_ref$defaultEmptyRowC=_ref.defaultEmptyRowCount,defaultEmptyRowCount=void 0===_ref$defaultEmptyRowC?defaults.defaultEmptyRowCount:_ref$defaultEmptyRowC,_ref$onDataUpdate=_ref.onDataUpdate,onDataUpdate=void 0===_ref$onDataUpdate?defaults.onDataUpdate:_ref$onDataUpdate,id=_ref.id,_ref$onActiveCellChan=_ref.onActiveCellChange,onActiveCellChange=void 0===_ref$onActiveCellChan?defaults.onActiveCellChange:_ref$onActiveCellChan,_ref$onSelectionAreaC=_ref.onSelectionAreaChange,onSelectionAreaChange=void 0===_ref$onSelectionAreaC?defaults.onSelectionAreaChange:_ref$onSelectionAreaC,selectAllAriaLabel=_ref.selectAllAriaLabel,spreadsheetAriaLabel=_ref.spreadsheetAriaLabel,theme=_ref.theme,totalVisibleColumns=_ref.totalVisibleColumns,rest=_objectWithoutProperties(_ref,_excluded),multiKeyTrackingRef=(0,react.useRef)(),localRef=(0,react.useRef)(),spreadsheetRef=ref||localRef,focusedElement=function useActiveElement(){var _useState2=useActiveElement_slicedToArray((0,react.useState)(document.activeElement),2),active=_useState2[0],setActive=_useState2[1],handleFocusIn=function handleFocusIn(){setActive(document.activeElement)};return(0,react.useEffect)((function(){return document.addEventListener("focusin",handleFocusIn),function(){document.removeEventListener("focusin",handleFocusIn)}}),[]),active}(),_useState2=DataSpreadsheet_slicedToArray((0,react.useState)(!1),2),containerHasFocus=_useState2[0],setContainerHasFocus=_useState2[1],_useState4=DataSpreadsheet_slicedToArray((0,react.useState)(null),2),activeCellCoordinates=_useState4[0],setActiveCellCoordinates=_useState4[1],_useState6=DataSpreadsheet_slicedToArray((0,react.useState)([]),2),selectionAreas=_useState6[0],setSelectionAreas=_useState6[1],_useState8=DataSpreadsheet_slicedToArray((0,react.useState)([]),2),selectionAreaData=_useState8[0],setSelectionAreaData=_useState8[1],_useState10=DataSpreadsheet_slicedToArray((0,react.useState)(!1),2),clickAndHoldActive=_useState10[0],setClickAndHoldActive=_useState10[1],_useState12=DataSpreadsheet_slicedToArray((0,react.useState)(""),2),currentMatcher=_useState12[0],setCurrentMatcher=_useState12[1],_useState14=DataSpreadsheet_slicedToArray((0,react.useState)(!1),2),isEditing=_useState14[0],setIsEditing=_useState14[1],_useState16=DataSpreadsheet_slicedToArray((0,react.useState)(""),2),cellEditorValue=_useState16[0],setCellEditorValue=_useState16[1],_useState18=DataSpreadsheet_slicedToArray((0,react.useState)(!1),2),headerCellHoldActive=_useState18[0],setHeaderCellHoldActive=_useState18[1],_useState20=DataSpreadsheet_slicedToArray((0,react.useState)(null),2),isActiveHeaderCellChanged=_useState20[0],setIsActiveHeaderCellChanged=_useState20[1],_useState22=DataSpreadsheet_slicedToArray((0,react.useState)(!1),2),activeCellInsideSelectionArea=_useState22[0],setActiveCellInsideSelectionArea=_useState22[1],previousState=(0,usePreviousValue.z)({activeCellCoordinates,isEditing}),cellSizeValue=function getCellSize(cellSize){switch(cellSize){case"xs":return getSizeInPixels(es.x);case"sm":default:return getSizeInPixels(es.UV);case"md":return getSizeInPixels(es.GE);case"lg":return getSizeInPixels(es.OJ)}}(cellSize),cellEditorRef=(0,react.useRef)(),_useState24=DataSpreadsheet_slicedToArray((0,react.useState)(),2),activeCellContent=_useState24[0],setActiveCellContent=_useState24[1],activeCellRef=(0,react.useRef)(),cellEditorRulerRef=(0,react.useRef)(),defaultColumn=(0,react.useMemo)((function(){return{width:150,rowHeaderWidth:64,rowHeight:cellSizeValue}}),[cellSizeValue]),_useMultipleKeyTracki=(0,useMultipleKeyTracking.f)({ref:multiKeyTrackingRef,containerHasFocus,isEditing}),keysPressedList=_useMultipleKeyTracki.keysPressedList,usingMac=_useMultipleKeyTracki.usingMac,scrollBarSize=(0,react.useMemo)((function(){return function getScrollbarWidth(){var scrollDiv=document.createElement("div");scrollDiv.setAttribute("style","width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;"),document.body.appendChild(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return document.body.removeChild(scrollDiv),scrollbarWidth}()}),[]),_useTable=(0,react_table.useTable)({columns,data,defaultColumn},react_table.useBlockLayout,react_table.useColumnOrder),getTableProps=_useTable.getTableProps,getTableBodyProps=_useTable.getTableBodyProps,headerGroups=_useTable.headerGroups,rows=_useTable.rows,totalColumnsWidth=_useTable.totalColumnsWidth,prepareRow=_useTable.prepareRow,setColumnOrder=_useTable.setColumnOrder,visibleColumns=_useTable.visibleColumns,updateData=(0,react.useCallback)((function(rowIndex,columnId,newValue){onDataUpdate((function(prev){return prev.map((function(row,index){return index===rowIndex?DataSpreadsheet_objectSpread(DataSpreadsheet_objectSpread({},prev[rowIndex]),{},DataSpreadsheet_defineProperty({},columnId,cellEditorValue||newValue)):row}))}))}),[cellEditorValue,onDataUpdate]),removeActiveCell=(0,react.useCallback)((function(){spreadsheetRef.current.querySelector(".".concat(DataSpreadsheet_blockClass,"__active-cell--highlight")).style.display="none"}),[spreadsheetRef]),removeCellEditor=(0,react.useCallback)((function(){setCellEditorValue(""),setIsEditing(!1),cellEditorRef.current.style.display="none"}),[]);(0,react.useEffect)((function(){var prevCoords=null==previousState?void 0:previousState.activeCellCoordinates;if(((null==prevCoords?void 0:prevCoords.row)!==(null==activeCellCoordinates?void 0:activeCellCoordinates.row)||(null==prevCoords?void 0:prevCoords.column)!==(null==activeCellCoordinates?void 0:activeCellCoordinates.column))&&isEditing){var cellProps=rows[null==prevCoords?void 0:prevCoords.row].cells[null==prevCoords?void 0:prevCoords.column];removeCellEditor(),updateData(null==prevCoords?void 0:prevCoords.row,cellProps.column.id),cellEditorRulerRef.current.textContent=""}if((null==prevCoords?void 0:prevCoords.row)!==(null==activeCellCoordinates?void 0:activeCellCoordinates.row)||(null==prevCoords?void 0:prevCoords.column)!==(null==activeCellCoordinates?void 0:activeCellCoordinates.column)){if(activeCellCoordinates&&"header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.row)&&"header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.column)){var activeCellFullData="number"==typeof(null==activeCellCoordinates?void 0:activeCellCoordinates.column)&&"number"==typeof(null==activeCellCoordinates?void 0:activeCellCoordinates.row)?rows[null==activeCellCoordinates?void 0:activeCellCoordinates.row].cells[null==activeCellCoordinates?void 0:activeCellCoordinates.column]:null;setActiveCellContent(activeCellFullData.render("Cell"))}(activeCellCoordinates&&"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column))&&(setActiveCellContent(null),setIsActiveHeaderCellChanged((function(prev){return!prev})))}}),[activeCellCoordinates,null==previousState?void 0:previousState.activeCellCoordinates,updateData,rows,isEditing,removeCellEditor,activeCellContent]);var createActiveCell=(0,react.useCallback)((function(_ref2){var placementElement=_ref2.placementElement,coords=_ref2.coords,_ref2$addToHeader=_ref2.addToHeader,addToHeader=void 0!==_ref2$addToHeader&&_ref2$addToHeader,activeCellFullData="number"==typeof(null==coords?void 0:coords.column)&&"number"==typeof(null==coords?void 0:coords.row)?rows[null==coords?void 0:coords.row].cells[null==coords?void 0:coords.column]:null,activeCellValue=activeCellFullData?Object.values(activeCellFullData.row.values)[null==coords?void 0:coords.column]:null;!function createActiveCellFn(_ref){var placementElement=_ref.placementElement,coords=_ref.coords,_ref$addToHeader=_ref.addToHeader,addToHeader=void 0!==_ref$addToHeader&&_ref$addToHeader,contextRef=_ref.contextRef,_ref$blockClass=_ref.blockClass,blockClass=void 0===_ref$blockClass?"".concat(settings.K.prefix,"--data-spreadsheet"):_ref$blockClass,onActiveCellChange=_ref.onActiveCellChange,activeCellValue=_ref.activeCellValue,activeCellRef=_ref.activeCellRef,cellEditorRef=_ref.cellEditorRef,defaultColumn=_ref.defaultColumn;if(coords){var point1Element=document.querySelector('[data-row-index="'.concat(coords.row,'"][data-column-index="').concat(coords.column,'"]'))||document.querySelector(".".concat(blockClass,"__body--td")),selectionAreaCellWidth=point1Element.offsetWidth,selectionAreaCellHeight=point1Element.offsetHeight,activeElementContainer=addToHeader?null==contextRef?void 0:contextRef.current.querySelector(".".concat(blockClass,"__header--container")):null==contextRef?void 0:contextRef.current.querySelector(".".concat(blockClass,"__list--container")).firstElementChild,relativePosition={top:placementElement?placementElement.getBoundingClientRect().top-activeElementContainer.getBoundingClientRect().top:0===coords.row?0:selectionAreaCellHeight*coords.row,left:placementElement?placementElement.getBoundingClientRect().left-activeElementContainer.getBoundingClientRect().left:0===coords.column?defaultColumn.rowHeaderWidth-4+0:selectionAreaCellWidth*coords.column+(defaultColumn.rowHeaderWidth-4)},activeCellButton=null==activeCellRef?void 0:activeCellRef.current;activeCellButton.style.width=(0,es.px)(placementElement?null==placementElement?void 0:placementElement.offsetWidth:selectionAreaCellWidth),activeCellButton.style.height=(0,es.px)(placementElement?null==placementElement?void 0:placementElement.offsetHeight:selectionAreaCellHeight),activeCellButton.style.left=(0,es.px)(relativePosition.left),activeCellButton.style.top=(0,es.px)(relativePosition.top),activeCellButton.style.display="block",activeCellButton.setAttribute("data-active-row-index","number"==typeof(null==coords?void 0:coords.row)?coords.row:"header"),activeCellButton.setAttribute("data-active-column-index","number"==typeof(null==coords?void 0:coords.column)?coords.column:"header"),activeElementContainer.appendChild(activeCellButton),activeCellButton.focus(),addToHeader||activeElementContainer.appendChild(cellEditorRef.current),"number"==typeof(null==coords?void 0:coords.column)&&"number"==typeof(null==coords?void 0:coords.row)&&(null==onActiveCellChange||onActiveCellChange(activeCellValue))}}({placementElement,coords,addToHeader,contextRef:spreadsheetRef,blockClass:DataSpreadsheet_blockClass,onActiveCellChange,activeCellValue,activeCellRef,cellEditorRef,defaultColumn})}),[spreadsheetRef,rows,onActiveCellChange,defaultColumn]);!function useResetSpreadsheetFocus(_ref){var _ref$blockClass=_ref.blockClass,blockClass=void 0===_ref$blockClass?"".concat(settings.K.prefix,"--data-spreadsheet"):_ref$blockClass,focusedElement=_ref.focusedElement,removeActiveCell=_ref.removeActiveCell,setContainerHasFocus=_ref.setContainerHasFocus;(0,react.useEffect)((function(){focusedElement.classList.contains("".concat(blockClass,"--interactive-cell-element"))||(setContainerHasFocus(!1),removeActiveCell()),(focusedElement.classList.contains(blockClass)||focusedElement.classList.contains("".concat(blockClass,"--interactive-cell-element")))&&setContainerHasFocus(!0)}),[focusedElement,removeActiveCell,blockClass,setContainerHasFocus])}({focusedElement,removeActiveCell,setContainerHasFocus}),function useSpreadsheetOutsideClick(_ref){var spreadsheetRef=_ref.spreadsheetRef,_ref$blockClass=_ref.blockClass,blockClass=void 0===_ref$blockClass?"".concat(settings.K.prefix,"--data-spreadsheet"):_ref$blockClass,setActiveCellCoordinates=_ref.setActiveCellCoordinates,setSelectionAreas=_ref.setSelectionAreas,removeActiveCell=_ref.removeActiveCell,setContainerHasFocus=_ref.setContainerHasFocus,removeCellEditor=_ref.removeCellEditor;(0,react.useEffect)((function(){var handleOutsideClick=function handleOutsideClick(event){!spreadsheetRef.current||spreadsheetRef.current.contains(event.target)||event.target.classList.contains("".concat(blockClass,"__active-cell--highlight"))||event.target.classList.contains("".concat(blockClass,"--interactive-cell-element"))||(setActiveCellCoordinates(null),setSelectionAreas([]),removeActiveCell(),(0,removeCellSelections.c)({spreadsheetRef}),setContainerHasFocus(!1),removeCellEditor())};return document.addEventListener("click",handleOutsideClick),function(){document.removeEventListener("click",handleOutsideClick)}}),[spreadsheetRef,removeActiveCell,blockClass,setActiveCellCoordinates,setContainerHasFocus,setSelectionAreas,removeCellEditor])}({spreadsheetRef,setActiveCellCoordinates,setSelectionAreas,removeActiveCell,removeCellSelections:removeCellSelections.c,setContainerHasFocus,removeCellEditor}),function useMoveActiveCell(_ref){var spreadsheetRef=_ref.spreadsheetRef,activeCellCoordinates=_ref.activeCellCoordinates,containerHasFocus=_ref.containerHasFocus,createActiveCell=_ref.createActiveCell,activeCellContent=_ref.activeCellContent,isActiveHeaderCellChanged=_ref.isActiveHeaderCellChanged;(0,react.useEffect)((function(){performCreateActiveCell()}),[activeCellContent,performCreateActiveCell,isActiveHeaderCellChanged]);var performCreateActiveCell=(0,react.useCallback)((function(){var activeCellPlacementElement=null==spreadsheetRef?void 0:spreadsheetRef.current.querySelector('[data-row-index="'.concat(null==activeCellCoordinates?void 0:activeCellCoordinates.row,'"][data-column-index="').concat(null==activeCellCoordinates?void 0:activeCellCoordinates.column,'"]')),shouldPlaceActiveCellInHeader="header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)&&!0,selectAllElement=null==spreadsheetRef?void 0:spreadsheetRef.current.querySelector('[data-row-index="header"][data-column-index="header"]');containerHasFocus&&createActiveCell({placementElement:activeCellCoordinates?activeCellPlacementElement:selectAllElement,coords:activeCellCoordinates,addToHeader:shouldPlaceActiveCellInHeader})}),[spreadsheetRef,activeCellCoordinates,containerHasFocus,createActiveCell])}({spreadsheetRef,activeCellCoordinates,containerHasFocus,createActiveCell,activeCellContent,isActiveHeaderCellChanged});var handleInitialArrowPress=(0,react.useCallback)((function(){setActiveCellInsideSelectionArea(!1),activeCellCoordinates||setActiveCellCoordinates({column:"header",row:"header"})}),[activeCellCoordinates]),updateActiveCellCoordinates=(0,react.useCallback)((function(_ref3){var _ref3$coords=_ref3.coords,coords=void 0===_ref3$coords?DataSpreadsheet_objectSpread({},activeCellCoordinates):_ref3$coords,updatedValue=_ref3.updatedValue,_ref3$optOutOfSelecti=_ref3.optOutOfSelectionAreaUpdate,optOutOfSelectionAreaUpdate=void 0!==_ref3$optOutOfSelecti&&_ref3$optOutOfSelecti,newActiveCell=DataSpreadsheet_objectSpread(DataSpreadsheet_objectSpread({},coords),updatedValue);if(setActiveCellCoordinates(newActiveCell),"header"!==newActiveCell.row&&"header"!==newActiveCell.column&&!optOutOfSelectionAreaUpdate){var tempMatcher=(0,uuidv4.Z)();setSelectionAreas([{point1:newActiveCell,matcher:tempMatcher}]),setCurrentMatcher(tempMatcher)}}),[activeCellCoordinates]),handleHomeEndKey=(0,react.useCallback)((function(_ref4){var type=_ref4.type,coordinatesClone=DataSpreadsheet_objectSpread({},activeCellCoordinates);updateActiveCellCoordinates({coords:coordinatesClone,updatedValue:{column:"Home"===type?0:columns.length-1}}),(0,removeCellSelections.c)({spreadsheetRef})}),[activeCellCoordinates,updateActiveCellCoordinates,spreadsheetRef,columns.length]),checkForReturnCondition=(0,react.useCallback)((function(key){return isEditing||"Meta"===key||"Control"===key}),[isEditing]),handleArrowKeyPress=(0,react.useCallback)((function(arrowKey){event.preventDefault(),handleInitialArrowPress();var updatedValue,coordinatesClone=DataSpreadsheet_objectSpread({},activeCellCoordinates);switch(arrowKey){case"ArrowLeft":if("header"===coordinatesClone.column)return;"number"==typeof coordinatesClone.column&&(updatedValue=0===coordinatesClone.column?{column:"header"}:{column:coordinatesClone.column-1});break;case"ArrowUp":if("header"===coordinatesClone.row)return;"number"==typeof coordinatesClone.row&&(updatedValue=0===coordinatesClone.row?{row:"header"}:{row:coordinatesClone.row-1});break;case"ArrowRight":if("header"===coordinatesClone.column&&(updatedValue={column:0}),"number"==typeof coordinatesClone.column){if(columns.length-1===coordinatesClone.column)return;updatedValue={column:coordinatesClone.column+1}}break;case"ArrowDown":if("header"===coordinatesClone.row&&(updatedValue={row:0}),"number"==typeof coordinatesClone.row){if(rows.length-1===coordinatesClone.row)return;updatedValue={row:coordinatesClone.row+1}}}updatedValue&&updateActiveCellCoordinates({coords:coordinatesClone,updatedValue})}),[handleInitialArrowPress,updateActiveCellCoordinates,activeCellCoordinates,columns,rows]),handleKeyPressEvent=(0,react.useCallback)((function(event){handleKeyPress(event,activeCellInsideSelectionArea,updateActiveCellCoordinates,activeCellCoordinates,removeActiveCell,columns,rows,spreadsheetRef,currentMatcher,removeCellEditor,selectionAreas,handleHomeEndKey,keysPressedList,usingMac,updateData,checkForReturnCondition,handleArrowKeyPress,setSelectionAreas,setSelectionAreaData,setCurrentMatcher,activeCellRef,setActiveCellCoordinates,setContainerHasFocus,setActiveCellContent)}),[activeCellInsideSelectionArea,updateActiveCellCoordinates,activeCellCoordinates,removeActiveCell,columns,rows,spreadsheetRef,currentMatcher,removeCellEditor,selectionAreas,handleHomeEndKey,keysPressedList,usingMac,updateData,checkForReturnCondition,handleArrowKeyPress]),startEditMode=function startEditMode(){setIsEditing(!0),setClickAndHoldActive(!1);var activeCellFullData="number"==typeof(null==activeCellCoordinates?void 0:activeCellCoordinates.column)&&"number"==typeof(null==activeCellCoordinates?void 0:activeCellCoordinates.row)?rows[null==activeCellCoordinates?void 0:activeCellCoordinates.row].cells[null==activeCellCoordinates?void 0:activeCellCoordinates.column]:null,activeCellValue=activeCellFullData?activeCellFullData.row.cells[null==activeCellCoordinates?void 0:activeCellCoordinates.column].value:null;setCellEditorValue(activeCellValue||""),cellEditorRulerRef.current.textContent=activeCellValue,cellEditorRef.current.style.width=null==activeCellRef?void 0:activeCellRef.current.style.width};(0,react.useEffect)((function(){!isEditing||null!=previousState&&previousState.isEditing||(cellEditorRef.current.setSelectionRange(cellEditorRulerRef.current.textContent.length,cellEditorRulerRef.current.textContent.length),cellEditorRef.current.focus())}),[isEditing,null==previousState?void 0:previousState.isEditing]);var handleRowColumnHeaderClick=function handleRowColumnHeaderClick(_ref5){var isKeyboard=_ref5.isKeyboard,_ref5$index=_ref5.index,handleHeaderCellProps={activeCellCoordinates,rows,columns,setActiveCellCoordinates,setCurrentMatcher,setSelectionAreas,spreadsheetRef,isKeyboard,setSelectionAreaData,index:void 0===_ref5$index?null:_ref5$index,currentMatcher};"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)&&"header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.column)&&handleHeaderCellSelection(DataSpreadsheet_objectSpread({type:"column"},handleHeaderCellProps)),"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column)&&"header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.row)&&handleHeaderCellSelection(DataSpreadsheet_objectSpread({type:"row"},handleHeaderCellProps)),"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column)&&"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)&&(0,selectAllCells.p)({ref:spreadsheetRef,setCurrentMatcher,setSelectionAreas,rows,columns,activeCellCoordinates,updateActiveCellCoordinates})};!function useSpreadsheetEdit(_ref){var isEditing=_ref.isEditing,rows=_ref.rows,activeCellCoordinates=_ref.activeCellCoordinates,activeCellRef=_ref.activeCellRef,cellEditorRef=_ref.cellEditorRef,cellEditorRulerRef=_ref.cellEditorRulerRef,visibleColumns=_ref.visibleColumns,defaultColumn=_ref.defaultColumn,cellEditorValue=_ref.cellEditorValue,_ref$blockClass=_ref.blockClass,blockClass=void 0===_ref$blockClass?"".concat(settings.K.prefix,"--data-spreadsheet"):_ref$blockClass,_useState2=useSpreadsheetEdit_slicedToArray((0,react.useState)(null),2),nextIndex=_useState2[0],setNextIndex=_useState2[1],previousState=(0,usePreviousValue.z)({nextIndex});(0,react.useEffect)((function(){null!=previousState&&previousState.nextIndex||setNextIndex(null==activeCellCoordinates?void 0:activeCellCoordinates.column)}),[null==previousState?void 0:previousState.nextIndex,activeCellCoordinates]),(0,react.useEffect)((function(){var rulerWidth=cellEditorRulerRef.current.offsetWidth,cellEditorCurrentWidth=parseInt(cellEditorRef.current.style.width);if(isEditing){var _rows$activeCellCoord,_cellProps$column,_cellEditorRef$curren,cellProps=null===(_rows$activeCellCoord=rows[null==activeCellCoordinates?void 0:activeCellCoordinates.row])||void 0===_rows$activeCellCoord?void 0:_rows$activeCellCoord.cells[null==activeCellCoordinates?void 0:activeCellCoordinates.column],activeCellLeftPosition=null==activeCellRef?void 0:activeCellRef.current.style.left,activeCellTopPosition=null==activeCellRef?void 0:activeCellRef.current.style.top;if(cellEditorRef.current.style.left=activeCellLeftPosition,cellEditorRef.current.style.top=activeCellTopPosition,cellEditorRef.current.style.display="block",cellEditorRef.current.style.height=null==activeCellRef?void 0:activeCellRef.current.style.height,cellEditorRef.current.style.paddingTop="".concat((parseInt(null==activeCellRef?void 0:activeCellRef.current.style.height)-16)/2-1,"px"),cellEditorRef.current.style.textAlign="right"===(null==cellProps||null===(_cellProps$column=cellProps.column)||void 0===_cellProps$column?void 0:_cellProps$column.placement)?"right":"left",null===(_cellEditorRef$curren=cellEditorRef.current)||void 0===_cellEditorRef$curren||_cellEditorRef$curren.focus(),rulerWidth<cellEditorCurrentWidth){var _visibleColumns$nextI,currentColumnWidth=(null===(_visibleColumns$nextI=visibleColumns[nextIndex])||void 0===_visibleColumns$nextI?void 0:_visibleColumns$nextI.width)||(null==defaultColumn?void 0:defaultColumn.width);rulerWidth<cellEditorCurrentWidth-currentColumnWidth&&(cellEditorRef.current.style.width=(0,es.px)(parseInt(cellEditorRef.current.style.width)-currentColumnWidth),setNextIndex((function(prev){return 0===prev?prev:prev-1})))}if(rulerWidth>=cellEditorCurrentWidth){var _visibleColumns;setNextIndex((function(prev){return prev===visibleColumns.length-1?prev:prev+1}));var nextColumnWidth=nextIndex+1===visibleColumns.length?0:(null===(_visibleColumns=visibleColumns[nextIndex+1])||void 0===_visibleColumns?void 0:_visibleColumns.width)||(null==defaultColumn?void 0:defaultColumn.width),startingRowPosition=null==activeCellCoordinates?void 0:activeCellCoordinates.row,totalCellEditorMaxHeight=(rows.length-startingRowPosition)*defaultColumn.rowHeight;cellEditorRef.current.style.maxHeight=(0,es.px)(totalCellEditorMaxHeight),cellEditorRef.current.style.width=(0,es.px)(nextColumnWidth+cellEditorCurrentWidth),cellEditorRef.current.style.height=(0,es.px)(cellEditorRef.current.scrollHeight),cellEditorRef.current.clientHeight===totalCellEditorMaxHeight-1?cellEditorRef.current.style.overflow="auto":cellEditorRef.current.style.overflow="hidden"}}isEditing||(cellEditorRef.current.style.overflow="hidden",cellEditorRef.current.style.display="none",cellEditorRef.current.blur(),activeCellRef.current.focus(),setNextIndex(null==activeCellCoordinates?void 0:activeCellCoordinates.column))}),[isEditing,activeCellCoordinates,rows,cellEditorValue,defaultColumn,activeCellRef,cellEditorRef,cellEditorRulerRef,visibleColumns,blockClass,null==previousState?void 0:previousState.cellEditorValue,nextIndex])}({isEditing,rows,activeCellCoordinates,activeCellRef,cellEditorRef,cellEditorRulerRef,visibleColumns,defaultColumn,cellEditorValue});var handleActiveCellMouseEnterCallback=(0,react.useCallback)((function(areas,clickHold){currentMatcher&&areas&&areas.length&&clickHold&&currentMatcher&&setSelectionAreas((function(prev){var selectionAreaClone=(0,deepCloneObject.k)(prev),indexOfItemToUpdate=selectionAreaClone.findIndex((function(item){return item.matcher===currentMatcher}));return-1===indexOfItemToUpdate?prev:"object"===DataSpreadsheet_typeof(selectionAreaClone[indexOfItemToUpdate].point2)&&selectionAreaClone[indexOfItemToUpdate].areaCreated?(selectionAreaClone[indexOfItemToUpdate].point2=selectionAreaClone[indexOfItemToUpdate].point1,selectionAreaClone[indexOfItemToUpdate].areaCreated=!1,setActiveCellInsideSelectionArea(!1),(0,removeCellSelections.c)({matcher:currentMatcher,spreadsheetRef}),selectionAreaClone):prev}))}),[spreadsheetRef,currentMatcher]),handleActiveCellMouseEnter=(0,react.useCallback)((function(){handleActiveCellMouseEnterCallback(selectionAreas,clickAndHoldActive)}),[clickAndHoldActive,selectionAreas,handleActiveCellMouseEnterCallback]);return(0,jsx_runtime.jsx)("div",DataSpreadsheet_objectSpread(DataSpreadsheet_objectSpread(DataSpreadsheet_objectSpread(DataSpreadsheet_objectSpread({},rest),getTableProps()),(0,devtools.n8)("DataSpreadsheet")),{},{className:classnames_default()(DataSpreadsheet_blockClass,className,"".concat(DataSpreadsheet_blockClass,"--interactive-cell-element"),DataSpreadsheet_defineProperty(DataSpreadsheet_defineProperty({},"".concat(DataSpreadsheet_blockClass,"__container-has-focus"),containerHasFocus),"".concat(DataSpreadsheet_blockClass,"__").concat(theme),"dark"===theme)),ref:spreadsheetRef,role:"grid",tabIndex:0,"aria-rowcount":(null==rows?void 0:rows.length)||0,"aria-colcount":(null==columns?void 0:columns.length)||0,"aria-label":spreadsheetAriaLabel,onKeyDown:handleKeyPressEvent,onFocus:function onFocus(){return setContainerHasFocus(!0)},children:(0,jsx_runtime.jsxs)("div",{ref:multiKeyTrackingRef,children:[(0,jsx_runtime.jsx)(DataSpreadsheetHeader,{ref:spreadsheetRef,activeCellCoordinates,cellSize,columns,currentMatcher,defaultColumn,headerGroups,rows,scrollBarSize,selectionAreas,setActiveCellCoordinates,setSelectionAreas,setCurrentMatcher,setSelectionAreaData,totalVisibleColumns,updateActiveCellCoordinates,setHeaderCellHoldActive,headerCellHoldActive,visibleColumns,selectAllAriaLabel}),(0,jsx_runtime.jsx)(DataSpreadsheetBody,{activeCellRef,activeCellCoordinates,ref:spreadsheetRef,clickAndHoldActive,setClickAndHoldActive,currentMatcher,setCurrentMatcher,setContainerHasFocus,selectionAreas,setSelectionAreas,cellSize,headerGroups,defaultColumn,getTableBodyProps,onDataUpdate,onActiveCellChange,onSelectionAreaChange,prepareRow,rows,selectionAreaData,setSelectionAreaData,setActiveCellCoordinates,scrollBarSize,totalColumnsWidth,id,columns,defaultEmptyRowCount,setActiveCellInsideSelectionArea,totalVisibleColumns,setHeaderCellHoldActive,setColumnOrder,visibleColumns}),(0,jsx_runtime.jsx)("button",{onMouseDown:function handleActiveCellMouseDown(){if("header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.row)||"header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.column)){var tempMatcher=(0,uuidv4.Z)();setClickAndHoldActive(!0),(0,removeCellSelections.c)({spreadsheetRef}),setSelectionAreas([{point1:activeCellCoordinates,matcher:tempMatcher}]),setCurrentMatcher(tempMatcher),setSelectionAreaData([]),setActiveCellInsideSelectionArea(!1)}},onMouseUp:function handleActiveCellMouseUp(){setClickAndHoldActive(!1)},onClick:function handleActiveCellClick(){if("header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column)){var indexValue="header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)?null==activeCellCoordinates?void 0:activeCellCoordinates.column:null==activeCellCoordinates?void 0:activeCellCoordinates.row;if("header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)&&"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column))return;handleRowColumnHeaderClick({isKeyboard:!1,index:indexValue})}},onKeyDown:function handleActiveCellKeyDown(event){"Enter"!==event.key||activeCellInsideSelectionArea||("header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.column)&&"header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.row)&&startEditMode(),"header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.row)&&"header"!==(null==activeCellCoordinates?void 0:activeCellCoordinates.column)||handleRowColumnHeaderClick({isKeyboard:!0}))},onDoubleClick:function handleActiveCellDoubleClick(){startEditMode()},onMouseEnter:handleActiveCellMouseEnter,ref:activeCellRef,className:classnames_default()("".concat(DataSpreadsheet_blockClass,"--interactive-cell-element"),"".concat(DataSpreadsheet_blockClass,"__active-cell--highlight"),DataSpreadsheet_defineProperty({},"".concat(DataSpreadsheet_blockClass,"__active-cell--with-selection"),activeCellInsideSelectionArea)),type:"button",children:activeCellContent}),(0,jsx_runtime.jsx)("textarea",{id:"".concat(DataSpreadsheet_blockClass,"__cell-editor-text-area"),value:cellEditorValue,onKeyDown:handleEditSubmit({activeCellCoordinates,cellEditorRulerRef,columns,previousState,removeCellEditor,rows,setActiveCellCoordinates,setCurrentMatcher,setSelectionAreas,spreadsheetRef,updateData}),onChange:function onChange(event){setCellEditorValue(event.target.value),cellEditorRulerRef.current.textContent=event.target.value},ref:cellEditorRef,"aria-labelledby":activeCellCoordinates?"".concat(DataSpreadsheet_blockClass,"__cell--").concat(null==activeCellCoordinates?void 0:activeCellCoordinates.row,"--").concat(null==activeCellCoordinates?void 0:activeCellCoordinates.column):null,className:classnames_default()("".concat(DataSpreadsheet_blockClass,"__cell-editor"),"".concat(DataSpreadsheet_blockClass,"--interactive-cell-element"),"".concat(DataSpreadsheet_blockClass,"__cell-editor--").concat(cellSize),DataSpreadsheet_defineProperty({},"".concat(DataSpreadsheet_blockClass,"__cell-editor--active"),isEditing))}),(0,jsx_runtime.jsx)("pre",{"aria-hidden":!0,ref:cellEditorRulerRef,className:"".concat(DataSpreadsheet_blockClass,"__cell-editor-ruler")})]})}))}));function generateData_typeof(o){return generateData_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},generateData_typeof(o)}function generateData_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function generateData_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?generateData_ownKeys(Object(t),!0).forEach((function(r){generateData_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):generateData_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function generateData_defineProperty(obj,key,value){return(key=function generateData_toPropertyKey(arg){var key=function generateData_toPrimitive(input,hint){if("object"!==generateData_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==generateData_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===generateData_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(DataSpreadsheet=settings.K.checkComponentEnabled(DataSpreadsheet,"DataSpreadsheet")).displayName="DataSpreadsheet",DataSpreadsheet.propTypes={cellSize:prop_types_default().oneOf(["xs","sm","md","lg"]),className:prop_types_default().string,columns:prop_types_default().arrayOf(prop_types_default().shape({Header:prop_types_default().string,accessor:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().func]),Cell:prop_types_default().func})),data:prop_types_default().arrayOf(prop_types_default().shape),defaultEmptyRowCount:prop_types_default().number,id:prop_types_default().oneOfType([prop_types_default().number,prop_types_default().string]),onActiveCellChange:prop_types_default().func,onDataUpdate:prop_types_default().func,onSelectionAreaChange:prop_types_default().func,selectAllAriaLabel:prop_types_default().string.isRequired,spreadsheetAriaLabel:prop_types_default().string.isRequired,theme:prop_types_default().oneOf(["light","dark"]),totalVisibleColumns:prop_types_default().number},DataSpreadsheet.__docgenInfo={description:"DataSpreadsheet: used to organize and display large amounts of structured data, separated by columns and rows in a grid-like format.",methods:[],displayName:"DataSpreadsheet",props:{cellSize:{defaultValue:{value:"'sm'",computed:!1},description:"Specifies the cell height",type:{name:"enum",value:[{value:"'xs'",computed:!1},{value:"'sm'",computed:!1},{value:"'md'",computed:!1},{value:"'lg'",computed:!1}]},required:!1},columns:{defaultValue:{value:"Object.freeze([])",computed:!0},description:"The data that will build the column headers",type:{name:"arrayOf",value:{name:"shape",value:{Header:{name:"string",required:!1},accessor:{name:"union",value:[{name:"string"},{name:"func"}],required:!1},Cell:{name:"func",required:!1}}}},required:!1},data:{defaultValue:{value:"Object.freeze([])",computed:!0},description:"The spreadsheet data that will be rendered in the body of the spreadsheet component",type:{name:"arrayOf",value:{name:"shape",value:"",computed:!0}},required:!1},defaultEmptyRowCount:{defaultValue:{value:"16",computed:!1},description:"Sets the number of empty rows to be created when there is no data provided",type:{name:"number"},required:!1},onDataUpdate:{defaultValue:{value:"Object.freeze(() => {})",computed:!0},description:"The setter fn for the data prop",type:{name:"func"},required:!1},onActiveCellChange:{defaultValue:{value:"Object.freeze(() => {})",computed:!0},description:"The event handler that is called when the active cell changes",type:{name:"func"},required:!1},onSelectionAreaChange:{defaultValue:{value:"Object.freeze(() => {})",computed:!0},description:"The event handler that is called when the selection area values change",type:{name:"func"},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},id:{description:"The spreadsheet id",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},selectAllAriaLabel:{description:"The aria label applied to the Select all button",type:{name:"string"},required:!0},spreadsheetAriaLabel:{description:"The aria label applied to the Data spreadsheet component",type:{name:"string"},required:!0},theme:{description:"The theme the DataSpreadsheet should use (only used to render active cell/selection area colors on dark theme)",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},totalVisibleColumns:{description:"The total number of columns to be initially visible, additional columns will be rendered and\nvisible via horizontal scrollbar",type:{name:"number"},required:!1}}};var pets=["dog","cat","bird","lizard","frog","hamster","fish","rabbit","snake"],petNames=["Bruno","Willow","Kona","Heidi","Rusty","Bonnie","Cash","Gucci","Brody","Emma","Loki","Angel","Astro","Sherman","Layla","Peanut","Grace","Mickey","Sasha","Finn","Tucker","Bear","Mocha","Roscoe"],generateData=function generateData(_ref){var rows=_ref.rows,extraColumns=_ref.extraColumns;return function makeDataLevel(){return function range(len){for(var arr=[],i=0;i<len;i++)arr.push(i);return arr}([rows][arguments.length>0&&void 0!==arguments[0]?arguments[0]:0]).map((function(){return generateData_objectSpread({},function newPet(extraColumns){var extraDataProps=extraColumns&&{ownerName:petNames[Math.floor(Math.random()*petNames.length)],weight:Math.floor(40*Math.random())},defaultPet={petType:pets[Math.floor(Math.random()*pets.length)],firstName:petNames[Math.floor(Math.random()*petNames.length)],age:Math.floor(30*Math.random()),visits:Math.floor(40*Math.random()),health:Math.floor(100*Math.random())};return extraColumns?generateData_objectSpread(generateData_objectSpread({},defaultPet),extraDataProps):defaultPet}(extraColumns))}))}()},injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("../../node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),_storybook_styles=__webpack_require__("../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[17].use[2]!../ibm-products/src/components/DataSpreadsheet/_storybook-styles.scss"),exported={};_storybook_styles.Z&&_storybook_styles.Z.locals&&(exported.locals=_storybook_styles.Z.locals);var update,refs=0,options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default(),exported.use=function(insertOptions){return options.options=insertOptions||{},refs++||(update=injectStylesIntoStyleTag_default()(_storybook_styles.Z,options)),exported},exported.unuse=function(){refs>0&&! --refs&&(update(),update=null)};function DataSpreadsheet_stories_toConsumableArray(arr){return function DataSpreadsheet_stories_arrayWithoutHoles(arr){if(Array.isArray(arr))return DataSpreadsheet_stories_arrayLikeToArray(arr)}(arr)||function DataSpreadsheet_stories_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||DataSpreadsheet_stories_unsupportedIterableToArray(arr)||function DataSpreadsheet_stories_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DataSpreadsheet_stories_slicedToArray(arr,i){return function DataSpreadsheet_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DataSpreadsheet_stories_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||DataSpreadsheet_stories_unsupportedIterableToArray(arr,i)||function DataSpreadsheet_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DataSpreadsheet_stories_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return DataSpreadsheet_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DataSpreadsheet_stories_arrayLikeToArray(o,minLen):void 0}}function DataSpreadsheet_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectDestructuringEmpty(obj){if(null==obj)throw new TypeError("Cannot destructure "+obj)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const DataSpreadsheet_stories={title:"IBM Products/Components/Data spreadsheet/DataSpreadsheet",component:DataSpreadsheet,tags:["autodocs"],argTypes:{onActiveCellChange:{action:"active cell change"},onSelectionAreaChange:{action:"selection area change"}},parameters:{storySource:{source:"function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure \" + obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n/**\n * Copyright IBM Corp. 2022, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useMemo, useState } from 'react';\nimport { DataSpreadsheet } from '.';\nimport { generateData } from './utils/generateData';\n// import mdx from './DataSpreadsheet.mdx';\n\nimport styles from './_storybook-styles.scss';\nexport default {\n  title: 'IBM Products/Components/Data spreadsheet/DataSpreadsheet',\n  component: DataSpreadsheet,\n  tags: ['autodocs'],\n  argTypes: {\n    onActiveCellChange: {\n      action: 'active cell change'\n    },\n    onSelectionAreaChange: {\n      action: 'selection area change'\n    }\n  },\n  parameters: {\n    styles: styles\n    /*\n    docs: {\n      page: mdx,\n    },\n    */\n  }\n};\nvar NumericLayout = function NumericLayout(_ref) {\n  var value = _ref.value;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'flex-end'\n    }\n  }, value);\n};\nvar columnData = [{\n  Header: 'Row Index',\n  accessor: function accessor(row, index) {\n    return index;\n  },\n  Cell: function Cell(_ref2) {\n    var value = _ref2.cell.value;\n    return /*#__PURE__*/React.createElement(NumericLayout, {\n      value: value\n    });\n  },\n  placement: 'right',\n  width: 275\n}, {\n  Header: 'Pet type',\n  accessor: 'petType'\n}, {\n  Header: 'First Name',\n  accessor: 'firstName'\n}, {\n  Header: 'Age',\n  accessor: 'age',\n  Cell: function Cell(_ref3) {\n    var value = _ref3.cell.value;\n    return /*#__PURE__*/React.createElement(NumericLayout, {\n      value: value\n    });\n  },\n  placement: 'right'\n}, {\n  Header: 'Vet visits',\n  accessor: 'visits',\n  Cell: function Cell(_ref4) {\n    var value = _ref4.cell.value;\n    return /*#__PURE__*/React.createElement(NumericLayout, {\n      value: value\n    });\n  },\n  placement: 'right'\n}, {\n  Header: 'Health',\n  accessor: 'health',\n  Cell: function Cell(_ref5) {\n    var value = _ref5.cell.value;\n    return /*#__PURE__*/React.createElement(NumericLayout, {\n      value: value\n    });\n  },\n  placement: 'right'\n}];\nvar Template = function Template(_ref6) {\n  var args = _extends({}, (_objectDestructuringEmpty(_ref6), _ref6));\n  var _useState = useState(function () {\n      return generateData({\n        rows: 16\n      });\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var columns = useMemo(function () {\n    return columnData;\n  }, []);\n  return /*#__PURE__*/React.createElement(DataSpreadsheet, _extends({\n    columns: columns,\n    data: data,\n    onDataUpdate: setData,\n    id: \"spreadsheet--id\"\n  }, args));\n};\nvar LargeTemplate = function LargeTemplate(_ref7) {\n  var args = _extends({}, (_objectDestructuringEmpty(_ref7), _ref7));\n  var _useState3 = useState(function () {\n      return generateData({\n        rows: 1000\n      });\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    data = _useState4[0],\n    setData = _useState4[1];\n  var columns = useMemo(function () {\n    return columnData;\n  }, []);\n  return /*#__PURE__*/React.createElement(DataSpreadsheet, _extends({\n    columns: columns,\n    data: data,\n    onDataUpdate: setData,\n    id: \"spreadsheet--id\"\n  }, args));\n};\nvar EmptyWithCellsTemplate = function EmptyWithCellsTemplate(_ref8) {\n  var args = _extends({}, (_objectDestructuringEmpty(_ref8), _ref8));\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    data = _useState6[0],\n    setData = _useState6[1];\n  var columnDataClone = useMemo(function () {\n    return _toConsumableArray(columnData.filter(function (item) {\n      return item.Header !== 'Row Index';\n    }));\n  }, []);\n  var columns = useMemo(function () {\n    return columnDataClone;\n  }, [columnDataClone]);\n  return /*#__PURE__*/React.createElement(DataSpreadsheet, _extends({\n    columns: columns,\n    data: data,\n    onDataUpdate: setData,\n    id: \"spreadsheet--id\"\n  }, args));\n};\nvar WithManyColumns = function WithManyColumns(_ref9) {\n  var args = _extends({}, (_objectDestructuringEmpty(_ref9), _ref9));\n  var _useState7 = useState(function () {\n      return generateData({\n        rows: 24,\n        extraColumns: true\n      });\n    }),\n    _useState8 = _slicedToArray(_useState7, 2),\n    data = _useState8[0],\n    setData = _useState8[1];\n  var columnDataClone = useMemo(function () {\n    return [].concat(columnData, [{\n      Header: 'Owner name',\n      accessor: 'ownerName'\n    }, {\n      Header: 'Weight',\n      accessor: 'weight'\n    }]);\n  }, []);\n  var columns = useMemo(function () {\n    return columnDataClone;\n  }, [columnDataClone]);\n  return /*#__PURE__*/React.createElement(DataSpreadsheet, _extends({\n    columns: columns,\n    data: data,\n    onDataUpdate: setData,\n    id: \"spreadsheet--id\"\n  }, args));\n};\nexport var dataSpreadsheet = Template.bind({});\ndataSpreadsheet.storyName = 'Basic spreadsheet';\ndataSpreadsheet.args = {\n  selectAllAriaLabel: 'Select all',\n  spreadsheetAriaLabel: 'Example data spreadsheet'\n};\nexport var largeDatasetSpreadsheet = LargeTemplate.bind({});\nlargeDatasetSpreadsheet.storyName = 'Large dataset';\nlargeDatasetSpreadsheet.args = {\n  cellSize: 'lg',\n  selectAllAriaLabel: 'Select all',\n  spreadsheetAriaLabel: 'Example data spreadsheet'\n};\nexport var emptyWithCells = EmptyWithCellsTemplate.bind({});\nemptyWithCells.storyName = 'Empty with cells';\nemptyWithCells.args = {\n  defaultEmptyRowCount: 24,\n  selectAllAriaLabel: 'Select all',\n  spreadsheetAriaLabel: 'Example data spreadsheet'\n};\nexport var withManyColumns = WithManyColumns.bind({});\nwithManyColumns.storyName = 'With many columns';\nwithManyColumns.args = {\n  selectAllAriaLabel: 'Select all',\n  spreadsheetAriaLabel: 'Example data spreadsheet',\n  totalVisibleColumns: 5\n};",locationsMap:{"data-spreadsheet":{startLoc:{col:15,line:106},endLoc:{col:1,line:125},startBody:{col:15,line:106},endBody:{col:1,line:125}},"large-dataset-spreadsheet":{startLoc:{col:20,line:126},endLoc:{col:1,line:145},startBody:{col:20,line:126},endBody:{col:1,line:145}},"empty-with-cells":{startLoc:{col:29,line:146},endLoc:{col:1,line:166},startBody:{col:29,line:146},endBody:{col:1,line:166}},"with-many-columns":{startLoc:{col:22,line:167},endLoc:{col:1,line:196},startBody:{col:22,line:167},endBody:{col:1,line:196}}}},styles:exported}};var NumericLayout=function NumericLayout(_ref){var value=_ref.value;return react.createElement("span",{style:{display:"flex",justifyContent:"flex-end"}},value)},columnData=[{Header:"Row Index",accessor:function accessor(row,index){return index},Cell:function Cell(_ref2){var value=_ref2.cell.value;return react.createElement(NumericLayout,{value})},placement:"right",width:275},{Header:"Pet type",accessor:"petType"},{Header:"First Name",accessor:"firstName"},{Header:"Age",accessor:"age",Cell:function Cell(_ref3){var value=_ref3.cell.value;return react.createElement(NumericLayout,{value})},placement:"right"},{Header:"Vet visits",accessor:"visits",Cell:function Cell(_ref4){var value=_ref4.cell.value;return react.createElement(NumericLayout,{value})},placement:"right"},{Header:"Health",accessor:"health",Cell:function Cell(_ref5){var value=_ref5.cell.value;return react.createElement(NumericLayout,{value})},placement:"right"}],dataSpreadsheet=function Template(_ref6){var args=_extends({},(_objectDestructuringEmpty(_ref6),_ref6)),_useState2=DataSpreadsheet_stories_slicedToArray((0,react.useState)((function(){return generateData({rows:16})})),2),data=_useState2[0],setData=_useState2[1],columns=(0,react.useMemo)((function(){return columnData}),[]);return react.createElement(DataSpreadsheet,_extends({columns,data,onDataUpdate:setData,id:"spreadsheet--id"},args))}.bind({});dataSpreadsheet.storyName="Basic spreadsheet",dataSpreadsheet.args={selectAllAriaLabel:"Select all",spreadsheetAriaLabel:"Example data spreadsheet"};var largeDatasetSpreadsheet=function LargeTemplate(_ref7){var args=_extends({},(_objectDestructuringEmpty(_ref7),_ref7)),_useState4=DataSpreadsheet_stories_slicedToArray((0,react.useState)((function(){return generateData({rows:1e3})})),2),data=_useState4[0],setData=_useState4[1],columns=(0,react.useMemo)((function(){return columnData}),[]);return react.createElement(DataSpreadsheet,_extends({columns,data,onDataUpdate:setData,id:"spreadsheet--id"},args))}.bind({});largeDatasetSpreadsheet.storyName="Large dataset",largeDatasetSpreadsheet.args={cellSize:"lg",selectAllAriaLabel:"Select all",spreadsheetAriaLabel:"Example data spreadsheet"};var emptyWithCells=function EmptyWithCellsTemplate(_ref8){var args=_extends({},(_objectDestructuringEmpty(_ref8),_ref8)),_useState6=DataSpreadsheet_stories_slicedToArray((0,react.useState)([]),2),data=_useState6[0],setData=_useState6[1],columnDataClone=(0,react.useMemo)((function(){return DataSpreadsheet_stories_toConsumableArray(columnData.filter((function(item){return"Row Index"!==item.Header})))}),[]),columns=(0,react.useMemo)((function(){return columnDataClone}),[columnDataClone]);return react.createElement(DataSpreadsheet,_extends({columns,data,onDataUpdate:setData,id:"spreadsheet--id"},args))}.bind({});emptyWithCells.storyName="Empty with cells",emptyWithCells.args={defaultEmptyRowCount:24,selectAllAriaLabel:"Select all",spreadsheetAriaLabel:"Example data spreadsheet"};var withManyColumns=function WithManyColumns(_ref9){var args=_extends({},(_objectDestructuringEmpty(_ref9),_ref9)),_useState8=DataSpreadsheet_stories_slicedToArray((0,react.useState)((function(){return generateData({rows:24,extraColumns:!0})})),2),data=_useState8[0],setData=_useState8[1],columnDataClone=(0,react.useMemo)((function(){return[].concat(columnData,[{Header:"Owner name",accessor:"ownerName"},{Header:"Weight",accessor:"weight"}])}),[]),columns=(0,react.useMemo)((function(){return columnDataClone}),[columnDataClone]);return react.createElement(DataSpreadsheet,_extends({columns,data,onDataUpdate:setData,id:"spreadsheet--id"},args))}.bind({});withManyColumns.storyName="With many columns",withManyColumns.args={selectAllAriaLabel:"Select all",spreadsheetAriaLabel:"Example data spreadsheet",totalVisibleColumns:5},dataSpreadsheet.parameters={...dataSpreadsheet.parameters,docs:{...dataSpreadsheet.parameters?.docs,source:{originalSource:'({\n  ...args\n}) => {\n  const [data, setData] = useState(() => generateData({\n    rows: 16\n  }));\n  const columns = useMemo(() => columnData, []);\n  return <DataSpreadsheet columns={columns} data={data} onDataUpdate={setData} id="spreadsheet--id" {...args} />;\n}',...dataSpreadsheet.parameters?.docs?.source}}},largeDatasetSpreadsheet.parameters={...largeDatasetSpreadsheet.parameters,docs:{...largeDatasetSpreadsheet.parameters?.docs,source:{originalSource:'({\n  ...args\n}) => {\n  const [data, setData] = useState(() => generateData({\n    rows: 1000\n  }));\n  const columns = useMemo(() => columnData, []);\n  return <DataSpreadsheet columns={columns} data={data} onDataUpdate={setData} id="spreadsheet--id" {...args} />;\n}',...largeDatasetSpreadsheet.parameters?.docs?.source}}},emptyWithCells.parameters={...emptyWithCells.parameters,docs:{...emptyWithCells.parameters?.docs,source:{originalSource:"({\n  ...args\n}) => {\n  const [data, setData] = useState([]);\n  const columnDataClone = useMemo(() => [...columnData.filter(item => item.Header !== 'Row Index')], []);\n  const columns = useMemo(() => columnDataClone, [columnDataClone]);\n  return <DataSpreadsheet columns={columns} data={data} onDataUpdate={setData} id=\"spreadsheet--id\" {...args} />;\n}",...emptyWithCells.parameters?.docs?.source}}},withManyColumns.parameters={...withManyColumns.parameters,docs:{...withManyColumns.parameters?.docs,source:{originalSource:"({\n  ...args\n}) => {\n  const [data, setData] = useState(() => generateData({\n    rows: 24,\n    extraColumns: true\n  }));\n  const columnDataClone = useMemo(() => [...columnData, {\n    Header: 'Owner name',\n    accessor: 'ownerName'\n  }, {\n    Header: 'Weight',\n    accessor: 'weight'\n  }], []);\n  const columns = useMemo(() => columnDataClone, [columnDataClone]);\n  return <DataSpreadsheet columns={columns} data={data} onDataUpdate={setData} id=\"spreadsheet--id\" {...args} />;\n}",...withManyColumns.parameters?.docs?.source}}};const __namedExportsOrder=["dataSpreadsheet","largeDatasetSpreadsheet","emptyWithCells","withManyColumns"]},"../ibm-products/src/components/DataSpreadsheet/hooks/useMultipleKeyTracking.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>useMultipleKeyTracking});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_global_js_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../ibm-products/src/global/js/hooks/usePreviousValue.js"),_utils_handleMultipleKeys__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../ibm-products/src/components/DataSpreadsheet/utils/handleMultipleKeys.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var hasFocus=function hasFocus(){return"undefined"!=typeof document&&document.hasFocus()},useMultipleKeyTracking=function useMultipleKeyTracking(_ref){var ref=_ref.ref,containerHasFocus=_ref.containerHasFocus,isEditing=_ref.isEditing,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),2),usingMac=_useState2[0],setUsingMac=_useState2[1],_useState4=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(hasFocus),2),windowFocused=_useState4[0],setWindowFocused=_useState4[1],_useState6=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),2),keysPressedList=_useState6[0],setKeysPressedList=_useState6[1],previousState=(0,_global_js_hooks__WEBPACK_IMPORTED_MODULE_1__.z)({isEditing,windowFocused,containerHasFocus});return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){window.navigator.userAgent.includes("Macintosh")?setUsingMac(!0):setUsingMac(!1),setWindowFocused(hasFocus());var onWindowFocus=function onWindowFocus(){return setWindowFocused(!0)},onWindowBlur=function onWindowBlur(){return setWindowFocused(!1)};return window.addEventListener("focus",onWindowFocus),window.addEventListener("blur",onWindowBlur),function(){window.removeEventListener("focus",onWindowFocus),window.removeEventListener("blur",onWindowBlur)}}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){ref&&containerHasFocus&&!isEditing&&(ref.current.onkeydown=ref.current.onkeyup=function(event){if("keydown"===event.type){if(keysPressedList.includes(event.code))return;if((0,_utils_handleMultipleKeys__WEBPACK_IMPORTED_MODULE_2__.MP)(keysPressedList,usingMac)&&keysPressedList.length>1){var filteredClonedKeys=_toConsumableArray(keysPressedList).filter((function(item){return"MetaLeft"===item||"MetaRight"===item}));return filteredClonedKeys.push(event.code),setKeysPressedList(_toConsumableArray(new Set(filteredClonedKeys)))}var tempKeys=_toConsumableArray(keysPressedList);tempKeys.push(event.code),setKeysPressedList(_toConsumableArray(new Set(tempKeys)))}if("keyup"===event.type){var filteredClone=_toConsumableArray(keysPressedList).filter((function(item){return item!==event.code}));if("MetaLeft"===event.code||"MetaRight"===event.code)return setKeysPressedList([]);setKeysPressedList(_toConsumableArray(new Set(filteredClone)))}}),null!=previousState&&previousState.windowFocused&&!windowFocused&&setKeysPressedList([]),(ref&&!containerHasFocus||isEditing)&&(ref.current.onkeydown=void 0,ref.current.onkeyup=void 0,((null==previousState||!previousState.isEditing)&&isEditing||null!=previousState&&previousState.containerHasFocus&&!containerHasFocus)&&setKeysPressedList([]))}),[keysPressedList,containerHasFocus,ref,isEditing,null==previousState?void 0:previousState.isEditing,null==previousState?void 0:previousState.containerHasFocus,windowFocused,null==previousState?void 0:previousState.windowFocused,usingMac]),{keysPressedList,windowFocused,usingMac}}},"../ibm-products/src/components/DataSpreadsheet/utils/handleMultipleKeys.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{MP:()=>includesResourceKey,ug:()=>handleMultipleKeys,uu:()=>includesShift});var _global_js_utils_deepCloneObject__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../ibm-products/src/global/js/utils/deepCloneObject.js"),_global_js_utils_uuidv4__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../ibm-products/src/global/js/utils/uuidv4.js"),_selectAllCells__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../ibm-products/src/components/DataSpreadsheet/utils/selectAllCells.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var includesResourceKey=function includesResourceKey(arr,usingMac){return usingMac?includesMeta(arr):usingMac?void 0:includesControl(arr)},includesShift=function includesShift(arr){return!(!arr.includes("ShiftLeft")&&!arr.includes("ShiftRight"))},includesMeta=function includesMeta(arr){return!(!arr.includes("MetaLeft")&&!arr.includes("MetaRight"))},includesControl=function includesControl(arr){return!(!arr.includes("ControlLeft")&&!arr.includes("ControlRight"))},handleMultipleKeys=function handleMultipleKeys(_ref){var _selectionAreasClone$,_selectionAreasClone$2,_selectionAreasClone$3,activeCellCoordinates=_ref.activeCellCoordinates,event=_ref.event,keysPressedList=_ref.keysPressedList,selectionAreas=_ref.selectionAreas,currentMatcher=_ref.currentMatcher,rows=_ref.rows,setSelectionAreas=_ref.setSelectionAreas,columns=_ref.columns,updateActiveCellCoordinates=_ref.updateActiveCellCoordinates,spreadsheetRef=_ref.spreadsheetRef,removeCellSelections=_ref.removeCellSelections,blockClass=_ref.blockClass,setCurrentMatcher=_ref.setCurrentMatcher,usingMac=_ref.usingMac,selectionAreasClone=(0,_global_js_utils_deepCloneObject__WEBPACK_IMPORTED_MODULE_0__.k)(selectionAreas),indexOfCurrentArea=selectionAreasClone.findIndex((function(item){return item.matcher===currentMatcher})),pointToUpdate=null!==(_selectionAreasClone$=selectionAreasClone[indexOfCurrentArea])&&void 0!==_selectionAreasClone$&&_selectionAreasClone$.point2?null===(_selectionAreasClone$2=selectionAreasClone[indexOfCurrentArea])||void 0===_selectionAreasClone$2?void 0:_selectionAreasClone$2.point2:null===(_selectionAreasClone$3=selectionAreasClone[indexOfCurrentArea])||void 0===_selectionAreasClone$3?void 0:_selectionAreasClone$3.point1;if(includesShift(keysPressedList)&&keysPressedList.includes("ArrowDown")&&2===keysPressedList.length){if(rows.length-1===(null==pointToUpdate?void 0:pointToUpdate.row)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column))return;var newPoint={row:pointToUpdate.row+1,column:pointToUpdate.column};selectionAreasClone[indexOfCurrentArea].point2=newPoint,selectionAreasClone[indexOfCurrentArea].areaCreated=!1,setSelectionAreas(selectionAreasClone)}if(includesShift(keysPressedList)&&keysPressedList.includes("ArrowRight")&&2===keysPressedList.length){if(columns.length-1===(null==pointToUpdate?void 0:pointToUpdate.column)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column))return;var _newPoint={row:pointToUpdate.row,column:pointToUpdate.column+1};selectionAreasClone[indexOfCurrentArea].point2=_newPoint,selectionAreasClone[indexOfCurrentArea].areaCreated=!1,setSelectionAreas(selectionAreasClone)}if(includesShift(keysPressedList)&&keysPressedList.includes("ArrowUp")&&2===keysPressedList.length){if(0===(null==pointToUpdate?void 0:pointToUpdate.row)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column))return;var _newPoint2={row:pointToUpdate.row-1,column:pointToUpdate.column};selectionAreasClone[indexOfCurrentArea].point2=_newPoint2,selectionAreasClone[indexOfCurrentArea].areaCreated=!1,setSelectionAreas(selectionAreasClone)}if(includesShift(keysPressedList)&&keysPressedList.includes("ArrowLeft")&&2===keysPressedList.length){if(0===(null==pointToUpdate?void 0:pointToUpdate.column)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)||"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column))return;var _newPoint3={row:pointToUpdate.row,column:pointToUpdate.column-1};selectionAreasClone[indexOfCurrentArea].point2=_newPoint3,selectionAreasClone[indexOfCurrentArea].areaCreated=!1,setSelectionAreas(selectionAreasClone)}if(includesResourceKey(keysPressedList,usingMac)&&keysPressedList.includes("KeyA")){event.preventDefault();var selectionPoint2={row:rows.length-1,column:columns.length-1};-1===indexOfCurrentArea&&(0,_selectAllCells__WEBPACK_IMPORTED_MODULE_1__.p)({ref:spreadsheetRef,setCurrentMatcher,setSelectionAreas,rows,columns,activeCellCoordinates,updateActiveCellCoordinates}),selectionAreasClone[indexOfCurrentArea].point1={row:0,column:0},selectionAreasClone[indexOfCurrentArea].point2=selectionPoint2,selectionAreasClone[indexOfCurrentArea].areaCreated=!1,setSelectionAreas(selectionAreasClone)}if(includesControl(keysPressedList)&&keysPressedList.includes("Space")){var _selectionPoint={row:0,column:"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column)?0:null==activeCellCoordinates?void 0:activeCellCoordinates.column},_selectionPoint2={row:rows.length-1,column:"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column)?0:null==activeCellCoordinates?void 0:activeCellCoordinates.column};if(-1===indexOfCurrentArea){var tempMatcher=(0,_global_js_utils_uuidv4__WEBPACK_IMPORTED_MODULE_2__.Z)(),newSelectionArea={point1:_selectionPoint,point2:_selectionPoint2,areaCreated:!1,matcher:tempMatcher},coordinatesClone=_objectSpread({},activeCellCoordinates);return updateActiveCellCoordinates({coords:coordinatesClone,updatedValue:{column:"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column)?0:null==activeCellCoordinates?void 0:activeCellCoordinates.column,row:"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)?0:null==activeCellCoordinates?void 0:activeCellCoordinates.row}}),setCurrentMatcher(tempMatcher),setSelectionAreas([newSelectionArea])}selectionAreasClone[indexOfCurrentArea].point1=_selectionPoint,selectionAreasClone[indexOfCurrentArea].point2=_selectionPoint2,selectionAreasClone[indexOfCurrentArea].areaCreated=!1,setSelectionAreas(selectionAreasClone)}if(includesShift(keysPressedList)&&keysPressedList.includes("Space")){var _selectionPoint3={row:"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)?0:null==activeCellCoordinates?void 0:activeCellCoordinates.row,column:0},_selectionPoint4={row:"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)?0:null==activeCellCoordinates?void 0:activeCellCoordinates.row,column:columns.length-1};if(-1===indexOfCurrentArea){var _tempMatcher=(0,_global_js_utils_uuidv4__WEBPACK_IMPORTED_MODULE_2__.Z)(),_newSelectionArea={point1:_selectionPoint3,point2:_selectionPoint4,areaCreated:!1,matcher:_tempMatcher},_coordinatesClone=_objectSpread({},activeCellCoordinates);return updateActiveCellCoordinates({coords:_coordinatesClone,updatedValue:{column:"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.column)?0:null==activeCellCoordinates?void 0:activeCellCoordinates.column,row:"header"===(null==activeCellCoordinates?void 0:activeCellCoordinates.row)?0:null==activeCellCoordinates?void 0:activeCellCoordinates.row}}),setCurrentMatcher(_tempMatcher),setSelectionAreas([_newSelectionArea])}selectionAreasClone[indexOfCurrentArea].point1=_selectionPoint3,selectionAreasClone[indexOfCurrentArea].point2=_selectionPoint4,selectionAreasClone[indexOfCurrentArea].areaCreated=!1,setSelectionAreas(selectionAreasClone)}if(includesResourceKey(keysPressedList,usingMac)&&keysPressedList.includes("Home")){spreadsheetRef.current.querySelector(".".concat(blockClass,"__list--container")).scrollTop=0;var _coordinatesClone2=_objectSpread({},activeCellCoordinates);removeCellSelections({spreadsheetRef}),updateActiveCellCoordinates({coords:_coordinatesClone2,updatedValue:{column:0,row:0}})}if(includesResourceKey(keysPressedList,usingMac)&&keysPressedList.includes("End")){var _scrollElement=spreadsheetRef.current.querySelector(".".concat(blockClass,"__list--container"));_scrollElement.scrollTop=_scrollElement.scrollHeight;var _coordinatesClone3=_objectSpread({},activeCellCoordinates);removeCellSelections({spreadsheetRef});var lastCellExists=!!rows[(null==rows?void 0:rows.length)-1].cells[(null==columns?void 0:columns.length)-1],updateToLastCell=function updateToLastCell(){updateActiveCellCoordinates({coords:_coordinatesClone3,updatedValue:{column:columns.length-1,row:rows.length-1}})};lastCellExists?updateToLastCell():setTimeout((function(){updateToLastCell()}),1e3)}}},"../ibm-products/src/components/DataSpreadsheet/utils/removeCellSelections.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>removeCellSelections});var _settings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../ibm-products/src/settings.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var removeCellSelections=function removeCellSelections(_ref){var matcher=_ref.matcher,spreadsheetRef=_ref.spreadsheetRef,_ref$blockClass=_ref.blockClass,blockClass=void 0===_ref$blockClass?"".concat(_settings__WEBPACK_IMPORTED_MODULE_0__.K.prefix,"--data-spreadsheet"):_ref$blockClass;if(matcher&&"string"==typeof matcher){var selectionToRemove=spreadsheetRef.current.querySelector('[data-matcher-id="'.concat(matcher,'"]'));selectionToRemove&&selectionToRemove.remove()}else{_toConsumableArray(spreadsheetRef.current.querySelectorAll(".".concat(blockClass,"__selection-area--element"))).forEach((function(element){return element.remove()}))}}},"../ibm-products/src/components/DataSpreadsheet/utils/selectAllCells.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>selectAllCells});var _removeCellSelections__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../ibm-products/src/components/DataSpreadsheet/utils/removeCellSelections.js"),_global_js_utils_uuidv4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../ibm-products/src/global/js/utils/uuidv4.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var selectAllCells=function selectAllCells(_ref){var activeCellCoordinates=_ref.activeCellCoordinates,columns=_ref.columns,setCurrentMatcher=_ref.setCurrentMatcher,setSelectionAreas=_ref.setSelectionAreas,ref=_ref.ref,rows=_ref.rows,updateActiveCellCoordinates=_ref.updateActiveCellCoordinates;(0,_removeCellSelections__WEBPACK_IMPORTED_MODULE_0__.c)({spreadsheetRef:ref});var selectionPoint2={row:rows.length-1,column:columns.length-1},tempMatcher=(0,_global_js_utils_uuidv4__WEBPACK_IMPORTED_MODULE_1__.Z)(),newSelectionArea={point1:{row:0,column:0},point2:selectionPoint2,areaCreated:!1,matcher:tempMatcher},coordinatesClone=function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},activeCellCoordinates);return updateActiveCellCoordinates({coords:coordinatesClone,updatedValue:{column:0,row:0}}),setCurrentMatcher(tempMatcher),setSelectionAreas([newSelectionArea])}},"../ibm-products/src/global/js/hooks/usePreviousValue.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>usePreviousValue});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),usePreviousValue=function usePreviousValue(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){ref.current=value})),ref.current}},"../ibm-products/src/global/js/utils/deepCloneObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}__webpack_require__.d(__webpack_exports__,{k:()=>deepCloneObject});var deepCloneObject=function deepCloneObject(objectToClone){if("object"!==_typeof(objectToClone)||null===objectToClone)return objectToClone;var clonedObject=Array.isArray(objectToClone)?[]:{};for(var key in objectToClone){var value=objectToClone[key];clonedObject[key]=deepCloneObject(value)}return clonedObject}},"../ibm-products/src/global/js/utils/devtools.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n8:()=>getDevtoolsProps});var _package_settings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../ibm-products/src/global/js/package-settings.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getDevtoolsProps(componentName){return _defineProperty({},_package_settings__WEBPACK_IMPORTED_MODULE_0__.s5,(0,_package_settings__WEBPACK_IMPORTED_MODULE_0__.Md)(componentName))}},"../ibm-products/src/global/js/utils/uuidv4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function uuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(c){return(c^function randomValues(c){return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(1))[0]&15>>c/4:16*Math.random()>>c/4}(c)).toString(16)}))}},"../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[17].use[2]!../ibm-products/src/components/DataSpreadsheet/_storybook-styles.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"div[data-story-title*=DataSpreadsheet] .docs-story>div:first-child>div:first-child{overflow:auto;width:100%}","",{version:3,sources:["webpack://./../ibm-products/src/components/DataSpreadsheet/_storybook-styles.scss"],names:[],mappings:"AAUA,mFAIE,aAAA,CACA,UAAA",sourcesContent:["//\n// Copyright IBM Corp. 2022, 2022\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\n$story-anchor: 'DataSpreadsheet';\n\n$story-anchor: 'DataSpreadsheet';\ndiv[data-story-title*='#{$story-anchor}']\n  .docs-story\n  > div:first-child\n  > div:first-child {\n  overflow: auto;\n  width: 100%;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);