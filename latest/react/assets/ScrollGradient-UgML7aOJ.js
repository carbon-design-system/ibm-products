import{r as e,e as t,u as j,c as P,p as A,P as o}from"./iframe-BBf3bqTv.js";import{g as J}from"./devtools-c2gfrTL0.js";import{u as q}from"./useIsomorphicEffect-ZKZ1smHY.js";const G={NONE:"NONE"},K=a=>{const[N,c]=e.useState(),[$,z]=e.useState(),[u,w]=e.useState(),[f,_]=e.useState(),l=e.useCallback(()=>{a.current&&(c(a.current.scrollWidth>a.current.clientWidth),z(a.current.scrollHeight>a.current.clientHeight))},[a]);return e.useEffect(()=>{if(u)return()=>{u&&u.disconnect(),f&&f.disconnect()}}),q(()=>{const{current:d}=a;d&&("ResizeObserver"in window&&!f&&_(new ResizeObserver(l).observe(d)),"MutationObserver"in window&&!u&&w(new MutationObserver(l).observe(d,{attributes:!1,childList:!0,subtree:!1})),l())},[a,l,u,f]),{xScrollable:N,yScrollable:$}},n=`${A.prefix}--scroll-gradient`,C="ScrollGradient",x={hideStartGradient:!1,onScroll:()=>{},getScrollElementRef:()=>{}};let v=t.forwardRef(({children:a,className:N,color:c,onScroll:$=x.onScroll,scrollElementClassName:z,getScrollElementRef:u=x.getScrollElementRef,hideStartGradient:w=x.hideStartGradient,...f},_)=>{const l=e.useRef(void 0),d=e.useRef(void 0),V=e.useRef(void 0),k=e.useRef(void 0),g=`var(--${j()}-layer-01)`,p=e.useRef(void 0),m=e.useRef(void 0),{xScrollable:I,yScrollable:H}=K(p),y=H&&p.current&&m.current?p.current.offsetWidth-m.current.offsetWidth:0,S=I&&p.current&&m.current?p.current.offsetHeight-m.current.offsetHeight:0,[M]=e.useState(G.NONE),[L]=e.useState(G.NONE),E=e.useRef(null),R=e.useRef(null),b=e.useRef(null),h=e.useRef(null);q(()=>{E.current.style.right=y,E.current.style.backgroundImage=`linear-gradient(0deg, transparent, ${c??g} 90%)`,R.current.backgroundImage=`linear-gradient(-90deg, transparent, ${c??g} 90%)`,R.current.bottom=S,b.current.style.right=y,b.current.style.bottom=S,b.current.style.backgroundImage=`linear-gradient(0deg, ${c??g} 10%, transparent)`,h.current.style.right=y,h.current.style.bottom=S,h.current.style.backgroundImage=`linear-gradient(-90deg, ${c??g} 10%, transparent)`},[c,y,S]);const O=(r,s)=>{s.current&&(r.isIntersecting?(s.current.style.opacity=0,s.current.style.display="none",s?.current.setAttribute("aria-hidden",!1)):(s.current.style.opacity=1,s.current.style.display="block",s?.current.setAttribute("aria-hidden",!0)))};e.useEffect(()=>{const r=new IntersectionObserver(B=>{B.forEach(i=>{i.target.hasAttribute("data-start-vertical")&&O(i,E),i.target.hasAttribute("data-end-vertical")&&O(i,b),i.target.hasAttribute("data-start-horizontal")&&O(i,R),i.target.hasAttribute("data-end-horizontal")&&O(i,h)})},{root:null,rootMargin:"0px",threshold:.1});r.observe(l.current),r.observe(d.current),r.observe(V.current),r.observe(k.current);const s=l.current,W=d.current,D=V.current,F=k.current;return()=>{r.unobserve(s),r.unobserve(W),r.unobserve(D),r.unobserve(F)}},[]);const T=r=>{p.current=r,u(r)};return t.createElement("div",{...f,className:P(n,`${n}--x-${L.toLowerCase()}`,`${n}--y-${M.toLowerCase()}`,{[`${n}--x-scrollable`]:I,[`${n}--y-scrollable`]:H},N),ref:_,role:"presentation",...J(C)},t.createElement("div",{onScroll:$,ref:T,className:P(`${n}__content`,z)},t.createElement("span",{ref:l,"data-start-vertical":!0}),t.createElement("span",{ref:V,"data-start-horizontal":!0}),t.createElement("div",{ref:m,className:`${n}__content-children`},a),t.createElement("span",{ref:d,"data-end-vertical":!0}),t.createElement("span",{ref:k,"data-end-horizontal":!0})),!w&&t.createElement(t.Fragment,null,t.createElement("div",{ref:E,className:`${n}__start-vertical`,role:"presentation","aria-hidden":!0}),t.createElement("div",{ref:R,className:`${n}__start-horizontal`,role:"presentation","aria-hidden":!0})),t.createElement("div",{ref:b,className:`${n}__end-vertical`,role:"presentation","aria-hidden":!0}),t.createElement("div",{ref:h,className:`${n}__end-horizontal`,role:"presentation","aria-hidden":!0}))});v=A.checkComponentEnabled(v,C);v.displayName=C;v.propTypes={children:o.oneOfType([o.arrayOf(o.node),o.node]),className:o.string,color:o.string,getScrollElementRef:o.func,hideStartGradient:o.bool,onScroll:o.func,scrollElementClassName:o.string};v.__docgenInfo={description:"TODO: A description of the component.",methods:[],displayName:"ScrollGradient",props:{onScroll:{defaultValue:{value:"() => {}",computed:!1},description:"@type {Function} Optional scroll handler",type:{name:"func"},required:!1},getScrollElementRef:{defaultValue:{value:"() => {}",computed:!1},description:"@type {(element: HTMLElement) => {}} Optional function to get reference to scrollable DOM element",type:{name:"func"},required:!1},hideStartGradient:{defaultValue:{value:"false",computed:!1},description:"@type {boolean} Set to true if you want to hide gradient on the start side (top or left) of scrollable element.",type:{name:"bool"},required:!1},children:{description:"Provide the contents of the ScrollGradient.",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"}]},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},color:{description:"@type {string} Fade out color. Any valid CSS color value works",type:{name:"string"},required:!1},scrollElementClassName:{description:"@type {string} Optional classname for scroll element.",type:{name:"string"},required:!1}}};export{v as S};
//# sourceMappingURL=ScrollGradient-UgML7aOJ.js.map
