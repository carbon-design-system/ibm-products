import{e as n,r as p}from"./index-CPiZ6Cnx.js";import{a as le}from"./chunk-D5ZWXAHU-CGElDDNX.js";import{p as J}from"./settings-iwZeeh4T.js";import{I as Ve,D as Z,a as He,m as ge,g as Ee,u as he}from"./_storybook-styles-Bud4uPVz.js";import{S as Fe}from"./StoryDocsPage-BfvnOk2Z.js";import{A as H}from"./getArgTypes-CUsKgYxs.js";import{W as Ie}from"./index-D3Vhodmb.js";import{b as Re,c as S,_ as ze,P as i,H as Ge}from"./index-CXyjPnaX.js";import{L as de}from"./ListItem-C-nvXM00.js";import{C as We}from"./Checkbox-UQpZ5X10.js";import{D as Be,a as Xe}from"./DatePicker-BtYXwe2U.js";import{D as Ye}from"./Dropdown-CqwYW1NX.js";import{N as Ke}from"./NumberInput-7N1NynOx.js";import{T as Je}from"./TextInput-D6QswYlg.js";import{p as Qe}from"./props-helper-Dlg0HCIz.js";import{u as Ze}from"./usePreviousValue-CSEZflXC.js";import{u as et}from"./useIsomorphicEffect-CqAX3nH-.js";import{f as tt}from"./bucket-2-L5Cs0C3i.js";import{C as nt}from"./bucket-1-EQaPuUyr.js";import{a as xe}from"./bucket-6-BQYdmIZX.js";import{T as it}from"./bucket-17-Ddrrb1BH.js";import"./_commonjsHelpers-BosuxZz1.js";import"./v4-CQkTLCs1.js";import"./events-OVwOsPzJ.js";import"./index-DJK44odq.js";import"./devtools-CjVY-wQW.js";import"./feature-flags-B_abUzZ5.js";import"./TableRow-DWN9qAIi.js";import"./wrapComponent-fq0T_7oD.js";import"./bucket-0-DUfmGMOu.js";import"./TableToolbar-IxxUrjio.js";import"./Text-vNWzJqus.js";import"./ErrorEmptyState-DL8hsfg8.js";import"./Link-EP4KkhUp.js";import"./EmptyState-CH8ufS3H.js";import"./EmptyStateV2-BCiBfQNc.js";import"./iframe-BFx4DPzL.js";import"../sb-preview/runtime.js";import"./ErrorIllustration-BbXBQJtZ.js";import"./useId-BvKGLBYe.js";import"./uuidv4-BQrI85uz.js";import"./index-BSHYryQu.js";import"./index-Bsyy8W_U.js";import"./NoDataEmptyState-Bhjfar0t.js";import"./NoDataIllustration-C9PHw5T4.js";import"./NotFoundEmptyState-LjpkK9Pq.js";import"./NotFoundIllustration-CtjngsCd.js";import"./index.esm-DL6tv-Mo.js";import"./useResizeObserver-CZKdqPxj.js";import"./MenuItem-8LA01F7J.js";import"./useControllableState-uQXf5Mu5.js";import"./useAttachedMenu-MiCadXk0.js";import"./useWindowResize-BD0Ugavr.js";import"./mergeRefs-CTUecegF.js";import"./getFocusableElements-BW7cf991.js";import"./index-BLF2Ep9P.js";import"./useClickOutside-CmCSbinx.js";import"./AccordionItem-DdQEl6DI.js";import"./Search-soxfLq4A.js";import"./FormContext-CgeSXHS1.js";import"./bucket-14-BKxafgTW.js";import"./index-Dcfl0vi2.js";import"./LayerContext-BGhaVt7n.js";import"./motionConstants-DmoIEUBD.js";import"./jsx-runtime-Dc-z7RWI.js";import"./index-RF0-oCdM.js";import"./index-DkUr2NOz.js";import"./ActionSet-B09sMic5.js";import"./ButtonSet-DCPCKVSR.js";import"./InlineLoading-DZri6jHG.js";import"./FormGroup-9BStNhuZ.js";import"./RadioButton-DFKglrJp.js";import"./RadioButtonGroup-CxQn_S4P.js";import"./bucket-18-By6NmkK1.js";import"./MultiSelect-o8EC7feO.js";import"./index-DoQB7l6P.js";import"./tslib.es6-rrx6G-_s.js";import"./toNumber-CT-AZYiF.js";import"./use-reduced-motion-DxKw-O3w.js";import"./TagSet-Dw4w0yrm.js";import"./Tag-C5xfWRec.js";import"./DefinitionTooltip-BPN6Mdin.js";import"./DismissibleTag-DKcElxOG.js";import"./ComposedModal-BZzRRIGC.js";import"./requiredIfGivenPropIsTruthy-CU7JwK8h.js";import"./wrapFocus-i_P_nIQh.js";import"./usePortalTarget-2TvXB9Ir.js";import"./OperationalTag-DnZ6kcPo.js";import"./SkeletonText-B30TI_EU.js";import"./getNodeTextContent-C8IeKkUQ.js";import"./index-C-0O7yd6.js";import"./bucket-7-DdSKRZLi.js";import"./index-B_DdD064.js";import"./index-Df9so8jS.js";import"./index-DMCuvgYY.js";import"./index-DrFu-skq.js";import"./story-helper-U7E6Psyp.js";import"./index-DVpmqM_A.js";import"./bucket-9-BSWQ2dSd.js";import"./useNormalizedInputProps-Dv8FHz9Q.js";import"./bucket-16-DAqQSLfq.js";import"./useAnnouncer-Dwt0jqXi.js";function De(a){let{className:l,nested:u=!1,isExpressive:d=!1,...f}=a;const I=Re(),s=S(`${I}--list--unordered`,l,{[`${I}--list--nested`]:u,[`${I}--list--expressive`]:d});return n.createElement("ul",ze({className:s},f))}De.propTypes={children:i.node,className:i.string,isExpressive:i.bool,nested:i.bool};const T=`${J.prefix}--datagrid`,ee=({label:a,renderIcon:l,labelIcon:u,placeholder:d,disabledCell:f,nonEditCell:I,isActiveCell:s,columnConfig:h,type:o})=>n.createElement("div",{className:S(`${T}__inline-edit-button`,{[`${T}__inline-edit-button--disabled`]:f,[`${T}__inline-edit-button--with-label-icon`]:u,[`${T}__inline-edit-button--non-edit`]:I,[`${T}__inline-edit-button--active`]:s,[`${T}__inline-edit-button--${o}`]:o==="date"||o==="selection"}),tabIndex:s?0:-1,"data-disabled":f,"aria-disabled":f,role:"button"},u&&n.createElement("div",{className:`${T}__label-icon`},n.createElement(u,null)),a!==""?n.createElement("span",{className:S(`${T}__inline-edit-button-label`,{[`${T}__inline-edit-button-label-with-icon`]:!I,[`${T}__defaultStringRenderer--multiline`]:h==null?void 0:h.multiLineWrap})},a):n.createElement("span",{className:`${T}__placeholder`},d),!I&&l&&n.createElement("div",{className:`${T}__inline-edit-button-icon`},n.createElement(l,null)));ee.propTypes={columnConfig:i.object,disabledCell:i.bool,isActiveCell:i.bool,label:i.oneOfType([i.string,i.number]),labelIcon:i.oneOfType([i.func,i.object]),nonEditCell:i.bool,placeholder:i.string,renderIcon:i.oneOfType([i.func,i.object]),type:i.oneOf(["text","number","selection","date","checkbox"]),value:i.oneOfType([i.string,i.node])};ee.__docgenInfo={description:"",methods:[],displayName:"InlineEditButton",props:{columnConfig:{description:"",type:{name:"object"},required:!1},disabledCell:{description:"",type:{name:"bool"},required:!1},isActiveCell:{description:"",type:{name:"bool"},required:!1},label:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},labelIcon:{description:"",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1},nonEditCell:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},renderIcon:{description:"",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'number'",computed:!1},{value:"'selection'",computed:!1},{value:"'date'",computed:!1},{value:"'checkbox'",computed:!1}]},required:!1},value:{description:"",type:{name:"union",value:[{name:"string"},{name:"node"}]},required:!1}}};const b=`${J.prefix}--datagrid`,G=({cell:a,config:l,disabledCell:u=!1,instance:d,placeholder:f="",tabIndex:I,value:s,nonEditCell:h=!1,type:o})=>{var re;const A=a.column.id,v=d.columns.findIndex(e=>e.id===A),F=a.row.index,c=`column-${v}-row-${F}`,{state:W,dispatch:C}=p.useContext(Ve),[x,y]=p.useState(!1),[m,j]=p.useState(s),[R,B]=p.useState(),[V,Te]=p.useState(),{activeCellId:N,editId:M}=W,g=Ze({editId:M,activeCellId:N}),{inputProps:E}=l||{},te=p.useRef(void 0),we=p.useRef(void 0),ne=p.useRef(void 0),w=p.useRef(void 0),X=p.useRef(void 0),{rowSize:L,onDataUpdate:ie}=d;let $;x&&(d.cellEditing={cellId:c,columnIndex:v,rowIndex:F,curCellValue:m}),p.useEffect(()=>{B(s);const e=a.column.id,t=d.columns.find(r=>r.id===e);Te(typeof t.Header=="string"?t.Header:"Inline edit cell label")},[]),p.useEffect(()=>{if((g==null?void 0:g.editId)===c&&!M||(g==null?void 0:g.editId)===c&&c!==M){const{validator:e}=l||{};if(e==null?void 0:e(m)){j(R),$(R);return}}},[g==null?void 0:g.editId,M,c,m,l,R,$]),p.useEffect(()=>{(N!==c||!M)&&y(!1),N===c&&M===c&&!h&&(y(!0),$(m))},[N,c,h,M,m,$]);const ve=e=>{const t=document.querySelector(`#${b}__inline-edit--date-picker--${a.row.index}`),r=e==="selection"?w==null?void 0:w.current:t;r.click(),e==="date"&&(r==null||r.focus())};p.useEffect(()=>{if((g==null?void 0:g.editId)===c&&(g==null?void 0:g.activeCellId)===c&&N!==c){const{validator:e}=l||{};(e==null?void 0:e(m))||B(m)}},[g,c,m,N,l]);const $e=()=>{x||(C({type:"ENTER_EDIT_MODE",payload:{activeCellId:c,editId:c}}),y(!0),setTimeout(()=>{(o==="selection"||o==="date")&&ve(o)},1))};p.useEffect(()=>{var e;x&&(o==="text"&&te.current.focus(),o==="number"&&ne.current.focus(),o==="selection"&&((e=w==null?void 0:w.current)==null||e.focus()))},[x,o]),$=p.useCallback(e=>{const t=a.column.id,r=a.row.index;ie(_=>_.map((D,k)=>k===r?{..._[r],[t]:e}:D))},[a,ie]),p.useEffect(()=>{j(s)},[s]);const P=()=>{document.querySelector(`#${d.tableId} .${b}__table-with-inline-edit`).focus()},z=e=>{const t=d.rows.length;return e==="Enter"?`column-${v}-row-${a.row.index<t-1&&o==="checkbox"?a.row.index+1:a.row.index}`:`column-${v<d.columns.length-1?v+1:v}-row-${a.row.index}`},ke=e=>{const{key:t}=e;switch(t){case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"ArrowDown":if(x&&e.target.type==="checkbox"){const r=z(t);$(m),B(m),C({type:"EXIT_EDIT_MODE",payload:r}),y(!1),P()}break;case"Tab":case"Enter":{if(o==="checkbox"){const r=z(t);C({type:"EXIT_EDIT_MODE",payload:r}),y(!1),P()}if(x){if(o==="selection"||o==="date")return;const{validator:r}=l||{};if(r==null?void 0:r(m))return;const D=z(t);$(m),B(m),C({type:"EXIT_EDIT_MODE",payload:D}),y(!1),P()}break}case"Escape":{x&&(C({type:"EXIT_EDIT_MODE",payload:c}),j(R),$(R),y(!1),P());break}default:return}},Se=()=>{C({type:"UPDATE_ACTIVE_CELL_ID",payload:c})},Ne=e=>!!(e!=null&&e.icon)?n.createElement(n.Fragment,null,n.createElement(e.icon),n.createElement("span",{className:S(`${b}__inline-edit--select-item`)},e==null?void 0:e.text)):e==null?void 0:e.text,ae=e=>e!=null&&e.length&&typeof e[0]=="object"?t=>Ne(t):null;et(()=>{if(w.current&&w.current.style){const e=w.current.closest(`.${b}__inline-edit--select`);e.style.width=`${a.column.totalWidth}px`}},[w.current,a.column.totalWidth]);const qe=()=>{const{inputProps:e}=l||{};return n.createElement(Ye,{id:c,label:V||"Dropdown menu options",ariaLabel:V||"Dropdown menu options",...e,hideLabel:!0,className:S(`${b}__inline-edit--select`,{[`${b}__inline-edit--select-${L}`]:L}),items:(e==null?void 0:e.items)||[],initialSelectedItem:a.value,itemToElement:ae(e==null?void 0:e.items),renderSelectedItem:ae(e==null?void 0:e.items),onChange:t=>{var _;const r=z("Enter");$(t.selectedItem),j(t.selectedItem),C({type:"EXIT_EDIT_MODE",payload:r}),y(!1),P(),(_=e==null?void 0:e.onChange)==null||_.call(e,t.selectedItem)},downshiftProps:{onStateChange:t=>{const{isOpen:r}=t||{};r===!1&&(C({type:"EXIT_EDIT_MODE",payload:c}),y(!1),P())}},ref:w,autoAlign:!0})},je=()=>{if(o==="text")return xe;if(o==="number")return tt;if(o==="selection")return Ge;if(o==="date")return nt},Oe=()=>{var r,_;const e=Qe(l.inputProps,["datePickerInputProps"]),t=(r=l==null?void 0:l.inputProps)==null?void 0:r.datePickerInputProps;return n.createElement(Be,{...e,appendTo:(_=X==null?void 0:X.current)==null?void 0:_.parentElement,ref:D=>{if(D&&D.style){D.style.width=`${a.column.totalWidth}px`;const k=`${b}__inline-edit--date-picker--${a.row.index}`,Y=D.querySelector(`input#${k}`);Y&&(Y.style.position="static")}},datePickerType:"single",className:S(`${b}__inline-edit--date`,{[`${b}__inline-edit--date-${L}`]:L}),onChange:D=>{var se;const k=D[0];(se=e==null?void 0:e.onChange)==null||se.call(e,k,a);const Y=z("Enter");$(k),j(k),setTimeout(()=>{y(!1),P(),C({type:"EXIT_EDIT_MODE",payload:Y})},1)},value:a.value},n.createElement(Xe,{...t,placeholder:(t==null?void 0:t.placeholder)||"mm/dd/yyyy",labelText:(t==null?void 0:t.labelText)||V||"Set date",id:`${b}__inline-edit--date-picker--${a.row.index}`,hideLabel:!0}))},oe=e=>e.toString().padStart(2,"0"),Ue=e=>{var r;const t=(r=l==null?void 0:l.inputProps)==null?void 0:r.dateFormat;if(e instanceof Date){const _=e.getFullYear(),D=oe(e.getMonth()+1),k=oe(e.getDate());if(t==="m/d/Y"||e==="m/d/y")return[D,k,_].join("/");if(t==="d/m/Y"||t==="d/m/y"||t===void 0)return[k,D,_].join("/")}else return e;return null},Ae=()=>{const{validator:e}=l||{};return n.createElement(Ke,{placeholder:f,label:V,...E,id:c,hideLabel:!0,defaultValue:m,invalid:e==null?void 0:e(m),invalidText:(E==null?void 0:E.invalidText)||"Provide missing invalidText",onChange:(t,{value:r})=>{j(r),E.onChange&&E.onChange(r)},ref:ne})},Me=()=>n.createElement(We,{labelText:V||"Checkbox",...E,className:S(`${b}__inline-edit--outer-cell-checkbox`,{[`${b}__inline-edit--outer-cell-checkbox-focus`]:N===c}),id:c,hideLabel:!0,checked:m,onChange:(e,{checked:t})=>{j(t),E.onChange&&E.onChange(t)},ref:we}),Le=()=>{const{validator:e}=l||{},t=e==null?void 0:e(m);return n.createElement(Je,{labelText:V,placeholder:f,...E,id:c,hideLabel:!0,defaultValue:m,invalid:t,invalidText:(E==null?void 0:E.invalidText)||"Provide missing invalidText",onChange:r=>{j(r.target.value),E.onChange&&E.onChange(r.target.value)},ref:te})},Pe=()=>{const e=t=>{if(typeof t=="object"&&(t!=null&&t.isStaticCell))return t==null?void 0:t.value};switch(o){case"selection":return e(s),(s==null?void 0:s.text)??s;case"date":return e(s),Ue(s);default:return e(s)??s}};return n.createElement("div",{ref:X,"data-cell-id":c,"data-column-index":v,"data-row-index":a.row.index,"data-disabled":u||h,"data-inline-type":o,onClick:h?Se:$e,onKeyDown:h?null:ke,className:S(`${b}__inline-edit--outer-cell-button`,{[`${b}__inline-edit--outer-cell-button--${L}`]:L,[`${b}__inline-edit--outer-cell-button--lg`]:!L,[`${b}__inline-edit--outer-cell-button--invalid`]:x&&((re=l==null?void 0:l.validator)==null?void 0:re.call(l,m)),[`${b}__static--outer-cell`]:!u})},(!x||u)&&o!=="checkbox"&&n.createElement(ee,{isActiveCell:c===N,renderIcon:je(),label:Pe(),disabledCell:u,labelIcon:(s==null?void 0:s.icon)||null,placeholder:f,tabIndex:I,nonEditCell:h,columnConfig:a.column,type:o}),o==="checkbox"&&Me(),!h&&x&&c===N&&n.createElement(n.Fragment,null,o==="text"&&Le(),o==="number"&&Ae(),o==="selection"&&qe(),o==="date"&&Oe()))};G.propTypes={cell:i.object,config:i.object,disabledCell:i.bool,instance:i.shape({columns:i.arrayOf(i.object),onDataUpdate:i.func,rows:i.arrayOf(i.object),rowSize:i.string,tableId:i.string,cellEditing:i.object}),nonEditCell:i.bool,placeholder:i.string,tabIndex:i.number,type:i.oneOf(["text","number","selection","date","checkbox"]),value:i.oneOfType([i.string,i.node,i.object])};G.__docgenInfo={description:"",methods:[],displayName:"InlineEditCell",props:{disabledCell:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},placeholder:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},nonEditCell:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},cell:{description:"",type:{name:"object"},required:!1},config:{description:"",type:{name:"object"},required:!1},instance:{description:"",type:{name:"shape",value:{columns:{name:"arrayOf",value:{name:"object"},required:!1},onDataUpdate:{name:"func",required:!1},rows:{name:"arrayOf",value:{name:"object"},required:!1},rowSize:{name:"string",required:!1},tableId:{name:"string",required:!1},cellEditing:{name:"object",required:!1}}},required:!1},tabIndex:{description:"",type:{name:"number"},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'number'",computed:!1},{value:"'selection'",computed:!1},{value:"'date'",computed:!1},{value:"'checkbox'",computed:!1}]},required:!1},value:{description:"",type:{name:"union",value:[{name:"string"},{name:"node"},{name:"object"}]},required:!1}}};const K=`${J.prefix}--datagrid`,Ce=a=>{const l=(u,{cell:d,instance:f})=>{var v,F,c,W,C,x;const I=d.column.inlineEdit,s=(F=(v=d.column)==null?void 0:v.inlineEdit)==null?void 0:F.type,h=(c=d.column)==null?void 0:c.isDisabled,o=typeof d.value=="object"&&d.column.id===((W=d.value)==null?void 0:W.columnId)&&((C=d.value)==null?void 0:C.isStaticCell),A=y=>n.createElement(G,{config:I,tabIndex:-1,value:d.value,cell:d,disabledCell:h,instance:f,type:y});return d.column.id==="spacer"?[u,{className:S(`${K}__cell`,`${K}__cell--spacer`)}]:[u,{className:S(`${K}__cell`,`${K}__cell-inline-edit`),role:"gridcell",children:n.createElement(n.Fragment,null,!o&&s==="text"&&A(s),!o&&s==="number"&&A(s),!o&&s==="selection"&&A(s),s==="checkbox"&&A(s),!o&&s==="date"&&A(s),o&&n.createElement(G,{config:I,tabIndex:-1,value:(x=d.value)==null?void 0:x.value,cell:d,instance:f,nonEditCell:!0,type:"text"}),!s&&n.createElement(G,{config:I,tabIndex:-1,value:d.value,cell:d,instance:f,disabledCell:h,nonEditCell:!0,type:"text"}))}]};a.getCellProps.push(l),a.useInstance.push(u=>{Object.assign(u,{withInlineEdit:!0})})},at=a=>{Ce(a)},ye=()=>n.createElement(Fe,{omitCodedExample:!0,blocks:[{description:"The `Datagrid` supports inline editing when used with the `useEditableCell` hook (previously named `useInlineEdit` in v1) and columns are provided the required configuration. The four data types supported are strings, numbers, dates, and\n        selection (dropdown)."},{description:`Below are example column configurations for the supported inline edit data types:

Default/string:
        `,source:{language:"json",code:`
  {
    Header: 'First Name',
    accessor: 'firstName',
    inlineEdit: {
      type: 'text',
      // required for including validation, this is used to set the invalid prop internally
      validator: (n) => n.length >= 40,
      // These props are passed to the Carbon component used for inline editing, in this case the TextInput
      inputProps: {
        invalidText: 'Invalid text, character count must be less than 40',
      },
    },
  }
          `}},{description:"Number",source:{language:"json",code:`
{
  Header: 'Age',
  accessor: 'age',
  width: 120,
  inlineEdit: {
    // required for including validation, this is used to set the invalid prop internally
    validator: (n) => n && n < 18,
    type: 'number',
    // These props are passed to the Carbon component used for inline editing, in this case NumberInput
    inputProps: {
      invalidText: 'Invalid number, must be 18 or greater',
    },
  },
},
          `}},{description:"Date",source:{language:"json",code:`
{
  Header: 'Active since',
  accessor: 'activeSince',
  inlineEdit: {
    type: 'date',
    inputProps: {
      // optionally pass props here to be passed through to Carbon's DatePicker component
      onChange: (newDateObj, cell) => {
        console.log(newDateObj, cell);
      },
      labelText: 'Change active since date',
      // optionally pass props here to be passed through to Carbon's DatePickerInput component
      datePickerInputProps: {
        labelText: 'Change active since date',
      },
    },
  },
},
          `}},{description:"Selection",source:{language:"json",code:`
{
  Header: 'Chart type',
  accessor: 'chartType',
  inlineEdit: {
    type: 'selection',
    inputProps: {
      // These props are passed to the Carbon component used for inline editing
      items: [
        {
          id: 'option-0',
          icon: ChartColumnFloating16,
          text: 'Column Chart',
        },
        {
          id: 'option-1',
          icon: ChartBubble16,
          text: 'Bubble Chart',
        },
        {
          id: 'option-2',
          icon: ChartVennDiagram16,
          text: 'Venn Diagram',
        },
      ],
      onChange: (item) => {
        console.log(item);
      },
    },
  },
},
          `}},{description:"Using the column structure outlined above, along with the use of the `useEditableCell` hook (previously named `useInlineEdit` in v1), the `Datagrid` will support inline editing. See example below:",source:{code:`
import { Datagrid, useDatagrid, useEditableCell } from '@carbon/ibm-products';
const App = () => {
  const [data, setData] = useState(makeData(10));
  const columns = React.useMemo(() => getInlineEditColumns(), []); // These columns follow the inline edit column configuration detailed above
  const datagridState = useDatagrid(
    {
      columns,
      data,
      onDataUpdate: setData,
    },
    useEditableCell
  );
  return <Datagrid datagridState={datagridState} />;
};
          `},story:O},{title:"Using deprecated useInlineEdit hook",description:"At this time, it is possible to still use the deprecated `useInlineEdit` hook but requires setting a feature flag. See example below:",source:{code:`
import {
  Datagrid,
  useDatagrid,
  useInlineEdit,
  pkg,
} from '@carbon/ibm-products';

const MyInlineEditDatagrid = () => {
  pkg.feature['Datagrid.useInlineEdit'] = true;
  const [data, setData] = useState(gridData);
  const datagridState = useDatagrid(
    {
      columns,
      data,
      onDataUpdate: setData,
    },
    useInlineEdit
  );
  return <Datagrid datagridState={datagridState} />;
};
          `},story:U},{title:"Opt out of editing at cell level",description:"In some cases you may want to disable editing per cell. This is possible by providing the following structure for the cell value within your row data:",source:{code:`
{
  value: '—', // Value displayed for static cell
  isStaticCell: true,
  columnId: 'lastName',
}
          `}}]});ye.__docgenInfo={description:"",methods:[],displayName:"DocsPage"};const ot=`${J.prefix}--datagrid`,q=`storybook-${ot}__validation-code-snippet`,ri={title:"Deprecated/Datagrid/Datagrid/EditableCell",component:Z,tags:["autodocs"],parameters:{styles:He,docs:{page:ye},layout:"fullscreen",argTypes:{featureFlags:{table:{disable:!0}}}}},Q={emptyStateTitle:"Empty state title",emptyStateDescription:"Description text explaining why table is empty",emptyStateSize:"lg",gridTitle:"Data table title",gridDescription:"Additional information if needed",useDenseHeader:!1,rowSize:"lg",rowSizes:[{value:"xl",labelText:"Extra large"},{value:"lg",labelText:"Large"},{value:"md",labelText:"Medium"},{value:"xs",labelText:"Small"}],onRowSizeChange:a=>{console.log("row size changed to: ",a)},rowActions:[{id:"edit",itemText:"Edit",icon:xe,onClick:le("Clicked row action: edit")},{id:"delete",itemText:"Delete",icon:it,isDelete:!0,onClick:le("Clicked row action: delete")}]},rt=({...a})=>{const[l,u]=p.useState(ge(10,{includeNonEditableCell:!0,column:"lastName"})),d=n.useMemo(()=>Ee(),[]),f=he({columns:d,data:l,onDataUpdate:u,...a.defaultGridProps},at);return n.createElement(Ie,{flags:{"enable-datagrid-useEditableCell":!0}},n.createElement(Z,{datagridState:f}),n.createElement(De,null,n.createElement(de,null,n.createElement("p",null,"The following inline edit columns incorporate validation:",n.createElement("code",{className:q},"first_name"),n.createElement("code",{className:q},"last_name"),n.createElement("code",{className:q},"age"),n.createElement("code",{className:q},"visits"))),n.createElement(de,null,n.createElement("p",null,"The second row's"," ",n.createElement("code",{className:q},"lastName")," cell is an example of opting out of editing on a per cell basis."))))},st=({...a})=>n.createElement(rt,{defaultGridProps:{...a}}),lt=({...a})=>{const[l,u]=p.useState(ge(10)),d=n.useMemo(()=>Ee(),[]),f=he({columns:d,data:l,onDataUpdate:u,...a.defaultGridProps},Ce);return n.createElement(Ie,null,n.createElement(Z,{datagridState:f}),n.createElement("p",null,"The following inline edit columns incorporate validation:",n.createElement("code",{className:q},"first_name"),n.createElement("code",{className:q},"last_name"),n.createElement("code",{className:q},"age"),n.createElement("code",{className:q},"visits")))},dt=({...a})=>n.createElement(lt,{defaultGridProps:{...a}}),_e={gridTitle:Q.gridTitle,gridDescription:Q.gridDescription,useDenseHeader:Q.useDenseHeader},O=st.bind({});O.storyName="Using useEditableCell hook";O.argTypes={gridTitle:H.gridTitle,gridDescription:H.gridDescription,useDenseHeader:H.useDenseHeader};O.args={..._e};const ct="Using deprecated useInlineEdit hook",U=dt.bind({});U.storyName=ct;U.argTypes={gridTitle:H.gridTitle,gridDescription:H.gridDescription,useDenseHeader:H.useDenseHeader};U.args={..._e};var ce,ue,me;O.parameters={...O.parameters,docs:{...(ce=O.parameters)==null?void 0:ce.docs,source:{originalSource:`({
  ...args
}) => {
  return <EditableCellUsage defaultGridProps={{
    ...args
  }} />;
}`,...(me=(ue=O.parameters)==null?void 0:ue.docs)==null?void 0:me.source}}};var pe,fe,be;U.parameters={...U.parameters,docs:{...(pe=U.parameters)==null?void 0:pe.docs,source:{originalSource:`({
  ...args
}) => {
  return <InlineEditUsage defaultGridProps={{
    ...args
  }} />;
}`,...(be=(fe=U.parameters)==null?void 0:fe.docs)==null?void 0:be.source}}};const si=["EditableCellUsageStory","InlineEditUsageStory"];export{O as EditableCellUsageStory,U as InlineEditUsageStory,si as __namedExportsOrder,ri as default};
