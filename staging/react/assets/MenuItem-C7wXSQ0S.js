import{r as a,b as z,W as J,X as Q,Y as ee,u as R,k as te,c as N,e as t,Z as ne,_ as k,C as ae,$ as se,f as re,n as w,a0 as oe,E as le,o as ce,P as e}from"./iframe-DKsKIeO_.js";import{u as U}from"./useControllableState-DfPh9Ar9.js";import{M as T,u as ie,a as ue}from"./useAttachedMenu-BjAAxBze.js";import{T as me}from"./Text-DWkOwfBd.js";import{C as fe,a as de}from"./bucket-2-BMfBeLco.js";var A,G,L;const D=a.forwardRef(function({children:l,className:u,disabled:s,kind:m="default",label:r,onClick:d,renderIcon:c,shortcut:y,...o},E){const[i,b]=a.useState(!1),[x,v]=a.useState(!1),{refs:p,floatingStyles:f,context:S}=z({open:i,onOpenChange:b,placement:x?"left-start":"right-start",whileElementsMounted:re,middleware:[se({mainAxis:-6,crossAxis:-6})],strategy:"fixed"}),{getReferenceProps:q,getFloatingProps:j}=J([Q(S,{delay:100,enabled:!0,handleClose:ee({requireIntent:!1})})]),g=R(),I=a.useContext(T),M=a.useRef(null),B=te([E,M,p.setReference]),h=!!l,_=s&&!h,V=m==="danger"&&!h;function H(){I.dispatch({type:"registerItem",payload:{ref:M,disabled:!!s}})}function F(){M.current&&b(!0)}function W(){b(!1)}function K(n){_||(h?F():(I.state.requestCloseRoot(n),d&&d(n)))}const $=a.useRef(!1),P=n=>w(n,le)||w(n,ce);function X(n){h&&w(n,oe)&&(F(),requestAnimationFrame(()=>{p.floating.current?.focus()}),n.stopPropagation(),n.preventDefault()),$.current=P(n),o.onKeyDown&&o.onKeyDown(n)}function Y(n){$.current&&P(n)&&K(n),$.current=!1}const Z=N(u,`${g}--menu-item`,{[`${g}--menu-item--disabled`]:_,[`${g}--menu-item--danger`]:V});a.useEffect(()=>{H()},[]);const{direction:O}=ie();return a.useEffect(()=>{document?.dir==="rtl"||O==="rtl"?v(!0):v(!1)},[O]),a.useEffect(()=>{c&&!I.state.hasIcons&&I.dispatch({type:"enableIcons"})},[c,I.state.hasIcons,I]),a.useEffect(()=>{Object.keys(f).forEach(n=>{p.floating.current&&n!=="position"&&(p.floating.current.style[n]=f[n])})},[f,p.floating]),t.createElement(ne,{context:S,order:["reference","floating"],modal:!1},t.createElement("li",k({role:"menuitem"},o,{ref:B,className:Z,tabIndex:s?-1:0,"aria-disabled":_??void 0,"aria-haspopup":h??void 0,"aria-expanded":h?i:void 0,onClick:K,onKeyDown:X,onKeyUp:Y},q()),t.createElement("div",{className:`${g}--menu-item__selection-icon`},o["aria-checked"]&&(A||(A=t.createElement(ae,null)))),t.createElement("div",{className:`${g}--menu-item__icon`},c&&t.createElement(c,null)),t.createElement(me,{as:"div",className:`${g}--menu-item__label`,title:r},r),y&&!h&&t.createElement("div",{className:`${g}--menu-item__shortcut`},y),h&&t.createElement(t.Fragment,null,t.createElement("div",{className:`${g}--menu-item__shortcut`},x?G||(G=t.createElement(fe,null)):L||(L=t.createElement(de,null))),t.createElement(ue,k({label:r,open:i,onClose:()=>{W(),M.current?.focus()},ref:p.setFloating},j()),l))))});D.propTypes={children:e.node,className:e.string,disabled:e.bool,kind:e.oneOf(["default","danger"]),label:e.string.isRequired,onClick:e.func,renderIcon:e.oneOfType([e.func,e.object]),shortcut:e.string};const pe=a.forwardRef(function({className:l,defaultSelected:u,label:s,onChange:m,selected:r,...d},c){const y=R(),o=a.useContext(T),[E,i]=U({value:r,onChange:m,defaultValue:u??!1});function b(){i(!E)}a.useEffect(()=>{o.state.hasSelectableItems||o.dispatch({type:"enableSelectableItems"})},[o.state.hasSelectableItems,o]);const x=N(l,`${y}--menu-item-selectable--selected`);return t.createElement(D,k({},d,{ref:c,label:s,className:x,role:"menuitemcheckbox","aria-checked":E,onClick:b}))});pe.propTypes={className:e.string,defaultSelected:e.bool,label:e.string.isRequired,onChange:e.func,selected:e.bool};const ge=a.forwardRef(function({children:l,className:u,label:s,...m},r){const d=R(),c=N(u,`${d}--menu-item-group`);return t.createElement("li",{className:c,role:"none",ref:r},t.createElement("ul",k({},m,{role:"group","aria-label":s}),l))});ge.propTypes={children:e.node,className:e.string,label:e.string.isRequired};const he=C=>C.toString(),be=a.forwardRef(function({className:l,defaultSelectedItem:u,items:s,itemToString:m=he,label:r,onChange:d,selectedItem:c,...y},o){const E=R(),i=a.useContext(T),[b,x]=U({value:c,onChange:d,defaultValue:u??{}});function v(f,S){x(f)}a.useEffect(()=>{i.state.hasSelectableItems||i.dispatch({type:"enableSelectableItems"})},[i.state.hasSelectableItems,i]);const p=N(l,`${E}--menu-item-radio-group`);return t.createElement("li",{className:p,role:"none",ref:o},t.createElement("ul",k({},y,{role:"group","aria-label":r}),s.map((f,S)=>t.createElement(D,{key:S,label:m(f),role:"menuitemradio","aria-checked":f===b,onClick:q=>{v(f)}}))))});be.propTypes={className:e.string,defaultSelectedItem:e.any,itemToString:e.func,items:e.array,label:e.string.isRequired,onChange:e.func,selectedItem:e.any};const Ce=a.forwardRef(function({className:l,...u},s){const m=R(),r=N(l,`${m}--menu-item-divider`);return t.createElement("li",k({},u,{className:r,role:"separator",ref:s}))});Ce.propTypes={className:e.string};export{D as M,Ce as a,ge as b,be as c,pe as d};
