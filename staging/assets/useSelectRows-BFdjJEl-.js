import{e as p,r as d}from"./index-DtHxqM--.js";import{d as x}from"./index-CMVdkQrl.js";import{T as L}from"./TableSelectRow-DUl1grNX.js";import{s as N,S as W,h as H}from"./useDatagrid-BDEhjUIV.js";import{p as R,c as O}from"./settings-C3kz8lqM.js";const b=`${R.prefix}--datagrid`,C=`${R.prefix}--datagrid__checkbox-cell`,j=t=>p.createElement(W,{...t}),v=t=>p.createElement(F,{...t}),M=t=>{D(t);const n=s=>{const{rows:e}=s,o=e.map(l=>({...l,isSelectable:!0}));Object.assign(s,{rows:o})};t.useInstance.push(n),t.useInstance.push(s=>{Object.assign(s,{withSelectRows:!0})}),t.visibleColumns.push(s=>{const e=[...s],o=e.findIndex(r=>r.id==="expander"),l=o>-1?e.splice(o,1):[];return[...o>-1&&l&&l.length?l:[],{id:N,Header:j,Cell:v},...e]})},D=t=>{const n=(s,{row:e})=>{const{checked:o}=e.getToggleRowSelectedProps();return[s,{className:x([`${b}__carbon-row`,{[`${O.prefix}--data-table--selected`]:o,[`${b}__active-row`]:o}])}]};t.getRowProps.push(n)},F=t=>{var h;const{isFetching:n=!1,tableId:s,row:e,cell:o,radio:l,toggleAllRowsSelected:r,onRadioSelect:i,onRowSelect:a,columns:k,withStickyColumn:P,dispatch:w,getRowId:u}=t,[$,g]=d.useState();d.useLayoutEffect(()=>{g(window.innerWidth);function c(){g(window.innerWidth)}return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const I=n||e.getRowProps().disabled,{onChange:m,title:E,..._}=e.getToggleRowSelectedProps(),S=o.getCellProps(),y=((h=k[0])==null?void 0:h.sticky)==="left"&&P,f=`${s}-${e.id}-${e.index}`,{key:z,_cellProps:T}=S,A=d.useCallback(c=>{c.stopPropagation(),l&&(r(!1),i&&i(e)),m(c),a==null||a(e,c),H({dispatch:w,rowData:e,isChecked:c.target.checked,getRowId:u,selectAll:null})},[w,u,m,i,a,l,e,r]);return p.createElement(L,{key:z,...T,..._,radio:l,onSelect:A,id:f,name:`${f}-name`,className:x([C,S.className,{[`${C}-sticky-left`]:y&&Number($)>671}]),"aria-label":E,disabled:I})};export{M as u};
