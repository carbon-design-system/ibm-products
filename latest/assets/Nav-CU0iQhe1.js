import{e as t,r as v}from"./index-DzvNrmz8.js";import{P as i,d as O,k as j,O as d}from"./index-5As4T26e.js";import{p as H}from"./settings-CP9zVSjJ.js";import{u as z}from"./uuidv4-BN2rGLQG.js";import{o as B}from"./bucket-10-BLMdRzi0.js";import{g as G}from"./devtools-B_dijMH7.js";const D=t.forwardRef(function(g,k){const{element:p,...b}=g;return t.createElement(p,{...b,ref:k})});D.displayName="NavItemLink";D.propTypes={element:i.elementType};D.defaultProps={element:"a"};D.__docgenInfo={description:"",methods:[],displayName:"NavItemLink",props:{element:{defaultValue:{value:"'a'",computed:!1},description:"@type {elementType} The base element to use to build the link. Defaults to `a`, can also accept alternative tag names or custom components like `Link` from `react-router`.",type:{name:"elementType"},required:!1}}};const o=`${H.prefix}--nav-item`,F="NavItem",$={activeHref:"#",disabled:!1,element:"a",onClick:()=>{},tabIndex:0};let x=({activeHref:y=$.activeHref,children:g=$.children,className:k,current:p,disabled:b=$.disabled,element:h=$.element,href:l,id:u,label:_,onClick:f=$.onClick,tabIndex:q=$.tabIndex,...N})=>{const[c,I]=v.useState(!1);v.useEffect(()=>{(l==null?void 0:l.indexOf(window.location.host))===-1&&I(!0)},[l]);const e=v.useRef(z()),a=`${o}__${e.current}`,s=u||a,n=new RegExp("^([a-z]+://|//)","i").test(l)&&c,C=`${o}__link`,w=(T,W=null)=>b?W:T,P=w(q,-1),R=n&&{rel:"noopener noreferrer",target:"_blank"};return t.createElement("li",{...N,className:O(o,k,{[`${o}--active`]:p!==null&&p===s||y!==void 0&&y===l&&!n,[`${o}--disabled`]:b}),label:_,onClick:T=>w(f(T,l)),onKeyDown:T=>w(f(T,l)),role:"menuitem"},t.createElement(D,{id:s,className:O(C,{[`${o}__link--external`]:n}),element:h,href:l,tabIndex:P,...N,...R},g,n&&t.createElement(B,{className:`${o}__link--external__icon`})))};x.displayName=F;x.propTypes={activeHref:i.string,children:i.node.isRequired,className:i.string,current:i.string,disabled:i.bool,element:i.elementType,href:i.string,id:i.string,label:i.string,link:i.bool,onClick:i.func,tabIndex:i.number};x=H.checkComponentEnabled(x,F);x.__docgenInfo={description:"Navigation item component.",methods:[],displayName:"NavItem",props:{activeHref:{defaultValue:{value:"'#'",computed:!1},description:"Hypertext reference for active page.",type:{name:"string"},required:!1},children:{defaultValue:{value:"defaults.children",computed:!0},description:"Provide the contents of the Nav.",type:{name:"node"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"Whether the item is disabled.",type:{name:"bool"},required:!1},element:{defaultValue:{value:"'a'",computed:!1},description:"The base element to use to build the link. Defaults to `a`, can also accept alternative tag names or custom components like `Link` from `react-router`.",type:{name:"elementType"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"Click handler of an item.",type:{name:"func"},required:!1},tabIndex:{defaultValue:{value:"0",computed:!1},description:"`tabindex` of an item.",type:{name:"number"},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},current:{description:"Currently selected item.",type:{name:"string"},required:!1},href:{description:"The href of the nav item.",type:{name:"string"},required:!1},id:{description:"Identifier.",type:{name:"string"},required:!1},label:{description:"Label of an item.",type:{name:"string"},required:!1},link:{description:"Whether the item is a link.",type:{name:"bool"},required:!1}}};const K="NavList",V=`${H.prefix}--nav-list`,m={activeHref:"#",className:"",children:null,id:"",isExpandedOnPageLoad:!1,onItemClick:()=>{},onListClick:()=>{},tabIndex:0,title:"",icon:"",navigationItemTitle:""};let E=t.forwardRef(({activeHref:y=m.activeHref,children:g=m.children,className:k=m.className,icon:p=m.icon,id:b=m.id,isExpandedOnPageLoad:h=m.isExpandedOnPageLoad,navigationItemTitle:l=m.navigationItemTitle,onItemClick:u=m.onItemClick,onListClick:_=m.onListClick,tabIndex:f=m.tabIndex,title:q=m.title},N)=>{const[c,I]=v.useState(h);v.useEffect(()=>{const r=t.Children.toArray(g).filter(({props:n})=>n.href&&n.href.length>0).map(({props:n})=>n.href);I(r.includes(y)||h)},[]);const e=()=>{c&&I(!1)},a=r=>{const{which:n,type:C}=r;(n===13||n===32||C==="click")&&(c||_(b),I(!c))};v.useImperativeHandle(N,()=>({close:e,isExpandedOnPageLoad:h}));const s=t.Children.map(g,(r,n)=>t.createElement(x,{...r.props,key:`${o}--${n}`,onClick:(C,w)=>{var P,R;u(C,w),(R=(P=r.props).onClick)==null||R.call(P,C)},activeHref:y,tabIndex:c?0:-1}));return t.createElement("li",{ref:N,className:O(V,k,{[`${o}--expanded`]:c}),tabIndex:f,onClick:a,onKeyDown:a,role:"menuitem"},t.createElement("div",{className:`${o}__link`},p&&t.createElement("img",{alt:l,className:`${o}__img`,src:p}),t.createElement("div",{className:`${o}__content`},q),t.createElement(j,{className:`${V}__icon`})),t.createElement("ul",{"aria-label":q,"aria-hidden":!c,className:`${V} ${V}--nested`,role:"menu"},s))});E.propTypes={activeHref:d.string,children:d.node,className:d.string,icon:d.string,id:d.string,isExpandedOnPageLoad:d.bool,navigationItemTitle:d.string,onItemClick:d.func,onListClick:d.func,tabIndex:d.number,title:d.string};E.displayName=K;E=H.checkComponentEnabled(E,K);E.__docgenInfo={description:"",methods:[{name:"close",docblock:null,modifiers:[],params:[],returns:null}],displayName:"NavList",props:{activeHref:{defaultValue:{value:"'#'",computed:!1},description:"@type {string} Hypertext reference for active page.",type:{name:"custom",raw:"string"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"@type {Node} Child elements.",type:{name:"custom",raw:"node"},required:!1},className:{defaultValue:{value:"''",computed:!1},description:"@type {string} Extra classes to add.",type:{name:"custom",raw:"string"},required:!1},icon:{defaultValue:{value:"''",computed:!1},description:"@type {string} Icon of a list.",type:{name:"custom",raw:"string"},required:!1},id:{defaultValue:{value:"''",computed:!1},description:"@type {string} ID of a list.",type:{name:"custom",raw:"string"},required:!1},isExpandedOnPageLoad:{defaultValue:{value:"false",computed:!1},description:"@type {boolean} State of a list.",type:{name:"custom",raw:"bool"},required:!1},navigationItemTitle:{defaultValue:{value:"''",computed:!1},description:"@type {boolean} Title of nav.",type:{name:"custom",raw:"string"},required:!1},onItemClick:{defaultValue:{value:"() => {}",computed:!1},description:"@type {Function} Click handler for an item.",type:{name:"custom",raw:"func"},required:!1},onListClick:{defaultValue:{value:"() => {}",computed:!1},description:"@type {Function} Click handler for a list.",type:{name:"custom",raw:"func"},required:!1},tabIndex:{defaultValue:{value:"0",computed:!1},description:"@type {number} `tabindex` of an item.",type:{name:"custom",raw:"number"},required:!1},title:{defaultValue:{value:"''",computed:!1},description:"@type {string} Label of the list.",type:{name:"custom",raw:"string"},required:!1}}};const S="Nav",A=`${H.prefix}--nav`;let L=t.forwardRef(({activeHref:y,className:g,children:k,heading:p,label:b,...h},l)=>{const[u,_]=v.useState(y),f=v.useRef({});v.useEffect(()=>{if(!u&&window.location){const{hash:e,pathname:a}=window.location;_(a+e)}},[u]);const q=(e,a)=>{const s=`${o}--${a}`;return t.createElement(x,{...e.props,activeHref:u,key:s,onClick:(r,n)=>c(r,n,e.props.onClick)})},N=(e,a)=>{const s=`${V}--${a}`;return t.createElement(E,{...e.props,activeHref:u,id:s,key:s,onListClick:I,onItemClick:c,ref:r=>f.current[s]=r})},c=(e,a,s)=>{e.stopPropagation();const{type:r,which:n}=e;(n===13||n===32||r==="click")&&a!==u&&_(a),s&&s(e)},I=e=>{Object.keys(f.current).forEach(a=>{a!==e&&!f.current[a].isExpandedOnPageLoad&&f.current[a].close()})};return t.createElement("nav",{className:O(A,g),"aria-label":b,ref:l,...G(S),...h},p&&t.createElement("h1",{className:`${A}__heading`},p),t.createElement("ul",{className:`${A}__wrapper`,role:"menubar"},t.Children.map(k,(e,a)=>{var s;return((s=e==null?void 0:e.type)==null?void 0:s.displayName)===E.displayName?N(e,a):q(e,a)})))});L.deprecated={level:"warn",details:"This component is deprecated"};L.propTypes={activeHref:i.string,children:i.node,className:i.string,heading:i.string,label:i.string.isRequired};L=H.checkComponentEnabled(L,S);L.displayName=S;L.__docgenInfo={description:"@deprecated This component is deprecated",methods:[],displayName:"Nav",props:{activeHref:{description:"Hypertext reference for active page.",type:{name:"string"},required:!1},children:{description:"Child elements.",type:{name:"node"},required:!1},className:{description:"Extra classes to add.",type:{name:"string"},required:!1},heading:{description:"Heading.",type:{name:"string"},required:!1},label:{description:"Aria-label on the rendered `nav` element.",type:{name:"string"},required:!0}}};export{x as N,E as a,L as b};
