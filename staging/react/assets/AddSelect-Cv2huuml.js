import{e as t,p as M,B as W,m as Tt,r as f,P as e,c as se,F as St,G as vt,aH as Et,X as Ue,U as $t,I as Nt,V as It}from"./iframe-BixY_nzU.js";import{T as Ae}from"./Tag-CbXFe4uz.js";import{A as kt,a as Ct}from"./AccordionItem-nAc0ALKG.js";import{N as At}from"./NoDataEmptyState-D3JQoXKy.js";import{B as Bt,a as Ft}from"./BreadcrumbItem-xTy3Wxv8.js";import{D as Xe}from"./Dropdown-CA737wZu.js";import{M as Pt}from"./MultiSelect-DU3po3NM.js";import{L as Je}from"./index-Dioc7bXy.js";import{U as Dt}from"./UserProfileImage-r9epZwYO.js";import{R as _t,a as wt}from"./bucket-14-julK-VHp.js";import{aN as xt}from"./bucket-18-Cm0L4bq5.js";import{C as Ke}from"./Checkbox-CrO2TYcW.js";import{S as Qe}from"./Search-DgkMjmaf.js";import{M as Rt}from"./MenuItem-ZGtCy1zR.js";import{O as Ot}from"./index-CCul1fp0.js";import{b as Lt}from"./bucket-1-BHpIhqGK.js";import{u as Ie}from"./useId-CEgnz6Ws.js";import{F as We}from"./bucket-6-Ygy5YQ9m.js";import{B as jt}from"./ButtonSet-B_zKP9xZ.js";import{D as Mt}from"./DismissibleTag-Dankl3fz.js";import{N as zt}from"./NotFoundEmptyState-Di5etujk.js";import{T as Ht}from"./Tearsheet-2H90TATG.js";import{T as Vt}from"./TearsheetNarrow-kMnJ567f.js";const Q=`${M.prefix}--add-select__meta-panel`,Kt="AddSelectMetaPanel";let ge=({closeIconDescription:n,meta:i,setDisplayMetaPanel:s,title:o})=>{const r=()=>{s({})};return t.createElement("div",{className:Q},t.createElement("div",{className:`${Q}-header`},t.createElement("p",{className:`${Q}-title`},o),t.createElement(W,{renderIcon:l=>t.createElement(Tt,{size:16,...l}),className:`${Q}-close`,iconDescription:n,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:r,kind:"ghost",size:"sm"})),f.isValidElement(i)?i:i.map(l=>t.createElement("div",{key:l?.id,className:`${Q}-entry`},t.createElement("p",{className:`${Q}-entry-title`},l?.title),t.createElement("p",{className:`${Q}-entry-body`},l?.value))))};ge.propTypes={closeIconDescription:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]).isRequired,setDisplayMetaPanel:e.func.isRequired,title:e.string.isRequired};ge.displayName=Kt;ge.__docgenInfo={description:"",methods:[],displayName:"AddSelectMetaPanel",props:{closeIconDescription:{description:"",type:{name:"string"},required:!0},meta:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}]},required:!0},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!0},title:{description:"",type:{name:"string"},required:!0}}};const x=`${M.prefix}--add-select__sidebar`,Gt="AddSelectSidebar";let be=({appliedModifiers:n,closeIconDescription:i,displayMetalPanel:s,illustrationTheme:o,influencerTitle:r,items:l,metaPanelTitle:a,modifiers:d,multiSelection:c,noSelectionDescription:y,noSelectionTitle:p,setDisplayMetaPanel:g})=>{const v=d?.options?.length>0,E=c.length>0,C=h=>{const{meta:q,icon:k,avatar:A,...B}=h;return B},I=c.map(h=>{if(Array.isArray(l)){const q=l.find(k=>k.id===h);return C(q)}return C(l[h])}),D=h=>{let q;if(v){const k=n?.find(A=>A?.id===h?.id)[d?.id];q=k,Array.isArray(k)&&(q=k?.map((A,B)=>`${A}${B+1!==k.length?", ":""}`))}return t.createElement("div",{className:`${x}-accordion-title`},t.createElement("div",{className:`${x}-selected-item`},t.createElement("p",{className:`${x}-selected-item-title`},h.title),t.createElement("p",{className:`${x}-selected-item-subtitle`},h.subtitle)),v&&t.createElement("div",null,q))};return Object.keys(s).length!==0?t.createElement(ge,{closeIconDescription:i,meta:s.meta,setDisplayMetaPanel:g,title:a}):t.createElement("div",{className:x},t.createElement("div",{className:`${x}-header`},t.createElement("p",{className:`${x}-title`},r),t.createElement(Ae,{type:"gray",size:"sm"},c.length)),E?t.createElement(kt,{align:"start"},I.map(h=>t.createElement(Ct,{title:D(h),key:h.id},Object.keys(h).map(q=>t.createElement("div",{className:`${x}-item`,key:q},t.createElement("p",{className:`${x}-item-header`},q),t.createElement("p",{className:`${x}-item-body`},h[q])))))):t.createElement("div",{className:`${x}-body`},t.createElement(At,{subtitle:y,title:p,size:"sm",illustrationTheme:o})))};be.propTypes={appliedModifiers:e.array,closeIconDescription:e.string,displayMetalPanel:e.object,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.oneOfType([e.object,e.array]),metaPanelTitle:e.string,modifiers:e.object,multiSelection:e.array,noSelectionDescription:e.string,noSelectionTitle:e.string,setDisplayMetaPanel:e.func};be.displayName=Gt;be.__docgenInfo={description:"",methods:[],displayName:"AddSelectSidebar",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},closeIconDescription:{description:"",type:{name:"string"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},illustrationTheme:{description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},influencerTitle:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"union",value:[{name:"object"},{name:"array"}]},required:!1},metaPanelTitle:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},noSelectionDescription:{description:"",type:{name:"string"},required:!1},noSelectionTitle:{description:"",type:{name:"string"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1}}};const Ge=`${M.prefix}--add-select__breadcrumbs`,Ut="AddSelectBreadcrumbs";let he=({multi:n,onClick:i,path:s})=>{const o=(l,a)=>{l.preventDefault(),i(a)},r=se(Ge,{[`${Ge}-multi`]:n});return t.createElement(Bt,{noTrailingSlash:!0,className:r},s.map((l,a)=>{const d=a===s.length-1;return t.createElement(Ft,{key:l.id,isCurrentPage:d,onClick:c=>o(c,a),href:"#"},l.title)}))};he.propTypes={multi:e.bool,onClick:e.func,path:e.array};he.displayName=Ut;he.__docgenInfo={description:"",methods:[],displayName:"AddSelectBreadcrumbs",props:{multi:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},path:{description:"",type:{name:"array"},required:!1}}};const Xt="AddSelectFormControl",K=`${M.prefix}--add-select__selections`;let ce=({item:n,onClick:i,selected:s,type:o})=>{const r={onClick:i,className:`${K}-form-control-wrapper ${K}-form-control-wrapper--${o}`,size:20,"aria-labelledby":`control-label-${n.id}`},l=()=>s?t.createElement(St,{...r}):t.createElement(vt,{...r}),a=()=>s?t.createElement(_t,{...r}):t.createElement(wt,{...r}),d=()=>{if(n)return o==="checkbox"?l():a()},c=({src:p,alt:g,icon:v,backgroundColor:E,theme:C})=>({className:`${K}-cell-avatar`,size:"lg",theme:C,image:p,imageDescription:g,icon:v,backgroundColor:E}),y=({icon:p})=>t.createElement(p,null);return t.createElement("div",{className:`${K}-form-control`},d(),t.createElement("div",{className:`${K}-form-control-label-wrapper`},n.avatar&&t.createElement(Dt,{...c(n.avatar)}),n.icon&&t.createElement("div",{className:`${K}-cell-icon`},y(n)),t.createElement("div",{className:`${K}-form-control-label-text`},t.createElement("span",{className:`${K}-cell-title`,id:`control-label-${n.id}`},n.title),n.subtitle&&t.createElement("span",{className:`${K}-cell-subtitle`},n.subtitle))))};ce.propTypes={item:e.object,onClick:e.func,selected:e.bool,type:e.oneOf(["checkbox","radio"])};ce.displayName=Xt;ce.__docgenInfo={description:"",methods:[],displayName:"AddSelectFormControl",props:{item:{description:"",type:{name:"object"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},selected:{description:"",type:{name:"bool"},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'checkbox'",computed:!1},{value:"'radio'",computed:!1}]},required:!1}}};const O=`${M.prefix}--add-select__selections`,Jt="AddSelectList";let qe=({appliedModifiers:n,displayMetalPanel:i,index:s,focus:o,item:r,metaIconDescription:l,modifiers:a,multi:d,multiSelection:c,navIconDescription:y,parentId:p,parentSelected:g,setAppliedModifiers:v,setDisplayMetaPanel:E,setFocus:C,setMultiSelection:I,setParentSelected:D,setSingleSelection:h,setSize:q,singleSelection:k})=>{const A=f.useRef(null);f.useEffect(()=>{o===s&&A.current.focus()},[o,s]);const B=()=>d?c.includes(r.id):r.id===k,S=()=>s===0&&o===""||o===s&&o!==""?0:-1,z=f.useCallback(T=>{C(T?"":s)},[C,s]),_=()=>{h(r.id)},G=({key:T})=>{T==="Enter"||T===" "?d?F():_():T==="ArrowRight"&&r.children&&H()},F=()=>{if(B()){const V=c.filter(P=>P!==r.id);I(V)}else{const V=[...c,r.id];I(V)}},H=()=>{z(!0),D(r.id,r.title,p)},R=(T,V)=>{const P=[...n],ae=P.findIndex(ee=>ee.id===T);P[ae]={id:T,[a.id]:V},v(P)},u=()=>{r.meta&&E(r)},$=T=>T===i?.id,J=a?.options?.length>0,ie=S(),U=B(),Y=g===r.id,Z={id:`add-select-modifier-${r.id}`,titleText:a?.title,type:"inline",disabled:!B(),label:a?.label,items:a?.options};return t.createElement("div",{className:se(`${O}-row`,{[`${O}-row--selected`]:B(),[`${O}-row-meta--selected`]:$(r.id),[`${O}-row--active`]:Y,[`${O}-row--focused`]:o===s}),onKeyDown:G,tabIndex:ie,ref:A,role:"row","aria-selected":U,"aria-posinset":s+1,"aria-setsize":q,"aria-expanded":Y},t.createElement("div",{className:`${O}-cell`,role:"gridcell"},t.createElement("div",{className:`${O}-cell-wrapper`},d?t.createElement(t.Fragment,null,t.createElement(ce,{type:"checkbox",item:r,selected:U,onClick:F}),J&&t.createElement(Je,null,a?.multiSelect?t.createElement(Pt,{...Z,initialSelectedItems:r[a.id],onChange:({selectedItems:T})=>R(r.id,T)}):t.createElement(Xe,{...Z,className:`${O}-dropdown`,initialSelectedItem:r[a.id],onChange:({selectedItem:T})=>R(r.id,T)}))):t.createElement(ce,{type:"radio",item:r,selected:U,onClick:_}),r.children&&t.createElement(W,{className:`${O}-view-children`,renderIcon:T=>t.createElement(Et,{size:16,...T}),iconDescription:y,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:H,kind:"ghost",size:"sm",tabIndex:-1,"aria-hidden":!0}),r.meta&&t.createElement(W,{className:`${O}-view-meta`,renderIcon:T=>t.createElement(xt,{size:16,...T}),iconDescription:l,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,kind:"ghost",size:"sm",onClick:u}))))};qe.propTypes={appliedModifiers:e.array,displayMetalPanel:e.object,filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),index:e.number,item:e.object,metaIconDescription:e.string,modifiers:e.object,multi:e.bool,multiSelection:e.array,navIconDescription:e.string,parentId:e.string,parentSelected:e.string,setAppliedModifiers:e.func,setDisplayMetaPanel:e.func,setFocus:e.func,setMultiSelection:e.func,setParentSelected:e.func,setSingleSelection:e.func,setSize:e.number,singleSelection:e.string};qe.displayName=Jt;qe.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},index:{description:"",type:{name:"number"},required:!1},item:{description:"",type:{name:"object"},required:!1},metaIconDescription:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},navIconDescription:{description:"",type:{name:"string"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},parentSelected:{description:"",type:{name:"string"},required:!1},setAppliedModifiers:{description:"",type:{name:"func"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1},setFocus:{description:"",type:{name:"func"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setParentSelected:{description:"",type:{name:"func"},required:!1},setSingleSelection:{description:"",type:{name:"func"},required:!1},setSize:{description:"",type:{name:"number"},required:!1},singleSelection:{description:"",type:{name:"string"},required:!1}}};const Qt=n=>{const[i,s]=f.useState(""),o=f.useCallback(r=>{const l=i===""?0:i;r.keyCode===40?(r.preventDefault(),s(l===n-1?0:l+1)):r.keyCode===38&&(r.preventDefault(),s(l===0?n-1:l-1))},[n,i,s]);return f.useEffect(()=>{const r=document.querySelector("#add-select-focus");return r.addEventListener("keydown",o,!1),()=>{r.removeEventListener("keydown",o,!1)}},[o]),[i,s]},ye=`${M.prefix}--add-select__selections`,Wt="AddSelectList";let de=({filteredItems:n,multi:i,...s})=>{const[o,r]=Qt(n.length);return t.createElement("div",{id:"add-select-focus",className:se(`${ye}-wrapper`,{[`${ye}-wrapper-multi`]:i})},t.createElement("div",{className:`${ye}`},t.createElement("div",{className:`${ye}-body`,role:"treegrid","aria-label":"add select tree label"},n.map((l,a)=>t.createElement(qe,{key:l.id,index:a,focus:o,setSize:n.length,item:l,multi:i,setFocus:r,...s})))))};de.propTypes={filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),multi:e.bool};de.displayName=Wt;de.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},multi:{description:"",type:{name:"bool"},required:!1}}};const ke=`${M.prefix}--add-select-sort`,Yt="AddSelectSort",me=({setSortAttribute:n,setSortDirection:i,sortBy:s,sortByLabel:o})=>{const r=s?s?.reduce((a,d)=>{const c=[{id:`${d}-asc`,label:d,direction:"asc",attribute:d},{id:`${d}-desc`,label:d,direction:"desc",attribute:d}];return[...a,...c]},[]):[],l=({direction:a,attribute:d})=>{n?.(d),i?.(a)};return t.createElement("div",{className:ke},r.length>0&&t.createElement(Ue,{enableV12Overflowmenu:!0},t.createElement(Ot,{autoAlign:!0,menuAlignment:"bottom-end",renderIcon:a=>t.createElement(Lt,{size:32,...a}),className:`${ke}_overflow`,label:o},r.map(a=>t.createElement(Rt,{className:`${ke}_overflow-item`,key:a?.id,label:`${a?.label} ${a?.direction}`,onClick:()=>l(a)})))))};me.propTypes={setSortAttribute:e.func,setSortDirection:e.func,sortBy:e.array,sortByLabel:e.string};me.displayName=Yt;me.__docgenInfo={description:"",methods:[],displayName:"AddSelectSort",props:{setSortAttribute:{required:!1,tsType:{name:"signature",type:"function",raw:"(attribute) => void",signature:{arguments:[{name:"attribute"}],return:{name:"void"}}},description:"",type:{name:"func"}},setSortDirection:{required:!1,tsType:{name:"signature",type:"function",raw:"(direction) => void",signature:{arguments:[{name:"direction"}],return:{name:"void"}}},description:"",type:{name:"func"}},sortBy:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:"",type:{name:"array"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}}}};const Ye=n=>n.entries.reduce((s,o)=>{const{children:r,...l}=o;if(s[l.id]=l,r){const a=Ye(r);return{...s,...a}}return s},{}),Zt=(n,i)=>{const s=Object.keys(i);return n.reduce((r,l)=>{const a=l.id,d=s.reduce((c,y)=>{const g=i[y][a];return g&&!c.includes(g)&&c.push(g),c},[]);return r.push({opts:d,...l}),r},[])},Ze=(n,i)=>(s,o)=>{const r=s[n]?.split(" ").join(""),l=o[n]?.split(" ").join("");return i==="desc"?r>l?-1:1:r<l?-1:1},er=(n,i,s,o,r,l,a,d,c,y)=>{if(n){const p=Object.keys(i);return s||o?p.reduce((v,E)=>(i[E].title.toLowerCase().includes(s.toLowerCase())&&v.push(i[E]),v),[]).filter(v=>r.every(E=>v[E]===l[E])).sort(a):d?c:y.length>1?y.reduce((g,v,E)=>E===0?g:g.find(I=>I.id===v.id)?.children?.entries,c.entries):c.entries}else return s?c.entries.filter(p=>p.title.toLowerCase().includes(s.toLowerCase())):c.entries},et=()=>{const[n,i]=f.useState(""),[s,o]=f.useState("");return{sortDirection:n,setSortDirection:i,sortAttribute:s,setSortAttribute:o}},tt=()=>{const[n,i]=f.useState(null);return{parentSelected:n,setParentSelected:i}},Ce=`${M.prefix}--add-select`,ne=`${Ce}__column`,tr="AddSelectColumn";let pe=({columnInputPlaceholder:n,filterByLabel:i,header:s,items:o,multiSelection:r,parentId:l,path:a,setMultiSelection:d,setPath:c,sortByLabel:y,...p})=>{const{parentSelected:g,setParentSelected:v}=tt(),E=Ie(),C=Ie(),I=Ie(),[D,h]=f.useState(""),{sortDirection:q,setSortDirection:k,sortAttribute:A,setSortAttribute:B}=et(),[S,z]=f.useState(!1),[_,G]=f.useState([]),{entries:F,filterBy:H,sortBy:R}=o,$=(()=>{const m=a.find(b=>b.parentId===l);return m&&!g?F.find(b=>b.id===m.id):F.find(b=>b.id===g)??null})(),J=$&&a.find(m=>m.id===$.id),ie=F.every(m=>r.includes(m.id)),U=H?F.map(m=>m[H]):[],Y=(m,{checked:b})=>{const w=F.map(N=>N.id);if(b){const N=[...new Set([...r,...w])];d(N)}else{const N=r.filter(ue=>!w.includes(ue));d(N)}},Z=(m,b)=>{if(m){const w=[..._,b];G(w)}else{const w=_.filter(N=>N!==b);G(w)}},T=m=>m.title.toLowerCase().includes(D),V=m=>{if(_.length===0)return!0;const{filterBy:b}=m,w=m[b];return _.some(N=>N===w)},P=`filter-${C}`,ae=Ze(A,q),ee=F.filter(T).filter(V).sort(ae),le=(m,b)=>{v(m),c(m,b,l)};return t.createElement(t.Fragment,null,t.createElement("div",{className:ne},t.createElement("div",{className:`${ne}-search-bar`},t.createElement(Qe,{value:D,onChange:m=>h(m.target.value),placeholder:n,className:`${ne}-input`,id:I,labelText:n,size:"md"}),t.createElement("div",{className:`${ne}-sort-filter`},t.createElement(me,{items:F,setSortAttribute:B,setSortDirection:k,sortAttribute:A,sortDirection:q,sortBy:R,sortByLabel:y}),U.length>0&&t.createElement(Ue,{enableV12DynamicFloatingStyles:!0},t.createElement($t,{align:"bottom-right",isTabTip:!0,onKeyDown:m=>{m.key==="Escape"&&(z(!1),m.preventDefault(),m.stopPropagation(),document.querySelector(`#${P}`)?.focus())},onRequestClose:()=>z(!1),open:S},t.createElement(Nt,{size:"md",id:P,hasIconOnly:!0,"aria-expanded":S,badgeCount:_.length>0?0:void 0,kind:"ghost",label:i||"Filter",onClick:()=>{z(m=>!m)}},t.createElement(We,null)),t.createElement(It,{className:`${ne}-filter-popover`},U.map(m=>t.createElement(Ke,{key:m,id:m,labelText:m,onChange:(b,{checked:w})=>Z(w,m),checked:!!_.find(b=>b===m)}))))))),t.createElement("div",{className:`${Ce}__tags`},t.createElement(Ke,{id:`${E}-select-all`,className:`${ne}__select-all`,checked:ie,onChange:Y,labelText:t.createElement(t.Fragment,null,t.createElement("span",{className:`${Ce}__tag-label`},s),t.createElement(Ae,{type:"gray",size:"sm"},ee.length))})),t.createElement(de,{...p,filteredItems:ee,setMultiSelection:d,multiSelection:r,setParentSelected:le,parentSelected:g})),$&&J&&t.createElement(pe,{columnInputPlaceholder:n,header:$.title,items:$.children,multiSelection:r,setMultiSelection:d,parentId:$.id,setPath:c,path:a,sortByLabel:y,filterByLabel:i,...p}))};pe.propTypes={columnInputPlaceholder:e.string,filterByLabel:e.string,header:e.string,items:e.object,multiSelection:e.array,parentId:e.string,path:e.array,setMultiSelection:e.func,setPath:e.func,sortByLabel:e.string};pe.displayName=tr;pe.__docgenInfo={description:"",methods:[],displayName:"AddSelectColumn",props:{columnInputPlaceholder:{description:"",type:{name:"string"},required:!1},filterByLabel:{description:"",type:{name:"string"},required:!1},header:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},path:{description:"",type:{name:"array"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setPath:{description:"",type:{name:"func"},required:!1},sortByLabel:{description:"",type:{name:"string"},required:!1}}};const L=`${M.prefix}--add-select__global-filter`,rr="AddSelectFilter";let Te=({appliedFilters:n,clearFiltersText:i,filterOpts:s,filtersLabel:o,handleFilter:r,handleSearch:l,hasFiltersApplied:a,iconDescription:d,inputLabel:c,inputPlaceholder:y,multi:p,placeholder:g,primaryButtonText:v,searchTerm:E,secondaryButtonText:C})=>{const[I,D]=f.useState({}),[h,q]=f.useState(!1),k=u=>{l(u.target.value)},A=({selectedItem:u},$)=>{D({...I,[$]:u})},B=()=>{q(!1),r(I)},S=()=>{D({})},z=()=>{S(),r({})},_=u=>{const $={...I};delete $[u],D($),r($)},G=u=>I[u]||"",F=p&&s?.length>0,H=se(`${L}-toggle`,{[`${L}-toggle--open`]:h}),R=Object.keys(I).length>0;return t.createElement(t.Fragment,null,t.createElement("div",{className:`${L}-search`},t.createElement(Qe,{id:"add-select-global-search-filter",labelText:c,placeholder:y,value:E,onChange:k}),F&&t.createElement(W,{renderIcon:u=>t.createElement(We,{size:16,...u}),hasIconOnly:!0,kind:"ghost",onClick:()=>q(!h),iconDescription:d,className:H,size:"md",tooltipPosition:"left"}),h&&t.createElement(Je,{className:L,level:1},t.createElement("div",{className:`${L}-content`},t.createElement("p",null,o),t.createElement("div",{className:`${L}-opts`},s.map(u=>t.createElement(Xe,{key:u.id,id:u.id,titleText:u.label,items:u.opts,onChange:$=>A($,u.id),selectedItem:G(u.id),label:g})))),t.createElement(jt,{className:`${L}-button-set`},t.createElement(W,{kind:"secondary",onClick:S,className:`${L}-button`,disabled:!R},C),t.createElement(W,{kind:"primary",onClick:B,className:`${L}-button`,disabled:!R&&!a},v)))),a&&t.createElement("div",{className:`${L}-applied`},Object.keys(n).map(u=>t.createElement(Mt,{key:u,text:`${u}: ${n[u]}`,type:"gray",size:"sm",onClose:()=>_(u)})),t.createElement(W,{kind:"ghost",size:"sm",onClick:z},i)))};Te.propTypes={appliedFilters:e.object,clearFiltersText:e.string,filterOpts:e.array,filtersLabel:e.string,handleFilter:e.func,handleSearch:e.func,hasFiltersApplied:e.bool,iconDescription:e.string,inputLabel:e.string.isRequired,inputPlaceholder:e.string,multi:e.bool,placeholder:e.string,primaryButtonText:e.string,searchTerm:e.string,secondaryButtonText:e.string};Te.displayName=rr;Te.__docgenInfo={description:"",methods:[],displayName:"AddSelectFilter",props:{appliedFilters:{description:"",type:{name:"object"},required:!1},clearFiltersText:{description:"",type:{name:"string"},required:!1},filterOpts:{description:"",type:{name:"array"},required:!1},filtersLabel:{description:"",type:{name:"string"},required:!1},handleFilter:{description:"",type:{name:"func"},required:!1},handleSearch:{description:"",type:{name:"func"},required:!1},hasFiltersApplied:{description:"",type:{name:"bool"},required:!1},iconDescription:{description:"",type:{name:"string"},required:!1},inputLabel:{description:"",type:{name:"string"},required:!0},inputPlaceholder:{description:"",type:{name:"string"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},primaryButtonText:{description:"",type:{name:"string"},required:!1},searchTerm:{description:"",type:{name:"string"},required:!1},secondaryButtonText:{description:"",type:{name:"string"},required:!1}}};const nr=(n="")=>{const[i,s]=f.useState([{id:"base_of_path",title:n}]);return f.useEffect(()=>{s([{id:"base_of_path",title:n}])},[n]),{path:i,setPath:(a,d,c)=>{if(i.find(p=>p.id===a))return;const y={id:a,title:d,...c&&{parentId:c}};if(i.find(p=>p.parentId===c)){const p=i.findIndex(v=>v.id===c),g=[...i];g.length=p+1,s([...g,y])}else s([...i,y])},pathOnclick:a=>{const d=[...i];d.length=a+1,s([...d])},resetPath:()=>{s([{id:"base_of_path",title:n}])}}},j=`${M.prefix}--add-select`,sr="AddSelectBody",Se=f.forwardRef(({className:n,clearFiltersText:i,closeIconDescription:s,columnInputPlaceholder:o,defaultModifiers:r,description:l,filterByLabel:a,globalFilterOpts:d,globalFiltersLabel:c,globalFiltersIconDescription:y,globalFiltersPlaceholderText:p,globalFiltersPrimaryButtonText:g,globalFiltersSecondaryButtonText:v,globalSearchLabel:E,globalSearchPlaceholder:C,globalSortBy:I,illustrationTheme:D,influencerTitle:h,items:q,itemsLabel:k,metaIconDescription:A,metaPanelTitle:B,multi:S,navIconDescription:z,noResultsDescription:_,noResultsTitle:G,noSelectionDescription:F,noSelectionTitle:H,normalizedItems:R,onClose:u,onCloseButtonText:$,onSubmit:J,onSubmitButtonText:ie,open:U,portalTarget:Y,searchResultsTitle:Z,sortByLabel:T,title:V,useNormalizedItems:P,...ae},ee)=>{const[le,m]=f.useState(""),[b,w]=f.useState([]),[N,ue]=f.useState(""),[ve,Fe]=f.useState({}),[Pe,Ee]=f.useState({}),[te,De]=f.useState(r),{sortDirection:rt,setSortDirection:_e,sortAttribute:nt,setSortAttribute:we}=et(),{parentSelected:xe,setParentSelected:Re}=tt(),{path:re,setPath:Oe,pathOnclick:st,resetPath:it}=nr(k),at=()=>{m(""),w([]),ue(""),Fe({}),Ee({}),De(r),we(""),_e(""),Re(null),it()},Le=()=>{at(),u?.()},lt=se(n,j,{[`${j}__single`]:!S,[`${j}__multi`]:S}),je=Object.keys(ve),oe=je.length>0,ot=X=>{ue(X)},ct=X=>{Fe(X)},dt=()=>{if(S&&te&&te?.length>0){const X=b.map($e=>te.find(Ne=>Ne.id===$e));J?.(X)}else S&&te?.length===0?J?.(b):J?.(le);Le()},mt=()=>!(P===!1||N||oe),pt=()=>N?!0:!(P&&S),ut=(X,$e,Ne)=>{Re(X),Oe(X,$e,Ne)},ft=Ze(nt,rt),fe=er(P,R,N,oe,je,ve,ft,S,q,re),Me=fe.length>0,yt=mt(),gt=(N||oe)&&Me,bt=pt(),ze={displayMetalPanel:Pe,metaIconDescription:A,multi:S,multiSelection:b,navIconDescription:z,path:re,setMultiSelection:w,setPath:Oe,setSingleSelection:m,singleSelection:le,setDisplayMetaPanel:Ee,parentId:re[0].id},He={...ae,className:lt,open:U,title:V,description:l,actions:[{label:$,kind:"secondary",onClick:Le},{label:ie,kind:"primary",onClick:dt,disabled:S?b.length===0:!le}],portalTarget:Y,ref:ee},ht={appliedModifiers:te,closeIconDescription:s,displayMetalPanel:Pe,illustrationTheme:D,influencerTitle:h,items:P?R:q?.entries,metaPanelTitle:B,modifiers:q?.modifiers,multiSelection:b,noSelectionDescription:F,noSelectionTitle:H,setDisplayMetaPanel:Ee},qt=S&&P&&!N&&!oe,Ve=t.createElement(t.Fragment,null,t.createElement("div",{id:"add-select",className:`${j}__header`},t.createElement(Te,{inputLabel:E,inputPlaceholder:C,searchTerm:N,handleSearch:ot,multi:S,filterOpts:d,filtersLabel:c,handleFilter:ct,primaryButtonText:g,secondaryButtonText:v,placeholder:p,iconDescription:y,appliedFilters:ve,hasFiltersApplied:oe,clearFiltersText:i}),t.createElement("div",{className:se(`${j}__sub-header`,{[`${j}__sub-header-multi`]:S})},t.createElement("div",{className:`${j}__tags`},yt?t.createElement(he,{path:re,onClick:st,multi:S}):t.createElement("p",{className:`${j}__tags-label`},N?Z:k),bt&&t.createElement(Ae,{type:"gray",size:"sm"},fe.length)),gt&&t.createElement(me,{setSortAttribute:we,setSortDirection:_e,sortBy:I}))),qt?t.createElement("div",{className:`${j}__columns`},t.createElement(pe,{...ze,items:fe,columnInputPlaceholder:o,header:re[0]?.title,filterByLabel:a,sortByLabel:T})):t.createElement("div",null,Me?t.createElement(de,{...ze,filteredItems:fe,modifiers:q?.modifiers,appliedModifiers:te,setAppliedModifiers:De,setParentSelected:ut,parentSelected:xe,parentId:xe||re[0].id}):t.createElement("div",{className:`${j}__body`},t.createElement(zt,{subtitle:_,title:G,illustrationTheme:D}))));return S?t.createElement(Ht,{...He,influencer:S&&t.createElement(be,{...ht}),influencerPosition:"right"},Ve):t.createElement(Vt,{...He},Ve)});Se.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string,columnInputPlaceholder:e.string,defaultModifiers:e.array,description:e.string,filterByLabel:e.string,globalFilterOpts:e.array,globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array,multiSelect:e.bool}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.oneOfType([e.func,e.object]),src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.oneOfType([e.func,e.object]),id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired}))}),itemsLabel:e.string,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool,navIconDescription:e.string,noResultsDescription:e.string,noResultsTitle:e.string,noSelectionDescription:e.string,noSelectionTitle:e.string,normalizedItems:e.object,onClose:e.func,onCloseButtonText:e.string,onSubmit:e.func,onSubmitButtonText:e.string,open:e.bool,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string,useNormalizedItems:e.bool};Se.displayName=sr;Se.__docgenInfo={description:"",methods:[],displayName:"AddSelectBody",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},defaultModifiers:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},description:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilterOpts:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1},multiSelect:{name:"bool",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!1}}}},itemsLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},normalizedItems:{required:!1,tsType:{name:"object"},description:"",type:{name:"object"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onCloseButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection) => void",signature:{arguments:[{name:"selection"}],return:{name:"void"}}},description:"",type:{name:"func"}},onSubmitButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},open:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},useNormalizedItems:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}}}};const ir="AddSelect",Be=f.forwardRef(({items:n={entries:[]},globalFilters:i,...s},o)=>{const r=!!n.entries.find(c=>c.children),l=r?Ye(n):null,a=s.multi&&i?.length?Zt(i,l):null,d=s.multi&&n.modifiers?n.entries.map(c=>{const y=n?.modifiers?.id;return{...{id:c.id},...y&&{[y]:c[y]}}}):[];return t.createElement(Se,{...s,ref:o,items:n,normalizedItems:l,useNormalizedItems:r,globalFilterOpts:a,defaultModifiers:d})});Be.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string.isRequired,columnInputPlaceholder:e.string,description:e.string.isRequired,filterByLabel:e.string,globalFilters:e.arrayOf(e.shape({id:e.string,label:e.string})),globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array,multiSelect:e.bool}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.func,src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.func,id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired})).isRequired}).isRequired,itemsLabel:e.string.isRequired,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool.isRequired,navIconDescription:e.string,noResultsDescription:e.string.isRequired,noResultsTitle:e.string.isRequired,noSelectionDescription:e.string,noSelectionTitle:e.string,onClose:e.func.isRequired,onCloseButtonText:e.string.isRequired,onSubmit:e.func.isRequired,onSubmitButtonText:e.string.isRequired,open:e.bool.isRequired,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string.isRequired};Be.displayName=ir;Be.__docgenInfo={description:"",methods:[],displayName:"AddSelect",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},description:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilters:{required:!1,tsType:{name:"Array",elements:[{name:"Filter"}],raw:"Filter[]"},description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",defaultValue:{value:"{ entries: [] }",computed:!1},type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1},multiSelect:{name:"bool",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"func",required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"func",required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!0}}}},itemsLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsTitle:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onCloseButtonText:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onSubmitButtonText:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},open:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"portal target for the all tags modal",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}}}};export{Be as A};
