import{b as I,d as v,_ as O,v as ee,j as te,c as V,u as ne,l as G,m as ie,T as ae,q as oe,k as se,P as e,g as W}from"./index-C360Eztx.js";import{r as p,e as t}from"./index-DtHxqM--.js";import{B as ce}from"./settings-CFkY3W_8.js";import{n as K}from"./events-CdfZZS3f.js";import{w as re,a as le}from"./wrapFocus-BeRLXXyC.js";import{d as ue}from"./index-BopFi8TB.js";import{T as w}from"./Text-DKfZ87L_.js";import{a as fe,c as me}from"./bucket-9-BxEcmZXg.js";import{a as pe,W as de}from"./bucket-19-D7HYZr93.js";import{a as be}from"./bucket-6-BjeV6rPm.js";function ge(n,r,l=!0){const a=i=>{var c;const f=n.current&&document.activeElement===n.current||((c=n.current)==null?void 0:c.contains(document.activeElement));oe(i,[se])&&l&&f&&r(i)};G(()=>(n.current!==null&&document.addEventListener("keydown",a,!1),()=>document.removeEventListener("keydown",a,!1)))}function P({children:n,className:r,onClick:l,inline:a,...i}){const f=I(),c=v(r,{[`${f}--actionable-notification__action-button`]:!0});return t.createElement(ce,O({className:c,kind:a?"ghost":"tertiary",onClick:l,size:"sm"},i),n)}P.propTypes={children:e.node,className:e.string,inline:e.bool,onClick:e.func};function A({"aria-label":n="close notification",ariaLabel:r,className:l,type:a="button",renderIcon:i=te,name:f,notificationType:c="toast",...E}){const u=I(),d=v(l,{[`${u}--${c}-notification__close-button`]:c}),g=v({[`${u}--${c}-notification__close-icon`]:c});return t.createElement("button",O({},E,{type:a,"aria-label":r||n,title:r||n,className:d}),i&&t.createElement(i,{className:g,name:f}))}A.propTypes={"aria-label":e.string,ariaLabel:W(e.string),className:e.string,name:e.string,notificationType:e.oneOf(["toast","inline","actionable"]),renderIcon:e.oneOfType([e.func,e.object]),type:e.string};const Ne={error:be,success:ee,warning:de,"warning-alt":pe,info:me,"info-square":fe};function B({iconDescription:n,kind:r,notificationType:l}){const a=I(),i=Ne[r];return i?t.createElement(i,{className:`${a}--${l}-notification__icon`,size:20},t.createElement("title",null,n)):null}B.propTypes={iconDescription:e.string.isRequired,kind:e.oneOf(["error","success","warning","warning-alt","info","info-square"]).isRequired,notificationType:e.oneOf(["inline","toast"]).isRequired};function Ee({["aria-label"]:n,ariaLabel:r,role:l="status",onClose:a,onCloseButtonClick:i=K,statusIconDescription:f,className:c,children:E,kind:u="error",lowContrast:d,hideCloseButton:g=!1,timeout:o=0,title:C,caption:$,subtitle:x,...b}){const[h,T]=p.useState(!0),N=I(),y=v(c,{[`${N}--toast-notification`]:!0,[`${N}--toast-notification--low-contrast`]:d,[`${N}--toast-notification--${u}`]:u}),F=p.useRef(null),s=_=>{(!a||a(_)!==!1)&&T(!1)},R=p.useRef(null);function q(_){i(_),s(_)}const k=p.useRef(a);return p.useEffect(()=>{k.current=a}),p.useEffect(()=>{if(!o)return;const _=window.setTimeout(D=>{T(!1),k.current&&k.current(D)},o);return()=>{window.clearTimeout(_)}},[o]),h?t.createElement("div",O({ref:R},b,{role:l,className:y}),t.createElement(B,{notificationType:"toast",kind:u,iconDescription:f||`${u} icon`}),t.createElement("div",{ref:F,className:`${N}--toast-notification__details`},C&&t.createElement(w,{as:"div",className:`${N}--toast-notification__title`},C),x&&t.createElement(w,{as:"div",className:`${N}--toast-notification__subtitle`},x),$&&t.createElement(w,{as:"div",className:`${N}--toast-notification__caption`},$),E),!g&&t.createElement(A,{notificationType:"toast",onClick:q,"aria-label":r||n})):null}Ee.propTypes={"aria-label":e.string,ariaLabel:W(e.string),caption:e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,timeout:e.number,title:e.string};function $e({["aria-label"]:n,children:r,title:l,subtitle:a,role:i="status",onClose:f,onCloseButtonClick:c=K,statusIconDescription:E,className:u,kind:d="error",lowContrast:g,hideCloseButton:o=!1,...C}){const[$,x]=p.useState(!0),b=I(),h=v(u,{[`${b}--inline-notification`]:!0,[`${b}--inline-notification--low-contrast`]:g,[`${b}--inline-notification--${d}`]:d,[`${b}--inline-notification--hide-close-button`]:o}),T=p.useRef(null),N=s=>{(!f||f(s)!==!1)&&x(!1)},y=p.useRef(null);function F(s){c(s),N(s)}return $?t.createElement("div",O({ref:y},C,{role:i,className:h}),t.createElement("div",{className:`${b}--inline-notification__details`},t.createElement(B,{notificationType:"inline",kind:d,iconDescription:E||`${d} icon`}),t.createElement("div",{ref:T,className:`${b}--inline-notification__text-wrapper`},l&&t.createElement(w,{as:"div",className:`${b}--inline-notification__title`},l),a&&t.createElement(w,{as:"div",className:`${b}--inline-notification__subtitle`},a),r)),!o&&t.createElement(A,{notificationType:"inline",onClick:F,"aria-label":n})):null}$e.propTypes={"aria-label":e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,title:e.string};function _e({actionButtonLabel:n,["aria-label"]:r,ariaLabel:l,children:a,role:i="alertdialog",onActionButtonClick:f,onClose:c,onCloseButtonClick:E=K,statusIconDescription:u,className:d,inline:g=!1,kind:o="error",lowContrast:C,hideCloseButton:$=!1,hasFocus:x=!0,closeOnEscape:b=!0,title:h,subtitle:T,...N}){const[y,F]=p.useState(!0),s=I(),R=V("actionable-notification"),q=V("actionable-notification-subtitle"),k=v(d,{[`${s}--actionable-notification`]:!0,[`${s}--actionable-notification--toast`]:!g,[`${s}--actionable-notification--low-contrast`]:C,[`${s}--actionable-notification--${o}`]:o,[`${s}--actionable-notification--hide-close-button`]:$}),_=p.useRef(null),D=p.useRef(null),j=p.useRef(null),S=p.useRef(null),L=ne("enable-experimental-focus-wrap-without-sentinels");G(()=>{if(x&&i==="alertdialog"){const m=document.querySelector("button.cds--actionable-notification__action-button");m==null||m.focus()}});function J({target:m,relatedTarget:M}){if(y&&M&&m&&i==="alertdialog"){const{current:X}=_,{current:Y}=D,{current:Z}=j;le({bodyNode:X,startTrapNode:Y,endTrapNode:Z,currentActiveNode:M,oldActiveNode:m})}}function Q(m){y&&ie(m,ae)&&S.current&&i==="alertdialog"&&re({containerNode:S.current,currentActiveNode:m.target,event:m})}const U=m=>{(!c||c(m)!==!1)&&F(!1)};ge(S,z,b);function z(m){E(m),U(m)}return y?t.createElement("div",O({},N,{ref:S,role:i,className:k,"aria-labelledby":h?R:q,onBlur:L?()=>{}:J,onKeyDown:L?Q:()=>{}}),!L&&t.createElement("span",{ref:D,tabIndex:0,role:"link",className:`${s}--visually-hidden`},"Focus sentinel"),t.createElement("div",{className:`${s}--actionable-notification__details`},t.createElement(B,{notificationType:g?"inline":"toast",kind:o,iconDescription:u||`${o} icon`}),t.createElement("div",{className:`${s}--actionable-notification__text-wrapper`},t.createElement("div",{className:`${s}--actionable-notification__content`},h&&t.createElement(w,{as:"div",className:`${s}--actionable-notification__title`,id:R},h),T&&t.createElement(w,{as:"div",className:`${s}--actionable-notification__subtitle`,id:q},T),a))),t.createElement("div",{className:`${s}--actionable-notification__button-wrapper`,ref:_},n&&t.createElement(P,{onClick:f,inline:g},n),!$&&t.createElement(A,{"aria-label":l||r,notificationType:"actionable",onClick:z})),!L&&t.createElement("span",{ref:j,tabIndex:0,role:"link",className:`${s}--visually-hidden`},"Focus sentinel")):null}_e.propTypes={actionButtonLabel:e.string,"aria-label":e.string,ariaLabel:W(e.string),children:e.node,className:e.string,closeOnEscape:e.bool,hasFocus:W(e.bool),hideCloseButton:e.bool,inline:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onActionButtonClick:e.func,onClose:e.func,onCloseButtonClick:e.func,role:e.string,statusIconDescription:e.string,subtitle:e.node,title:e.string};const we=n=>({error:"warning",success:"info"})[n];function H({actionButtonLabel:n,children:r,onActionButtonClick:l,title:a,titleId:i,subtitle:f,statusIconDescription:c,className:E,kind:u="info",lowContrast:d,...g}){const o=I(),C=v(E,{[`${o}--actionable-notification`]:!0,[`${o}--actionable-notification--low-contrast`]:d,[`${o}--actionable-notification--${u}`]:u,[`${o}--actionable-notification--hide-close-button`]:!0}),$=p.useRef(null);return t.createElement("div",O({},g,{className:C}),t.createElement("div",{className:`${o}--actionable-notification__details`},t.createElement(B,{notificationType:"inline",kind:u,iconDescription:c||`${u} icon`}),t.createElement("div",{ref:$,className:`${o}--actionable-notification__text-wrapper`},a&&t.createElement(w,{as:"div",id:i,className:`${o}--actionable-notification__title`},a),f&&t.createElement(w,{as:"div",className:`${o}--actionable-notification__subtitle`},f),r)),t.createElement("div",{className:`${o}--actionable-notification__button-wrapper`},n&&t.createElement(P,{onClick:l,"aria-describedby":i,inline:!0},n)))}H.propTypes={actionButtonLabel:e.string,children:e.node,className:e.string,kind:ue(e.oneOf(["error","info","info-square","success","warning","warning-alt"]),["warning","info"],we),lowContrast:e.bool,onActionButtonClick:e.func,statusIconDescription:e.string,subtitle:e.node,title:e.string,titleId:e.string};const Be=n=>t.createElement(H,n);export{_e as A,H as C,$e as I,P as N,Be as S,Ee as T,A as a};
