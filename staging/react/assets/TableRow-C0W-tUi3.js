import{r as i,u as w,c as C,ea as M,D as j,v as K,e as l,_ as v,P as e,d as J}from"./iframe-BfCV3bOI.js";import{w as Q}from"./wrapComponent-DjdlSN6x.js";import{A as W}from"./index-CErJu9sK.js";import{i as L}from"./utils-DPQn4WAo.js";import{aH as X}from"./bucket-0-Ciw2Dsly.js";import{d as Y}from"./bucket-1-59toT3oJ.js";const g={NONE:"NONE",DESC:"DESC",ASC:"ASC"},ee=i.createContext({titleId:void 0,descriptionId:void 0}),U=(a,t)=>{if(a.children.length>0)return!1;const s=window.getComputedStyle(a);t.font=s.font?s.font:`${s.fontSize}" "${s.fontFamily}`;let o=(t?.measureText(a.textContent??"")).width??0;const b=s.letterSpacing?.split("px");b&&b.length&&!isNaN(Number(b[0]))&&(o+=Number(b[0])*(a.textContent?.length??0));const c=s.paddingLeft?.split("px");c&&c.length&&!isNaN(Number(c[0]))&&(o+=Number(c[0]));const u=s.paddingLeft?.split("px");return u&&u.length&&!isNaN(Number(u[0]))&&(o+=Number(u[0])),o>a.getBoundingClientRect().width},te=({className:a,children:t,useZebraStyles:s,size:d="lg",isSortable:o=!1,useStaticWidth:b,stickyHeader:c,overflowMenuOnHover:u=!0,experimentalAutoAlign:f=!1,tabIndex:p,...y})=>{const{titleId:E,descriptionId:h}=i.useContext(ee),n=w(),[R,r]=i.useState(!1),m=i.useRef(null),A=C(`${n}--data-table`,a,{[`${n}--data-table--${d}`]:d,[`${n}--data-table--sort`]:o,[`${n}--data-table--zebra`]:s,[`${n}--data-table--static`]:b,[`${n}--data-table--sticky-header`]:c,[`${n}--data-table--visible-overflow-menu`]:!u}),S=i.useCallback(($=!1)=>{$?m.current?.classList.add(`${n}--data-table--top-aligned-body`):m.current?.classList.remove(`${n}--data-table--top-aligned-body`)},[n]),T=i.useCallback(($=!1)=>{$?m.current?.classList.add(`${n}--data-table--top-aligned-header`):m.current?.classList.remove(`${n}--data-table--top-aligned-header`)},[n]),N=i.useCallback(()=>{if(f){const x=document.createElement("canvas").getContext("2d");if(m.current&&x){const z=Array.from(m.current.querySelectorAll("td")).some(O=>U(O,x)),H=Array.from(m.current.querySelectorAll("th")).some(O=>{const F=O.querySelector(`.${n}--table-header-label`);return F&&U(F,x)});S(z),T(H)}}else S(!1),T(!1)},[f,S,T,n]),_=M(N,100);j("resize",_);const I=i.useCallback(()=>{const $=m?.current?.parentNode;m?.current?.firstChild?.scrollWidth>$?.clientWidth?r(!0):r(!1)},[]),k=M(I,100);j("resize",k),K(()=>{I()},[I]),typeof document<"u"&&document?.fonts?.status&&document.fonts.status!=="loaded"&&document.fonts.ready.then(()=>{N()}),K(()=>{N()},[N,d]);const D=l.createElement("div",{className:`${n}--data-table-content`,tabIndex:p??(R?0:void 0)},l.createElement("table",v({"aria-labelledby":E,"aria-describedby":h},y,{className:A,ref:m}),t));return c?l.createElement("section",{className:`${n}--data-table_inner-container`},D):D};te.propTypes={children:e.node,className:e.string,experimentalAutoAlign:e.bool,isSortable:e.bool,overflowMenuOnHover:e.bool,size:e.oneOf(["xs","sm","md","lg","xl"]),stickyHeader:e.bool,useStaticWidth:e.bool,useZebraStyles:e.bool,tabIndex:e.number};const ae=({children:a,className:t,...s})=>l.createElement("tbody",v({"aria-live":s["aria-live"]??"polite",className:t},s),a);ae.propTypes={"aria-live":e.oneOf(["polite","assertive","off"]),children:e.node,className:e.string};const se=i.forwardRef,Z=se((a,t)=>{const{children:s,className:d,hasAILabelHeader:o,colSpan:b,...c}=a,u=w(),f=C(d,{[`${u}--table-cell--column-slug`]:o});return l.createElement("td",v({className:f||void 0,ref:t,colSpan:b},c),s)});Z.displayName="TableCell";Z.propTypes={children:e.node,className:e.string,colSpan:e.number,hasAILabelHeader:e.bool,headers:e.string};const q=({className:a,decorator:t})=>{const s=w(),d=C({...a&&{[a]:!0},[`${s}--table-column-decorator`]:!0,[`${s}--table-column-decorator--active`]:t}),b=L(t,W)?i.cloneElement(t,{size:"mini"}):null;return l.createElement("td",{className:d},b)};q.displayName="TableDecoratorRow";q.propTypes={className:e.string,decorator:e.node};const V={};function le(a,t){return V[a]||(V[a]=!0),a}const B=({className:a,slug:t})=>{i.useEffect(()=>{le("TableSlugRow")},[]);const s=w(),d=C({...a&&{[a]:!0},[`${s}--table-column-slug`]:!0,[`${s}--table-column-slug--active`]:t});let o;return t&&(o=l.cloneElement(t,{size:"mini"})),l.createElement("td",{className:d},o)};B.displayName="TableSlugRow";B.propTypes={className:e.string,slug:e.node};const ge=Q({name:"TableHead",type:"thead"}),ne="col",G={buttonDescription:"carbon.table.header.icon.description"},re=(a,t)=>t&&a===G.buttonDescription?t.isSortHeader&&g?t.sortDirection===g.NONE?`Click to sort rows by ${t.header} header in ascending order`:t.sortDirection===g.ASC?`Click to sort rows by ${t.header} header in descending order`:`Click to unsort rows by ${t.header} header`:`Click to sort rows by ${t.header} header in ascending order`:"",oe={[g.NONE]:"none",[g.ASC]:"ascending",[g.DESC]:"descending"},P=l.forwardRef(function({className:t,children:s,colSpan:d,decorator:o,isSortable:b=!1,isSortHeader:c,onClick:u,scope:f=ne,sortDirection:p,translateWithId:y=re,slug:E,id:h,...n},R){const r=w(),m=J("table-sort"),A=i.useRef(null),S=E??o,T=L(S,W),N=T,_=T?i.cloneElement(S,{size:"mini",ref:A}):null,I=C({[`${r}--table-header-label`]:!0,[`${r}--table-header-label--slug ${r}--table-header-label--ai-label`]:N,[`${r}--table-header-label--decorator`]:o});if(!b)return l.createElement("th",v({},n,{id:h,className:t,scope:f,colSpan:d,ref:R}),s?l.createElement("div",{className:I},s,l.createElement("div",{className:`${r}--table-header-label--decorator-inner`},_)):null);const k=C(t,{[`${r}--table-sort`]:!0,[`${r}--table-sort--active`]:c&&p!==g.NONE,[`${r}--table-sort--descending`]:c&&p===g.DESC}),D=!c||!p?"none":oe[p],$=y&&y("carbon.table.header.icon.description",{header:s,sortDirection:p,isSortHeader:c,sortStates:g}),x=C(t,`${r}--table-sort__header`,{[`${r}--table-sort__header--ai-label`]:N,[`${r}--table-sort__header--decorator`]:o}),z=H=>{if(!(N&&A.current&&A.current.contains(H.target))&&u)return u(H)};return l.createElement("th",{id:h,"aria-sort":D,className:x,colSpan:d,ref:R,scope:f},l.createElement("div",{className:`${r}--table-sort__description`,id:m},$),l.createElement("button",v({type:"button","aria-describedby":m,className:k,onClick:z},n),l.createElement("span",{className:`${r}--table-sort__flex`},l.createElement("div",{className:`${r}--table-header-label`},s),l.createElement(X,{size:20,className:`${r}--table-sort__icon`}),l.createElement(Y,{size:20,className:`${r}--table-sort__icon-unsorted`}),l.createElement("div",{className:`${r}--table-header-label--decorator-inner`},_))))});P.propTypes={children:e.node,className:e.string,colSpan:e.number,id:e.string,isSortHeader:e.bool,isSortable:e.bool,onClick:e.func,scope:e.string,sortDirection:e.oneOf(Object.values(g)),translateWithId:e.func};P.translationKeys=Object.values(G);P.displayName="TableHeader";const ce=i.forwardRef,ie=ce((a,t)=>{const{ariaLabel:s,"aria-label":d,"aria-controls":o,onExpand:b,isExpanded:c,isSelected:u,...f}=a,p=w(),y=i.Children.toArray(a.children).some(h=>L(h,B)?!!h.props.slug:L(h,q)&&L(h.props.decorator,W)),E=C(a.className,{[`${p}--data-table--selected`]:u,[`${p}--data-table--slug-row ${p}--data-table--ai-label-row`]:y});return E&&(f.className=E),l.createElement("tr",v({ref:t},f))});ie.propTypes={className:e.string,isSelected:e.bool,ariaLabel:e.string,"aria-label":e.string,"aria-controls":e.string,onExpand:e.func,isExpanded:e.bool};export{te as T,ge as a,ie as b,P as c,ae as d,Z as e,ee as f,B as g,q as h,g as s};
