{"version":3,"file":"TableToolbarSearch-Bmbg6jK6.js","sources":["../../../../node_modules/@carbon/react/es/components/DataTable/TableToolbarContent.js","../../../../node_modules/@carbon/react/es/components/DataTable/TableToolbarSearch.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport wrapComponent from '../../tools/wrapComponent.js';\n\nconst TableToolbarContent = wrapComponent({\n  name: 'TableToolbarContent',\n  type: 'div',\n  className: prefix => `${prefix}--toolbar-content`\n});\n\nexport { TableToolbarContent as default };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState, useEffect } from 'react';\nimport Search from '../Search/Search.js';\nimport '../Search/Search.Skeleton.js';\nimport { useId } from '../../internal/useId.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { noopFn } from '../../internal/noopFn.js';\n\nconst translationIds = {\n  'carbon.table.toolbar.search.label': 'carbon.table.toolbar.search.label',\n  'carbon.table.toolbar.search.placeholder': 'carbon.table.toolbar.search.placeholder'\n};\nconst defaultTranslations = {\n  [translationIds['carbon.table.toolbar.search.label']]: 'Filter table',\n  [translationIds['carbon.table.toolbar.search.placeholder']]: 'Filter table'\n};\nconst defaultTranslateWithId = messageId => {\n  return defaultTranslations[messageId];\n};\nconst TableToolbarSearch = ({\n  className,\n  searchContainerClass,\n  onChange: onChangeProp,\n  onClear = noopFn,\n  translateWithId: t = defaultTranslateWithId,\n  placeholder,\n  labelText,\n  expanded: expandedProp,\n  defaultExpanded,\n  defaultValue,\n  disabled,\n  onExpand,\n  persistent = false,\n  id,\n  onBlur,\n  onFocus,\n  size = 'lg',\n  tabIndex = '0',\n  ...rest\n}) => {\n  const {\n    current: controlled\n  } = useRef(expandedProp !== undefined);\n  const [expandedState, setExpandedState] = useState(Boolean(defaultExpanded || defaultValue));\n  const expanded = controlled ? expandedProp : expandedState;\n  const [value, setValue] = useState(defaultValue || '');\n  const uniqueId = useId('table-toolbar-search');\n  const [focusTarget, setFocusTarget] = useState(null);\n  const prefix = usePrefix();\n  useEffect(() => {\n    if (focusTarget) {\n      focusTarget.current?.querySelector?.('input')?.focus();\n      setFocusTarget(null);\n    }\n  }, [focusTarget]);\n  useEffect(() => {\n    if (defaultValue) {\n      onChangeProp?.('', defaultValue);\n    }\n  },\n  //eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  const searchClasses = cx(className, {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    [searchContainerClass]: searchContainerClass,\n    [`${prefix}--toolbar-search-container-active`]: expanded,\n    [`${prefix}--toolbar-search-container-disabled`]: disabled,\n    [`${prefix}--toolbar-search-container-expandable`]: !persistent,\n    [`${prefix}--toolbar-search-container-persistent`]: persistent\n  });\n  const handleExpand = (event, value = !expanded) => {\n    if (!disabled) {\n      if (!controlled && !persistent) {\n        setExpandedState(value);\n      }\n      if (onExpand) {\n        onExpand(event, value);\n      }\n    }\n  };\n  const onChange = e => {\n    setValue(e.target.value);\n    if (onChangeProp) {\n      onChangeProp(e, e.target.value);\n    }\n  };\n  const handleOnFocus = event => handleExpand(event, true);\n  const handleOnBlur = event => !value && handleExpand(event, false);\n  return /*#__PURE__*/React.createElement(Search, _extends({\n    disabled: disabled,\n    className: searchClasses,\n    value: value,\n    id: typeof id !== 'undefined' ? id : uniqueId,\n    labelText: labelText || t('carbon.table.toolbar.search.label'),\n    placeholder: placeholder || t('carbon.table.toolbar.search.placeholder'),\n    onChange: onChange,\n    onClear: onClear,\n    onFocus: onFocus ? event => onFocus(event, handleExpand) : handleOnFocus,\n    onBlur: onBlur ? event => onBlur(event, handleExpand) : handleOnBlur,\n    size: size\n    // HTMLAttributes defines tabIndex as number | undefined but in reality it\n    // also accepts a string, so we cast here to convince Typescript this is okay.\n    ,\n    tabIndex: tabIndex\n  }, rest));\n};\nTableToolbarSearch.propTypes = {\n  children: PropTypes.node,\n  /**\n   * Provide an optional class name for the search container\n   */\n  className: PropTypes.string,\n  /**\n   * Specifies if the search should initially render in an expanded state\n   */\n  defaultExpanded: PropTypes.bool,\n  /**\n   * Provide an optional default value for the Search component\n   */\n  defaultValue: PropTypes.string,\n  /**\n   * Specifies if the search should be disabled\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Specifies if the search should expand\n   */\n  expanded: PropTypes.bool,\n  /**\n   * Provide an optional id for the search container\n   */\n  id: PropTypes.string,\n  /**\n   * Provide an optional label text for the Search component icon\n   */\n  labelText: PropTypes.string,\n  /**\n   * Provide an optional function to be called when the search input loses focus, this will be\n   * passed the event as the first parameter and a function to handle the expanding of the search\n   * input as the second\n   */\n  onBlur: PropTypes.func,\n  /**\n   * Provide an optional hook that is called each time the input is updated\n   */\n  onChange: PropTypes.func,\n  /**\n   * Optional callback called when the search value is cleared.\n   */\n  onClear: PropTypes.func,\n  /**\n   * Provide an optional hook that is called each time the input is expanded\n   */\n  onExpand: PropTypes.func,\n  /**\n   * Provide an optional function to be called when the search input gains focus, this will be\n   * passed the event as the first parameter and a function to handle the expanding of the search\n   * input as the second.\n   */\n  onFocus: PropTypes.func,\n  /**\n   * Whether the search should be allowed to expand\n   */\n  persistent: PropTypes.bool,\n  /**\n   * Provide an optional placeholder text for the Search component\n   */\n  placeholder: PropTypes.string,\n  /**\n   * Provide an optional className for the overall container of the Search\n   */\n  searchContainerClass: PropTypes.string,\n  /**\n   * Specify the size of the Search\n   */\n  size: PropTypes.oneOf(['sm', 'md', 'lg']),\n  /**\n   * Optional prop to specify the tabIndex of the <Search> (in expanded state) or the container (in collapsed state)\n   */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * Translates component strings using your i18n tool.\n   */\n  translateWithId: PropTypes.func\n};\n\nexport { TableToolbarSearch as default };\n"],"names":["TableToolbarContent","wrapComponent","prefix","translationIds","defaultTranslations","defaultTranslateWithId","messageId","TableToolbarSearch","className","searchContainerClass","onChangeProp","onClear","noopFn","t","placeholder","labelText","expandedProp","defaultExpanded","defaultValue","disabled","onExpand","persistent","id","onBlur","onFocus","size","tabIndex","rest","controlled","useRef","expandedState","setExpandedState","useState","expanded","value","setValue","uniqueId","useId","focusTarget","setFocusTarget","usePrefix","useEffect","searchClasses","cx","handleExpand","event","onChange","e","handleOnFocus","handleOnBlur","React","Search","_extends","PropTypes"],"mappings":"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","x_google_ignoreList":[0,1]}