{"version":3,"file":"useControllableState-D_LENDKK.js","sources":["../../../../node_modules/@carbon/react/es/internal/useControllableState.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useState, useRef, useEffect } from 'react';\nimport { warning } from './warning.js';\n\n/**\n * This hook simplifies the behavior of a component that has state which can be\n * both controlled and uncontrolled. It works like `useState`. You can use the\n * `onChange` callback to communicate state updates to parent components.\n *\n * Note: This hook will warn if the component switches between controlled and\n * uncontrolled states.\n */\nconst useControllableState = ({\n  defaultValue,\n  name = 'custom',\n  onChange,\n  value\n}) => {\n  const [state, internalSetState] = useState(typeof value !== 'undefined' ? value : defaultValue);\n  const controlled = useRef(null);\n  if (controlled.current === null) {\n    controlled.current = typeof value !== 'undefined';\n  }\n  const setState = stateOrUpdater => {\n    const newValue = typeof stateOrUpdater === 'function' ? stateOrUpdater(state) : stateOrUpdater;\n    if (controlled.current === false) {\n      internalSetState(newValue);\n    }\n    if (onChange) {\n      onChange(newValue);\n    }\n  };\n  useEffect(() => {\n    const controlledValue = typeof value !== 'undefined';\n\n    // Uncontrolled -> Controlled\n    if (controlled.current === false && controlledValue) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, `A component is changing an uncontrolled ${name} component to be controlled. ` + 'This is likely caused by the value changing to a defined value ' + 'from undefined. Decide between using a controlled or uncontrolled ' + 'value for the lifetime of the component. ' + 'More info: https://reactjs.org/link/controlled-components') : void 0;\n    }\n\n    // Controlled -> Uncontrolled\n    if (controlled.current === true && !controlledValue) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, `A component is changing a controlled ${name} component to be uncontrolled. ` + 'This is likely caused by the value changing to an undefined value ' + 'from a defined one. Decide between using a controlled or ' + 'uncontrolled value for the lifetime of the component. ' + 'More info: https://reactjs.org/link/controlled-components') : void 0;\n    }\n  }, [name, value]);\n  if (controlled.current === true) {\n    return [value, setState, controlled.current];\n  }\n  return [state, setState, controlled.current];\n};\n\nexport { useControllableState };\n"],"names":["useControllableState","defaultValue","name","onChange","value","state","internalSetState","useState","controlled","useRef","setState","stateOrUpdater","newValue","useEffect","controlledValue"],"mappings":"oCAkBA,MAAMA,EAAuB,CAAC,CAC5B,aAAAC,EACA,KAAAC,EAAO,SACP,SAAAC,EACA,MAAAC,CACF,IAAM,CACJ,KAAM,CAACC,EAAOC,CAAgB,EAAIC,EAAAA,SAAS,OAAOH,EAAU,IAAcA,EAAQH,CAAY,EACxFO,EAAaC,EAAAA,OAAO,IAAI,EAC1BD,EAAW,UAAY,OACzBA,EAAW,QAAU,OAAOJ,EAAU,KAExC,MAAMM,EAAWC,GAAkB,CACjC,MAAMC,EAAW,OAAOD,GAAmB,WAAaA,EAAeN,CAAK,EAAIM,EAC5EH,EAAW,UAAY,IACzBF,EAAiBM,CAAQ,EAEvBT,GACFA,EAASS,CAAQ,CAErB,EAcA,OAbAC,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAkB,OAAOV,EAAU,IAGrCI,EAAW,QAKXA,EAAW,OAGjB,EAAG,CAACN,EAAME,CAAK,CAAC,EACZI,EAAW,UAAY,GAClB,CAACJ,EAAOM,EAAUF,EAAW,OAAO,EAEtC,CAACH,EAAOK,EAAUF,EAAW,OAAO,CAC7C","x_google_ignoreList":[0]}