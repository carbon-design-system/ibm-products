import{r as t,p as Z,e,u as Q,c as M,P as n,B as D,Z as U}from"./iframe-BlQ-LkYW.js";import{M as X,a as ee,b as te,C as ne}from"./ComposedModal-CtswQ6eu.js";import{g as F}from"./devtools-BJZSxg-N.js";import{P as ae,a as re}from"./ProgressIndicator-6FPCPioH.js";import{u as oe}from"./useId-C2_b1b81.js";import{C as se}from"./Carousel-KzevvHGP.js";import{I as _}from"./InlineLoading-BiPU-E2v.js";import{c as ie}from"./clamp-CsXXRQhr.js";import{b as Y}from"./bucket-0-6Q7N9SpP.js";const r=`${Z.prefix}--interstitial-screen`,j=t.createContext({progStep:0,stepCount:0}),W=e.forwardRef((E,g)=>{const{className:S="",headerTitle:c,headerSubTitle:u,closeIconDescription:b,hideProgressIndicator:i,children:p,...h}=E,{bodyChildrenData:l,isFullScreen:C,progStep:B,handleClose:o,stepCount:R}=e.useContext(j),d=`${r}--internal-header`,m=oe(),N=Q(),y=()=>e.createElement(e.Fragment,null,(c||u)&&e.createElement("div",{className:`${r}--titleContainer`},c&&e.createElement("h1",null,c),u&&e.createElement("h2",null,u)),p,!i&&l&&Array.isArray(l)&&e.createElement("div",{className:`${r}--progress`},e.createElement(ae,{vertical:!1,currentIndex:B},l?.map((a,T)=>{if(e.isValidElement(a)){const f=`${m}_${a.props?.stepTitle?.replace(/\s+/g,"")||T}`;return e.createElement(re,{key:f,label:a.props.stepTitle||"",translateWithId:a.props.translateWithId})}})),e.createElement("div",{"aria-live":"polite","aria-atomic":"true",className:`${N}--visually-hidden`},"Step ",B+1," of ",R))),v=()=>{o?.("close")};return C?e.createElement("header",{ref:g,role:"presentation",className:M(d,S,{[`${d}--has-title`]:c||u||p}),...F("InterstitialScreenHeader"),...h},y()):e.createElement(X,{ref:g,className:M(d,S,{[`${d}--has-title`]:c||u||p}),closeModal:v,iconDescription:b,...F("InterstitialScreenHeader"),...h},y())});W.propTypes={children:n.node,className:n.string,closeIconDescription:n.string,headerSubTitle:n.string,headerTitle:n.string,hideProgressIndicator:n.bool};W.__docgenInfo={description:"",methods:[],displayName:"InterstitialScreenHeader",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:`Provide the optional content for header section and will be render after header titles and before progress indicator.
People can make use of this if they want to have custom header.`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},headerTitle:{required:!1,tsType:{name:"string"},description:"Provide an optional title to be applied to the header >.",type:{name:"string"}},headerSubTitle:{required:!1,tsType:{name:"string"},description:"Provide an optional sub title to be applied to the header >.",type:{name:"string"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"}},hideProgressIndicator:{required:!1,tsType:{name:"boolean"},description:"Optional parameter to hide the progress indicator when multiple steps are used.",type:{name:"bool"}}}};const V=e.forwardRef((E,g)=>{const{className:S="",contentRenderer:c,...u}=E,b=`${r}--internal-body`,[i,p]=t.useState(),{setBodyChildrenData:h,bodyChildrenData:l,isFullScreen:C,setProgStep:B,bodyScrollRef:o,scrollRef:R,handleGotoStep:d,progStep:m,setStepCount:N,disableButtonConfig:y,setDisableButtonConfig:v}=t.useContext(j),[a,T]=t.useState(-1);t.useEffect(()=>{const s=c?.({handleGotoStep:d,progStep:m,disableActionButton:f})??E.children,w=t.isValidElement(s),P=w?s.props.children:s;h?.(P),w&&Array.isArray(P)?(p("multi"),N?.(P.length)):p("single")},[m]),t.useEffect(()=>{if(a!==-1){const s=l&&l.length>1?parseFloat((1/(l.length-1)).toFixed(2)):0,w=a/s;B?.(Math.ceil(w))}},[a]);const f=s=>{v?.({...y,...s})},L=s=>T(s),k=()=>e.createElement("div",{className:`${r}--body ${S}`,ref:o??g,...F("InterstitialScreenBody"),...C?u:{}},e.createElement("div",{className:`${r}--content`},i==="multi"?e.createElement("div",{className:`${r}__carousel`},e.createElement(se,{disableArrowScroll:!0,ref:R,onScroll:L},l)):i==="single"?l:""));return C?k():e.createElement(ee,{ref:g,className:b,...u},k())});V.propTypes={children:n.node,className:n.string,contentRenderer:n.func};V.__docgenInfo={description:"",methods:[],displayName:"InterstitialScreenBody",props:{children:{required:!1,tsType:{name:"ReactNode"},description:"Optional static content for body",type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},contentRenderer:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  config: contentRendererArgs
) => ReactElement<EnrichedChildren> | ReactNode`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  handleGotoStep?: (value: number) => void;
  progStep?: number;
  disableActionButton: (value: disableButtonConfigType) => void;
}`,signature:{properties:[{key:"handleGotoStep",value:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}},required:!1}},{key:"progStep",value:{name:"number",required:!1}},{key:"disableActionButton",value:{name:"signature",type:"function",raw:"(value: disableButtonConfigType) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  skip?: boolean;
  back?: boolean;
  next?: boolean;
  start?: boolean;
}`,signature:{properties:[{key:"skip",value:{name:"boolean",required:!1}},{key:"back",value:{name:"boolean",required:!1}},{key:"next",value:{name:"boolean",required:!1}},{key:"start",value:{name:"boolean",required:!1}}]}},name:"value"}],return:{name:"void"}},required:!0}}]}},name:"config"}],return:{name:"union",raw:"ReactElement<EnrichedChildren> | ReactNode",elements:[{name:"ReactElement",elements:[{name:"signature",type:"object",raw:`{
  children: React.ReactNode;
  stepTitle: string;
  translateWithId?: (id: string) => string;
}`,signature:{properties:[{key:"children",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!0}},{key:"stepTitle",value:{name:"string",required:!0}},{key:"translateWithId",value:{name:"signature",type:"function",raw:"(id: string) => string",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"string"}},required:!1}}]}}],raw:"ReactElement<EnrichedChildren>"},{name:"ReactNode"}]}}},description:`You can provide content either through a callback (contentRenderer) or as static children—but not both.
If both are provided, contentRenderer always takes precedence. This optional callback should return the content
to be rendered in the body section, which can be either a single element or an array of elements based on your needs.
If internal state access isn’t required, you can simply use static children instead`,type:{name:"func"}}}};const K=e.forwardRef((E,g)=>{const{className:S="",skipButtonLabel:c="Skip",previousButtonLabel:u="Back",nextButtonLabel:b="Next",startButtonLabel:i="Get Started",actionButtonRenderer:p,onAction:h,...l}=E,C=`${r}--footer`,{handleClose:B,progStep:o,handleGotoStep:R,stepCount:d,disableButtonConfig:m,isFullScreen:N}=t.useContext(j),y=t.useRef(null),v=t.useRef(null),[a,T]=t.useState(""),f=!!d,L=0,k=d-1;t.useEffect(()=>{o+1===d&&y.current&&y.current.focus()},[o]);const s=async q=>{if(T(q),await h?.(q,{handleGotoStep:R,progStep:o,stepCount:d,disableButtonConfig:m}),T(""),q==="next"||q==="back"){const O=ie(o+(q==="next"?1:-1),L,k);R?.(O)}else B?.(q)},w=()=>s("start"),P=()=>s("skip"),$=()=>s("next"),H=()=>s("back"),z=t.useMemo(()=>a!=="start"&&f&&o===k?{renderIcon:Y}:{},[a,f,o,k]),A=()=>e.createElement(e.Fragment,null,f&&c!==""&&e.createElement(D,{className:`${r}--skip-btn`,kind:"ghost",size:"lg",title:c,onClick:P,disabled:m?.skip},c,a==="skip"&&e.createElement(_,null)),e.createElement("div",{className:`${r}--footer-controls`},f&&o>0&&e.createElement(D,{className:`${r}--prev-btn`,kind:"secondary",size:"lg",title:u,disabled:m?.back,onClick:H},u,a==="back"&&e.createElement(_,null)),f&&o<k&&e.createElement(D,{className:`${r}--next-btn`,renderIcon:a!=="next"?Y:void 0,ref:v,size:"lg",title:b,disabled:m?.next,onClick:$},b,a==="next"&&e.createElement(_,null)),(f&&o===k||!f)&&e.createElement(D,{className:`${r}--start-btn`,ref:y,size:"lg",title:i,disabled:m?.start,onClick:w,...z},i,a==="start"&&e.createElement(_,null))));return p?e.createElement("div",{className:`${r}--footer`},p({handleGotoStep:R,progStep:o,stepCount:d,disableButtonConfig:m})):N?e.createElement("div",{ref:g,className:`${C} ${S}`,...F("InterstitialScreenFooter"),...N?l:{}},A()):e.createElement(te,{className:C,ref:g,...l},A())});K.propTypes={actionButtonRenderer:n.func,className:n.string,nextButtonLabel:n.string,onAction:n.func,previousButtonLabel:n.string,skipButtonLabel:n.string,startButtonLabel:n.string};K.__docgenInfo={description:"",methods:[],displayName:"InterstitialScreenFooter",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},previousButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the Previous button.",type:{name:"string"}},skipButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the skip button.",type:{name:"string"}},startButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the start button.",type:{name:"string"}},nextButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the Next button.",type:{name:"string"}},actionButtonRenderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(config: actionButtonRendererArgs) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  handleGotoStep?: (value: number) => void;
  progStep?: number;
  stepCount?: number;
  disableButtonConfig?: disableButtonConfigType;
}`,signature:{properties:[{key:"handleGotoStep",value:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}},required:!1}},{key:"progStep",value:{name:"number",required:!1}},{key:"stepCount",value:{name:"number",required:!1}},{key:"disableButtonConfig",value:{name:"signature",type:"object",raw:`{
  skip?: boolean;
  back?: boolean;
  next?: boolean;
  start?: boolean;
}`,signature:{properties:[{key:"skip",value:{name:"boolean",required:!1}},{key:"back",value:{name:"boolean",required:!1}},{key:"next",value:{name:"boolean",required:!1}},{key:"start",value:{name:"boolean",required:!1}}]},required:!1}}]}},name:"config"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:`This is an optional callback prop that allows to render your custom footer action buttons.
note: this is applicable when not using custom actionButtonRenderer`,type:{name:"func"}},onAction:{required:!1,tsType:{name:"signature",type:"function",raw:"(actionName: ActionType, config: actionButtonRendererArgs) => void",signature:{arguments:[{type:{name:"union",raw:"'close' | 'start' | 'skip' | 'back' | 'next'",elements:[{name:"literal",value:"'close'"},{name:"literal",value:"'start'"},{name:"literal",value:"'skip'"},{name:"literal",value:"'back'"},{name:"literal",value:"'next'"}]},name:"actionName"},{type:{name:"signature",type:"object",raw:`{
  handleGotoStep?: (value: number) => void;
  progStep?: number;
  stepCount?: number;
  disableButtonConfig?: disableButtonConfigType;
}`,signature:{properties:[{key:"handleGotoStep",value:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}},required:!1}},{key:"progStep",value:{name:"number",required:!1}},{key:"stepCount",value:{name:"number",required:!1}},{key:"disableButtonConfig",value:{name:"signature",type:"object",raw:`{
  skip?: boolean;
  back?: boolean;
  next?: boolean;
  start?: boolean;
}`,signature:{properties:[{key:"skip",value:{name:"boolean",required:!1}},{key:"back",value:{name:"boolean",required:!1}},{key:"next",value:{name:"boolean",required:!1}},{key:"start",value:{name:"boolean",required:!1}}]},required:!1}}]}},name:"config"}],return:{name:"void"}}},description:"optional asynchronous callback on action button click",type:{name:"func"}}}};const G="InterstitialScreen";let x=e.forwardRef((E,g)=>{const{children:S,className:c,ariaLabel:u="Interstitial screen",isFullScreen:b=!1,open:i=!1,launcherButtonRef:p,onClose:h,...l}=E,C=t.useRef(null),B=g||C,o=t.useRef(void 0),R=t.useRef(void 0),d=t.useRef(void 0),[m,N]=t.useState(null),[y,v]=t.useState(0),a=t.useRef(null),[T,f]=t.useState(0),[L,k]=t.useState({skip:!1,back:!1,next:!1,start:!1}),s=b?`${r}--full-screen`:`${r}--modal`,[w,P]=t.useState(null),$=t.useCallback(I=>{v(0),h?.(I??"close")},[h]);if(t.useEffect(()=>{i||v(0),R.current?.focus()},[i,y,h]),t.useEffect(()=>{N(!b&&i?"is-visible":null),d?.current?.focus(),!i&&p&&setTimeout(()=>{p.current.focus()},0)},[p,b,i]),t.useEffect(()=>{const I=O=>{const{key:J}=O;J==="Escape"&&$("close")};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[$]),!i)return null;const H=()=>e.createElement(U,{enableExperimentalFocusWrapWithoutSentinels:!0},e.createElement(ne,{...l,preventCloseOnClickOutside:!0,className:M(r,c),size:"lg",onClose:$,open:i,ref:B,"aria-label":u,...F(G)},S)),z=()=>e.createElement("div",{...l,className:M(r,c,s,m),role:"main","aria-label":u,ref:g,...F(G)},e.createElement("div",{className:`${r}--container`},S)),A=I=>{v(I),o.current.scrollToView(I),q()},q=()=>{a.current?.scroll?.({top:0,behavior:"smooth"})};return e.createElement(j.Provider,{value:{bodyChildrenData:w,setBodyChildrenData:P,isFullScreen:b,handleClose:$,progStep:y,setProgStep:v,bodyScrollRef:a,scrollRef:o,handleGotoStep:A,stepCount:T,setStepCount:f,disableButtonConfig:L,setDisableButtonConfig:k}},b?z():H())});x.Header=W;x.Body=V;x.Footer=K;x=Z.checkComponentEnabled(x,G);x.displayName=G;x.propTypes={ariaLabel:n.string,children:n.node,className:n.string,closeIconDescription:n.string,isFullScreen:n.bool,launcherButtonRef:n.any,onClose:n.func,open:n.bool};x.__docgenInfo={description:`InterstitialScreen can be a full page or an overlay, and are
shown on the first time a user accesses a new experience
(e.g. upon first login or first time opening a page where a
newly purchased capability is presented).`,methods:[],displayName:"InterstitialScreen",props:{children:{required:!1,tsType:{name:"ReactNode"},description:"Provide the contents of the InterstitialScreen.",type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},ariaLabel:{required:!1,tsType:{name:"string"},description:"The aria label applied to the Interstitial Screen component",type:{name:"string"}},isFullScreen:{required:!1,tsType:{name:"boolean"},description:`Specifies whether the component is shown as a full-screen
experience, else it is shown as a modal by default.`,type:{name:"bool"}},open:{required:!1,tsType:{name:"boolean"},description:"Specifies whether the component is currently open.",type:{name:"bool"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: ActionType) => void",signature:{arguments:[{type:{name:"union",raw:"'close' | 'start' | 'skip' | 'back' | 'next'",elements:[{name:"literal",value:"'close'"},{name:"literal",value:"'start'"},{name:"literal",value:"'skip'"},{name:"literal",value:"'back'"},{name:"literal",value:"'next'"}]},name:"value"}],return:{name:"void"}}},description:"Function to call when the close button is clicked.",type:{name:"func"}},launcherButtonRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"HTMLElement"}],raw:"RefObject<HTMLElement>"},description:"Provide a ref to return focus to once the interstitial is closed.",type:{name:"any"}},closeIconDescription:{description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"},required:!1}}};export{x as I};
