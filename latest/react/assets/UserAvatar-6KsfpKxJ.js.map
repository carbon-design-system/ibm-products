{"version":3,"file":"UserAvatar-6KsfpKxJ.js","sources":["../../src/components/UserAvatar/UserAvatar.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2024, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React from 'react';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg /*, carbon */ } from '../../settings';\n\nimport { Tooltip, usePrefix } from '@carbon/react';\nimport { TooltipTrigger } from '../TooltipTrigger';\nimport { User } from '@carbon/react/icons';\nimport '../../global/js/utils/props-helper';\n// Carbon and package components we use.\n/* TODO: @import(s) of carbon components and other package components. */\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--user-avatar`;\nconst componentName = 'UserAvatar';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\n/**\n * TODO: A description of the component.\n */\ntype BackgroundColor =\n  | 'order-1-cyan'\n  | 'order-2-gray'\n  | 'order-3-green'\n  | 'order-4-magenta'\n  | 'order-5-purple'\n  | 'order-6-teal'\n  | 'order-7-cyan'\n  | 'order-8-gray'\n  | 'order-9-green'\n  | 'order-10-magenta'\n  | 'order-11-purple'\n  | 'order-12-teal';\ntype Size = 'xl' | 'lg' | 'md' | 'sm';\ntype TooltipAlignment =\n  | 'top'\n  | 'top-left'\n  | 'top-right'\n  | 'bottom'\n  | 'bottom-left'\n  | 'bottom-right'\n  | 'left'\n  | 'right';\n\ntype ImageProps =\n  | {\n      /**\n       * When passing the image prop, supply a full path to the image to be displayed.\n       */\n      image: string;\n      /**\n       * When passing the image prop use the imageDescription prop to describe the image for screen reader.\n       */\n      imageDescription: string;\n    }\n  | {\n      image?: never;\n      imageDescription?: never;\n    };\n\ntype UserAvatarBaseProps = {\n  /**\n   * Provide the background color need to be set for UserAvatar.\n   */\n  backgroundColor?: BackgroundColor;\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n\n  /**\n   * When passing the name prop, either send the initials to be used or the user's full name. The first two capital letters of the user's name will be used as the name.\n   */\n  name?: string;\n  /**\n   * Provide a custom icon to use if you need to use an icon other than the default one\n   */\n  renderIcon?: React.ElementType | string;\n  /**\n   * Set the size of the avatar circle\n   */\n  size?: Size;\n  /**\n   * Specify how the trigger should align with the tooltip\n   */\n  tooltipAlignment?: TooltipAlignment;\n  /**\n   * Pass in the display name to have it shown on hover\n   */\n  tooltipText?: string;\n};\n\ntype UserAvatarProps = UserAvatarBaseProps & ImageProps;\n\nexport const UserAvatar = React.forwardRef<HTMLDivElement, UserAvatarProps>(\n  (props, ref) => {\n    const {\n      backgroundColor = 'order-1-cyan',\n      className,\n      image,\n      imageDescription,\n      name,\n      /* TODO: add other props for UserAvatar, with default values if needed */\n      renderIcon: RenderIcon,\n      size = 'md',\n      tooltipText,\n      tooltipAlignment = 'bottom',\n      ...rest\n    } = props;\n    const carbonPrefix = usePrefix();\n    const iconSize = {\n      sm: 16,\n      md: 20,\n      lg: 24,\n      xl: 32,\n    };\n    const formatInitials = () => {\n      const parts = name?.split(' ') || [];\n      const firstChar = parts[0].charAt(0).toUpperCase();\n      const secondChar = parts[0].charAt(1).toUpperCase();\n      if (parts.length === 1) {\n        return firstChar + secondChar;\n      }\n      const lastChar = parts[parts.length - 1].charAt(0).toUpperCase();\n      const initials = [firstChar];\n      if (lastChar) {\n        initials.push(lastChar);\n      }\n      return ''.concat(...initials);\n    };\n    const getItem = () => {\n      const iconProps = { size: iconSize[size] };\n      if (image) {\n        return (\n          <img\n            alt={imageDescription}\n            src={image}\n            className={`${blockClass}__photo ${blockClass}__photo--${size}`}\n          />\n        );\n      }\n      if (RenderIcon) {\n        return <RenderIcon {...iconProps} />;\n      }\n      if (name) {\n        return formatInitials();\n      }\n      return <User {...iconProps} />;\n    };\n\n    const Avatar = () => (\n      <div\n        {\n          // Pass through any other property values as HTML attributes.\n          ...rest\n        }\n        className={cx(\n          blockClass, // Apply the block class to the main HTML element\n          className, // Apply any supplied class names to the main HTML element.\n          `${blockClass}--${backgroundColor}`,\n          `${blockClass}--${size}`,\n          // example: `${blockClass}__template-string-class-${kind}-n-${size}`,\n          {\n            // switched classes dependant on props or state\n            // example: [`${blockClass}__here-if-small`]: size === 'sm',\n          }\n        )}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n      >\n        {getItem()}\n      </div>\n    );\n\n    if (tooltipText) {\n      return (\n        <Tooltip\n          align={tooltipAlignment}\n          label={tooltipText}\n          className={`${blockClass}__tooltip ${carbonPrefix}--icon-tooltip`}\n        >\n          {/**@ts-ignore */}\n          <TooltipTrigger>\n            <Avatar />\n          </TooltipTrigger>\n        </Tooltip>\n      );\n    }\n    return <Avatar />;\n  }\n);\n\n// Return a placeholder if not released and not enabled by feature flag\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nUserAvatar.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nUserAvatar.propTypes = {\n  /**\n   * Provide the background color need to be set for UserAvatar. Background color will be set based on lighter or darker theme.\n   * For example: if you select order-5-purple, it will take $purple-60 for lighter theme and $purple-50 for darker theme.\n   */\n  backgroundColor: PropTypes.oneOf([\n    'order-1-cyan',\n    'order-2-gray',\n    'order-3-green',\n    'order-4-magenta',\n    'order-5-purple',\n    'order-6-teal',\n    'order-7-cyan',\n    'order-8-gray',\n    'order-9-green',\n    'order-10-magenta',\n    'order-11-purple',\n    'order-12-teal',\n  ]),\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   * When passing the image prop, supply a full path to the image to be displayed.\n   */\n  /**@ts-ignore */\n  image: PropTypes.string,\n  /**\n   * When passing the image prop use the imageDescription prop to describe the image for screen reader.\n   */\n  /**@ts-ignore */\n  imageDescription: PropTypes.string,\n  /**\n   * When passing the name prop, either send the initials to be used or the user's full name. The first two capital letters of the user's name will be used as the name.\n   */\n  name: PropTypes.string,\n  /**\n   * Provide a custom icon to use if you need to use an icon other than the default one\n   */\n  /**@ts-ignore */\n  renderIcon: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.object,\n    PropTypes.string,\n  ]),\n  /**\n   * Set the size of the avatar circle\n   */\n  size: PropTypes.oneOf(['xl', 'lg', 'md', 'sm']),\n  /**\n   * Specify how the trigger should align with the tooltip\n   */\n  tooltipAlignment: PropTypes.oneOf([\n    'top',\n    'top-left',\n    'top-right',\n    'bottom',\n    'bottom-left',\n    'bottom-right',\n    'left',\n    'right',\n  ]),\n  /**\n   * Pass in the display name to have it shown on hover\n   */\n  tooltipText: PropTypes.string,\n  /* TODO: add types and DocGen for all props. */\n};\n"],"names":["blockClass","pkg","componentName","UserAvatar","React","props","ref","backgroundColor","className","image","imageDescription","name","RenderIcon","size","tooltipText","tooltipAlignment","rest","carbonPrefix","usePrefix","iconSize","formatInitials","parts","firstChar","secondChar","lastChar","initials","getItem","iconProps","User","Avatar","cx","getDevtoolsProps","Tooltip","TooltipTrigger","PropTypes"],"mappings":"oNAyBA,MAAMA,EAAa,GAAGC,EAAI,MAAM,gBAC1BC,EAAgB,aAiFTC,EAAaC,EAAM,WAC9B,CAACC,EAAOC,IAAQ,CACd,KAAM,CACJ,gBAAAC,EAAkB,eAClB,UAAAC,EACA,MAAAC,EACA,iBAAAC,EACA,KAAAC,EAEA,WAAYC,EACZ,KAAAC,EAAO,KACP,YAAAC,EACA,iBAAAC,EAAmB,SACnB,GAAGC,CAAA,EACDX,EACEY,EAAeC,EAAA,EACfC,EAAW,CACf,GAAI,GACJ,GAAI,GACJ,GAAI,GACJ,GAAI,EAAA,EAEAC,EAAiB,IAAM,CAC3B,MAAMC,EAAQV,GAAM,MAAM,GAAG,GAAK,CAAA,EAC5BW,EAAYD,EAAM,CAAC,EAAE,OAAO,CAAC,EAAE,YAAA,EAC/BE,EAAaF,EAAM,CAAC,EAAE,OAAO,CAAC,EAAE,YAAA,EACtC,GAAIA,EAAM,SAAW,EACnB,OAAOC,EAAYC,EAErB,MAAMC,EAAWH,EAAMA,EAAM,OAAS,CAAC,EAAE,OAAO,CAAC,EAAE,YAAA,EAC7CI,EAAW,CAACH,CAAS,EAC3B,OAAIE,GACFC,EAAS,KAAKD,CAAQ,EAEjB,GAAG,OAAO,GAAGC,CAAQ,CAC9B,EACMC,EAAU,IAAM,CACpB,MAAMC,EAAY,CAAE,KAAMR,EAASN,CAAI,CAAA,EACvC,OAAIJ,EAEAL,EAAA,cAAC,MAAA,CACC,IAAKM,EACL,IAAKD,EACL,UAAW,GAAGT,CAAU,WAAWA,CAAU,YAAYa,CAAI,EAAA,CAAA,EAI/DD,EACKR,EAAA,cAACQ,EAAA,CAAY,GAAGe,CAAA,CAAW,EAEhChB,EACKS,EAAA,EAEFhB,EAAA,cAACwB,EAAA,CAAM,GAAGD,CAAA,CAAW,CAC9B,EAEME,EAAS,IACbzB,EAAA,cAAC,MAAA,CAGG,GAAGY,EAEL,UAAWc,EACT9B,EACAQ,EACA,GAAGR,CAAU,KAAKO,CAAe,GACjC,GAAGP,CAAU,KAAKa,CAAI,GAEtB,CAAA,CAGA,EAEF,IAAAP,EACC,GAAGyB,EAAiB7B,CAAa,CAAA,EAEjCwB,EAAA,CAAQ,EAIb,OAAIZ,EAEAV,EAAA,cAAC4B,EAAA,CACC,MAAOjB,EACP,MAAOD,EACP,UAAW,GAAGd,CAAU,aAAaiB,CAAY,gBAAA,EAGjDb,EAAA,cAAC6B,EAAA,KACC7B,EAAA,cAACyB,EAAA,IAAO,CACV,CAAA,kBAIEA,EAAA,IAAO,CACjB,CACF,EAMA1B,EAAW,YAAcD,EAKzBC,EAAW,UAAY,CAKrB,gBAAiB+B,EAAU,MAAM,CAC/B,eACA,eACA,gBACA,kBACA,iBACA,eACA,eACA,eACA,gBACA,mBACA,kBACA,eAAA,CACD,EAID,UAAWA,EAAU,OAKrB,MAAOA,EAAU,OAKjB,iBAAkBA,EAAU,OAI5B,KAAMA,EAAU,OAKhB,WAAYA,EAAU,UAAU,CAC9BA,EAAU,KACVA,EAAU,OACVA,EAAU,MAAA,CACX,EAID,KAAMA,EAAU,MAAM,CAAC,KAAM,KAAM,KAAM,IAAI,CAAC,EAI9C,iBAAkBA,EAAU,MAAM,CAChC,MACA,WACA,YACA,SACA,cACA,eACA,OACA,OAAA,CACD,EAID,YAAaA,EAAU,MAEzB;;;;;;;;;;;;;;;;;;"}