{/* <!-- `position:fixed` cause rendering issues, so do not render the modal --> */}

import { Story, Controls, Canvas } from '@storybook/addon-docs/blocks';
import { CodesandboxLink } from '../../global/js/utils/story-helper';

# Feature flags

[Source code](https://github.com/carbon-design-system/ibm-products/tree/main/packages/react/src/components/FeatureFlags)

## Current feature flags

Below is a list of the current feature flags existing within
`@carbon/ibm-products`. As the library continues to grow and evolve, any future
feature flags will be updated within this table.

| Flag                                  | Description                                                | Default |
| ------------------------------------- | ---------------------------------------------------------- | ------- |
| `default-portal-target-body`          | Enable the default portal target to be the document's body | `true`  |
| `enable-datagrid-useInlineEdit`       | Enable the Datagrid `useInlineEdit` extension              | `false` |
| `enable-datagrid-useEditableCell`     | Enable the Datagrid `useEditableCell` extension            | `false` |
| `enable-datagrid-useCustomizeColumns` | Enable the Datagrid `useCustomizeColumns` extension        | `false` |

## Turning on feature flags in Javascript/react

Use the FeatureFlag component to turn on a feature flag for a portion of your
application's react tree. Multiple feature flags can be configured at the same
time.

```jsx
import { preview__FeatureFlags as FeatureFlags } from '@carbon/ibm-products';

<FeatureFlags
  flags={{
    'default-portal-target-body': true,
    'enable-a-second-feature-flag': true,
  }}
>
  <Tile />
</FeatureFlags>;
```

The `FeatureFlag` component can be placed at any point in your react tree and
will impact all children components. You can turn on feature flags for your
entire app, or only certain pages/routes/sections of your application.

```jsx
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import { preview__FeatureFlags as FeatureFlags } from '@carbon/ibm-products';
import App from './App';

const root = createRoot(document.getElementById('root'));
root.render(
  <StrictMode>
    <FeatureFlags flags={{ 'default-portal-target-body': true }}>
      <App />
    </FeatureFlags>
  </StrictMode>
);
```
