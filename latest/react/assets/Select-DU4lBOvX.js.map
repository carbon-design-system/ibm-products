{"version":3,"file":"Select-DU4lBOvX.js","sources":["../../../../node_modules/@carbon/react/es/components/Select/Select.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport PropTypes from 'prop-types';\nimport React, { useContext, useState, cloneElement } from 'react';\nimport cx from 'classnames';\nimport { ChevronDown, WarningFilled, WarningAltFilled } from '@carbon/icons-react';\nimport { deprecate } from '../../prop-types/deprecate.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport '../FluidForm/FluidForm.js';\nimport { FormContext } from '../FluidForm/FormContext.js';\nimport { useId } from '../../internal/useId.js';\nimport { composeEventHandlers } from '../../tools/events.js';\nimport { Text } from '../Text/Text.js';\nimport '../Text/TextDirection.js';\nimport { AILabel } from '../AILabel/index.js';\nimport { isComponentElement } from '../../internal/utils.js';\n\nconst Select = /*#__PURE__*/React.forwardRef(({\n  className,\n  decorator,\n  id,\n  inline = false,\n  labelText = 'Select',\n  disabled = false,\n  children,\n  // reserved for use with Pagination component\n  noLabel = false,\n  hideLabel = false,\n  invalid = false,\n  invalidText = '',\n  helperText = '',\n  light = false,\n  readOnly,\n  size,\n  warn = false,\n  warnText,\n  onChange,\n  slug,\n  ...other\n}, ref) => {\n  const prefix = usePrefix();\n  const {\n    isFluid\n  } = useContext(FormContext);\n  const [isFocused, setIsFocused] = useState(false);\n  const selectInstanceId = useId();\n  // Convert children to an array of valid elements once using type narrowing\n  const validChildren = React.Children.toArray(children).filter(child => /*#__PURE__*/React.isValidElement(child));\n\n  // Find the default option based on the specified defaultValue or value\n  const selectedValue = other?.value || other?.defaultValue;\n  const selectedOption = validChildren.find(child => child.props?.value === selectedValue);\n\n  // Use the provided title prop, or the selected option's text if available;\n  // otherwise, fallback to the first option's text\n  const initialTitle = other?.title || selectedOption?.props?.text || validChildren[0]?.props?.text || '';\n  const [title, setTitle] = useState(initialTitle);\n  const selectClasses = cx({\n    [`${prefix}--select`]: true,\n    [`${prefix}--select--inline`]: inline,\n    [`${prefix}--select--light`]: light,\n    [`${prefix}--select--invalid`]: invalid,\n    [`${prefix}--select--disabled`]: disabled,\n    [`${prefix}--select--readonly`]: readOnly,\n    [`${prefix}--select--warning`]: warn,\n    [`${prefix}--select--fluid--invalid`]: isFluid && invalid,\n    [`${prefix}--select--fluid--focus`]: isFluid && isFocused,\n    [`${prefix}--select--slug`]: slug,\n    [`${prefix}--select--decorator`]: decorator\n  });\n  const labelClasses = cx(`${prefix}--label`, {\n    [`${prefix}--visually-hidden`]: hideLabel,\n    [`${prefix}--label--disabled`]: disabled\n  });\n  const inputClasses = cx({\n    [`${prefix}--select-input`]: true,\n    [`${prefix}--select-input--${size}`]: size\n  });\n  const errorId = `${id}-error-msg`;\n  const errorText = (() => {\n    if (invalid) {\n      return invalidText;\n    }\n    if (warn) {\n      return warnText;\n    }\n  })();\n  const error = invalid || warn ? /*#__PURE__*/React.createElement(Text, {\n    as: \"div\",\n    className: `${prefix}--form-requirement`,\n    id: errorId\n  }, errorText) : null;\n  const helperTextClasses = cx(`${prefix}--form__helper-text`, {\n    [`${prefix}--form__helper-text--disabled`]: disabled\n  });\n  const helperId = !helperText ? undefined : `select-helper-text-${selectInstanceId}`;\n  const helper = helperText ? /*#__PURE__*/React.createElement(Text, {\n    as: \"div\",\n    id: helperId,\n    className: helperTextClasses\n  }, helperText) : null;\n  const ariaProps = {};\n  if (invalid) {\n    ariaProps['aria-describedby'] = errorId;\n  } else if (!inline && !isFluid) {\n    ariaProps['aria-describedby'] = helper ? helperId : undefined;\n  }\n  const handleFocus = evt => {\n    setIsFocused(evt.type === 'focus' ? true : false);\n  };\n  const handleChange = evt => {\n    const selectedOption = evt?.target?.options[evt.target.selectedIndex];\n    setTitle(selectedOption?.text);\n  };\n  const readOnlyEventHandlers = {\n    onMouseDown: evt => {\n      // NOTE: does not prevent click\n      if (readOnly) {\n        evt.preventDefault();\n        // focus on the element as per readonly input behavior\n        evt.target.focus();\n      }\n    },\n    onKeyDown: evt => {\n      const selectAccessKeys = ['ArrowDown', 'ArrowUp', ' '];\n      // This prevents the select from opening for the above keys\n      if (readOnly && selectAccessKeys.includes(evt.key)) {\n        evt.preventDefault();\n      }\n    }\n  };\n\n  // AILabel always size `mini`\n  const candidate = slug ?? decorator;\n  const candidateIsAILabel = isComponentElement(candidate, AILabel);\n  const normalizedDecorator = candidateIsAILabel ? /*#__PURE__*/cloneElement(candidate, {\n    size: 'mini'\n  }) : candidate;\n  const input = (() => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"select\", _extends({}, other, ariaProps, {\n      id: id,\n      className: inputClasses,\n      disabled: disabled || undefined,\n      \"aria-invalid\": invalid || undefined,\n      \"aria-readonly\": readOnly || undefined,\n      title: title,\n      onChange: composeEventHandlers([onChange, handleChange])\n    }, readOnlyEventHandlers, {\n      ref: ref\n    }), children), /*#__PURE__*/React.createElement(ChevronDown, {\n      className: `${prefix}--select__arrow`\n    }), invalid && /*#__PURE__*/React.createElement(WarningFilled, {\n      className: `${prefix}--select__invalid-icon`\n    }), !invalid && warn && /*#__PURE__*/React.createElement(WarningAltFilled, {\n      className: `${prefix}--select__invalid-icon ${prefix}--select__invalid-icon--warning`\n    }));\n  })();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(`${prefix}--form-item`, className)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: selectClasses\n  }, !noLabel && /*#__PURE__*/React.createElement(Text, {\n    as: \"label\",\n    htmlFor: id,\n    className: labelClasses\n  }, labelText), inline && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--select-input--inline__wrapper`\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--select-input__wrapper`,\n    \"data-invalid\": invalid || null\n  }, input), error), !inline && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--select-input__wrapper`,\n    \"data-invalid\": invalid || null,\n    onFocus: handleFocus,\n    onBlur: handleFocus\n  }, input, slug ? normalizedDecorator : decorator ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--select__inner-wrapper--decorator`\n  }, normalizedDecorator) : '', isFluid && /*#__PURE__*/React.createElement(\"hr\", {\n    className: `${prefix}--select__divider`\n  }), isFluid && error ? error : null), !inline && !isFluid && error ? error : helper));\n});\nSelect.displayName = 'Select';\nSelect.propTypes = {\n  /**\n   * Provide the contents of your Select\n   */\n  children: PropTypes.node,\n  /**\n   * Specify an optional className to be applied to the node containing the label and the select box\n   */\n  className: PropTypes.string,\n  /**\n   * **Experimental**: Provide a decorator component to be rendered inside the `Select` component\n   */\n  decorator: PropTypes.node,\n  /**\n   * Optionally provide the default value of the `<select>`\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * Specify whether the control is disabled\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Provide text that is used alongside the control label for additional help\n   */\n  helperText: PropTypes.node,\n  /**\n   * Specify whether the label should be hidden, or not\n   */\n  hideLabel: PropTypes.bool,\n  /**\n   * Specify a custom `id` for the `<select>`\n   */\n  id: PropTypes.string.isRequired,\n  /**\n   * Specify whether you want the inline version of this control\n   */\n  inline: PropTypes.bool,\n  /**\n   * Specify if the currently value is invalid.\n   */\n  invalid: PropTypes.bool,\n  /**\n   * Message which is displayed if the value is invalid.\n   */\n  invalidText: PropTypes.node,\n  /**\n   * Provide label text to be read by screen readers when interacting with the\n   * control\n   */\n  labelText: PropTypes.node,\n  /**\n   * `true` to use the light version. For use on $ui-01 backgrounds only.\n   * Don't use this to make tile background color same as container background color.\n   */\n  light: deprecate(PropTypes.bool, 'The `light` prop for `Select` is no longer needed and has ' + 'been deprecated in v11 in favor of the new `Layer` component. It will be moved in the next major release.'),\n  /**\n   * Reserved for use with Pagination component. Will not render a label for the\n   * select since Pagination renders one for us.\n   */\n  noLabel: PropTypes.bool,\n  /**\n   * Provide an optional `onChange` hook that is called each time the value of\n   * the underlying `<input>` changes\n   */\n  onChange: PropTypes.func,\n  /**\n   * Whether the select should be read-only\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * Specify the size of the Select Input.\n   */\n  size: PropTypes.oneOf(['sm', 'md', 'lg']),\n  slug: deprecate(PropTypes.node, 'The `slug` prop has been deprecated and will be removed in the next major version. Use the decorator prop instead.'),\n  /**\n   * Specify whether the control is currently in warning state\n   */\n  warn: PropTypes.bool,\n  /**\n   * Provide the text that is displayed when the control is in warning state\n   */\n  warnText: PropTypes.node\n};\n\nexport { Select as default };\n"],"names":["Select","React","className","decorator","id","inline","labelText","disabled","children","noLabel","hideLabel","invalid","invalidText","helperText","light","readOnly","size","warn","warnText","onChange","slug","other","ref","prefix","usePrefix","isFluid","useContext","FormContext","isFocused","setIsFocused","useState","selectInstanceId","useId","validChildren","child","selectedValue","selectedOption","initialTitle","title","setTitle","selectClasses","cx","labelClasses","inputClasses","errorId","errorText","error","Text","helperTextClasses","helperId","helper","ariaProps","handleFocus","evt","handleChange","readOnlyEventHandlers","candidate","normalizedDecorator","isComponentElement","AILabel","cloneElement","input","_extends","composeEventHandlers","ChevronDown","WarningFilled","WarningAltFilled","PropTypes","deprecate"],"mappings":"qUAuBA,MAAMA,EAAsBC,EAAM,WAAW,CAAC,CAC5C,UAAAC,EACA,UAAAC,EACA,GAAAC,EACA,OAAAC,EAAS,GACT,UAAAC,EAAY,SACZ,SAAAC,EAAW,GACX,SAAAC,EAEA,QAAAC,EAAU,GACV,UAAAC,EAAY,GACZ,QAAAC,EAAU,GACV,YAAAC,EAAc,GACd,WAAAC,EAAa,GACb,MAAAC,EAAQ,GACR,SAAAC,EACA,KAAAC,EACA,KAAAC,EAAO,GACP,SAAAC,EACA,SAAAC,EACA,KAAAC,EACA,GAAGC,CACL,EAAGC,IAAQ,CACT,MAAMC,EAASC,GAAA,EACT,CACJ,QAAAC,CAAA,EACEC,EAAAA,WAAWC,EAAW,EACpB,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAK,EAC1CC,EAAmBC,GAAA,EAEnBC,EAAgBhC,EAAM,SAAS,QAAQO,CAAQ,EAAE,OAAO0B,GAAsBjC,EAAM,eAAeiC,CAAK,CAAC,EAGzGC,EAAgBd,GAAO,OAASA,GAAO,aACvCe,EAAiBH,EAAc,QAAcC,EAAM,OAAO,QAAUC,CAAa,EAIjFE,EAAehB,GAAO,OAASe,GAAgB,OAAO,MAAQH,EAAc,CAAC,GAAG,OAAO,MAAQ,GAC/F,CAACK,EAAOC,CAAQ,EAAIT,EAAAA,SAASO,CAAY,EACzCG,EAAgBC,EAAG,CACvB,CAAC,GAAGlB,CAAM,UAAU,EAAG,GACvB,CAAC,GAAGA,CAAM,kBAAkB,EAAGlB,EAC/B,CAAC,GAAGkB,CAAM,iBAAiB,EAAGT,EAC9B,CAAC,GAAGS,CAAM,mBAAmB,EAAGZ,EAChC,CAAC,GAAGY,CAAM,oBAAoB,EAAGhB,EACjC,CAAC,GAAGgB,CAAM,oBAAoB,EAAGR,EACjC,CAAC,GAAGQ,CAAM,mBAAmB,EAAGN,EAChC,CAAC,GAAGM,CAAM,0BAA0B,EAAGE,GAAWd,EAClD,CAAC,GAAGY,CAAM,wBAAwB,EAAGE,GAAWG,EAChD,CAAC,GAAGL,CAAM,gBAAgB,EAAGH,EAC7B,CAAC,GAAGG,CAAM,qBAAqB,EAAGpB,CAAA,CACnC,EACKuC,EAAeD,EAAG,GAAGlB,CAAM,UAAW,CAC1C,CAAC,GAAGA,CAAM,mBAAmB,EAAGb,EAChC,CAAC,GAAGa,CAAM,mBAAmB,EAAGhB,CAAA,CACjC,EACKoC,EAAeF,EAAG,CACtB,CAAC,GAAGlB,CAAM,gBAAgB,EAAG,GAC7B,CAAC,GAAGA,CAAM,mBAAmBP,CAAI,EAAE,EAAGA,CAAA,CACvC,EACK4B,EAAU,GAAGxC,CAAE,aACfyC,GAAa,IAAM,CACvB,GAAIlC,EACF,OAAOC,EAET,GAAIK,EACF,OAAOC,CAEX,GAAA,EACM4B,EAAQnC,GAAWM,EAAoBhB,EAAM,cAAc8C,EAAM,CACrE,GAAI,MACJ,UAAW,GAAGxB,CAAM,qBACpB,GAAIqB,CAAA,EACHC,CAAS,EAAI,KACVG,GAAoBP,EAAG,GAAGlB,CAAM,sBAAuB,CAC3D,CAAC,GAAGA,CAAM,+BAA+B,EAAGhB,CAAA,CAC7C,EACK0C,EAAYpC,EAAyB,sBAAsBkB,CAAgB,GAAlD,OACzBmB,EAASrC,EAA0BZ,EAAM,cAAc8C,EAAM,CACjE,GAAI,MACJ,GAAIE,EACJ,UAAWD,EAAA,EACVnC,CAAU,EAAI,KACXsC,EAAY,CAAA,EACdxC,EACFwC,EAAU,kBAAkB,EAAIP,EACvB,CAACvC,GAAU,CAACoB,IACrB0B,EAAU,kBAAkB,EAAID,EAASD,EAAW,QAEtD,MAAMG,EAAcC,GAAO,CACzBxB,EAAawB,EAAI,OAAS,OAAsB,CAClD,EACMC,GAAeD,GAAO,CAC1B,MAAMjB,EAAiBiB,GAAK,QAAQ,QAAQA,EAAI,OAAO,aAAa,EACpEd,EAASH,GAAgB,IAAI,CAC/B,EACMmB,GAAwB,CAC5B,YAAaF,GAAO,CAEdtC,IACFsC,EAAI,eAAA,EAEJA,EAAI,OAAO,MAAA,EAEf,EACA,UAAWA,GAAO,CAGZtC,GAFqB,CAAC,YAAa,UAAW,GAAG,EAEpB,SAASsC,EAAI,GAAG,GAC/CA,EAAI,eAAA,CAER,CAAA,EAIIG,EAAYpC,GAAQjB,EAEpBsD,EADqBC,GAAmBF,EAAWG,EAAO,EACFC,EAAAA,aAAaJ,EAAW,CACpF,KAAM,MAAA,CACP,EAAIA,EACCK,EACgB5D,EAAM,cAAcA,EAAM,SAAU,KAAmBA,EAAM,cAAc,SAAU6D,GAAS,GAAIzC,EAAO8B,EAAW,CACtI,GAAA/C,EACA,UAAWuC,EACX,SAAUpC,GAAY,OACtB,eAAgBI,GAAW,OAC3B,gBAAiBI,GAAY,OAC7B,MAAAuB,EACA,SAAUyB,GAAqB,CAAC5C,EAAUmC,EAAY,CAAC,CAAA,EACtDC,GAAuB,CACxB,IAAAjC,CAAA,CACD,EAAGd,CAAQ,EAAgBP,EAAM,cAAc+D,GAAa,CAC3D,UAAW,GAAGzC,CAAM,iBAAA,CACrB,EAAGZ,GAAwBV,EAAM,cAAcgE,GAAe,CAC7D,UAAW,GAAG1C,CAAM,wBAAA,CACrB,EAAG,CAACZ,GAAWM,GAAqBhB,EAAM,cAAciE,GAAkB,CACzE,UAAW,GAAG3C,CAAM,0BAA0BA,CAAM,iCAAA,CACrD,CAAC,EAEJ,OAAoBtB,EAAM,cAAc,MAAO,CAC7C,UAAWwC,EAAG,GAAGlB,CAAM,cAAerB,CAAS,CAAA,EACjCD,EAAM,cAAc,MAAO,CACzC,UAAWuC,CAAA,EACV,CAAC/B,GAAwBR,EAAM,cAAc8C,EAAM,CACpD,GAAI,QACJ,QAAS3C,EACT,UAAWsC,CAAA,EACVpC,CAAS,EAAGD,GAAuBJ,EAAM,cAAc,MAAO,CAC/D,UAAW,GAAGsB,CAAM,iCAAA,EACNtB,EAAM,cAAc,MAAO,CACzC,UAAW,GAAGsB,CAAM,0BACpB,eAAgBZ,GAAW,IAAA,EAC1BkD,CAAK,EAAGf,CAAK,EAAG,CAACzC,GAAuBJ,EAAM,cAAc,MAAO,CACpE,UAAW,GAAGsB,CAAM,0BACpB,eAAgBZ,GAAW,KAC3B,QAASyC,EACT,OAAQA,CAAA,EACPS,EAAOzC,EAAOqC,EAAsBtD,EAAyBF,EAAM,cAAc,MAAO,CACzF,UAAW,GAAGsB,CAAM,oCAAA,EACnBkC,CAAmB,EAAI,GAAIhC,GAAwBxB,EAAM,cAAc,KAAM,CAC9E,UAAW,GAAGsB,CAAM,mBAAA,CACrB,EAAGE,GAAWqB,EAAQA,EAAQ,IAAI,EAAG,CAACzC,GAAU,CAACoB,GAAWqB,EAAQA,EAAQI,CAAM,CAAC,CACtF,CAAC,EACDlD,EAAO,YAAc,SACrBA,EAAO,UAAY,CAIjB,SAAUmE,EAAU,KAIpB,UAAWA,EAAU,OAIrB,UAAWA,EAAU,KAIrB,aAAcA,EAAU,IAIxB,SAAUA,EAAU,KAIpB,WAAYA,EAAU,KAItB,UAAWA,EAAU,KAIrB,GAAIA,EAAU,OAAO,WAIrB,OAAQA,EAAU,KAIlB,QAASA,EAAU,KAInB,YAAaA,EAAU,KAKvB,UAAWA,EAAU,KAKrB,MAAOC,EAAUD,EAAU,IAAgL,EAK3M,QAASA,EAAU,KAKnB,SAAUA,EAAU,KAIpB,SAAUA,EAAU,KAIpB,KAAMA,EAAU,MAAM,CAAC,KAAM,KAAM,IAAI,CAAC,EACxC,KAAMC,EAAUD,EAAU,IAA0H,EAIpJ,KAAMA,EAAU,KAIhB,SAAUA,EAAU,IACtB","x_google_ignoreList":[0]}