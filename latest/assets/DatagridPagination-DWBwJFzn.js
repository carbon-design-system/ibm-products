import{e as n,r as u}from"./index-CPiZ6Cnx.js";import{b as pe,o as me,c as I,_ as de,P as e}from"./index-BPCFiO9b.js";import{S as L}from"./Select-BWpV_5r9.js";import{S as U}from"./SelectItem-klZ169sS.js";import{I as q}from"./settings-41bnSjHp.js";import{i as fe}from"./MultiSelect-CPsAePV3.js";import{C as be,a as xe}from"./bucket-2-Bg39G-BA.js";var M,O;function B(s){return typeof s[0]=="object"&&s[0]!==null?s:s.map(i=>({text:i,value:i}))}function _e(s){let i=1;const p=[];for(;i<=s;)p.push(n.createElement(U,{key:i,value:i,text:String(i)})),i++;return p}function F(s,i){return i&&s.find(d=>i===d.value)?i:s[0].value}const A=n.forwardRef(function(i,p){let{backwardText:d="Previous page",className:v="",disabled:f=!1,forwardText:z="Next page",id:N,isLastPage:j=!1,itemText:G=(t,o)=>`${t}–${o} items`,itemRangeText:k=(t,o,m)=>`${t}–${o} of ${m} items`,itemsPerPageText:H="Items per page:",onChange:c,pageNumberText:Pe="Page Number",pageRangeText:J=(t,o)=>`of ${o} ${o===1?"page":"pages"}`,page:S=1,pageInputDisabled:K,pageSize:P,pageSizeInputDisabled:Q,pageSizes:$,pageText:V=t=>`page ${t}`,pagesUnknown:C=!1,size:w="md",totalItems:g,...W}=i;const a=pe(),T=me(N==null?void 0:N.toString()),b=u.useRef(null),x=u.useRef(null),[E,X]=u.useState(()=>B($)),[Y,Z]=u.useState($),[r,_]=u.useState(S),[ee,te]=u.useState(S),[l,R]=u.useState(()=>F(E,P)),[ae,ne]=u.useState(P),ie=I({[`${a}--pagination`]:!0,[`${a}--pagination--${w}`]:w,[v]:!!v}),h=g?Math.max(Math.ceil(g/l),1):1,y=f||r===1,se=I({[`${a}--pagination__button`]:!0,[`${a}--pagination__button--backward`]:!0,[`${a}--pagination__button--no-index`]:y}),D=f||r===h&&!C,oe=I({[`${a}--pagination__button`]:!0,[`${a}--pagination__button--forward`]:!0,[`${a}--pagination__button--no-index`]:D}),re=_e(h);if(S!==ee&&(_(S),te(S)),P!==ae&&(R(F(E,P)),ne(P)),!fe($,Y)){const t=B($);t.find(m=>m.value===l)||_(1),X(t),Z($)}function le(t){const m={pageSize:Number(t.target.value),page:1};_(m.page),R(m.pageSize),c&&c(m)}function ge(t){const o=Number(t.target.value);o>0&&g&&o<=Math.max(Math.ceil(g/l),1)&&(_(o),c&&c({page:o,pageSize:l}))}function ce(){const t=r+1;_(t),t===h&&(b!=null&&b.current)&&b.current.focus(),c&&c({page:t,pageSize:l,ref:b})}function ue(){const t=r-1;_(t),t===1&&(x!=null&&x.current)&&x.current.focus(),c&&c({page:t,pageSize:l,ref:x})}return n.createElement("div",de({className:ie,ref:p},W),n.createElement("div",{className:`${a}--pagination__left`},n.createElement("label",{id:`${a}-pagination-select-${T}-count-label`,className:`${a}--pagination__text`,htmlFor:`${a}-pagination-select-${T}`},H),n.createElement(L,{id:`${a}-pagination-select-${T}`,className:`${a}--select__item-count`,labelText:"",hideLabel:!0,noLabel:!0,inline:!0,onChange:le,disabled:Q||f,value:l},E.map(t=>n.createElement(U,{key:t.value,value:t.value,text:String(t.text)}))),n.createElement("span",{className:`${a}--pagination__text ${a}--pagination__items-count`},C||!g?g===0?k(0,0,0):G(l*(r-1)+1,r*l):k(Math.min(l*(r-1)+1,g),Math.min(r*l,g),g))),n.createElement("div",{className:`${a}--pagination__right`},C?n.createElement("span",{className:`${a}--pagination__text ${a}--pagination__page-text ${a}--pagination__unknown-pages-text`},V(r)):n.createElement(n.Fragment,null,n.createElement(L,{id:`${a}-pagination-select-${T}-right`,className:`${a}--select__page-number`,labelText:`Page of ${h} pages`,inline:!0,hideLabel:!0,onChange:ge,value:r,disabled:K||f},re),n.createElement("span",{className:`${a}--pagination__text`},J(r,h))),n.createElement("div",{className:`${a}--pagination__control-buttons`},n.createElement(q,{align:"top",disabled:y,kind:"ghost",className:se,label:d,"aria-label":d,onClick:ue,ref:b},M||(M=n.createElement(be,null))),n.createElement(q,{align:"top-end",disabled:D||j,kind:"ghost",className:oe,label:z,"aria-label":z,onClick:ce,ref:x},O||(O=n.createElement(xe,null))))))});A.propTypes={backwardText:e.string,className:e.string,disabled:e.bool,forwardText:e.string,id:e.oneOfType([e.string,e.number]),isLastPage:e.bool,itemRangeText:e.func,itemText:e.func,itemsPerPageText:e.string,onChange:e.func,page:e.number,pageInputDisabled:e.bool,pageNumberText:e.string,pageRangeText:e.func,pageSize:e.number,pageSizeInputDisabled:e.bool,pageSizes:e.oneOfType([e.arrayOf(e.number.isRequired),e.arrayOf(e.shape({text:e.string.isRequired,value:e.number.isRequired}).isRequired)]).isRequired,pageText:e.func,pagesUnknown:e.bool,size:e.oneOf(["sm","md","lg"]),totalItems:e.number};const Se=({state:s,setPageSize:i,gotoPage:p,rows:d})=>{const v=({page:f,pageSize:z})=>{console.log(s),i(z),p(f-1)};return n.createElement(A,{page:s.pageIndex+1,pageSize:s.pageSize,pageSizes:s.pageSizes||[10,20,30,40,50],totalItems:d.length,onChange:v})};Se.__docgenInfo={description:"",methods:[],displayName:"DatagridPagination"};export{Se as D};
