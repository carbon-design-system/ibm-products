import{r as s}from"./index-DtHxqM--.js";const p=(t,g)=>{const[r,u]=s.useState(-1),[o,R]=s.useState(-1),c=s.useRef(null),h=s.useRef(g);return s.useEffect(()=>{h.current=g},[g]),s.useEffect(()=>{const d=()=>{var a,i;if(t.current){const n=window.getComputedStyle(t.current),w=(((a=t.current)==null?void 0:a.offsetWidth)??0)-(typeof(n==null?void 0:n.paddingLeft)=="string"&&(n!=null&&n.paddingLeft.length)?parseFloat(n==null?void 0:n.paddingLeft):0)-(typeof(n==null?void 0:n.paddingRight)=="string"&&(n!=null&&n.paddingRight.length)?parseFloat(n==null?void 0:n.paddingRight):0),b=(((i=t.current)==null?void 0:i.offsetHeight)??0)-(typeof(n==null?void 0:n.paddingTop)=="string"&&(n!=null&&n.paddingTop.length)?parseFloat(n==null?void 0:n.paddingTop):0)-(typeof(n==null?void 0:n.paddingBottom)=="string"&&(n!=null&&n.paddingBottom.length)?parseFloat(n==null?void 0:n.paddingBottom):0);u(w),R(b)}};!(t!=null&&t.current)||r>=0&&o>=0||d()},[r,o]),s.useLayoutEffect(()=>{if(!(t!=null&&t.current))return;const d=()=>{if(!(t!=null&&t.current)||!Array.isArray(c==null?void 0:c.current))return;const i=c.current[0];u(i.contentRect.width),R(i.contentRect.height),h.current&&h.current(i.contentRect)},a=new ResizeObserver(i=>{c.current=i,window.requestAnimationFrame(()=>{d()})});return a.observe(t.current),()=>{a.disconnect()}},[t.current]),{width:r,height:o}};export{p as u};
