{"version":3,"file":"ExpandableRow.stories-CnXCgTNe.js","sources":["../../src/components/Datagrid/Extensions/ExpandableRow/ExpandableRow.docs-page.js","../../src/components/Datagrid/Extensions/ExpandableRow/ExpandableRow.stories.jsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport { StoryDocsPage } from '../../../../global/js/utils/StoryDocsPage';\n\nexport const DocsPage = () => (\n  <StoryDocsPage\n    omitCodedExample\n    blocks={[\n      {\n        description: `The \\`Datagrid\\` supports expandable rows with the use of the \\`useExpandedRow\\` hook.`,\n        source: {\n          language: 'jsx',\n          code: `\nimport { Datagrid, useDatagrid, useExpandedRow } from '@carbon/ibm-products';\n\nconst App = () => {\n  const columns = React.useMemo(() => defaultHeader, []); // These are the columns that will be used by the datagrid\n  const [data] = useState(makeData(10)); // This is the data that will be rendered by the datagrid\n\n  const expansionRenderer = ({ row }) => {\n    return <div>Content for row index: {row.id}</div>;\n  };\n\n  const datagridState = useDatagrid(\n    {\n      columns,\n      data,\n      ExpandedRowContentComponent: expansionRenderer,\n      expanderButtonTitleExpanded: 'Collapse row',\n      expanderButtonTitleCollapsed: 'Expand row',\n    },\n    useExpandedRow\n  );\n\n  return <Datagrid datagridState={datagridState} />;\n};\n          `,\n        },\n      },\n    ]}\n  />\n);\n","/* eslint-disable react-hooks/exhaustive-deps */\n/**\n * Copyright IBM Corp. 2022, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState } from 'react';\nimport { Edit, TrashCan } from '@carbon/react/icons';\nimport { action } from 'storybook/actions';\nimport {\n  Datagrid,\n  useDatagrid,\n  useExpandedRow,\n  useSelectRows,\n  useStickyColumn,\n} from '../../index';\nimport { getBatchActions } from '../../utils/getBatchActions';\nimport styles from '../../_storybook-styles.scss?inline';\nimport { DatagridActions } from '../../utils/DatagridActions';\nimport { DatagridPagination } from '../../utils/DatagridPagination';\nimport { makeData } from '../../utils/makeData';\nimport { ARG_TYPES } from '../../utils/getArgTypes';\nimport { DocsPage } from './ExpandableRow.docs-page';\nimport { usePrefix } from '../../../../global/js/hooks';\n\nexport default {\n  title: 'Deprecated/Datagrid/ExpandableRow',\n  component: Datagrid,\n  tags: ['autodocs'],\n  parameters: {\n    styles,\n    docs: { page: DocsPage },\n    layout: 'fullscreen',\n    argTypes: {\n      featureFlags: {\n        table: {\n          disable: true,\n        },\n      },\n    },\n  },\n};\n\nconst defaultHeader = [\n  {\n    Header: 'Row Index',\n    accessor: (row, i) => i,\n    sticky: 'left',\n    id: 'rowIndex', // id is required when accessor is a function.\n  },\n  {\n    Header: 'First Name',\n    accessor: 'firstName',\n  },\n  {\n    Header: 'Last Name',\n    accessor: 'lastName',\n  },\n  {\n    Header: 'Age',\n    accessor: 'age',\n    width: 50,\n  },\n  {\n    Header: 'Visits',\n    accessor: 'visits',\n    width: 60,\n  },\n  {\n    Header: 'Someone 1',\n    accessor: 'someone1',\n  },\n  {\n    Header: 'Someone 2',\n    accessor: 'someone2',\n  },\n  {\n    Header: 'Someone 3',\n    accessor: 'someone3',\n  },\n  {\n    Header: 'Someone 4',\n    accessor: 'someone4',\n  },\n  {\n    Header: 'Someone 5',\n    accessor: 'someone5',\n  },\n  {\n    Header: 'Someone 6',\n    accessor: 'someone6',\n  },\n  {\n    Header: 'Someone 7',\n    accessor: 'someone7',\n  },\n  {\n    Header: 'Someone 8',\n    accessor: 'someone8',\n  },\n  {\n    Header: 'Someone 9',\n    accessor: 'someone9',\n  },\n  {\n    Header: 'Someone 10',\n    accessor: 'someone10',\n  },\n];\n\nconst sharedDatagridProps = {\n  emptyStateTitle: 'Empty state title',\n  emptyStateDescription: 'Description text explaining why table is empty',\n  emptyStateSize: 'lg',\n  gridTitle: 'Data table title',\n  gridDescription: 'Additional information if needed',\n  useDenseHeader: false,\n  rowSize: 'lg',\n  rowSizes: [\n    {\n      value: 'xl',\n      labelText: 'Extra large',\n    },\n    {\n      value: 'lg',\n      labelText: 'Large',\n    },\n    {\n      value: 'md',\n      labelText: 'Medium',\n    },\n    {\n      value: 'xs',\n      labelText: 'Small',\n    },\n  ],\n  onRowSizeChange: (value) => {\n    console.log('row size changed to: ', value);\n  },\n  rowActions: [\n    {\n      id: 'edit',\n      itemText: 'Edit',\n      icon: Edit,\n      onClick: action('Clicked row action: edit'),\n    },\n\n    {\n      id: 'delete',\n      itemText: 'Delete',\n      icon: TrashCan,\n      isDelete: true,\n      onClick: action('Clicked row action: delete'),\n    },\n  ],\n  expandedContentHeight: 96,\n  expanderButtonTitleExpanded: 'Collapse row',\n  expanderButtonTitleCollapsed: 'Expand row',\n};\n\nconst ExpansionRenderer = ({ row }) => {\n  const prefix = usePrefix();\n  return (\n    <div className={`${prefix}__test-class-with-prefix-hook`}>\n      Content for row index: {row.id}\n    </div>\n  );\n};\n\nconst ExpandedRows = ({ ...args }) => {\n  const columns = React.useMemo(() => [...defaultHeader], []);\n  const [data] = useState(makeData(10));\n\n  const datagridState = useDatagrid(\n    {\n      columns,\n      data,\n      initialState: {\n        pageSize: 10,\n        pageSizes: [5, 10, 25, 50],\n      },\n      DatagridActions,\n      DatagridPagination,\n      ExpandedRowContentComponent: ExpansionRenderer,\n      tags: ['autodocs'],\n      batchActions: true,\n      toolbarBatchActions: getBatchActions(),\n      onRowExpand: (row, event) => console.log(row, event),\n      ...args.defaultGridProps,\n    },\n    useStickyColumn,\n    useSelectRows,\n    useExpandedRow\n  );\n\n  return <Datagrid datagridState={datagridState} />;\n};\n\nconst BasicTemplateWrapper = ({ ...args }) => {\n  return <ExpandedRows defaultGridProps={{ ...args }} />;\n};\n\nconst expandableRowControlProps = {\n  gridTitle: sharedDatagridProps.gridTitle,\n  gridDescription: sharedDatagridProps.gridDescription,\n  expandedContentHeight: sharedDatagridProps.expandedContentHeight,\n  expanderButtonTitleExpanded: sharedDatagridProps.expanderButtonTitleExpanded,\n  expanderButtonTitleCollapsed:\n    sharedDatagridProps.expanderButtonTitleCollapsed,\n};\nconst expandableRowStoryName = 'With expandable row';\nexport const ExpandableRowStory = BasicTemplateWrapper.bind({});\nExpandableRowStory.storyName = expandableRowStoryName;\nExpandableRowStory.argTypes = {\n  gridTitle: ARG_TYPES.gridTitle,\n  gridDescription: ARG_TYPES.gridDescription,\n  expandedContentHeight: ARG_TYPES.expandedContentHeight,\n  expanderButtonTitleExpanded: ARG_TYPES.expanderButtonTitleExpanded,\n  expanderButtonTitleCollapsed: ARG_TYPES.expanderButtonTitleCollapsed,\n};\nExpandableRowStory.args = {\n  ...expandableRowControlProps,\n};\n"],"names":["DocsPage","React","StoryDocsPage","action","ExpandableRow_stories","title","component","Datagrid","tags","parameters","styles","docs","page","layout","argTypes","featureFlags","table","disable","defaultHeader","Header","accessor","row","i","sticky","id","width","sharedDatagridProps","gridTitle","gridDescription","rowActions","itemText","icon","Edit","onClick","TrashCan","isDelete","expandedContentHeight","expanderButtonTitleExpanded","expanderButtonTitleCollapsed","ExpansionRenderer","prefix","usePrefix","ExpandedRows","args","columns","useMemo","data","useState","makeData","datagridState","useDatagrid","initialState","pageSize","pageSizes","DatagridActions","DatagridPagination","ExpandedRowContentComponent","batchActions","toolbarBatchActions","getBatchActions","onRowExpand","event","console","log","defaultGridProps","useStickyColumn","useSelectRows","useExpandedRow","BasicTemplateWrapper","expandableRowControlProps","expandableRowStoryName","ExpandableRowStory","bind","storyName","ARG_TYPES","source","originalSource"],"mappings":"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"}