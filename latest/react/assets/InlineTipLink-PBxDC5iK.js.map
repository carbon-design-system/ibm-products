{"version":3,"file":"InlineTipLink-PBxDC5iK.js","sources":["../../src/components/InlineTip/utils.js","../../src/components/InlineTip/InlineTip.tsx","../../src/components/InlineTip/InlineTipButton.tsx","../../src/components/InlineTip/InlineTipLink.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2023, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport const getComponentText = (reactNode) => {\n  const tmpChildren = reactNode?.props?.children || undefined;\n\n  if (Array.isArray(reactNode)) {\n    let joinedNodes = [];\n    reactNode.forEach((node) => {\n      if (typeof node === 'object') {\n        joinedNodes.push(getComponentText(node));\n      } else if (typeof node === 'string') {\n        joinedNodes.push(node);\n      }\n    });\n    return joinedNodes.join(' ');\n  }\n  if (tmpChildren === undefined) {\n    if (typeof reactNode === 'string') {\n      return reactNode;\n    } else {\n      return ' ';\n    }\n  }\n  if (typeof tmpChildren === 'object') {\n    return getComponentText(reactNode.props.children);\n  }\n  if (typeof tmpChildren === 'string') {\n    return reactNode.props.children;\n  }\n};\n","/**\n * Copyright IBM Corp. 2023, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { Button, IconButton } from '@carbon/react';\n// Other standard imports.\nimport { Close, Crossroads, Idea } from '@carbon/react/icons';\n// Import portions of React that are needed.\nimport React, {\n  ForwardedRef,\n  PropsWithChildren,\n  ReactNode,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { Section, Heading } from '@carbon/react';\nimport { getComponentText } from './utils';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\nimport uuidv4 from '../../global/js/utils/uuidv4';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--inline-tip`;\nconst componentName = 'InlineTip';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\n// Default values for props\nconst defaults = {\n  closeIconDescription: 'Close',\n  collapsible: false,\n  collapseButtonLabel: 'Read less',\n  expandButtonLabel: 'Read more',\n  narrow: false,\n  withLeftGutter: false,\n  onClick: () => {},\n  onClose: () => {},\n  title: 'Use case-specific heading',\n};\n\nexport interface InlineTipProps {\n  /**\n   * Optional \"call to action\" ghost button or link that can appear\n   * directly below the content. This component comes with pre-styled\n   * elements available to use: `InlineTipLink` and `InlineTipButton`.\n   */\n  action?: ReactNode;\n  /**\n   * Provide the contents of the InlineTip.\n   */\n  children: ReactNode;\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n  /**\n   * Tooltip text and aria label for the Close button icon.\n   */\n  closeIconDescription?: string;\n  /**\n   * The label for the collapse button.\n   * This button is not visible if `media` is specified.\n   */\n  collapseButtonLabel?: string;\n  /**\n   * If set to `true`, it will truncate the body text to\n   * one line and expose an expand/collapse button toggle.\n   *\n   * This feature is disabled if `media` is specified.\n   */\n  collapsible?: boolean;\n  /**\n   * The label for the expand button.\n   * This button is not visible if `media` is specified.\n   */\n  expandButtonLabel?: string;\n  /**\n   * Optional prop to render any media like images or any animated media.\n   */\n  renderMedia?: () => ReactNode;\n  /**\n   * Set to `true` to arrange the information in a format\n   * that is easier to read in a limited space.\n   */\n\n  narrow?: boolean;\n  /**\n   * Function to call when the tertiary button is clicked.\n   */\n  onClick?: () => void;\n  /**\n   * Function to call when the InlineTip is closed via the \"X\" button.\n   */\n  onClose?: () => void;\n  /**\n   * Defining the label will show a the tertiary button with the crossroads icon.\n   * You will still need to define the `onClose` method to trigger a callback.\n   */\n  tertiaryButtonLabel?: string;\n  /**\n   * The title of the InlineTip.\n   */\n  title: string;\n  /**\n   * If true, insert 1 rem of \"space\" on the left of the component.\n   * This will allow the component's content to line up with other\n   * content on the page under special circumstances.\n   *\n   * This will only be applied when `narrow` is false.\n   */\n  withLeftGutter?: boolean;\n}\n\n/**\n * Inline tips are messages embedded within other components that\n * provide an ambient way to deliver learning content without\n * distracting the user from their flow.\n */\nexport const InlineTip = React.forwardRef(\n  (\n    {\n      action,\n      children,\n      className,\n      closeIconDescription = defaults.closeIconDescription,\n      collapsible = defaults.collapsible,\n      collapseButtonLabel = defaults.collapseButtonLabel,\n      expandButtonLabel = defaults.expandButtonLabel,\n      renderMedia,\n      narrow = defaults.narrow,\n      onClick,\n      onClose,\n      tertiaryButtonLabel,\n      title = defaults.title,\n      withLeftGutter = defaults.withLeftGutter,\n      ...rest\n    }: PropsWithChildren<InlineTipProps>,\n    ref: ForwardedRef<HTMLDivElement>\n  ) => {\n    const [isCollapsed, setIsCollapsed] = useState(collapsible);\n    const labelId = useRef(uuidv4()).current;\n\n    const previewText = useMemo(\n      () => getComponentText(React.Children.toArray(children)),\n      [children]\n    );\n    let childrenToRender = children;\n\n    if (!renderMedia && collapsible && isCollapsed) {\n      childrenToRender = (\n        <p className={`${blockClass}__preview-text`}>{previewText}</p>\n      );\n    }\n\n    // If `collapsible` is changed after initial render...\n    useEffect(() => {\n      setIsCollapsed(collapsible);\n    }, [collapsible]);\n\n    return (\n      <Section\n        {...rest}\n        aria-labelledby={labelId}\n        className={cx(\n          blockClass,\n          className,\n          collapsible && `${blockClass}__collapsible`,\n          isCollapsed && `${blockClass}__collapsible-collapsed`,\n          renderMedia && `${blockClass}__has-media`,\n          [narrow ? `${blockClass}__narrow` : `${blockClass}__wide`],\n          withLeftGutter && !narrow && `${blockClass}__with-left-gutter`\n        )}\n        ref={ref}\n        role=\"complementary\"\n        {...getDevtoolsProps(componentName)}\n      >\n        <div className={`${blockClass}__close-icon-wrapper`}>\n          <IconButton\n            className={`${blockClass}__close-icon`}\n            kind=\"ghost\"\n            label={closeIconDescription}\n            onClick={onClose}\n            size=\"lg\"\n          >\n            <Close size={16} />\n          </IconButton>\n        </div>\n\n        {/* Hide the idea icon if is narrow and showing an image */}\n        {((!renderMedia && narrow) || !narrow) && (\n          <div className={`${blockClass}__icon-idea`} tabIndex={-1}>\n            <Idea size={16} />\n          </div>\n        )}\n\n        <div className={`${blockClass}__content`}>\n          <Heading id={labelId} className={`${blockClass}__title`}>\n            {title}\n          </Heading>\n          <section className={`${blockClass}__body`}>\n            {childrenToRender}\n            {/* Only show the secondary button when body is showing expanded content */}\n            {action && (!collapsible || (collapsible && !isCollapsed)) && (\n              <div className={`${blockClass}__secondary-btn`}>{action}</div>\n            )}\n          </section>\n\n          {(collapsible || tertiaryButtonLabel) && (\n            <footer className={`${blockClass}__footer`}>\n              {/* Disable the collapsible feature if an image is visible */}\n              {collapsible && !renderMedia && (\n                <Button\n                  className={`${blockClass}__toggle-btn`}\n                  kind=\"ghost\"\n                  size=\"md\"\n                  onClick={() => {\n                    setIsCollapsed((prevState) => !prevState);\n                  }}\n                >\n                  {isCollapsed ? expandButtonLabel : collapseButtonLabel}\n                </Button>\n              )}\n              {tertiaryButtonLabel && (\n                <Button\n                  className={`${blockClass}__close-btn`}\n                  size=\"md\"\n                  onClick={onClick}\n                  kind=\"tertiary\"\n                  renderIcon={() => <Crossroads size={16} />}\n                >\n                  {tertiaryButtonLabel}\n                </Button>\n              )}\n            </footer>\n          )}\n        </div>\n        {renderMedia && (\n          <div className={`${blockClass}__media`}>{renderMedia()}</div>\n        )}\n      </Section>\n    );\n  }\n);\n\nInlineTip.displayName = componentName;\n\nInlineTip.propTypes = {\n  /**\n   * Optional \"call to action\" ghost button or link that can appear\n   * directly below the content. This component comes with pre-styled\n   * elements available to use: `InlineTipLink` and `InlineTipButton`.\n   */\n  action: PropTypes.node,\n  /**\n   * Provide the contents of the InlineTip.\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   * Tooltip text and aria label for the Close button icon.\n   */\n  closeIconDescription: PropTypes.string,\n  /**\n   * The label for the collapse button.\n   * This button is not visible if `media` is specified.\n   */\n  collapseButtonLabel: PropTypes.string,\n  /**\n   * If set to `true`, it will truncate the body text to\n   * one line and expose an expand/collapse button toggle.\n   *\n   * This feature is disabled if `media` is specified.\n   */\n  collapsible: PropTypes.bool,\n  /**\n   * The label for the expand button.\n   * This button is not visible if `media` is specified.\n   */\n  expandButtonLabel: PropTypes.string,\n\n  /**\n   * Set to `true` to arrange the information in a format\n   * that is easier to read in a limited space.\n   */\n  narrow: PropTypes.bool,\n  /**\n   * Function to call when the tertiary button is clicked.\n   */\n  onClick: PropTypes.func,\n  /**\n   * Function to call when the InlineTip is closed via the \"X\" button.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Optional prop to render any media like images or animated media.\n   */\n  renderMedia: PropTypes.func,\n  /**\n   * Defining the label will show a the tertiary button with the crossroads icon.\n   * You will still need to define the `onClose` method to trigger a callback.\n   */\n  tertiaryButtonLabel: PropTypes.string,\n  /**\n   * The title of the InlineTip.\n   */\n  title: PropTypes.string.isRequired,\n  /**\n   * If true, insert 1 rem of \"space\" on the left of the component.\n   * This will allow the component's content to line up with other\n   * content on the page under special circumstances.\n   *\n   * This will only be applied when `narrow` is false.\n   */\n  withLeftGutter: PropTypes.bool,\n};\n","/**\n * Copyright IBM Corp. 2023, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React, { ForwardedRef, PropsWithChildren, ReactNode } from 'react';\n\nimport { Button, ButtonProps } from '@carbon/react';\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--inline-tip__button`;\nconst componentName = 'InlineTipButton';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\nexport interface InlineTipButtonProps {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n  /**\n   * Provide the contents of the InlineTip.\n   */\n  children: ReactNode;\n}\n/**\n * This is a standard Carbon button, styled specifically for use inside InlineTip.\n */\nexport const InlineTipButton = React.forwardRef(\n  (\n    { children, className, ...rest }: PropsWithChildren<InlineTipButtonProps>,\n    ref: ForwardedRef<ButtonProps<React.ElementType>>\n  ) => {\n    return (\n      <Button\n        {...rest}\n        className={cx(blockClass, className)}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n        size=\"md\"\n        kind=\"ghost\"\n      >\n        {children}\n      </Button>\n    );\n  }\n);\n\nInlineTipButton.displayName = componentName;\n\nInlineTipButton.propTypes = {\n  /**\n   * Provide the contents of the InlineTipButton.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n\n  /* TODO: add types and DocGen for all props. */\n};\n","/**\n * Copyright IBM Corp. 2023, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React, { ForwardedRef, PropsWithChildren, ReactNode } from 'react';\n\nimport { Launch } from '@carbon/react/icons';\nimport { Link } from '@carbon/react';\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--inline-tip__link`;\nconst componentName = 'InlineTipLink';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\nexport interface InlineTipLinkProps extends PropsWithChildren {\n  /**\n   * Provide the contents of the InlineTipLink.\n   */\n  children: ReactNode;\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n\n  /* TODO: add types and DocGen for all props. */\n}\n\n/**\n * This is a standard Carbon link, styled specifically for use inside InlineTip.\n */\nexport const InlineTipLink = React.forwardRef(\n  (\n    { children, className, ...rest }: InlineTipLinkProps,\n    ref: ForwardedRef<HTMLDivElement>\n  ) => {\n    return (\n      <Link\n        {...rest}\n        className={cx(blockClass, className)}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n        renderIcon={() => <Launch size={16} />}\n      >\n        {children}\n      </Link>\n    );\n  }\n);\n\nInlineTipLink.displayName = componentName;\n\nInlineTipLink.propTypes = {\n  /**\n   * Provide the contents of the InlineTipLink.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n\n  /* TODO: add types and DocGen for all props. */\n};\n"],"names":["getComponentText","reactNode","tmpChildren","joinedNodes","node","blockClass","pkg","componentName","defaults","InlineTip","React","action","children","className","closeIconDescription","collapsible","collapseButtonLabel","expandButtonLabel","renderMedia","narrow","onClick","onClose","tertiaryButtonLabel","title","withLeftGutter","rest","ref","isCollapsed","setIsCollapsed","useState","labelId","useRef","uuidv4","previewText","useMemo","childrenToRender","useEffect","Section","cx","getDevtoolsProps","IconButton","Close","Idea","Heading","Button","prevState","Crossroads","PropTypes","InlineTipButton","InlineTipLink","Link","Launch"],"mappings":"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"}