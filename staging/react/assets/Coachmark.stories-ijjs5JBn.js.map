{"version":3,"file":"Coachmark.stories-ijjs5JBn.js","sources":["../../src/components/Coachmark/next/Coachmark/Coachmark.mdx","../../src/components/Coachmark/next/Coachmark/Coachmark.stories.jsx"],"sourcesContent":["import {\n  Story,\n  Controls,\n  Source,\n  Canvas,\n  Meta,\n} from '@storybook/addon-docs/blocks';\nimport { stackblitzPrefillConfig } from '../../../../../previewer/codePreviewer';\nimport * as CoachmarkStories from './Coachmark.stories';\nimport { Coachmark } from '.';\n\n<Meta title=\"Coachmark\" component={Coachmark} />\n\n# Coachmark\n\n[Usage guidelines](https://pages.github.ibm.com/carbon/ibm-products/components/onboarding/coachmark/usage/)\n\n## Table of Contents\n\n- [Overview](#overview)\n- [Coachmark code sample](#coachmark-code-sample)\n- [Tooltip example usage](#tooltip-example-usage)\n- [Floating example usage](#floating-example-usage)\n- [Component API](#component-api)\n\n## Overview\n\n[Coachmarks](https://pages.github.ibm.com/carbon/ibm-products/components/onboarding/coachmark/usage)\nare just-in-time messages used to draw a userâ€™s attention to a particular spot,\nand explain new functionality or concepts they might not otherwise notice or\nunderstand.\n\n**Note:**\n\n- The trigger element or first child of `Coachmark` should always be either a\n  CoachmarkBeacon or a Button.\n\n## Coachmark code sample\n\n```jsx\n<Theme theme=\"white\">\n  <Coachmark\n    ariaLabel=\"Coachmark\"\n    position={{ x: 151, y: 155 }}\n    open={isOpen}\n    onClose={handleClose}\n    {...args}\n  >\n    <CoachmarkBeacon\n      id=\"CoachmarkBtn\"\n      label=\"Show information\"\n      onClick={handleBeaconClick}\n    ></CoachmarkBeacon>\n    <Coachmark.Content highContrast={true}>\n      <Coachmark.Content.Header\n        closeIconDescription=\"Close\"\n        dragIconDescription=\"Drag\"\n      ></Coachmark.Content.Header>\n      <Coachmark.Content.Body>\n        <h2>Hello World</h2>\n        <p>this is a description test</p>\n        <Button size=\"sm\">Done</Button>\n      </Coachmark.Content.Body>\n    </Coachmark.Content>\n  </Coachmark>\n</Theme>\n```\n\n## Tooltip example usage\n\n<Canvas\n  className=\"coachmark--docs-demo\"\n  of={CoachmarkStories.Tooltip}\n  additionalActions={[\n    {\n      title: 'Open in Stackblitz',\n      onClick: () =>\n        stackblitzPrefillConfig({\n          story: CoachmarkStories.Tooltip,\n          status: {\n            preview: ['Coachmark', 'CoachmarkBeacon'],\n          },\n          styles: CoachmarkStories.default.parameters.styles,\n        }),\n    },\n  ]}\n/>\n\n## Floating example usage\n\n<Canvas\n  className=\"coachmark--docs-demo\"\n  of={CoachmarkStories.Floating}\n  additionalActions={[\n    {\n      title: 'Open in Stackblitz',\n      onClick: () =>\n        stackblitzPrefillConfig({\n          story: CoachmarkStories.Floating,\n          status: {\n            preview: ['Coachmark'],\n          },\n          customImports: [\n            `import { Crossroads } from '@carbon/react/icons';`,\n          ],\n\n          styles: CoachmarkStories.default.parameters.styles,\n        }),\n    },\n\n]} />\n\n## Component API\n\n<Controls />\n","/**\n * Copyright IBM Corp. 2024, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { Coachmark } from '.';\nimport mdx from './Coachmark.mdx';\nimport styles from './_storybook-styles.scss?inline';\nimport { Button, Theme } from '@carbon/react';\nimport { CoachmarkBeacon } from './CoachmarkBeacon';\nimport { Crossroads } from '@carbon/react/icons';\n\nexport default {\n  title: 'Preview/Onboarding/Coachmark',\n  component: Coachmark,\n  tags: ['autodocs', 'Onboarding'],\n  argTypes: {\n    children: {\n      control: { type: null },\n    },\n    onClose: {\n      control: { type: null },\n    },\n    align: {\n      options: [\n        'top',\n        'top-left',\n        'top-right',\n        'bottom',\n        'bottom-left',\n        'bottom-right',\n        'left',\n        'left-bottom',\n        'left-top',\n        'right',\n        'right-bottom',\n        'right-top',\n      ],\n      control: { type: 'select' },\n    },\n    className: {\n      control: { type: null },\n    },\n  },\n  parameters: {\n    styles,\n    docs: {\n      page: mdx,\n    },\n  },\n};\n\n/**\n * TODO: Declare template(s) for one or more scenarios.\n */\n\n//fetching theme\nfunction useCarbonTheme() {\n  const [themeValue, setThemeValue] = useState(() =>\n    document.documentElement.getAttribute('data-carbon-theme')\n  );\n\n  useEffect(() => {\n    const target = document.documentElement;\n\n    // function to read the current theme\n    const readTheme = () => {\n      const newTheme = target.getAttribute('data-carbon-theme');\n      setThemeValue((prev) => (prev !== newTheme ? newTheme : prev));\n    };\n\n    const observer = new MutationObserver((mutationsList) => {\n      for (const mutation of mutationsList) {\n        if (\n          mutation.type === 'attributes' &&\n          mutation.attributeName === 'data-carbon-theme'\n        ) {\n          readTheme();\n        }\n      }\n    });\n\n    observer.observe(target, {\n      attributes: true,\n      attributeFilter: ['data-carbon-theme'],\n    });\n\n    //fallback - check readTheme in every 200ms\n    const interval = setInterval(readTheme, 200);\n\n    return () => {\n      observer.disconnect();\n      clearInterval(interval);\n    };\n  }, []);\n\n  return themeValue;\n}\n\n//Tooltip variant\nconst TooltipTemplate = ({ ...args }, context) => {\n  const sbDocs = context.viewMode !== 'docs';\n  const carbonTheme = sbDocs ? useCarbonTheme() : 'white';\n  const [isOpen, setIsOpen] = useState(true);\n\n  const handleClose = () => {\n    setIsOpen(false);\n  };\n\n  const handleBeaconClick = () => {\n    setIsOpen((isOpen) => !isOpen);\n  };\n\n  return (\n    <Theme theme={carbonTheme}>\n      <Coachmark\n        position={{ x: 151, y: 155 }}\n        open={isOpen}\n        onClose={handleClose}\n        {...args}\n      >\n        <CoachmarkBeacon\n          label=\"Show information\"\n          buttonProps={{ onClick: handleBeaconClick, id: 'CoachmarkBtn' }}\n        ></CoachmarkBeacon>\n        <Coachmark.Content highContrast={true}>\n          <Coachmark.Content.Header closeIconDescription=\"Close\"></Coachmark.Content.Header>\n          <Coachmark.Content.Body>\n            <h2>Hello World</h2>\n            <p>this is a description test</p>\n            <Button size=\"sm\">Done</Button>\n          </Coachmark.Content.Body>\n        </Coachmark.Content>\n      </Coachmark>\n    </Theme>\n  );\n};\n\n//Floating variant\nconst FloatingTemplate = ({ ...args }, context) => {\n  const sbDocs = context.viewMode !== 'docs';\n  const carbonTheme = sbDocs ? useCarbonTheme() : 'white';\n  const [isOpen, setIsOpen] = useState(true);\n\n  const handleClose = () => {\n    setIsOpen(false);\n  };\n\n  const handleButtonClick = () => {\n    setIsOpen((isOpen) => !isOpen);\n  };\n  return (\n    <Theme theme={carbonTheme}>\n      <Coachmark open={isOpen} onClose={handleClose} floating={true} {...args}>\n        <Button\n          id=\"CoachmarkBtn\"\n          kind=\"tertiary\"\n          size=\"md\"\n          label=\"Show information\"\n          renderIcon={Crossroads}\n          onClick={handleButtonClick}\n        >\n          Show information\n        </Button>\n        <Coachmark.Content highContrast={true}>\n          <Coachmark.Content.Header\n            closeIconDescription=\"Close\"\n            dragIconDescription=\"Drag\"\n          ></Coachmark.Content.Header>\n          <Coachmark.Content.Body>\n            <h2>Hello World</h2>\n            <p>this is a description test</p>\n            <Button size=\"sm\">Done</Button>\n          </Coachmark.Content.Body>\n        </Coachmark.Content>\n      </Coachmark>\n    </Theme>\n  );\n};\n\n/**\n * TODO: Declare one or more stories, generally one per design scenario.\n * NB no need for a 'Playground' because all stories have all controls anyway.\n */\nexport const Tooltip = TooltipTemplate.bind({});\nTooltip.args = {\n  align: 'top',\n};\n\nexport const Floating = FloatingTemplate.bind({});\nFloating.args = {\n  align: 'bottom',\n};\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","Coachmark","Canvas","CoachmarkStories.Tooltip","stackblitzPrefillConfig","CoachmarkStories.default","CoachmarkStories.Floating","Controls","MDXContent","MDXLayout","Coachmark_stories","title","component","tags","argTypes","children","control","type","onClose","align","options","className","parameters","styles","docs","page","mdx","useCarbonTheme","themeValue","setThemeValue","useState","document","documentElement","getAttribute","useEffect","target","readTheme","newTheme","prev","observer","MutationObserver","mutationsList","mutation","attributeName","observe","attributes","attributeFilter","interval","setInterval","disconnect","clearInterval","TooltipTemplate","args","context","carbonTheme","viewMode","isOpen","setIsOpen","handleClose","handleBeaconClick","Theme","React","x","y","CoachmarkBeacon","onClick","id","Button","FloatingTemplate","handleButtonClick","Crossroads","Tooltip","bind","Floating","source","originalSource","description","story"],"mappings":"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"}