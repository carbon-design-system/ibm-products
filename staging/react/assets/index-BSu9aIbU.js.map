{"version":3,"file":"index-BSu9aIbU.js","sources":["../../src/components/CreateTearsheet/CreateTearsheetDivider.tsx","../../src/components/ComboButton/ComboButton.tsx","../../src/components/ComboButton/ComboButtonItem/index.tsx","../../src/components/Datagrid/useRowIsMouseOver.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2021, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { ForwardedRef, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { pkg } from '../../settings';\n\nconst componentName = 'CreateTearsheetDivider';\nconst blockClass = `${pkg.prefix}--tearsheet-create__section--divider`;\n\ninterface CreateTearsheetDividerProps {\n  /** Specifies an optional className to be added to the tearsheet divider */\n  className?: string;\n}\n\nexport const CreateTearsheetDivider: React.FC<CreateTearsheetDividerProps> =\n  forwardRef(\n    (\n      {\n        className,\n        // Collect any other property values passed in\n        ...rest\n      },\n      ref: ForwardedRef<HTMLSpanElement>\n    ) => {\n      return <span {...rest} ref={ref} className={cx(blockClass, className)} />;\n    }\n  );\n\nCreateTearsheetDivider.propTypes = {\n  /**\n   * Sets an optional className to be added to the tearsheet divider\n   */\n  className: PropTypes.string,\n};\n","/**\n * Copyright IBM Corp. 2020, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { Button, OverflowMenu, OverflowMenuItem } from '@carbon/react';\nimport { ChevronDown, ChevronUp, CarbonIconType } from '@carbon/react/icons';\nimport React, {\n  Children,\n  ComponentProps,\n  ReactNode,\n  createElement,\n  forwardRef,\n  useRef,\n  useState,\n} from 'react';\nimport { node, shape, string } from 'prop-types';\n\nimport classnames from 'classnames';\nimport { pkg } from '../../settings';\nimport uuidv4 from '../../global/js/utils/uuidv4';\n\nconst blockClass = `${pkg.prefix}--combo-button`;\nconst componentName = 'ComboButton';\n\nexport interface ComboButtonProps extends ComponentProps<'div'> {\n  /** Provide the contents of the `ComboButton` */\n  children?: ReactNode;\n\n  /** Provide an optional class to be applied to the containing node */\n  className?: string;\n\n  /** Provide the [props of the `OverflowMenu`](https://react.carbondesignsystem.com/?path=/docs/overflowmenu) */\n  // overflowMenu: shape(OverflowMenu.propTypes),\n  overflowMenu: {\n    /**\n     * The event handler for the `click` event.\n     */\n    onClick?(): void;\n\n    /**\n     * Function called when menu is closed\n     */\n    onClose?(): void;\n\n    /**\n     * The event handler for the `focus` event.\n     */\n    onFocus?(): void;\n\n    /**\n     * The event handler for the `keydown` event.\n     */\n    onKeyDown?(): void;\n\n    /**\n     * Function called when menu is opened\n     */\n    onOpen?(): void;\n  };\n}\n\ntype EnrichedChildren = {\n  children?: ReactNode;\n  renderIcon?: CarbonIconType;\n};\n\n/**\n * The combo button consolidates similar actions, while exposing the most commonly used one.\n */\nconst ComboButton = forwardRef<HTMLDivElement, ComboButtonProps>(\n  (props, ref) => {\n    const { children, className, overflowMenu, ...rest } = props;\n    const { current: instanceId } = useRef(uuidv4());\n    const [isOpen, setIsOpen] = useState(false);\n\n    const actions = Children.toArray(children)\n      .filter(Boolean)\n      .map((child) => {\n        if (React.isValidElement<EnrichedChildren>(child)) {\n          const { props } = child;\n          return {\n            ...props,\n            children: <span className={`${blockClass}__action`}>{child}</span>,\n          };\n        }\n        return null;\n      }) as EnrichedChildren[];\n    const primaryAction = actions.slice(0, 1);\n    const secondaryActions = actions.slice(1);\n\n    return (\n      <div\n        {...rest}\n        ref={ref}\n        className={classnames(blockClass, className)}\n        data-floating-menu-container\n      >\n        <Button {...primaryAction} />\n        {secondaryActions.length > 0 && (\n          <OverflowMenu\n            {...overflowMenu}\n            className={`${blockClass}__overflow-menu`}\n            menuOptionsClass={`${blockClass}__overflow-menu__list`}\n            onClick={() => !isOpen && setIsOpen(true)}\n            onClose={() => setIsOpen(false)}\n            renderIcon={() =>\n              createElement(\n                isOpen\n                  ? (props) => <ChevronUp size={16} {...props} />\n                  : (props) => <ChevronDown size={16} {...props} />,\n                {\n                  className: `${blockClass}__overflow-menu__icon`,\n                }\n              )\n            }\n            flipped\n          >\n            {secondaryActions.map(\n              ({ children, renderIcon: Icon, ...action }, index) => (\n                <OverflowMenuItem\n                  {...action}\n                  key={`${blockClass}--${instanceId}__overflow-menu__item__${index}`}\n                  className={`${blockClass}__overflow-menu__item`}\n                  itemText={\n                    <>\n                      {children}\n                      {Icon && (\n                        <span\n                          className={`${blockClass}__overflow-menu__item__icon`}\n                        >\n                          <Icon />\n                        </span>\n                      )}\n                    </>\n                  }\n                />\n              )\n            )}\n          </OverflowMenu>\n        )}\n      </div>\n    );\n  }\n);\n\n/**@ts-ignore*/\nComboButton.deprecated = {\n  level: 'warn',\n  details: `Please replace ${componentName} with Carbon's ComboButton`,\n};\n\nComboButton.displayName = componentName;\n\nComboButton.propTypes = {\n  /** Provide the contents of the `ComboButton` */\n  children: node.isRequired,\n\n  /** Provide an optional class to be applied to the containing node */\n  className: string,\n\n  /** Provide the [props of the `OverflowMenu`](https://react.carbondesignsystem.com/?path=/docs/overflowmenu) */\n  /**@ts-ignore*/\n  overflowMenu: shape(OverflowMenu.propTypes),\n};\n\nexport { ComboButton };\n","/**\n * Copyright IBM Corp. 2020, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { bool, func, node, object, oneOfType, string } from 'prop-types';\nimport React from 'react';\n\n/**\n * The combo button item provides additional actions a user can take.\n */\nconst ComboButtonItem = ({ ...rest }) => <span {...rest} />;\n\nComboButtonItem.propTypes = {\n  /** Provide the contents of the `ComboButtonItem` */\n  children: node.isRequired,\n\n  /** Specify whether the `ComboButton` should be disabled, or not */\n  disabled: bool,\n\n  /** Provide an optional `href` for the `ComboButtonItem` to become an `a` element */\n  href: string,\n\n  /** Provide an optional icon to render */\n  renderIcon: oneOfType([func, object]),\n};\n\nexport { ComboButtonItem };\n","/**\n * Copyright IBM Corp. 2024, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useState, useCallback } from 'react';\nimport { debounce } from '../../global/js/utils/debounce';\nimport { Hooks, RowPropGetter, TableInstance } from 'react-table';\nimport { DataGridState } from './types';\n\nconst useRowIsMouseOver = (hooks: Hooks) => {\n  const useInstance = (instance: TableInstance) => {\n    const [mouseOverRowIndex, setMouseOverRowIndex] = useState<number>();\n\n    const onMouseChange = useDebounce((datagridState: DataGridState) => {\n      const { row } = datagridState;\n      setMouseOverRowIndex(row?.index);\n    }, 100);\n\n    const getRowProps = (props, datagridState: DataGridState) => {\n      // @ts-expect-error\n      const onMouseOver = () => onMouseChange(datagridState);\n      return [props, { onMouseOver }];\n    };\n\n    const { rows } = instance;\n    const rowsWithMouseOver = rows.map((row) => ({\n      ...row,\n      isMouseOver: row.index === mouseOverRowIndex,\n    }));\n\n    Object.assign(instance, {\n      rows: rowsWithMouseOver,\n      withMouseHover: true,\n      setMouseOverRowIndex,\n    });\n    hooks.getRowProps.push(getRowProps as RowPropGetter<any>);\n  };\n\n  hooks.useInstance.push(useInstance);\n};\n\nconst useDebounce = (fn: (state: DataGridState) => void, wait: number) =>\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useCallback(debounce(fn, wait), []);\n\nexport default useRowIsMouseOver;\n"],"names":["blockClass","pkg","CreateTearsheetDivider","forwardRef","className","rest","ref","React","cx","PropTypes","componentName","ComboButton","props","children","overflowMenu","instanceId","useRef","uuidv4","isOpen","setIsOpen","useState","actions","Children","child","primaryAction","secondaryActions","classnames","Button","OverflowMenu","createElement","ChevronUp","ChevronDown","Icon","action","index","OverflowMenuItem","node","string","shape","ComboButtonItem","bool","oneOfType","func","object","useRowIsMouseOver","hooks","useInstance","instance","mouseOverRowIndex","setMouseOverRowIndex","onMouseChange","useDebounce","datagridState","row","getRowProps","rows","rowsWithMouseOver","fn","wait","useCallback","debounce"],"mappings":"ynVAaA,MAAMA,EAAa,GAAGC,EAAI,MAAM,uCAOnBC,EACXC,EAAAA,WACE,CACE,CACE,UAAAC,EAEA,GAAGC,CAAA,EAELC,IAEOC,EAAA,cAAC,QAAM,GAAGF,EAAM,IAAAC,EAAU,UAAWE,EAAGR,EAAYI,CAAS,CAAA,CAAG,CAE3E,EAEFF,EAAuB,UAAY,CAIjC,UAAWO,EAAU,MACvB,iPCfA,MAAMT,EAAa,GAAGC,EAAI,MAAM,iBAC1BS,EAAgB,cA+ChBC,EAAcR,EAAAA,WAClB,CAACS,EAAON,IAAQ,CACd,KAAM,CAAE,SAAAO,EAAU,UAAAT,EAAW,aAAAU,EAAc,GAAGT,GAASO,EACjD,CAAE,QAASG,CAAA,EAAeC,EAAAA,OAAOC,GAAQ,EACzC,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAS,EAAK,EAEpCC,EAAUC,WAAS,QAAQT,CAAQ,EACtC,OAAO,OAAO,EACd,IAAKU,GAAU,CACd,GAAIhB,EAAM,eAAiCgB,CAAK,EAAG,CACjD,KAAM,CAAE,MAAAX,CAAAA,EAAUW,EAClB,MAAO,CACL,GAAGX,EACH,SAAUL,EAAA,cAAC,OAAA,CAAK,UAAW,GAAGP,CAAU,YAAauB,CAAM,CAAA,CAE/D,CACA,OAAO,IACT,CAAC,EACGC,EAAgBH,EAAQ,MAAM,EAAG,CAAC,EAClCI,EAAmBJ,EAAQ,MAAM,CAAC,EAExC,OACEd,EAAA,cAAC,MAAA,CACE,GAAGF,EACJ,IAAAC,EACA,UAAWoB,EAAW1B,EAAYI,CAAS,EAC3C,+BAA2B,EAAA,EAE3BG,EAAA,cAACoB,EAAA,CAAQ,GAAGH,CAAA,CAAe,EAC1BC,EAAiB,OAAS,GACzBlB,EAAA,cAACqB,EAAA,CACE,GAAGd,EACJ,UAAW,GAAGd,CAAU,kBACxB,iBAAkB,GAAGA,CAAU,wBAC/B,QAAS,IAAM,CAACkB,GAAUC,EAAU,EAAI,EACxC,QAAS,IAAMA,EAAU,EAAK,EAC9B,WAAY,IACVU,EAAAA,cACEX,EACKN,GAAUL,EAAA,cAACuB,EAAA,CAAU,KAAM,GAAK,GAAGlB,CAAAA,CAAO,EAC1CA,GAAUL,EAAA,cAACwB,GAAY,KAAM,GAAK,GAAGnB,EAAO,EACjD,CACE,UAAW,GAAGZ,CAAU,uBAAA,CAC1B,EAGJ,QAAM,EAAA,EAELyB,EAAiB,IAChB,CAAC,CAAE,SAAAZ,EAAU,WAAYmB,EAAM,GAAGC,CAAA,EAAUC,IAC1C3B,EAAA,cAAC4B,EAAA,CACE,GAAGF,EACJ,IAAK,GAAGjC,CAAU,KAAKe,CAAU,0BAA0BmB,CAAK,GAChE,UAAW,GAAGlC,CAAU,wBACxB,SACEO,EAAA,cAAAA,EAAA,SAAA,KACGM,EACAmB,GACCzB,EAAA,cAAC,OAAA,CACC,UAAW,GAAGP,CAAU,6BAAA,kBAEvBgC,EAAA,IAAK,CAAA,CAGZ,CAAA,CAAA,CAEJ,CAEJ,CACF,CAIR,CACF,EAGArB,EAAY,WAAa,CACvB,MAAO,OACP,QAAS,kBAAkBD,CAAa,4BAC1C,EAEAC,EAAY,YAAcD,EAE1BC,EAAY,UAAY,CAEtB,SAAUyB,EAAAA,KAAK,WAGf,UAAWC,EAAAA,OAIX,aAAcC,EAAAA,MAAMV,EAAa,SAAS,CAC5C;;;;;;;;;;;;;;;;;;;;;;;;;8uBCzJA,MAAMW,EAAkB,CAAC,CAAE,GAAGlC,KAAWE,EAAA,cAAC,OAAA,CAAM,GAAGF,CAAA,CAAM,EAEzDkC,EAAgB,UAAY,CAE1B,SAAUH,EAAAA,KAAK,WAGf,SAAUI,EAAAA,KAGV,KAAMH,EAAAA,OAGN,WAAYI,EAAAA,UAAU,CAACC,EAAAA,KAAMC,QAAM,CAAC,CACtC,kpBCfA,MAAMC,GAAqBC,GAAiB,CAC1C,MAAMC,EAAeC,GAA4B,CAC/C,KAAM,CAACC,EAAmBC,CAAoB,EAAI7B,WAAA,EAE5C8B,EAAgBC,EAAaC,GAAiC,CAClE,KAAM,CAAE,IAAAC,GAAQD,EAChBH,EAAqBI,GAAK,KAAK,CACjC,EAAG,GAAG,EAEAC,EAAc,CAAC1C,EAAOwC,IAGnB,CAACxC,EAAO,CAAE,YADG,IAAMsC,EAAcE,CAAa,EACvB,EAG1B,CAAE,KAAAG,GAASR,EACXS,EAAoBD,EAAK,IAAKF,IAAS,CAC3C,GAAGA,EACH,YAAaA,EAAI,QAAUL,CAAA,EAC3B,EAEF,OAAO,OAAOD,EAAU,CACtB,KAAMS,EACN,eAAgB,GAChB,qBAAAP,CAAA,CACD,EACDJ,EAAM,YAAY,KAAKS,CAAiC,CAC1D,EAEAT,EAAM,YAAY,KAAKC,CAAW,CACpC,EAEMK,EAAc,CAACM,EAAoCC,IAEvDC,EAAAA,YAAYC,EAASH,EAAIC,CAAI,EAAG,CAAA,CAAE"}