import{e as y,r as a}from"./index-BOZkNhcz.js";import{l as v}from"./lottie-BZLE-Bwx.js";import{c as b}from"./clamp-CasrEGCP.js";import{c as j,P as i}from"./index-Cd8snwnz.js";import{g as N}from"./devtools-Bjt2CwRv.js";import{p as x}from"./settings-DqneCnpo.js";const D=`${x.prefix}--stepped-animated-media`,g="SteppedAnimatedMedia",q={playStep:0},l=y.forwardRef(({className:R,playStep:f=q.playStep,filePaths:e,...S},w)=>{const[r,A]=a.useState([]),n=a.useRef(void 0),h=a.useRef(null),u=w??h,p=u.current,M=e==null?void 0:e.join();return a.useEffect(()=>{const c=t=>t.includes(".json");async function s(){if(e&&e.every(c)){const t=e.map(m=>fetch(m)),o=(await Promise.all(t)).map(m=>m.json()),T=await Promise.all(o);A(T)}}s()},[M]),a.useEffect(()=>{var s,t,d;const c=window!=null&&window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!0;return p&&((s=n.current)==null||s.destroy(),n.current=v.loadAnimation({container:p,renderer:"svg",animationData:r[b(f,0,r.length-1)],loop:!1,autoplay:!1,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}}),c?(t=n.current)==null||t.goToAndStop(0):(d=n.current)==null||d.goToAndPlay(0)),()=>{var o;return(o=n.current)==null?void 0:o.destroy()}},[r,p,f]),r?y.createElement("div",{...S,className:j(D,R),role:"img",ref:u,...N(g)}):null});l.displayName=g;l.propTypes={className:i.string,filePaths:i.arrayOf(i.string).isRequired,playStep:i.number};l.__docgenInfo={description:"The SteppedAnimatedMedia is an Onboarding internal component and is not intended for general use.",methods:[],displayName:"SteppedAnimatedMedia",props:{className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},filePaths:{required:!0,tsType:{name:"union",raw:"string[] | undefined",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"undefined"}]},description:"The file path(s) to json formatted Lottie animation files.",type:{name:"arrayOf",value:{name:"string"}}},playStep:{required:!1,tsType:{name:"number"},description:"Which animation step from the filePaths array to play.",defaultValue:{value:"0",computed:!1},type:{name:"number"}}}};export{l as S};
