{"version":3,"file":"Tearsheet-CHNI1rWR.js","sources":["../../src/components/Tearsheet/Tearsheet.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2020, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Carbon and package components we use.\nimport { Button, type ButtonProps } from '@carbon/react';\n// Import portions of React that are needed.\nimport React, {\n  ForwardedRef,\n  PropsWithChildren,\n  ReactNode,\n  RefObject,\n} from 'react';\nimport { TearsheetShell } from './TearsheetShell';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport { allPropTypes } from '../../global/js/utils/props-helper';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\nimport { portalType } from './TearsheetShell';\n\nconst componentName = 'Tearsheet';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\n\nexport interface TearsheetAction extends ButtonProps<'button'> {\n  label?: string;\n  loading?: boolean;\n}\n\n// Note that the descriptions here should be kept in sync with those for the\n// corresponding props for TearsheetNarrow and TearsheetShell components.\nexport interface TearsheetProps extends PropsWithChildren {\n  /**\n   * The navigation actions to be shown as buttons in the action area at the\n   * bottom of the tearsheet. Each action is specified as an object with\n   * optional fields: 'label' to supply the button label, 'kind' to select the\n   * button kind (must be 'primary', 'secondary' or 'ghost'), 'loading' to\n   * display a loading indicator, and 'onClick' to receive notifications when\n   * the button is clicked. Additional fields in the object will be passed to\n   * the Button component, and these can include 'disabled', 'ref', 'className',\n   * and any other Button props, except 'size'. Any other fields in the object will\n   * be passed through to the button element as HTML attributes.\n   *\n   * See https://react.carbondesignsystem.com/?path=/docs/components-button--default#component-api\n   */\n  actions?: TearsheetAction[];\n\n  /**\n   * The aria-label for the tearsheet, which is optional.\n   * if it is not passed, the title will be used as the aria-label.\n   */\n  ariaLabel?: string;\n\n  /**\n   * An optional class or classes to be added to the outermost element.\n   */\n  className?: string;\n\n  /**\n   * The accessibility title for the close icon (if shown).\n   *\n   */\n  closeIconDescription?: string;\n\n  /**\n   * A description of the flow, displayed in the header area of the tearsheet.\n   */\n  description?: ReactNode;\n\n  /**\n   * Enable a close icon ('x') in the header area of the tearsheet. By default,\n   * (when this prop is omitted, or undefined or null) a tearsheet does not\n   * display a close icon if there are navigation actions (\"transactional\n   * tearsheet\") and displays one if there are no navigation actions (\"passive\n   * tearsheet\"), and that behavior can be overridden if required by setting\n   * this prop to either true or false.\n   */\n  hasCloseIcon?: boolean;\n\n  /**\n   * The content for the header actions area, displayed alongside the title in\n   * the header area of the tearsheet. This is typically a drop-down, or a set\n   * of small buttons, or similar. NB the headerActions is only applicable for\n   * wide tearsheets.\n   */\n  headerActions?: ReactNode;\n\n  /**\n   * The content for the influencer section of the tearsheet, displayed\n   * alongside the main content. This is typically a menu, or filter, or\n   * progress indicator, or similar.\n   */\n  influencer?: ReactNode;\n\n  /**\n   * The position of the influencer section, 'left' or 'right'.\n   */\n  influencerPosition?: 'left' | 'right';\n\n  /**\n   * The width of the influencer: 'narrow' (the default) is 256px, and 'wide'\n   * is 320px.\n   */\n  influencerWidth?: 'narrow' | 'wide';\n\n  /**\n   * A label for the tearsheet, displayed in the header area of the tearsheet\n   * to maintain context for the tearsheet (e.g. as the title changes from page\n   * to page of a multi-page task).\n   */\n  label?: ReactNode;\n\n  /**\n   * Provide a ref to return focus to once the tearsheet is closed.\n   */\n  launcherButtonRef?: RefObject<any>;\n\n  /**\n   * Navigation content, such as a set of tabs, to be displayed at the bottom\n   * of the header area of the tearsheet.\n   */\n  navigation?: ReactNode;\n\n  /**\n   * An optional handler that is called when the user closes the tearsheet (by\n   * clicking the close button, if enabled, or clicking outside, if enabled).\n   * Returning `false` here prevents the modal from closing.\n   */\n  onClose?: () => void;\n\n  /**\n   * Specifies whether the tearsheet is currently open.\n   */\n  open?: boolean;\n\n  /**\n   * The DOM element that the tearsheet should be rendered within. Defaults to document.body.\n   */\n  portalTarget?: HTMLElement;\n\n  /**\n   * Specify a CSS selector that matches the DOM element that should be\n   * focused when the Modal opens.\n   */\n  selectorPrimaryFocus?: string;\n\n  /**\n   * Specify the CSS selectors that match the floating menus.\n   *\n   * See https://react.carbondesignsystem.com/?path=/docs/components-composedmodal--overview#focus-management\n   */\n  selectorsFloatingMenus?: string[];\n\n  /**\n   * The main title of the tearsheet, displayed in the header area.\n   */\n  title?: ReactNode;\n\n  /** @deprecated */\n  /**\n   * The position of the top of tearsheet in the viewport. The 'normal'\n   * position is a short distance down from the top of the\n   * viewport, leaving room at the top for a global header bar to show through\n   * from below. The 'lower' position (the default) provides a little extra room at the top\n   * to allow an action bar navigation or breadcrumbs to also show through.\n   */\n  verticalPosition?: 'normal' | 'lower';\n}\n\n/**\n * A tearsheet is a mostly full-screen type of dialog that keeps users\n * in-context and focused by bringing actionable content front and center while\n * revealing parts of the UI behind it. There is also a narrow variant of the\n * tearsheet.\n *\n * A tearsheet comprises up to 5 zones, allowing for flexibility depending on\n * the content: a heading area including a title, an optional navigation area\n * that sits just below the heading, an optional influencer which is a side\n * panel on either the left or right side, the main content area, and a set of\n * action buttons.\n */\nexport const Tearsheet = React.forwardRef<HTMLDivElement, TearsheetProps>(\n  (props, ref) => {\n    const {\n      influencerPosition = 'left',\n      influencerWidth = 'narrow',\n      children,\n      ...rest\n    } = props;\n    return (\n      <TearsheetShell\n        {...{\n          ...getDevtoolsProps(componentName),\n          ...rest,\n          influencerPosition,\n          influencerWidth,\n          ref,\n          size: 'wide',\n        }}\n      >\n        {children}\n      </TearsheetShell>\n    );\n  }\n);\n\n// Return a placeholder if not released and not enabled by feature flag\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nTearsheet.displayName = componentName;\n\nexport const deprecatedProps = {\n  /**\n   * **Deprecated**\n   *\n   * The position of the top of tearsheet in the viewport. The 'normal'\n   * position is a short distance down from the top of the\n   * viewport, leaving room at the top for a global header bar to show through\n   * from below. The 'lower' position (the default) provides a little extra room at the top\n   * to allow an action bar navigation or breadcrumbs to also show through.\n   */\n  verticalPosition: PropTypes.oneOf(['normal', 'lower']),\n};\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\n\n// Note that the descriptions here should be kept in sync with those for the\n// corresponding props for TearsheetNarrow and TearsheetShell components.\nTearsheet.propTypes = {\n  /**\n   * The navigation actions to be shown as buttons in the action area at the\n   * bottom of the tearsheet. Each action is specified as an object with\n   * optional fields: 'label' to supply the button label, 'kind' to select the\n   * button kind (must be 'primary', 'secondary' or 'ghost'), 'loading' to\n   * display a loading indicator, and 'onClick' to receive notifications when\n   * the button is clicked. Additional fields in the object will be passed to\n   * the Button component, and these can include 'disabled', 'ref', 'className',\n   * and any other Button props, except 'size'. Any other fields in the object will\n   * be passed through to the button element as HTML attributes.\n   *\n   * See https://react.carbondesignsystem.com/?path=/docs/components-button--default#component-api\n   */\n  actions: allPropTypes([\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        ...Button.propTypes,\n        kind: PropTypes.oneOf([\n          'ghost',\n          'danger--ghost',\n          'secondary',\n          'danger',\n          'primary',\n        ]),\n        label: PropTypes.string,\n        loading: PropTypes.bool,\n        // we duplicate this Button prop to improve the DocGen here\n        /**@ts-ignore*/\n        onClick: Button.propTypes.onClick,\n      })\n    ),\n  ]),\n\n  /**\n   * The aria-label for the tearsheet, which is optional.\n   * if it is not passed, the title will be used as the aria-label.\n   */\n  ariaLabel: PropTypes.string,\n\n  /**\n   * An optional class or classes to be added to the outermost element.\n   */\n  className: PropTypes.string,\n\n  /**\n   * The accessibility title for the close icon (if shown).\n   *\n   */\n  closeIconDescription: PropTypes.string,\n\n  /**\n   * A description of the flow, displayed in the header area of the tearsheet.\n   */\n  description: PropTypes.node,\n\n  /**\n   * Enable a close icon ('x') in the header area of the tearsheet. By default,\n   * (when this prop is omitted, or undefined or null) a tearsheet does not\n   * display a close icon if there are navigation actions (\"transactional\n   * tearsheet\") and displays one if there are no navigation actions (\"passive\n   * tearsheet\"), and that behavior can be overridden if required by setting\n   * this prop to either true or false.\n   */\n  hasCloseIcon: PropTypes.bool,\n\n  /**\n   * The content for the header actions area, displayed alongside the title in\n   * the header area of the tearsheet. This is typically a drop-down, or a set\n   * of small buttons, or similar. NB the headerActions is only applicable for\n   * wide tearsheets.\n   */\n  headerActions: PropTypes.element,\n\n  /**\n   * The content for the influencer section of the tearsheet, displayed\n   * alongside the main content. This is typically a menu, or filter, or\n   * progress indicator, or similar.\n   */\n  influencer: PropTypes.element,\n\n  /**\n   * The position of the influencer section, 'left' or 'right'.\n   */\n  influencerPosition: PropTypes.oneOf(['left', 'right']),\n\n  /**\n   * The width of the influencer: 'narrow' (the default) is 256px, and 'wide'\n   * is 320px.\n   */\n  influencerWidth: PropTypes.oneOf(['narrow', 'wide']),\n\n  /**\n   * A label for the tearsheet, displayed in the header area of the tearsheet\n   * to maintain context for the tearsheet (e.g. as the title changes from page\n   * to page of a multi-page task).\n   */\n  label: PropTypes.node,\n\n  /**\n   * Provide a ref to return focus to once the tearsheet is closed.\n   */\n  launcherButtonRef: PropTypes.any,\n\n  /**\n   * Navigation content, such as a set of tabs, to be displayed at the bottom\n   * of the header area of the tearsheet.\n   */\n  navigation: PropTypes.element,\n\n  /**\n   * An optional handler that is called when the user closes the tearsheet (by\n   * clicking the close button, if enabled, or clicking outside, if enabled).\n   * Returning `false` here prevents the modal from closing.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Specifies whether the tearsheet is currently open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * The DOM element that the tearsheet should be rendered within. Defaults to document.body.\n   */\n  /**@ts-ignore */\n  portalTarget: portalType,\n\n  /**\n   * Specify a CSS selector that matches the DOM element that should be\n   * focused when the Modal opens.\n   */\n  selectorPrimaryFocus: PropTypes.string,\n\n  /**\n   * Specify the CSS selectors that match the floating menus.\n   *\n   * See https://react.carbondesignsystem.com/?path=/docs/components-composedmodal--overview#focus-management\n   */\n  /**@ts-ignore*/\n  selectorsFloatingMenus: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n   * The main title of the tearsheet, displayed in the header area.\n   */\n  title: PropTypes.node,\n\n  ...deprecatedProps,\n};\n"],"names":["componentName","Tearsheet","React","props","ref","influencerPosition","influencerWidth","children","rest","TearsheetShell","getDevtoolsProps","deprecatedProps","PropTypes","allPropTypes","Button","portalType"],"mappings":"yMAyBA,MAAMA,EAAgB,YAoKTC,EAAYC,EAAM,WAC7B,CAACC,EAAOC,IAAQ,CACd,KAAM,CACJ,mBAAAC,EAAqB,OACrB,gBAAAC,EAAkB,SAClB,SAAAC,EACA,GAAGC,CAAA,EACDL,EACJ,OACED,EAAA,cAACO,EAAA,CAEG,GAAGC,EAAiBV,CAAa,EACjC,GAAGQ,EACH,mBAAAH,EACA,gBAAAC,EACA,IAAAF,EACA,KAAM,MACR,EAECG,CAAA,CAGP,CACF,EAMAN,EAAU,YAAcD,EAEjB,MAAMW,EAAkB,CAU7B,iBAAkBC,EAAU,MAAM,CAAC,SAAU,OAAO,CAAC,CACvD,EAQAX,EAAU,UAAY,CAcpB,QAASY,EAAa,CACpBD,EAAU,QACRA,EAAU,MAAM,CACd,GAAGE,EAAO,UACV,KAAMF,EAAU,MAAM,CACpB,QACA,gBACA,YACA,SACA,SAAA,CACD,EACD,MAAOA,EAAU,OACjB,QAASA,EAAU,KAGnB,QAASE,EAAO,UAAU,OAAA,CAC3B,CAAA,CACH,CACD,EAMD,UAAWF,EAAU,OAKrB,UAAWA,EAAU,OAMrB,qBAAsBA,EAAU,OAKhC,YAAaA,EAAU,KAUvB,aAAcA,EAAU,KAQxB,cAAeA,EAAU,QAOzB,WAAYA,EAAU,QAKtB,mBAAoBA,EAAU,MAAM,CAAC,OAAQ,OAAO,CAAC,EAMrD,gBAAiBA,EAAU,MAAM,CAAC,SAAU,MAAM,CAAC,EAOnD,MAAOA,EAAU,KAKjB,kBAAmBA,EAAU,IAM7B,WAAYA,EAAU,QAOtB,QAASA,EAAU,KAKnB,KAAMA,EAAU,KAMhB,aAAcG,EAMd,qBAAsBH,EAAU,OAQhC,uBAAwBA,EAAU,QAAQA,EAAU,MAAM,EAK1D,MAAOA,EAAU,KAEjB,GAAGD,CACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}