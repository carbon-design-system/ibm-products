{"version":3,"file":"Wrap-BwGjSwQP.js","sources":["../../src/global/js/utils/Wrap.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2021, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React, {\n  ElementType,\n  ForwardedRef,\n  PropsWithChildren,\n  ReactNode,\n} from 'react';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\n\n// Examine a flat array of children to decide whether it is effectively empty.\n// If there are no children, or all the children are falsy, or all the non-falsy\n// children are themselves Wrap components that are empty, then return true.\nconst isEmpty = (children) => {\n  let result = true;\n  React.Children.forEach(children, (child) => {\n    if (child) {\n      result &&=\n        child?.type?.displayName === 'Wrap' && isEmpty(child?.props?.children);\n    }\n  });\n  return result;\n};\n\ninterface WrapProps extends PropsWithChildren {\n  /**\n   * Specify whether the wrapper element should render even if there are no\n   * children or the children are themselves empty wrappers. Useful if there\n   * are some conditions in which the wrapper element is still required. Note\n   * that this prop takes precedence over neverRender if both are set to true.\n   */\n  alwaysRender?: boolean | null;\n\n  /**\n   * The element name or component to use as a wrapper for the content.\n   */\n  element?: (() => ReactNode) | string | ElementType;\n\n  /**\n   * Specify whether nothing should be rendered even if there are children\n   * in the content. Useful if there are some circumstances in which the\n   * component should not render at all. Note that if alwaysRender is also\n   * set to true then it will take precedence and the wrapper element and\n   * content will be rendered.\n   */\n  neverRender?: boolean;\n\n  className?: string;\n\n  /**\n   * Tab index for the wrapper div\n   */\n  tabIndex?: number;\n\n  /**\n   * The title attribute the content.\n   */\n  title?: string;\n}\n\n/**\n * A simple conditional wrapper that encloses its children in a <div> (or other\n * element if specified), passing any supplied attributes to the <div> (or other\n * element). The component renders nothing at all if there are no children or\n * the children are empty/falsy, or if all the non-falsy children are themselves\n * Wrap components that do not wish to render. This behavior can be overridden\n * by setting neverRender or alwaysRender to true. Note that if a ref is passed,\n * the ref.current will be set to the wrapper element if it renders, and will\n * remain undefined if it does not render.\n */\nexport const Wrap = React.forwardRef(\n  (\n    {\n      // The component props, in alphabetical order (for consistency).\n\n      alwaysRender,\n      children,\n      element: Wrapper = 'div',\n      neverRender,\n      className,\n      title,\n\n      // Collect any other property values passed in.\n      ...rest\n    }: WrapProps,\n    ref: ForwardedRef<HTMLElement>\n  ) =>\n    (neverRender || isEmpty(children)) && !alwaysRender ? null : (\n      <Wrapper className={className} {...rest} ref={ref} title={title}>\n        {children}\n      </Wrapper>\n    )\n);\n\nWrap.displayName = 'Wrap';\n\nWrap.propTypes = {\n  /**\n   * Specify whether the wrapper element should render even if there are no\n   * children or the children are themselves empty wrappers. Useful if there\n   * are some conditions in which the wrapper element is still required. Note\n   * that this prop takes precedence over neverRender if both are set to true.\n   */\n  alwaysRender: PropTypes.bool,\n\n  /**\n   * The content of the wrapper element. If no children are supplied, or the\n   * resulting value(s) are falsy, or if all the non-falsy children are Wrap\n   * components that decide not to render, nothing will be rendered in the DOM.\n   */\n  children: PropTypes.node,\n\n  className: PropTypes.string,\n\n  /**\n   * The element name or component to use as a wrapper for the content.\n   */\n  element: PropTypes.elementType,\n\n  /**\n   * Specify whether nothing should be rendered even if there are children\n   * in the content. Useful if there are some circumstances in which the\n   * component should not render at all. Note that if alwaysRender is also\n   * set to true then it will take precedence and the wrapper element and\n   * content will be rendered.\n   */\n  neverRender: PropTypes.bool,\n  /**\n   * The title attribute the content.\n   */\n  title: PropTypes.string,\n};\n"],"names":["isEmpty","children","result","React","child","Wrap","alwaysRender","Wrapper","neverRender","className","title","rest","ref","PropTypes"],"mappings":"gDAqBA,MAAMA,EAAWC,GAAa,CAC5B,IAAIC,EAAS,GACbC,OAAAA,EAAM,SAAS,QAAQF,EAAWG,GAAU,CACtCA,IACFF,IACEE,GAAO,MAAM,cAAgB,QAAUJ,EAAQI,GAAO,OAAO,QAAQ,EAE3E,CAAC,EACMF,CACT,EAgDaG,EAAOF,EAAM,WACxB,CACE,CAGE,aAAAG,EACA,SAAAL,EACA,QAASM,EAAU,MACnB,YAAAC,EACA,UAAAC,EACA,MAAAC,EAGA,GAAGC,CAAA,EAELC,KAECJ,GAAeR,EAAQC,CAAQ,IAAM,CAACK,EAAe,KACpDH,EAAA,cAACI,GAAQ,UAAAE,EAAuB,GAAGE,EAAM,IAAAC,EAAU,MAAAF,GAChDT,CACH,CAEN,EAEAI,EAAK,YAAc,OAEnBA,EAAK,UAAY,CAOf,aAAcQ,EAAU,KAOxB,SAAUA,EAAU,KAEpB,UAAWA,EAAU,OAKrB,QAASA,EAAU,YASnB,YAAaA,EAAU,KAIvB,MAAOA,EAAU,MACnB;;;;;;;;;;;;;;;;"}