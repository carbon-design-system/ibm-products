{"version":3,"file":"DismissibleTag-NYkkv5JE.js","sources":["../../../../node_modules/@carbon/react/es/components/Tag/DismissibleTag.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef, useRef, useState, useLayoutEffect, cloneElement } from 'react';\nimport cx from 'classnames';\nimport { useId } from '../../internal/useId.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { deprecate } from '../../prop-types/deprecate.js';\nimport Tag, { TYPES, SIZES } from './Tag.js';\nimport { Close } from '@carbon/icons-react';\nimport '../Tooltip/DefinitionTooltip.js';\nimport { Tooltip } from '../Tooltip/Tooltip.js';\nimport { Text } from '../Text/Text.js';\nimport '../Text/TextDirection.js';\nimport { isEllipsisActive } from './isEllipsisActive.js';\nimport { mergeRefs } from '../../tools/mergeRefs.js';\nimport { AILabel } from '../AILabel/index.js';\nimport { isComponentElement } from '../../internal/utils.js';\n\nvar _Close;\n// eslint-disable-next-line react/display-name -- https://github.com/carbon-design-system/carbon/issues/20452\nconst DismissibleTag = /*#__PURE__*/forwardRef(({\n  className,\n  decorator,\n  disabled,\n  id,\n  renderIcon,\n  title = 'Dismiss',\n  onClose,\n  slug,\n  size,\n  text,\n  tagTitle,\n  type,\n  dismissTooltipAlignment = 'bottom',\n  dismissTooltipLabel = 'Dismiss tag',\n  ...other\n}, forwardRef) => {\n  const prefix = usePrefix();\n  const tagLabelRef = useRef(null);\n  // eslint-disable-next-line  react-hooks/rules-of-hooks -- https://github.com/carbon-design-system/carbon/issues/20452\n  const tagId = id || `tag-${useId()}`;\n  const tagClasses = cx(`${prefix}--tag--filter`, className);\n  const [isEllipsisApplied, setIsEllipsisApplied] = useState(false);\n  useLayoutEffect(() => {\n    const newElement = tagLabelRef.current?.getElementsByClassName(`${prefix}--tag__label`)[0];\n    setIsEllipsisApplied(isEllipsisActive(newElement));\n  }, [prefix, tagLabelRef]);\n  const combinedRef = mergeRefs(tagLabelRef, forwardRef);\n  const handleClose = event => {\n    if (onClose) {\n      event.stopPropagation();\n      onClose(event);\n    }\n  };\n  const candidate = slug ?? decorator;\n  const candidateIsAILabel = isComponentElement(candidate, AILabel);\n  const normalizedDecorator = candidateIsAILabel ? /*#__PURE__*/cloneElement(candidate, {\n    size: 'sm',\n    kind: 'inline'\n  }) : candidate;\n  const tooltipClasses = cx(`${prefix}--icon-tooltip`, `${prefix}--tag-label-tooltip`);\n\n  // Removing onClick from the spread operator\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const {\n    onClick,\n    ...otherProps\n  } = other;\n  const dismissActionLabel = isEllipsisApplied ? dismissTooltipLabel : title;\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    ref: combinedRef,\n    type: type,\n    size: size,\n    renderIcon: renderIcon,\n    disabled: disabled,\n    className: tagClasses,\n    id: tagId\n  }, otherProps), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--interactive--tag-children`\n  }, /*#__PURE__*/React.createElement(Text, {\n    title: tagTitle ? tagTitle : text,\n    className: `${prefix}--tag__label`\n  }, text), slug ? normalizedDecorator : decorator ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--tag__decorator`\n  }, normalizedDecorator) : '', /*#__PURE__*/React.createElement(Tooltip, {\n    label: dismissActionLabel,\n    align: dismissTooltipAlignment,\n    className: tooltipClasses,\n    leaveDelayMs: 0,\n    closeOnActivation: true\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: `${prefix}--tag__close-icon`,\n    onClick: handleClose,\n    disabled: disabled,\n    \"aria-label\": dismissActionLabel\n  }, _Close || (_Close = /*#__PURE__*/React.createElement(Close, null))))));\n});\nDismissibleTag.propTypes = {\n  /**\n   * Provide a custom className that is applied to the containing <span>\n   */\n  className: PropTypes.string,\n  /**\n   * **Experimental:** Provide a `decorator` component to be rendered inside the `DismissibleTag` component\n   */\n  decorator: PropTypes.node,\n  /**\n   * Specify if the `DismissibleTag` is disabled\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Specify the tooltip alignment for the dismiss button\n   */\n  dismissTooltipAlignment: PropTypes.oneOf(['top', 'bottom', 'left', 'right', 'top-start', 'top-end', 'bottom-start', 'bottom-end', 'left-end', 'left-start', 'right-end', 'right-start']),\n  /**\n   * Provide a custom tooltip label for the dismiss button\n   */\n  dismissTooltipLabel: PropTypes.string,\n  /**\n   * Specify the id for the tag.\n   */\n  id: PropTypes.string,\n  /**\n   * Click handler for filter tag close button.\n   */\n  onClose: PropTypes.func,\n  /**\n   * A component used to render an icon.\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  /**\n   * Specify the size of the Tag. Currently supports either `sm`,\n   * `md` (default) or `lg` sizes.\n   */\n  size: PropTypes.oneOf(Object.keys(SIZES)),\n  /**\n   * **Experimental:** Provide a `Slug` component to be rendered inside the `DismissibleTag` component\n   */\n  slug: deprecate(PropTypes.node, 'The `slug` prop has been deprecated and will be removed in the next major version. Use the decorator prop instead.'),\n  /**\n   * Provide text to be rendered inside of a the tag.\n   */\n  text: PropTypes.string,\n  /**\n   * Provide a custom `title` to be inserted in the tag.\n   */\n  tagTitle: PropTypes.string,\n  /**\n   * Text to show on clear filters\n   */\n  title: PropTypes.string,\n  /**\n   * Specify the type of the `Tag`\n   */\n  type: PropTypes.oneOf(Object.keys(TYPES))\n};\n\nexport { DismissibleTag as default };\n"],"names":["_Close","DismissibleTag","className","decorator","disabled","id","renderIcon","title","onClose","slug","size","text","tagTitle","type","dismissTooltipAlignment","dismissTooltipLabel","other","forwardRef","prefix","usePrefix","tagLabelRef","useRef","tagId","useId","tagClasses","cx","isEllipsisApplied","setIsEllipsisApplied","useState","useLayoutEffect","newElement","isEllipsisActive","combinedRef","mergeRefs","handleClose","event","candidate","normalizedDecorator","isComponentElement","AILabel","cloneElement","tooltipClasses","onClick","otherProps","dismissActionLabel","React","Tag","_extends","Text","Tooltip","Close","PropTypes","SIZES","deprecate","TYPES"],"mappings":"sUAyBA,IAAIA,EAEJ,MAAMC,eAAyC,CAAC,CAC9C,UAAAC,EACA,UAAAC,EACA,SAAAC,EACA,GAAAC,EACA,WAAAC,EACA,MAAAC,EAAQ,UACR,QAAAC,EACA,KAAAC,EACA,KAAAC,EACA,KAAAC,EACA,SAAAC,EACA,KAAAC,EACA,wBAAAC,EAA0B,SAC1B,oBAAAC,EAAsB,cACtB,GAAGC,CACL,EAAGC,IAAe,CAChB,MAAMC,EAASC,EAAA,EACTC,EAAcC,EAAAA,OAAO,IAAI,EAEzBC,EAAQjB,GAAM,OAAOkB,EAAA,CAAO,GAC5BC,EAAaC,EAAG,GAAGP,CAAM,gBAAiBhB,CAAS,EACnD,CAACwB,EAAmBC,CAAoB,EAAIC,EAAAA,SAAS,EAAK,EAChEC,EAAAA,gBAAgB,IAAM,CACpB,MAAMC,EAAaV,EAAY,SAAS,uBAAuB,GAAGF,CAAM,cAAc,EAAE,CAAC,EACzFS,EAAqBI,EAAiBD,CAAU,CAAC,CACnD,EAAG,CAACZ,EAAQE,CAAW,CAAC,EACxB,MAAMY,EAAcC,EAAUb,EAAaH,CAAU,EAC/CiB,EAAcC,GAAS,CACvB3B,IACF2B,EAAM,gBAAA,EACN3B,EAAQ2B,CAAK,EAEjB,EACMC,EAAY3B,GAAQN,EAEpBkC,EADqBC,EAAmBF,EAAWG,CAAO,EACFC,EAAAA,aAAaJ,EAAW,CACpF,KAAM,KACN,KAAM,QAAA,CACP,EAAIA,EACCK,EAAiBhB,EAAG,GAAGP,CAAM,iBAAkB,GAAGA,CAAM,qBAAqB,EAI7E,CACJ,QAAAwB,EACA,GAAGC,CAAA,EACD3B,EACE4B,EAAqBlB,EAAoBX,EAAsBR,EACrE,OAAoBsC,EAAM,cAAcC,EAAKC,EAAS,CACpD,IAAKf,EACL,KAAAnB,EACA,KAAAH,EACA,WAAAJ,EACA,SAAAF,EACA,UAAWoB,EACX,GAAIF,CAAA,EACHqB,CAAU,EAAgBE,EAAM,cAAc,MAAO,CACtD,UAAW,GAAG3B,CAAM,6BAAA,EACN2B,EAAM,cAAcG,EAAM,CACxC,MAAOpC,GAAsBD,EAC7B,UAAW,GAAGO,CAAM,cAAA,EACnBP,CAAI,EAAGF,EAAO4B,EAAsBlC,EAAyB0C,EAAM,cAAc,MAAO,CACzF,UAAW,GAAG3B,CAAM,kBAAA,EACnBmB,CAAmB,EAAI,GAAiBQ,EAAM,cAAcI,EAAS,CACtE,MAAOL,EACP,MAAO9B,EACP,UAAW2B,EACX,aAAc,EACd,kBAAmB,EAAA,EACLI,EAAM,cAAc,SAAU,CAC5C,KAAM,SACN,UAAW,GAAG3B,CAAM,oBACpB,QAASgB,EACT,SAAA9B,EACA,aAAcwC,CAAA,EACb5C,IAAWA,EAAsB6C,EAAM,cAAcK,EAAO,IAAI,EAAE,CAAC,CAAC,CAAC,CAC1E,CAAC,EACDjD,EAAe,UAAY,CAIzB,UAAWkD,EAAU,OAIrB,UAAWA,EAAU,KAIrB,SAAUA,EAAU,KAIpB,wBAAyBA,EAAU,MAAM,CAAC,MAAO,SAAU,OAAQ,QAAS,YAAa,UAAW,eAAgB,aAAc,WAAY,aAAc,YAAa,aAAa,CAAC,EAIvL,oBAAqBA,EAAU,OAI/B,GAAIA,EAAU,OAId,QAASA,EAAU,KAInB,WAAYA,EAAU,UAAU,CAACA,EAAU,KAAMA,EAAU,MAAM,CAAC,EAKlE,KAAMA,EAAU,MAAM,OAAO,KAAKC,CAAK,CAAC,EAIxC,KAAMC,EAAUF,EAAU,IAA0H,EAIpJ,KAAMA,EAAU,OAIhB,SAAUA,EAAU,OAIpB,MAAOA,EAAU,OAIjB,KAAMA,EAAU,MAAM,OAAO,KAAKG,CAAK,CAAC,CAC1C","x_google_ignoreList":[0]}