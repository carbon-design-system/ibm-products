import{P as e}from"./index-Dk74W0Oi.js";import{R as t,r as N}from"./index-BwDkhjyp.js";import{a as le,b as $e,c as s,_ as me,d as ae}from"./floating-ui.react-DMp4y4mM.js";import{u as be}from"./useNormalizedInputProps-BOQjwhLP.js";import{F as xe}from"./FormContext-C7kRVu4t.js";import{n as ue,T as ge}from"./settings-RejM0MIl.js";import{V as fe,d as we}from"./bucket-17-Ct9mOVQH.js";import{W as he}from"./bucket-18-B1hZKqJv.js";import{u as ve}from"./useAnnouncer-Dwt0jqXi.js";import{T as ie}from"./Text-DgK8TUAU.js";const _e=w=>({"data-invalid":!0,"aria-invalid":!0,"aria-describedby":w}),ye=w=>({"aria-describedby":w}),Te=w=>({"aria-describedby":w}),se=w=>{let{sharedTextInputProps:E,invalid:P,invalidId:y,warn:p,warnId:c,hasHelper:O,helperId:x}=w;return{...E,...P?_e(y):{},...p?ye(c):{},...O?Te(x):{}}},oe=t.forwardRef(function(E,P){let{labelText:y,className:p,id:c,placeholder:O,onChange:x=ue,onClick:o=ue,disabled:r=!1,hideLabel:q,invalid:$=!1,invalidText:L="",helperText:v="",light:H,type:T="password",togglePasswordVisibility:C,tooltipPosition:f="bottom",tooltipAlignment:k="center",hidePasswordLabel:g="Hide password",showPasswordLabel:B="Show password",size:d=void 0,...u}=E;const a=le(),S=$e(),l=c+"-error-msg",V=s(`${a}--text-input`,`${a}--password-input`,p,{[`${a}--text-input--light`]:H,[`${a}--text-input--invalid`]:$,[`${a}--text-input--${d}`]:d}),h={id:c,onChange:F=>{r||x==null||x(F)},onClick:F=>{r||o==null||o(F)},placeholder:O,type:T,ref:P,className:V,...u},z=s(`${a}--label`,{[`${a}--visually-hidden`]:q,[`${a}--label--disabled`]:r}),i=s(`${a}--form__helper-text`,{[`${a}--form__helper-text--disabled`]:r}),n=y?t.createElement("label",{htmlFor:c,className:z},y):null,m=$?t.createElement("div",{className:`${a}--form-requirement`,id:l},L):null,R=T==="text",j=R?t.createElement(fe,{className:`${a}--icon-visibility-off`}):t.createElement(we,{className:`${a}--icon-visibility-on`}),D=s(`${a}--text-input--password__visibility__toggle`,`${a}--btn`,`${a}--btn--icon-only`,`${a}--tooltip__trigger`,`${a}--tooltip--a11y`,{[`${a}--tooltip--${f}`]:f,[`${a}--tooltip--align-${k}`]:k}),W=v?`controlled-password-helper-text-${S}`:void 0,G=t.createElement(t.Fragment,null,t.createElement("input",me({},se({invalid:$,sharedTextInputProps:h,invalidId:l,hasHelper:!!(!m&&v),helperId:W}),{"data-toggle-password-visibility":T==="password"})),t.createElement("button",{type:"button",className:D,onClick:C},t.createElement("span",{className:`${a}--assistive-text`},R?g:B),j)),J=v?t.createElement("div",{id:W,className:i},v):null;return t.createElement("div",{className:`${a}--form-item ${a}--text-input-wrapper ${a}--password-input-wrapper`},n,t.createElement("div",{className:`${a}--text-input__field-wrapper`,"data-invalid":$||null},$&&t.createElement(he,{className:`${a}--text-input__invalid-icon`}),G),m||J)});oe.displayName="ControlledPasswordInput";oe.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ae(e.bool),onChange:e.func,onClick:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),value:e.oneOfType([e.string,e.number])};const re=t.forwardRef(function(E,P){let{className:y,disabled:p=!1,helperText:c,hideLabel:O,hidePasswordLabel:x="Hide password",id:o,inline:r,invalid:q=!1,invalidText:$,labelText:L,light:v,onChange:H=()=>{},onClick:T=()=>{},onTogglePasswordVisibility:C,placeholder:f,readOnly:k,size:g="md",showPasswordLabel:B="Show password",tooltipPosition:d="bottom",tooltipAlignment:u="end",type:a="password",warn:S=!1,warnText:l,...V}=E;const[h,z]=N.useState(a),i=le(),n=be({id:o,invalid:q,invalidText:$,warn:S,warnText:l,readOnly:k,disabled:p}),{isFluid:m}=N.useContext(xe),R=b=>{z(h==="password"?"text":"password"),C&&C(b)},j=s(`${i}--text-input`,`${i}--password-input`,y,{[`${i}--text-input--light`]:v,[`${i}--text-input--invalid`]:n.invalid,[`${i}--text-input--warning`]:n.warn,[`${i}--text-input--${g}`]:g,[`${i}--layout--size-${g}`]:g}),D={id:o,onChange:b=>{p||H(b)},onClick:b=>{p||T(b)},placeholder:f,type:h,className:j,ref:P,...V},W=s(`${i}--form-item`,`${i}--text-input-wrapper`,`${i}--password-input-wrapper`,{[`${i}--text-input-wrapper--light`]:v,[`${i}--text-input-wrapper--inline`]:r,[`${i}--text-input--fluid`]:m}),G=s(`${i}--label`,{[`${i}--visually-hidden`]:O,[`${i}--label--disabled`]:p,[`${i}--label--inline`]:r,[`${i}--label--inline--${g}`]:r&&!!g}),J=s(`${i}--form__helper-text`,{[`${i}--form__helper-text--disabled`]:p,[`${i}--form__helper-text--inline`]:r}),F=s(`${i}--text-input__field-outer-wrapper`,{[`${i}--text-input__field-outer-wrapper--inline`]:r}),ee=s(`${i}--text-input__field-wrapper`,{[`${i}--text-input__field-wrapper--warning`]:n.warn}),te=s({[`${i}--text-input__invalid-icon`]:n.invalid||n.warn,[`${i}--text-input__invalid-icon--warning`]:n.warn}),U=L?t.createElement("label",{htmlFor:o,className:G},L):null,K=c?t.createElement("div",{id:n.helperId,className:J},c):null,M=h==="text",ne=M?t.createElement(fe,{className:`${i}--icon-visibility-off`}):t.createElement(we,{className:`${i}--icon-visibility-on`}),A=s(`${i}--text-input--password__visibility__toggle`,`${i}--btn`,`${i}--tooltip__trigger`,`${i}--tooltip--a11y`,{[`${i}--tooltip--${d}`]:d,[`${i}--tooltip--align-${u}`]:u});let I;(d==="top"||d==="bottom")&&(u==="center"&&(I=d),u==="end"&&(I=`${d}-end`),u==="start"&&(I=`${d}-start`)),(d==="right"||d==="left")&&(I=d);const X=t.createElement(t.Fragment,null,t.createElement("input",me({},se({sharedTextInputProps:D,invalid:n.invalid,invalidId:n.invalidId,warn:n.warn,warnId:n.warnId,hasHelper:!!(c&&!m&&(r||!r&&!n.validation)),helperId:n.helperId}),{disabled:p,"data-toggle-password-visibility":h==="password"})),m&&t.createElement("hr",{className:`${i}--text-input__divider`}),t.createElement(ge,{align:I,className:`${i}--toggle-password-tooltip`,label:M?x:B},t.createElement("button",{type:"button",className:A,disabled:p,onClick:R},ne)));N.useEffect(()=>{z(a)},[a]);const Y=n.icon;return t.createElement("div",{className:W},r?t.createElement("div",{className:`${i}--text-input__label-helper-wrapper`},U,!m&&K):U,t.createElement("div",{className:F},t.createElement("div",{className:ee,"data-invalid":n.invalid||null},Y&&t.createElement(Y,{className:te}),X,m&&!r&&n.validation),!m&&!r&&(n.validation||K)))});re.displayName="PasswordInput";re.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,inline:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ae(e.bool),onChange:e.func,onClick:e.func,onTogglePasswordVisibility:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),type:e.oneOf(["password","text"]),value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};const Z=t.forwardRef(function(E,P){var ce;let{className:y,disabled:p=!1,helperText:c,hideLabel:O,id:x,inline:o=!1,invalid:r=!1,invalidText:q,labelText:$,light:L,onChange:v=()=>{},onClick:H=()=>{},placeholder:T,readOnly:C,size:f,type:k="text",warn:g=!1,warnText:B,enableCounter:d=!1,maxCount:u,slug:a,...S}=E;const l=le(),{defaultValue:V,value:h}=S,[z,i]=N.useState((V==null?void 0:V.toString().length)||(h==null?void 0:h.toString().length)||0),n=be({id:x,readOnly:C,disabled:p,invalid:r,invalidText:q,warn:g,warnText:B}),m=s(`${l}--text-input`,{[`${l}--text-input--light`]:L,[`${l}--text-input--invalid`]:n.invalid,[`${l}--text-input--warning`]:n.warn,[`${l}--text-input--${f}`]:f,[`${l}--layout--size-${f}`]:f}),R={id:x,onChange:_=>{var Q;n.disabled||(i((Q=_.target.value)==null?void 0:Q.length),v(_))},onClick:_=>{n.disabled||H(_)},placeholder:T,type:k,ref:P,className:m,title:T,disabled:n.disabled,readOnly:C,"aria-describedby":c&&n.helperId,...S};d&&(R.maxLength=u);const j=s([s(`${l}--form-item`,y)],`${l}--text-input-wrapper`,{[`${l}--text-input-wrapper--readonly`]:C,[`${l}--text-input-wrapper--light`]:L,[`${l}--text-input-wrapper--inline`]:o,[`${l}--text-input-wrapper--inline--invalid`]:o&&n.invalid}),D=s(`${l}--label`,{[`${l}--visually-hidden`]:O,[`${l}--label--disabled`]:n.disabled,[`${l}--label--inline`]:o,[`${l}--label--inline--${f}`]:o&&!!f}),W=s(`${l}--form__helper-text`,{[`${l}--form__helper-text--disabled`]:n.disabled,[`${l}--form__helper-text--inline`]:o}),G=s(`${l}--text-input__field-outer-wrapper`,{[`${l}--text-input__field-outer-wrapper--inline`]:o}),J=s(`${l}--text-input__field-wrapper`,{[`${l}--text-input__field-wrapper--warning`]:n.warn,[`${l}--text-input__field-wrapper--slug`]:a}),F=s({[`${l}--text-input__invalid-icon`]:n.invalid||n.warn,[`${l}--text-input__invalid-icon--warning`]:n.warn}),ee=s(`${l}--label`,{[`${l}--label--disabled`]:p,[`${l}--text-input__label-counter`]:!0}),te=d&&u?t.createElement(ie,{as:"div",className:ee},`${z}/${u}`):null,U=$?t.createElement(ie,{as:"label",htmlFor:x,className:D},$):null,K=t.createElement("div",{className:`${l}--text-input__label-wrapper`},U,te),M=c?t.createElement(ie,{as:"div",id:n.helperId,className:W},c):null,ne=t.createElement("input",se({sharedTextInputProps:R,invalid:n.invalid,invalidId:n.invalidId,warn:n.warn,warnId:n.warnId})),{isFluid:A}=N.useContext(xe),I=N.useRef(null),[X,Y]=N.useState(""),b=ve(z,u);N.useEffect(()=>{if(b&&b!==X){const _=I.current;if(_){_.textContent="";const Q=setTimeout(()=>{_&&(_.textContent=b,Y(b))},1e3);return()=>{Q&&clearTimeout(Q)}}}},[b,X]);const de=n.icon;let pe;return a&&((ce=a.type)==null?void 0:ce.displayName)==="Slug"&&(pe=t.cloneElement(a,{size:"mini"})),t.createElement("div",{className:j},o?t.createElement("div",{className:`${l}--text-input__label-helper-wrapper`},K,!A&&(n.validation||M)):K,t.createElement("div",{className:G},t.createElement("div",{className:J,"data-invalid":n.invalid||null},de&&t.createElement(de,{className:F}),ne,pe,t.createElement("span",{className:`${l}--text-input__counter-alert`,role:"alert","aria-live":"assertive","aria-atomic":"true",ref:I},b),A&&t.createElement("hr",{className:`${l}--text-input__divider`}),A&&!o&&n.validation),!A&&!o&&(n.validation||M)))});Z.displayName="TextInput";Z.PasswordInput=re;Z.ControlledPasswordInput=oe;Z.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,enableCounter:e.bool,helperText:e.node,hideLabel:e.bool,id:e.string.isRequired,inline:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ae(e.bool),maxCount:e.number,onChange:e.func,onClick:e.func,placeholder:e.string,readOnly:e.bool,size:e.oneOf(["sm","md","lg"]),slug:e.node,type:e.string,value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};export{re as P,Z as T};
