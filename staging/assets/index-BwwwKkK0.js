import{u as D,c as I,b as P,s as T,a as q,e as K,d as f,_ as S,n as L,f as U,P as e}from"./index-C360Eztx.js";import{r as d,e as m}from"./index-DtHxqM--.js";import{B as A}from"./settings-CFkY3W_8.js";import{b as G,a as H}from"./useAttachedMenu-DmwntCh_.js";import{m as J}from"./mergeRefs-91-mP8KM.js";const Q=["primary","tertiary","ghost"],V="primary",W=d.forwardRef(function({children:b,className:h,disabled:y,kind:x=V,label:p,size:g="lg",menuAlignment:n="bottom",tabIndex:w=0,menuTarget:C,..._},E){const M=D("enable-v12-dynamic-floating-styles"),l=I("MenuButton"),r=P(),i=d.useRef(null);let c=[];M||(c=[U({crossAxis:!1})]),(n==="bottom"||n==="top")&&c.push(T({apply({rects:s,elements:a}){Object.assign(a.floating.style,{width:`${s.reference.width}px`})}}));const{refs:o,floatingStyles:u,placement:O,middlewareData:R}=q({placement:n,strategy:"fixed",transform:!1,middleware:c,whileElementsMounted:K}),k=J(E,i),{open:t,handleClick:v,handleMousedown:B,handleClose:$}=G(i);d.useLayoutEffect(()=>{Object.keys(u).forEach(s=>{if(o.floating.current){let a=u[s];["top","right","bottom","left"].includes(s)&&Number(a)&&(a+="px"),o.floating.current.style[s]=a}})},[u,o.floating,R,O,t]);function F(){i.current&&v()}const N=f(`${r}--menu-button__container`,h),z=f(`${r}--menu-button__trigger`,{[`${r}--menu-button__trigger--open`]:t}),j=f(`${r}--menu-button__${n}`);return m.createElement("div",S({},_,{ref:k,"aria-owns":t?l:void 0,className:N}),m.createElement(A,{ref:o.setReference,className:z,size:g,tabIndex:w,kind:x,renderIcon:L,disabled:y,"aria-haspopup":!0,"aria-expanded":t,onClick:F,onMouseDown:B,"aria-controls":t?l:void 0},p),m.createElement(H,{containerRef:i,menuAlignment:n,className:j,ref:o.setFloating,id:l,legacyAutoalign:!1,label:p,size:g,open:t,onClose:$,target:C},b))});W.propTypes={children:e.node.isRequired,className:e.string,disabled:e.bool,kind:e.oneOf(Q),label:e.string.isRequired,menuAlignment:e.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end"]),size:e.oneOf(["sm","md","lg"]),tabIndex:e.number,menuTarget:e.instanceOf(typeof Element<"u"?Element:Object)};export{W as M};
