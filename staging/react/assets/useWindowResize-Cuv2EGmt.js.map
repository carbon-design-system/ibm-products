{"version":3,"file":"useWindowResize-Cuv2EGmt.js","sources":["../../src/global/js/hooks/useWindowResize.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2022, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { useRef } from 'react';\nimport { useIsomorphicEffect } from './useIsomorphicEffect';\n\nconst windowExists = typeof window !== `undefined`;\n\nconst getWindowSize = () => {\n  if (!windowExists) {\n    return { innerHeight: 0, innerWidth: 0, outerHeight: 0, outerWidth: 0 };\n  }\n\n  const { innerHeight, innerWidth, outerHeight, outerWidth } = { ...window };\n\n  return { innerHeight, innerWidth, outerHeight, outerWidth };\n};\n\nexport const useWindowResize = (effect, deps, throttleInterval = 0) => {\n  const windowSize = useRef({});\n  const throttleTimeout = useRef(null);\n\n  const doGetWindowSize = () => {\n    const newVal = { previous: windowSize.current, current: getWindowSize() };\n\n    // call effect\n    effect(newVal);\n    windowSize.current = newVal.current;\n    throttleTimeout.current = null;\n  };\n\n  useIsomorphicEffect(() => {\n    const handleResize = () => {\n      if (throttleInterval) {\n        if (throttleTimeout.current === null) {\n          throttleTimeout.current = setTimeout(\n            doGetWindowSize,\n            throttleInterval\n          );\n        }\n      } else {\n        doGetWindowSize();\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    doGetWindowSize();\n\n    return () => window.removeEventListener('resize', handleResize);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n};\n"],"names":["windowExists","getWindowSize","innerHeight","innerWidth","outerHeight","outerWidth","useWindowResize","effect","deps","throttleInterval","windowSize","useRef","throttleTimeout","doGetWindowSize","newVal","useIsomorphicEffect","handleResize"],"mappings":"+FASA,MAAMA,EAAe,OAAO,OAAW,IAEjCC,EAAgB,IAAM,CAC1B,GAAI,CAACD,EACH,MAAO,CAAE,YAAa,EAAG,WAAY,EAAG,YAAa,EAAG,WAAY,CAAA,EAGtE,KAAM,CAAE,YAAAE,EAAa,WAAAC,EAAY,YAAAC,EAAa,WAAAC,GAAe,CAAE,GAAG,MAAA,EAElE,MAAO,CAAE,YAAAH,EAAa,WAAAC,EAAY,YAAAC,EAAa,WAAAC,CAAA,CACjD,EAEaC,EAAkB,CAACC,EAAQC,EAAMC,EAAmB,IAAM,CACrE,MAAMC,EAAaC,EAAAA,OAAO,EAAE,EACtBC,EAAkBD,EAAAA,OAAO,IAAI,EAE7BE,EAAkB,IAAM,CAC5B,MAAMC,EAAS,CAAE,SAAUJ,EAAW,QAAS,QAAST,GAAc,EAGtEM,EAAOO,CAAM,EACbJ,EAAW,QAAUI,EAAO,QAC5BF,EAAgB,QAAU,IAC5B,EAEAG,EAAoB,IAAM,CACxB,MAAMC,EAAe,IAAM,CACrBP,EACEG,EAAgB,UAAY,OAC9BA,EAAgB,QAAU,WACxBC,EACAJ,CAAA,GAIJI,EAAA,CAEJ,EAEA,cAAO,iBAAiB,SAAUG,CAAY,EAC9CH,EAAA,EAEO,IAAM,OAAO,oBAAoB,SAAUG,CAAY,CAEhE,EAAGR,CAAI,CACT"}