import{e as r,u as w,c as x,_ as S,O as Ee,m as be,P as e,n as k,B as z,k as se,r as d,N as He,ar as ze,a as W,eO as We,eP as Ve,l as ie,o as ue,t as Ke,a4 as Ue,g as Ge}from"./iframe-BBf3bqTv.js";import{L as re}from"./index-CbeIurAw.js";import{B as te}from"./ButtonSet-C3GUdjVj.js";import{I as Ce}from"./InlineLoading-Iu2BiOBt.js";import{m as Xe}from"./mergeRefs-BZpmU3mx.js";import{r as Ze}from"./requiredIfGivenPropIsTruthy-C6rAip-Q.js";import{w as Je,a as Qe,e as je}from"./wrapFocus-DaSELL9x.js";import{T as he}from"./Text-CaNb5F2n.js";import{A as en}from"./index-DOwP6x5e.js";import{i as de}from"./utils-BgfmaY2S.js";var ne={exports:{}},E={},fe;function nn(){if(fe)return E;fe=1;/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),N=Symbol.for("react.view_transition"),R=Symbol.for("react.client.reference");function m(n){if(typeof n=="object"&&n!==null){var C=n.$$typeof;switch(C){case t:switch(n=n.type,n){case s:case c:case a:case u:case g:case N:return n;default:switch(n=n&&n.$$typeof,n){case i:case l:case T:case b:return n;case p:return n;default:return C}}case o:return C}}}return E.ContextConsumer=p,E.ContextProvider=i,E.Element=t,E.ForwardRef=l,E.Fragment=s,E.Lazy=T,E.Memo=b,E.Portal=o,E.Profiler=c,E.StrictMode=a,E.Suspense=u,E.SuspenseList=g,E.isContextConsumer=function(n){return m(n)===p},E.isContextProvider=function(n){return m(n)===i},E.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===t},E.isForwardRef=function(n){return m(n)===l},E.isFragment=function(n){return m(n)===s},E.isLazy=function(n){return m(n)===T},E.isMemo=function(n){return m(n)===b},E.isPortal=function(n){return m(n)===o},E.isProfiler=function(n){return m(n)===c},E.isStrictMode=function(n){return m(n)===a},E.isSuspense=function(n){return m(n)===u},E.isSuspenseList=function(n){return m(n)===g},E.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===s||n===c||n===a||n===u||n===g||typeof n=="object"&&n!==null&&(n.$$typeof===T||n.$$typeof===b||n.$$typeof===i||n.$$typeof===p||n.$$typeof===l||n.$$typeof===R||n.getModuleId!==void 0)},E.typeOf=m,E}var me;function tn(){return me||(me=1,ne.exports=nn()),ne.exports}var pe=tn();const $e=r.forwardRef(function({buttonOnClick:o,children:s,className:a,closeClassName:c,closeIconClassName:p,closeModal:i,iconDescription:l="Close",label:u,labelClassName:g,title:b,titleClassName:T,...N},R){const m=w();function n($){i?.($),o?.($)}const C=x(`${m}--modal-header`,a),P=x(`${m}--modal-header__label ${m}--type-delta`,g),I=x(`${m}--modal-header__heading ${m}--type-beta`,T),A=x(`${m}--modal-close`,c),f=x(`${m}--modal-close__icon`,p);return r.createElement("div",S({className:C},N,{ref:R}),u&&r.createElement("h2",{className:P},u),b&&r.createElement("h2",{className:I},b),s,r.createElement("div",{className:`${m}--modal-close-button`},r.createElement(Ee,{className:A,label:l,onClick:n,"aria-label":l,align:"left"},r.createElement(be,{size:20,"aria-hidden":"true",tabIndex:"-1",className:f}))))});$e.propTypes={buttonOnClick:e.func,children:e.node,className:e.string,closeClassName:e.string,closeIconClassName:e.string,closeModal:e.func,iconDescription:e.string,label:e.node,labelClassName:e.string,title:e.node,titleClassName:e.string};function Te({secondaryButtons:t,secondaryButtonText:o,secondaryClassName:s,closeModal:a,onRequestClose:c,disabled:p}){function i(l){a(l),c(l)}return Array.isArray(t)&&t.length<=2?r.createElement(r.Fragment,null,t.map(({buttonText:l,onClick:u},g)=>r.createElement(z,{key:`${l}-${g}`,className:s,kind:"secondary",onClick:u||i},l))):o?r.createElement(z,{disabled:p,className:s,onClick:i,kind:"secondary"},o):null}Te.propTypes={closeModal:e.func,disabled:e.bool,onRequestClose:e.func,secondaryButtonText:e.string,secondaryButtons:(t,o,s)=>{if(t.secondaryButtons){if(!Array.isArray(t.secondaryButtons)||t.secondaryButtons.length!==2)return new Error(`${o} needs to be an array of two button config objects`);const a={buttonText:e.node,onClick:e.func};t[o].forEach(c=>{e.checkPropTypes(a,c,o,s)})}return null},secondaryClassName:e.string};const oe=r.forwardRef(function({children:o,className:s,closeModal:a=k,danger:c,inputref:p,onRequestClose:i=k,onRequestSubmit:l=k,primaryButtonDisabled:u,primaryButtonText:g,primaryClassName:b,secondaryButtonText:T,secondaryButtons:N,secondaryClassName:R,loadingStatus:m="inactive",loadingDescription:n,loadingIconDescription:C,onLoadingSuccess:P=k,...I},A){const f=w(),$=x(`${f}--modal-footer`,s,Array.isArray(N)&&N.length===2?`${f}--modal-footer--three-button`:null),M=x(b,m!=="inactive"?`${f}--btn--loading`:null),D=m!=="inactive",B={closeModal:a,secondaryButtons:N,secondaryButtonText:T,secondaryClassName:R,onRequestClose:i,disabled:D};return r.createElement(te,S({className:$},I,{ref:A,"aria-busy":D}),r.createElement(Te,B),g&&r.createElement(z,{onClick:l,className:M,disabled:D||u,kind:c?"danger":"primary",ref:p},m==="inactive"?g:r.createElement(Ce,{status:m,description:n,iconDescription:C,className:`${f}--inline-loading--btn`,onSuccess:P})),o)});oe.propTypes={children:e.node,className:e.string,closeModal:e.func,danger:e.bool,inputref:e.oneOfType([e.func,e.shape({current:e.any})]),loadingDescription:e.string,loadingIconDescription:e.string,loadingStatus:e.oneOf(["inactive","active","finished","error"]),onLoadingSuccess:e.func,onRequestClose:e.func,onRequestSubmit:e.func,primaryButtonDisabled:e.bool,primaryButtonText:e.string,primaryClassName:e.string,secondaryButtonText:e.string,secondaryButtons:(t,o,s)=>{if(t.secondaryButtons){if(!Array.isArray(t.secondaryButtons)||t.secondaryButtons.length!==2)return new Error(`${o} needs to be an array of two button config objects`);const a={buttonText:e.node,onClick:e.func};t[o].forEach(c=>{e.checkPropTypes(a,c,o,s)})}return null},secondaryClassName:e.string};const ge=(t,o,s)=>{t.classList.toggle(o,s)},X=d.createContext({}),ae=r.forwardRef(({children:t,className:o,focusAfterCloseRef:s,modal:a,onCancel:c=k,onClick:p=k,onClose:i=k,onRequestClose:l=k,open:u=!1,role:g,ariaLabel:b,ariaLabelledBy:T,ariaDescribedBy:N,...R},m)=>{const n=w(),C=se(),P=`${n}--dialog-header__heading--${C}`,I=`${n}--dialog-header__label--${C}`,A=d.useRef(null),f=m??A;function $(_){u&&a&&_.target===f.current&&l(_)}function M(_){$(_),p(_)}d.useEffect(()=>{f.current&&(u?a?f.current.showModal():f.current.show():f.current.close())},[a,u]),d.useEffect(()=>{if(!u&&s){const _=setTimeout(()=>{s.current?.focus()});return()=>{clearTimeout(_)}}},[u,s]);const D=x(`${n}--dialog-container`),B={dialogId:C,titleId:P,subtitleId:I,isOpen:u};return d.useEffect(()=>{if(f.current&&u&&!b&&!T){const _=f.current.querySelector(`.${n}--dialog-header__heading`);_&&_.id&&f.current.setAttribute("aria-labelledby",_.id)}},[u,b,T,n]),r.createElement(X.Provider,{value:B},r.createElement("dialog",S({},R,{className:x(`${n}--dialog`,{[`${n}--dialog--modal`]:a},o),ref:f,onCancel:c,onClick:M,onClose:i,role:g,"aria-label":b,"aria-labelledby":b?void 0:T||P,"aria-describedby":N}),r.createElement("div",{className:D},t)))});ae.displayName="Dialog";ae.propTypes={children:e.node,className:e.string,focusAfterCloseRef:e.oneOfType([e.func,e.shape({current:e.any})]),modal:e.bool,onRequestClose:e.func,open:e.bool,role:e.oneOf(["dialog","alertdialog"]),"aria-label":e.string,"aria-labelledby":e.string,ariaDescribedBy:e.string};const Re=r.forwardRef(({children:t,...o},s)=>{const a=w();return r.createElement("div",S({className:`${a}--dialog__header`,ref:s},o),t)});Re.displayName="DialogHeader";Re.propTypes={children:e.node};const _e=r.forwardRef(({children:t,...o},s)=>{const a=w();return r.createElement("div",S({className:`${a}--dialog__header-controls`,ref:s},o),t)});_e.displayName="DialogControls";_e.propTypes={children:e.node};const Ne=r.forwardRef(({onClick:t,...o},s)=>{const a=w();return r.createElement(Ee,S({kind:"ghost",className:`${a}--dialog__close`,label:"Close",title:"Close","aria-label":"Close",align:"left",onClick:t,ref:s},o),r.createElement(be,{size:20,"aria-hidden":"true",tabIndex:-1,className:`${a}--icon__close`}))});Ne.displayName="DialogCloseButton";Ne.propTypes={onClick:e.func};const xe=r.forwardRef(({children:t,className:o,id:s,...a},c)=>{const p=w(),{titleId:i}=d.useContext(X),l=s||i;return r.createElement(he,S({as:"h2",id:l,className:x(`${p}--dialog-header__heading`,o),ref:c},a),t)});xe.displayName="DialogTitle";xe.propTypes={children:e.node,className:e.string,id:e.string};const Se=r.forwardRef(({children:t,className:o,id:s,...a},c)=>{const p=w(),{subtitleId:i}=d.useContext(X),l=s||i;return r.createElement(he,S({as:"h2",id:l,className:x(`${p}--dialog-header__label`,o),ref:c},a),t)});Se.displayName="DialogSubtitle";Se.propTypes={children:e.node,className:e.string,id:e.string};const Pe=r.forwardRef(({children:t,className:o,hasScrollingContent:s,...a},c)=>{const p=w(),i=d.useRef(null),[l,u]=d.useState(!1),g=se(),b=`${p}--dialog-body--${g}`;He(()=>{i.current&&u(i.current.scrollHeight>i.current.clientHeight);function m(){i.current&&u(i.current.scrollHeight>i.current.clientHeight)}const n=ze(m,200);return window.addEventListener("resize",n),()=>{n.cancel(),window.removeEventListener("resize",n)}},[]);const T=x(`${p}--dialog-content`,{[`${p}--dialog-scroll-content`]:s||l},o),N=s||l?{tabIndex:0,role:"region"}:{},R=m=>{typeof c=="function"?c(m):c&&(c.current=m),i.current=m};return r.createElement(re,S({ref:R,id:b,className:T},N,a),t)});Pe.displayName="DialogBody";Pe.propTypes={children:e.node,className:e.string,hasScrollingContent:e.bool};const ve=r.forwardRef(({children:t,className:o,onRequestClose:s=k,onSecondarySubmit:a,onRequestSubmit:c=k,primaryButtonText:p="Save",primaryButtonDisabled:i=!1,secondaryButtonText:l="Cancel",secondaryButtons:u,loadingStatus:g="inactive",loadingDescription:b,loadingIconDescription:T,onLoadingSuccess:N=k,danger:R=!1,...m},n)=>{const C=w(),P=d.useRef(null),{isOpen:I}=d.useContext(X),[A,f]=d.useState(null);d.useEffect(()=>{if(R&&A){const _=requestAnimationFrame(()=>{A.focus()});return()=>cancelAnimationFrame(_)}},[R,A,I]);const $=x(`${C}--dialog-footer`,o,{[`${C}--dialog-footer--three-button`]:Array.isArray(u)&&u.length===2}),M=g!=="inactive",D=x({[`${C}--btn--loading`]:g!=="inactive"}),B=a||s;return t?r.createElement(te,S({className:$,ref:n},m),t):r.createElement(te,S({className:$,"aria-busy":M,ref:n},m),Array.isArray(u)&&u.length<=2?u.map(({buttonText:_,onClick:q},V)=>r.createElement(z,{key:`${_}-${V}`,autoFocus:R,kind:"secondary",ref:V===0&&R?f:void 0,onClick:q},_)):l&&r.createElement(z,{ref:R?f:void 0,disabled:M,kind:"secondary",autoFocus:R,onClick:B},l),r.createElement(z,{className:D,kind:R?"danger":"primary",disabled:M||i,onClick:c,ref:P},g==="inactive"?p:r.createElement(Ce,{status:g,description:b,iconDescription:T,className:`${C}--inline-loading--btn`,onSuccess:N})))});ve.displayName="DialogFooter";ve.propTypes={children:e.node,className:e.string,onRequestClose:e.func,onSecondarySubmit:e.func,onRequestSubmit:e.func,primaryButtonText:e.node,primaryButtonDisabled:e.bool,secondaryButtonText:e.node,secondaryButtons:(t,o,s)=>{if(t.secondaryButtons){if(!Array.isArray(t.secondaryButtons)||t.secondaryButtons.length!==2)return new Error(`${o} needs to be an array of two button config objects`);const a={buttonText:e.node,onClick:e.func};t[o].forEach(c=>{e.checkPropTypes(a,c,o,s)})}return null},danger:e.bool,loadingStatus:e.oneOf(["inactive","active","finished","error"]),loadingDescription:e.string,loadingIconDescription:e.string,onLoadingSuccess:e.func};const on=(t,o)=>{const s=w(),[a,c]=d.useState(o?"idle":"finished"),p=a==="active";!o&&a==="idle"&&c("active"),o&&a!=="idle"&&c("idle");const i=d.useCallback(()=>{c("finished")},[]);return d.useLayoutEffect(()=>{if(!t.current||!p)return;if(!("getAnimations"in t.current)){i();return}const l=t.current.getAnimations({subtree:!0}).filter(g=>g instanceof CSSAnimation&&g.animationName.startsWith(`${s}--presence`));if(!l.length){i();return}let u=!1;return Promise.all(l.map(g=>g.finished)).finally(()=>{u||i()}),()=>{u=!0}},[t,p,s,i]),{isPresent:o||a!=="finished",isExiting:p}},sn=(t,o)=>{const s=d.useRef(o),a=d.useRef(null),c=d.useRef(null);!o&&c.current&&!a.current&&(s.current=null),c.current=a.current;const{isPresent:p,isExiting:i}=on(a,t),l=d.useCallback(g=>!g||s.current&&s.current!==g?!1:(s.current=g,!0),[]),u=d.useMemo(()=>({presenceRef:a,isPresenceExclusive:l,isExiting:i}),[a,l,i]);return[p,u]},we=t=>{const[o,s]=d.useState(!!t),[a,c]=d.useState(!!t);return d.useEffect(()=>{t!==a&&(s(!!t),c(!!t))},[t,a]),d.useMemo(()=>[o,s],[o])},rn=({open:t,_presenceId:o,_autoEnablePresence:s=!0,children:a})=>{const c=we(t),[p]=c,[i,l]=sn(p,o),u=d.useMemo(()=>({modalState:c,autoEnablePresence:s,...l}),[c,s,l]);return i?r.createElement(Z,{value:u},a):null},Z=d.createContext(void 0),an=t=>{const o=d.useContext(Z);return o?.isPresenceExclusive(t)?o:void 0},cn=r.forwardRef(function({className:o,children:s,hasForm:a,hasScrollingContent:c,...p},i){const l=w(),u=d.useRef(null),{height:g}=We({ref:u}),b=!!u.current&&u?.current?.scrollHeight>u?.current?.clientHeight,T=x({[`${l}--modal-content`]:!0,[`${l}--modal-content--with-form`]:a,[`${l}--modal-scroll-content`]:c||b,[`${l}--modal-scroll-content--no-fade`]:g<=300},o),N=c||b?{tabIndex:0,role:"region"}:{};return r.createElement(re,S({className:T},N,p,{ref:Xe(u,i)}),s)});cn.propTypes={"aria-label":Ze("hasScrollingContent",e.string),children:e.node,className:e.string,hasForm:e.bool,hasScrollingContent:e.bool};const ln=r.forwardRef(function({open:o,...s},a){const c=se(),p=W("enable-presence"),i=!!d.useContext(Z),l=p||i,u=an(c);return l&&!u?r.createElement(rn,{open:o??!1,_presenceId:c,_autoEnablePresence:i},r.createElement(ye,S({open:!0,ref:a},s))):r.createElement(ye,S({ref:a,open:o},s))}),ye=r.forwardRef(function({["aria-labelledby"]:o,["aria-label"]:s,children:a,className:c,containerClassName:p,danger:i,decorator:l,isFullWidth:u,onClose:g,onKeyDown:b,open:T,preventCloseOnClickOutside:N,selectorPrimaryFocus:R="[data-modal-primary-focus]",selectorsFloatingMenus:m,size:n,launcherButtonRef:C,slug:P,...I},A){const f=w(),$=d.useRef(null),M=d.useRef(null),D=d.useRef(null),B=d.useRef(null),_=d.useRef(null),q=d.useContext(Z),V=Ve([A,q?.presenceRef]),H=W("enable-presence")||q?.autoEnablePresence,v=T||H,Ie=we(v),[J,Ae]=q?.modalState??Ie,L=W("enable-dialog-element"),Me=W("enable-experimental-focus-wrap-without-sentinels"),ke=W("enable-focus-wrap-without-sentinels"),K=Me||ke;d.useEffect(()=>{L||ge(document.body,`${f}--body--with-modal-open`,!!v)},[v,f]),d.useEffect(()=>{if(!L)return()=>{ge(document.body,`${f}--body--with-modal-open`,!1)}},[]);function De(y){L||K&&v&&ue(y,Ue)&&$.current&&Je({containerNode:$.current,currentActiveNode:y.target,event:y}),b?.(y)}function Fe(y){const h=y.target;_.current=h}function Oe(y){const{target:h}=y,F=_.current;y.stopPropagation(),(le&&!N||!le&&N===!1)&&h instanceof Node&&!je(h,m,f)&&$.current&&!$.current.contains(h)&&!$.current.contains(F)&&U(y)}function Be({target:y,relatedTarget:h}){if(!L&&!K&&v&&h&&y&&$.current){const{current:O}=$,{current:Y}=D,{current:Ye}=B;Qe({bodyNode:O,startTrapNode:Y,endTrapNode:Ye,currentActiveNode:h,oldActiveNode:y,selectorsFloatingMenus:m?.filter(Boolean),prefix:f})}const F=document.querySelector(`.${f}--modal-content`);!F||!F.classList.contains(`${f}--modal-scroll-content`)||!h||!F.contains(h)||h.scrollIntoView({block:"center"})}function U(y){(!g||g(y)!==!1)&&Ae(!1)}const qe=x(`${f}--modal`,{"is-visible":H||J,[`${f}--modal--enable-presence`]:q?.autoEnablePresence,[`${f}--modal--danger`]:i,[`${f}--modal--slug`]:P,[`${f}--modal--decorator`]:l},c),ce=x(`${f}--modal-container`,n&&`${f}--modal-container--${n}`,u&&`${f}--modal-container--full-width`,p);let Q;const j=r.Children.toArray(a).map(y=>{switch(!0){case(pe.isElement(y)&&y.type===r.createElement($e).type):{const h=y;return Q=h.props.label,r.cloneElement(h,{closeModal:U})}case(pe.isElement(y)&&y.type===r.createElement(oe).type):{const h=y;return r.cloneElement(h,{closeModal:U,inputref:M,danger:i})}default:return y}}),le=!d.Children.toArray(j).some(y=>de(y,oe));d.useEffect(()=>{if(!v)return;const y=h=>{ue(h,Ke)&&(h.preventDefault(),h.stopPropagation(),U(h))};return document.addEventListener("keydown",y,!0),()=>{document.removeEventListener("keydown",y,!0)}},[v]),d.useEffect(()=>{!L&&!H&&!v&&C&&setTimeout(()=>{C.current?.focus()})},[L,H,v,C]),d.useEffect(()=>{const y=C?.current;return()=>{H&&y&&setTimeout(()=>{y.focus()})}},[H,C]),d.useEffect(()=>{if(!L){const y=F=>{const O=F||$.current,Y=O?O.querySelector(i?`.${f}--btn--secondary`:R):null;return Y||M&&M.current};v&&J&&(F=>{const O=y(F),Y=F.querySelector(`.${f}--modal-close`);O?O.focus():!O&&Y&&Y?.focus()})($.current)}},[v,R,J]);const ee=P??l,G=de(ee,en)?d.cloneElement(ee,{size:"sm"}):ee,Le=L?r.createElement(ae,{open:v,focusAfterCloseRef:C,modal:!0,className:ce,"aria-label":s||Q,"aria-labelledby":o,"data-exiting":q?.isExiting||void 0},r.createElement("div",{ref:$,className:`${f}--modal-container-body`},P?G:l?r.createElement("div",{className:`${f}--modal--inner__decorator`},G):"",j)):r.createElement("div",{className:ce,role:"dialog","aria-modal":"true","aria-label":s||Q,"aria-labelledby":o},!K&&r.createElement("button",{type:"button",ref:D,className:`${f}--visually-hidden`},"Focus sentinel"),r.createElement("div",{ref:$,className:`${f}--modal-container-body`},P?G:l?r.createElement("div",{className:`${f}--modal--inner__decorator`},G):"",j),!K&&r.createElement("button",{type:"button",ref:B,className:`${f}--visually-hidden`},"Focus sentinel"));return r.createElement(re,S({},I,{level:0,role:"presentation",ref:V,"aria-hidden":!v,onBlur:Be,onClick:ie([I?.onClick,Oe]),onMouseDown:ie([I?.onMouseDown,Fe]),onKeyDown:De,className:qe,"data-exiting":q?.isExiting||void 0}),Le)});ln.propTypes={"aria-label":e.string,"aria-labelledby":e.string,children:e.node,className:e.string,containerClassName:e.string,danger:e.bool,decorator:e.node,isFullWidth:e.bool,launcherButtonRef:e.oneOfType([e.func,e.shape({current:e.any})]),onClose:e.func,onKeyDown:e.func,open:e.bool,preventCloseOnClickOutside:e.bool,selectorPrimaryFocus:e.string,selectorsFloatingMenus:e.arrayOf(e.string.isRequired),size:e.oneOf(["xs","sm","md","lg"]),slug:Ge(e.node)};export{ln as C,ae as D,$e as M,cn as a,oe as b,Pe as c,Ne as d,_e as e,ve as f,Re as g,Se as h,xe as i,rn as j,pe as r,ge as t,sn as u};
//# sourceMappingURL=ComposedModal-BW2ljFCb.js.map
