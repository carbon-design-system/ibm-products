import { Story, Controls, Source, Canvas } from '@storybook/addon-docs/blocks';
import { Tearsheet } from '.';
import * as stories from './Tearsheet.stories';
import { stackblitzPrefillConfig } from '../../../../previewer/codePreviewer';

# Tearsheet

[Usage guidelines](https://pages.github.ibm.com/carbon/ibm-products/components/tearsheet/usage/)

## Table of Contents

- [Overview](#overview)
- [Usage](#usage)
- [Examples](#examples)
- [Component API](#component-api)

## Overview

A tearsheet is a mostly full-screen type of dialog that keeps users in-context
and focused by bringing actionable content front and center while revealing
parts of the UI behind it. There is also a narrow variant of the tearsheet.

A tearsheet is composed of up to five zones, providing flexibility based on the
content: a heading area, an optional navigation area positioned just below the
heading, an optional influencer area on the left, a main content area, an
optional summary details area on the right, and a footer section.

The implementation is designed to deliver a composable tearsheet that’s both
feature-rich and highly customizable, allowing users to adapt it to any level of
complexity. This is structured using the compound component pattern in React,
with distinct and well-defined sections, so that you need to import the main
`Tearsheet` and all other subcomponents will be static properties of this one.

### Usage

```jsx
<Tearsheet {...props}>
  <Tearsheet.Header>
    <Tearsheet.HeaderContent
      {...headerContentProps}
      headerActions={
        <Tearsheet.HeaderActions
          menuButtonProps={{ label: 'Actions', kind: 'tertiary' }}
        >
          <Tearsheet.HeaderActionItem overflowItemLabel="Action 1">
            <Button kind="tertiary" size="sm">
              Action 1
            </Button>
          </Tearsheet.HeaderActionItem>
          ...
        </Tearsheet.HeaderActions>
      }
    ></Tearsheet.HeaderContent>
    Any extra content like ProgressIndicator, notifications etc can go here
    <Tearsheet.NavigationBar scroller={<Tearsheet.ScrollButton />}>
      This sticks to bottom of the header , so tablist, tags etc can be rendered
      here
    </Tearsheet.NavigationBar>
  </Tearsheet.Header>

  <Tearsheet.Influencer>
    Rendered on the left, spanning the full height. Can be used to display a
    vertical progress indicator or similar elements.
  </Tearsheet.Influencer>

  <Tearsheet.Body>
    <Tearsheet.MainContent>
      This is the main content area.
    </Tearsheet.MainContent>
    <Tearsheet.SummaryContent>
      // Rendered next to the main content area, this section can be used to
      display summary details or related information.
    </Tearsheet.SummaryContent>
  </Tearsheet.Body>

  <Tearsheet.Footer>Footer buttons can be rendered here</Tearsheet.Footer>
</Tearsheet>
```

## Main Anatomy

The Tearsheet component is composed of several sections: a Header, an optional
Influencer area displayed on the left below the header (spanning the full
height), a Body that contains the main content and an optional Summary, and a
Footer.

```jsx
<Tearsheet {...props}>
  <Tearsheet.Header></Tearsheet.Header>

  <Tearsheet.Influencer> </Tearsheet.Influencer>

  <Tearsheet.Body>
    <Tearsheet.MainContent></Tearsheet.MainContent>

    <Tearsheet.SummaryContent></Tearsheet.SummaryContent>
  </Tearsheet.Body>

  <Tearsheet.Footer></Tearsheet.Footer>
</Tearsheet>
```

On smaller screens or within narrow tearsheets, the Influencer and
SummaryContent sections are hidden by default.

However, they can be accessed through side panels: use the `influencerPanelOpen`
and `onInfluencerPanelClose` props to control the left (influencer) panel, and
the `summaryPanelOpen` and `onSummaryPanelClose` props to control the right
(summary) panel.

```jsx
 <Tearsheet.Influencer
    influencerPanelOpen={influencerPanelOpen}
    onInfluencerPanelClose={() => setInfluencerPanelOpen(false)} >
</Tearsheet.Influencer>

<Tearsheet.SummaryContent
    summaryPanelOpen={rightPanelOpen}
    onSummaryPanelClose={() => setRightPanelOpen(false)}>
</Tearsheet.Influencer>
```

## Tearsheet.Header

Header sections consist of HeaderContent, HeaderActions and NavigationBar. <br/>
**HeaderContent :**<br/> Here is where we render label, title, description,
titleIcon . User can optionally render any custom content as children of
HeaderContent **headerActions** The `headerActions` prop of `HeaderContent`
accepts a `ReactNode` and occupies the right-hand area next to the header
content. You can pass `<Tearsheet.HeaderActions>` to this prop, which positions
itself at the top of the header—just before the AI label and close button. This
area can contain action buttons or any other interactive elements. Each action
item can be wrapped inside `Tearsheet.HeaderActionItem`, which automatically
manages layout by collapsing overflowing actions into a menu button based on
available space.<br/> **NavigationBar :**<br/> This section is anchored to the
bottom of the header and can be used to render elements such as a tab bar or
tags, depending on your needs. It also accepts a scroller prop, which takes a
React node. To include a scroll button that expands or collapses the header,
pass `PageHeader.ScrollButton` to the `scroller` prop.

```jsx
<Tearsheet.Header>
  <Tearsheet.HeaderContent
    {...headerContentProps}
    headerActions={
      <Tearsheet.HeaderActions>
        <Tearsheet.HeaderActionItem>
          <Button kind="tertiary" size="sm">
            Action 1
          </Button>
        </Tearsheet.HeaderActionItem>
        ...
      </Tearsheet.HeaderActions>
    }
  ></Tearsheet.HeaderContent>
  Any extra content like ProgressIndicator, notifications etc can go here
  <Tearsheet.NavigationBar
    scroller={<Tearsheet.ScrollButton />}
  ></Tearsheet.NavigationBar>
</Tearsheet.Header>
```

# Examples

## Default

<Canvas
  of={stories.Default}
  additionalActions={[
    {
      title: 'Open in Stackblitz',
      onClick: () =>
        stackblitzPrefillConfig({
          story: stories.Default,
          styles: stories.default.parameters.styles,
          status: {
            preview: ['Tearsheet'],
          },
        }),
    },
  ]}
/>

## With Influencer

<Canvas
  of={stories.Default}
  additionalActions={[
    {
      title: 'Open in Stackblitz',
      onClick: () =>
        stackblitzPrefillConfig({
          story: stories.Default,
          styles: stories.default.parameters.styles,
          status: {
            preview: ['Tearsheet'],
          },
        }),
    },
  ]}
/>

## With tabs

To render tabs, wrap the entire Tearsheet in `<Tabs></Tabs>`. You can render
`<Tablist>` in header `<Tearsheet.NavigationBar>` and `<TabPanels>` in
`<Tearsheet.MainContent>`

<Canvas
  of={stories.WithTabs}
  additionalActions={[
    {
      title: 'Open in Stackblitz',
      onClick: () =>
        stackblitzPrefillConfig({
          story: stories.WithTabs,
          styles: stories.default.parameters.styles,
          status: {
            preview: ['Tearsheet'],
          },
        }),
    },
  ]}
/>

## With steps

By default Tearsheet doesn't provide stepping, but you easily realize it using
the `<StepProvider>`
[utility](https://ibm-products.carbondesignsystem.com/?path=/docs/patterns-step-flows--overview)
as demonstrated below

<Canvas
  of={stories.withSteps}
  additionalActions={[
    {
      title: 'Open in Stackblitz',
      onClick: () =>
        stackblitzPrefillConfig({
          story: stories.withSteps,
          styles: stories.default.parameters.styles,
          status: {
            preview: ['Tearsheet'],
          },
        }),
    },
  ]}
/>

## Narrow

A narrow tearsheet is a slimmer variant of the tearsheet, providing a dialog
that keeps users in-context and focused by bringing actionable content front and
center while revealing more of the UI behind it.

A narrow tearsheet comprises 3 zones: Header, MainContent and Footer. You can
optionally choose to open influencer and SummaryContent in side panels

<Canvas
  of={stories.narrowTearsheet}
  additionalActions={[
    {
      title: 'Open in Stackblitz',
      onClick: () =>
        stackblitzPrefillConfig({
          story: stories.narrowTearsheet,
          styles: stories.default.parameters.styles,
          status: {
            preview: ['Tearsheet'],
          },
        }),
    },
  ]}
/>

## Stacking

Stacking can be enabled using the `<StackProvider>` utility by wrapping all
Tearsheets. You can optionally specify a stackStepSize—sm (0.5rem), md
(0.75rem), or lg (1rem, default)

```jsx
 <StackProvider>
 <Tearsheet>...</Tearsheet>
 <Tearsheet>...</Tearsheet>
 <Tearsheet>...</Tearsheet>
 <StackProvider>
```

<Canvas
  of={stories.StackingTearsheet}
  additionalActions={[
    {
      title: 'Open in Stackblitz',
      onClick: () =>
        stackblitzPrefillConfig({
          story: stories.StackingTearsheet,
          styles: stories.default.parameters.styles,
          status: {
            preview: ['Tearsheet'],
          },
        }),
    },
  ]}
/>

## Component API

<Controls />
