import{u as j,c as D,b as P,s as q,a as K,e as S,d as m,_ as L,o as U,f as G,P as e}from"./index-CGLP8AGt.js";import{r as d,e as f}from"./index-DtHxqM--.js";import{B as H}from"./settings-xxMXFJdE.js";import{b as J,a as Q}from"./useAttachedMenu-DarvD7vl.js";import{m as V}from"./mergeRefs-CTUecegF.js";const W=["primary","tertiary","ghost"],X="primary",Y=d.forwardRef(function(b,h){let{children:y,className:x,disabled:w,kind:C=X,label:p,size:g="lg",menuAlignment:n="bottom",tabIndex:_=0,menuTarget:E,...M}=b;const O=j("enable-v12-dynamic-floating-styles"),l=D("MenuButton"),r=P(),i=d.useRef(null);let u=[];O||(u=[G({crossAxis:!1})]),(n==="bottom"||n==="top")&&u.push(q({apply(a){let{rects:o,elements:T}=a;Object.assign(T.floating.style,{width:`${o.reference.width}px`})}}));const{refs:s,floatingStyles:c,placement:k,middlewareData:R}=K({placement:n,strategy:"fixed",transform:!1,middleware:u,whileElementsMounted:S}),$=V(h,i),{open:t,handleClick:v,handleMousedown:B,handleClose:z}=J(i);d.useLayoutEffect(()=>{Object.keys(c).forEach(a=>{if(s.floating.current){let o=c[a];["top","right","bottom","left"].includes(a)&&Number(o)&&(o+="px"),s.floating.current.style[a]=o}})},[c,s.floating,R,k,t]);function N(){i.current&&v()}const A=m(`${r}--menu-button__container`,x),F=m(`${r}--menu-button__trigger`,{[`${r}--menu-button__trigger--open`]:t}),I=m(`${r}--menu-button__${n}`);return f.createElement("div",L({},M,{ref:$,"aria-owns":t?l:void 0,className:A}),f.createElement(H,{ref:s.setReference,className:F,size:g,tabIndex:_,kind:C,renderIcon:U,disabled:w,"aria-haspopup":!0,"aria-expanded":t,onClick:N,onMouseDown:B,"aria-controls":t?l:void 0},p),f.createElement(Q,{containerRef:i,menuAlignment:n,className:I,ref:s.setFloating,id:l,legacyAutoalign:!1,label:p,size:g,open:t,onClose:z,target:E},y))});Y.propTypes={children:e.node.isRequired,className:e.string,disabled:e.bool,kind:e.oneOf(W),label:e.string.isRequired,menuAlignment:e.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end"]),size:e.oneOf(["sm","md","lg"]),tabIndex:e.number,menuTarget:e.instanceOf(typeof Element<"u"?Element:Object)};export{Y as M};
