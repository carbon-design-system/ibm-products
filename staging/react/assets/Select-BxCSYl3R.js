import{r as c,u as ee,e as s,c as d,_ as le,l as ae,Y as se,P as l,g as C}from"./iframe-BbTYfv9-.js";import{F as te}from"./FormContext-DY8rSwJV.js";import{T as F}from"./Text-CJYku-mr.js";import{A as ne}from"./index-DxihRps1.js";import{i as ie}from"./utils-C-ow7gcy.js";import{u as oe}from"./useNormalizedInputProps-DZ8P3UsW.js";import{W as re,a as ce}from"./bucket-19-DKyp3qQO.js";const I=c.forwardRef(({className:A,decorator:p,id:u,inline:i=!1,labelText:T="Select",disabled:D=!1,children:$,noLabel:P=!1,hideLabel:S=!1,invalid:L=!1,invalidText:z="",helperText:_="",light:V=!1,readOnly:o,size:E,warn:K=!1,warnText:W,onChange:H,slug:f,...m},R)=>{const e=ee(),{isFluid:n}=c.useContext(te),[k,q]=c.useState(!1),x=s.Children.toArray($).filter(t=>s.isValidElement(t)),B=m?.value||m?.defaultValue,M=x.find(t=>t.props?.value===B),O=m?.title||M?.props?.text||x[0]?.props?.text||"",[U,Y]=c.useState(O),a=oe({id:u,disabled:D,readOnly:o,invalid:L,invalidText:z,warn:K,warnText:W}),j=d({[`${e}--select`]:!0,[`${e}--select--inline`]:i,[`${e}--select--light`]:V,[`${e}--select--invalid`]:a.invalid,[`${e}--select--disabled`]:a.disabled,[`${e}--select--readonly`]:o,[`${e}--select--warning`]:a.warn,[`${e}--select--fluid--invalid`]:n&&a.invalid,[`${e}--select--fluid--focus`]:n&&k,[`${e}--select--slug`]:f,[`${e}--select--decorator`]:p}),G=d(`${e}--label`,{[`${e}--visually-hidden`]:S,[`${e}--label--disabled`]:a.disabled}),J=d({[`${e}--select-input`]:!0,[`${e}--select-input--${E}`]:E}),r=a.validation,Q=d(`${e}--form__helper-text`,{[`${e}--form__helper-text--disabled`]:a.disabled}),w=_?s.createElement(F,{as:"div",id:a.helperId,className:Q},_):null,v={};a.invalid?v["aria-describedby"]=a.invalidId:!i&&!n&&(v["aria-describedby"]=w?a.helperId:void 0);const g=t=>{q(t.type==="focus")},X=t=>{const y=t?.target?.options[t.target.selectedIndex];Y(y?.text)},Z={onMouseDown:t=>{o&&(t.preventDefault(),t.target.focus())},onKeyDown:t=>{o&&["ArrowDown","ArrowUp"," "].includes(t.key)&&t.preventDefault()}},b=f??p,h=ie(b,ne)?c.cloneElement(b,{size:"mini"}):b,N=s.createElement(s.Fragment,null,s.createElement("select",le({},m,v,{id:u,className:J,disabled:a.disabled||void 0,"aria-invalid":a.invalid||void 0,"aria-readonly":o||void 0,title:U,onChange:ae([H,X])},Z,{ref:R}),$),s.createElement(se,{className:`${e}--select__arrow`}),a.invalid&&s.createElement(re,{className:`${e}--select__invalid-icon`}),!a.invalid&&a.warn&&s.createElement(ce,{className:`${e}--select__invalid-icon ${e}--select__invalid-icon--warning`}));return s.createElement("div",{className:d(`${e}--form-item`,A)},s.createElement("div",{className:j},!P&&s.createElement(F,{as:"label",htmlFor:u,className:G},T),i&&s.createElement("div",{className:`${e}--select-input--inline__wrapper`},s.createElement("div",{className:`${e}--select-input__wrapper`,"data-invalid":a.invalid||null},N),r),!i&&s.createElement("div",{className:`${e}--select-input__wrapper`,"data-invalid":a.invalid||null,onFocus:g,onBlur:g},N,f?h:p?s.createElement("div",{className:`${e}--select__inner-wrapper--decorator`},h):"",n&&s.createElement("hr",{className:`${e}--select__divider`}),n&&r?r:null),!i&&!n&&r?r:w))});I.displayName="Select";I.propTypes={children:l.node,className:l.string,decorator:l.node,defaultValue:l.any,disabled:l.bool,helperText:l.node,hideLabel:l.bool,id:l.string.isRequired,inline:l.bool,invalid:l.bool,invalidText:l.node,labelText:l.node,light:C(l.bool),noLabel:l.bool,onChange:l.func,readOnly:l.bool,size:l.oneOf(["sm","md","lg"]),slug:C(l.node),warn:l.bool,warnText:l.node};export{I as S};
//# sourceMappingURL=Select-BxCSYl3R.js.map
