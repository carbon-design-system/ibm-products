{"version":3,"file":"StepGroup-Cd2pQlAB.js","sources":["../../src/components/StepFlow/StepContext.tsx","../../src/components/StepFlow/StepGroup.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2025, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useContext, createContext, ReactNode, useState } from 'react';\nimport { StepContextType } from './types';\n\nconst StepContext = createContext<StepContextType | undefined>(undefined);\n\ninterface StepProviderProps {\n  children?: ReactNode;\n}\n\nexport const StepProvider: React.FC<StepProviderProps> = ({ children }) => {\n  const [totalSteps, setTotalSteps] = useState<number>();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formState, setFormState] = useState({});\n\n  const context: StepContextType = {\n    formState,\n    setFormState,\n    totalSteps,\n    setTotalSteps,\n    currentStep,\n    handleGoToStep: (step) => setCurrentStep(step),\n    handleNext: () => setCurrentStep((step) => step + 1),\n    handlePrevious: () => setCurrentStep((step) => step - 1),\n  };\n\n  return (\n    <StepContext.Provider value={context}>{children}</StepContext.Provider>\n  );\n};\n\nexport const useStepContext = (): StepContextType => {\n  const context = useContext<StepContextType | undefined>(StepContext);\n\n  if (context === undefined) {\n    throw new Error('Context hook used outside of Step provider');\n  }\n  return context;\n};\n","/**\n * Copyright IBM Corp. 2025, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useEffect } from 'react';\nimport { useStepContext } from '.';\n\n// container for multiple children, each one representing a step\nexport const StepGroup = ({ children }) => {\n  const stepState = useStepContext();\n\n  const cleanedChildren = children?.filter(Boolean);\n  const childrenCount = React.Children.count(cleanedChildren);\n\n  // set number of steps, based on num of children passed in\n  useEffect(() => {\n    const { setTotalSteps } = stepState;\n    setTotalSteps(childrenCount), [childrenCount, setTotalSteps];\n  });\n\n  // get currently selected step\n  const { currentStep } = stepState;\n  const currentStepComponent =\n    React.Children.toArray(cleanedChildren)[currentStep - 1];\n\n  // and just return that one single current step\n  return currentStepComponent;\n};\n"],"names":["StepContext","createContext","StepProvider","children","totalSteps","setTotalSteps","useState","currentStep","setCurrentStep","formState","setFormState","context","step","useStepContext","useContext","StepGroup","stepState","cleanedChildren","childrenCount","React","useEffect"],"mappings":"gDAUA,MAAMA,EAAcC,EAAAA,cAA2C,MAAS,EAM3DC,EAA4C,CAAC,CAAE,SAAAC,KAAe,CACzE,KAAM,CAACC,EAAYC,CAAa,EAAIC,WAAA,EAC9B,CAACC,EAAaC,CAAc,EAAIF,EAAAA,SAAS,CAAC,EAC1C,CAACG,EAAWC,CAAY,EAAIJ,EAAAA,SAAS,CAAA,CAAE,EAEvCK,EAA2B,CAC/B,UAAAF,EACA,aAAAC,EACA,WAAAN,EACA,cAAAC,EACA,YAAAE,EACA,eAAiBK,GAASJ,EAAeI,CAAI,EAC7C,WAAY,IAAMJ,EAAgBI,GAASA,EAAO,CAAC,EACnD,eAAgB,IAAMJ,EAAgBI,GAASA,EAAO,CAAC,CAAA,EAGzD,uBACGZ,EAAY,SAAZ,CAAqB,MAAOW,GAAUR,CAAS,CAEpD,EAEaU,EAAiB,IAAuB,CACnD,MAAMF,EAAUG,EAAAA,WAAwCd,CAAW,EAEnE,GAAIW,IAAY,OACd,MAAM,IAAI,MAAM,4CAA4C,EAE9D,OAAOA,CACT,gJCjCO,MAAMI,EAAY,CAAC,CAAE,SAAAZ,KAAe,CACzC,MAAMa,EAAYH,EAAA,EAEZI,EAAkBd,GAAU,OAAO,OAAO,EAC1Ce,EAAgBC,EAAM,SAAS,MAAMF,CAAe,EAG1DG,EAAAA,UAAU,IAAM,CACd,KAAM,CAAE,cAAAf,GAAkBW,EAC1BX,EAAca,CAAa,CAC7B,CAAC,EAGD,KAAM,CAAE,YAAAX,GAAgBS,EAKxB,OAHEG,EAAM,SAAS,QAAQF,CAAe,EAAEV,EAAc,CAAC,CAI3D"}