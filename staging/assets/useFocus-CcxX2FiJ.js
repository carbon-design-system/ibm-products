import{a as D}from"./floating-ui.dom.mjs-BB6krl5l.js";import{p}from"./settings-GP6q6PuD.js";import{r as d}from"./index-BwDkhjyp.js";import{w as m}from"./wait-CTNFjQS8.js";const B=(r,o)=>{const s=r==null?void 0:r.querySelector(o);return o&&!(s!=null&&s.disabled)?s:null},L=(r,o)=>{const s=D(),$=`${p.prefix}--tearsheet`,f=`${p.prefix}--side-panel`,n=`:not(.${s}--visually-hidden,.${$}__header--no-close-icon,.${s}--btn--disabled,[aria-hidden="true"],[tabindex="-1"],[disabled])`,x=`button${n}`,h=`input${n}`,q=`select${n}`,g=`textarea${n}`,w=`[href]${n}`,S=`[tabindex="0"]${n}`,b=`.${f}--scrolls`,u=`${x},${w},${h},${q},${g},${S},${b}`,i=r==null?void 0:r.current,e=d.useCallback(()=>{let t=i==null?void 0:i.querySelectorAll(`${u}`);t!=null&&t.length&&(t=Array.prototype.filter.call(t,C=>{var y;return((y=window==null?void 0:window.getComputedStyle(C))==null?void 0:y.display)!=="none"}));const c=t==null?void 0:t[0],a=t==null?void 0:t[(t==null?void 0:t.length)-1],l=t,A=B(i,o);return{first:c,last:a,all:l,specified:A}},[i,u,o]);d.useEffect(()=>{e()},[e]);const k=async t=>{if(t.key==="Tab"){const{first:c,last:a,all:l}=e();await m(1),t.shiftKey&&!Array.prototype.includes.call(l,document==null?void 0:document.activeElement)?(t.preventDefault(),a==null||a.focus()):Array.prototype.includes.call(l,document==null?void 0:document.activeElement)||(t.preventDefault(),c==null||c.focus())}};return{firstElement:e().first,lastElement:e().last,allElements:e().all,specifiedElement:e().specified,keyDownListener:k,getFocusable:e}};export{B as g,L as u};
