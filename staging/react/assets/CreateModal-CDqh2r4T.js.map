{"version":3,"file":"CreateModal-CDqh2r4T.js","sources":["../../src/components/CreateModal/CreateModal.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2021, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Carbon and package components we use.\nimport {\n  Button,\n  ComposedModal,\n  Form,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n} from '@carbon/react';\n// Import portions of React that are needed.\nimport React, { PropsWithChildren, ReactNode, Ref } from 'react';\n\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\nimport { usePortalTarget } from '../../global/js/hooks/usePortalTarget';\n\nconst componentName = 'CreateModal';\nconst blockClass = `${pkg.prefix}--create-modal`;\n\nexport interface CreateModalProps extends PropsWithChildren {\n  /**\n   * Specify an optional className to be applied to the modal root node\n   */\n  className?: string;\n  /**\n   * Specifies an optional handler which is called when the CreateModal\n   * is closed.\n   */\n  onRequestClose?(): void;\n  /**\n   * Specifies an optional handler which is called when the CreateModal\n   * primary button is pressed.\n   */\n  onRequestSubmit?(): void;\n  /**\n   * Specifies whether the CreateModal is open or not.\n   */\n  open?: boolean;\n  /**\n   * The title of the CreateModal is usually the product or service name.\n   */\n  title: ReactNode;\n  /**\n   * The subtitle of the CreateModal is optional and serves to provide more information about the modal.\n   */\n  subtitle?: ReactNode;\n  /**\n   * The description of the CreateModal serves to provide more information about the modal.\n   */\n  description: ReactNode;\n  /**\n   * Specifies the secondary button's text in the modal.\n   */\n  secondaryButtonText: string;\n  /**\n   * The DOM node the tearsheet should be rendered within. Defaults to document.body.\n   */\n  portalTarget?: ReactNode;\n  /**\n   * Specifies the primary button's text in the modal.\n   */\n  primaryButtonText: string;\n  /**\n   * Specifies a boolean for disabling or enabling the primary button. This is important for form validation\n   * Returning `true` prevents the primary button from being clicked until required fields are completed.\n   */\n  disableSubmit?: boolean;\n  /**\n   * Specifies which DOM element in the form should be focused.\n   */\n  selectorPrimaryFocus: string;\n}\n\n/**\n * The `CreateModal` component provides a way for a user to quickly generate a new\nresource. It is triggered by a userâ€™s action, appears on top of the main page\ncontent, and is persistent until dismissed. The purpose of this modal should be\nimmediately apparent to the user, with a clear and obvious path to completion.\n */\nexport const CreateModal = React.forwardRef<HTMLDivElement, CreateModalProps>(\n  (props, ref) => {\n    const {\n      className,\n      children,\n      onRequestClose,\n      onRequestSubmit,\n      open,\n      title,\n      subtitle,\n      description,\n      secondaryButtonText,\n      portalTarget: portalTargetIn,\n      primaryButtonText,\n      disableSubmit,\n      selectorPrimaryFocus,\n      ...rest\n    } = props;\n    const renderPortalUse = usePortalTarget(portalTargetIn);\n\n    return renderPortalUse(\n      <ComposedModal\n        {...rest}\n        selectorPrimaryFocus={selectorPrimaryFocus}\n        className={cx(blockClass, className)}\n        {...{ open, ref }}\n        aria-label={title}\n        size=\"sm\"\n        preventCloseOnClickOutside\n        onClose={() => {\n          onRequestClose?.();\n          return false;\n        }}\n        {...getDevtoolsProps(componentName)}\n      >\n        <ModalHeader title={title} titleClassName={`${blockClass}__title`}>\n          {subtitle && <p className={`${blockClass}__subtitle`}>{subtitle}</p>}\n        </ModalHeader>\n        <ModalBody hasForm>\n          {description && (\n            <p className={`${blockClass}__description`}>{description}</p>\n          )}\n          <Form\n            className={`${blockClass}__form`}\n            aria-label={title}\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) =>\n              e.preventDefault()\n            }\n          >\n            {children}\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button type=\"button\" kind=\"secondary\" onClick={onRequestClose}>\n            {secondaryButtonText}\n          </Button>\n          <Button\n            type=\"submit\"\n            kind=\"primary\"\n            onClick={onRequestSubmit}\n            disabled={disableSubmit}\n          >\n            {primaryButtonText}\n          </Button>\n        </ModalFooter>\n      </ComposedModal>\n    );\n  }\n);\n\n// Return a placeholder if not released and not enabled by feature flag\n\nCreateModal.propTypes = {\n  /**\n   * Children refers to all form items within a form inside of the modal's body.\n   */\n  children: PropTypes.node,\n  /**\n   * Specify an optional className to be applied to the modal root node\n   */\n  className: PropTypes.string,\n  /**\n   * The description of the CreateModal serves to provide more information about the modal.\n   */\n  description: PropTypes.node.isRequired,\n  /**\n   * Specifies a boolean for disabling or enabling the primary button. This is important for form validation\n   * Returning `true` prevents the primary button from being clicked until required fields are completed.\n   */\n  disableSubmit: PropTypes.bool,\n  /**\n   * Specifies an optional handler which is called when the CreateModal\n   * is closed.\n   */\n  onRequestClose: PropTypes.func,\n  /**\n   * Specifies an optional handler which is called when the CreateModal\n   * primary button is pressed.\n   */\n  onRequestSubmit: PropTypes.func,\n  /**\n   * Specifies whether the CreateModal is open or not.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * The DOM node the tearsheet should be rendered within. Defaults to document.body.\n   */\n  portalTarget: PropTypes.node,\n\n  /**\n   * Specifies the primary button's text in the modal.\n   */\n  primaryButtonText: PropTypes.string.isRequired,\n  /**\n   * Specifies the secondary button's text in the modal.\n   */\n  secondaryButtonText: PropTypes.string.isRequired,\n  /**\n   * Specifies which DOM element in the form should be focused.\n   */\n  selectorPrimaryFocus: PropTypes.string.isRequired,\n  /**\n   * The subtitle of the CreateModal is optional and serves to provide more information about the modal.\n   */\n  subtitle: PropTypes.node,\n  /**\n   * The title of the CreateModal is usually the product or service name.\n   */\n  title: PropTypes.node.isRequired,\n};\n\nCreateModal.displayName = componentName;\n"],"names":["componentName","blockClass","pkg","CreateModal","React","props","ref","className","children","onRequestClose","onRequestSubmit","open","title","subtitle","description","secondaryButtonText","portalTargetIn","primaryButtonText","disableSubmit","selectorPrimaryFocus","rest","usePortalTarget","ComposedModal","cx","getDevtoolsProps","ModalHeader","ModalBody","Form","e","ModalFooter","Button","PropTypes"],"mappings":"8QAyBA,MAAMA,EAAgB,cAChBC,EAAa,GAAGC,EAAI,MAAM,iBA8DnBC,EAAcC,EAAM,WAC/B,CAACC,EAAOC,IAAQ,CACd,KAAM,CACJ,UAAAC,EACA,SAAAC,EACA,eAAAC,EACA,gBAAAC,EACA,KAAAC,EACA,MAAAC,EACA,SAAAC,EACA,YAAAC,EACA,oBAAAC,EACA,aAAcC,EACd,kBAAAC,EACA,cAAAC,EACA,qBAAAC,EACA,GAAGC,CAAA,EACDf,EAGJ,OAFwBgB,EAAgBL,CAAc,EAGpDZ,EAAA,cAACkB,EAAA,CACE,GAAGF,EACJ,qBAAAD,EACA,UAAWI,EAAGtB,EAAYM,CAAS,EAC7B,KAAAI,EAAM,IAAAL,EACZ,aAAYM,EACZ,KAAK,KACL,2BAAyB,GACzB,QAAS,KACPH,IAAA,EACO,IAER,GAAGe,EAAiBxB,CAAa,CAAA,EAElCI,EAAA,cAACqB,EAAA,CAAY,MAAAb,EAAc,eAAgB,GAAGX,CAAU,WACrDY,GAAYT,EAAA,cAAC,KAAE,UAAW,GAAGH,CAAU,cAAeY,CAAS,CAClE,EACAT,EAAA,cAACsB,EAAA,CAAU,QAAO,IACfZ,GACCV,EAAA,cAAC,IAAA,CAAE,UAAW,GAAGH,CAAU,eAAA,EAAkBa,CAAY,EAE3DV,EAAA,cAACuB,EAAA,CACC,UAAW,GAAG1B,CAAU,SACxB,aAAYW,EACZ,SAAWgB,GACTA,EAAE,eAAA,CAAe,EAGlBpB,CAAA,CAEL,EACAJ,EAAA,cAACyB,EAAA,KACCzB,EAAA,cAAC0B,EAAA,CAAO,KAAK,SAAS,KAAK,YAAY,QAASrB,CAAA,EAC7CM,CACH,EACAX,EAAA,cAAC0B,EAAA,CACC,KAAK,SACL,KAAK,UACL,QAASpB,EACT,SAAUQ,CAAA,EAETD,CAAA,CAEL,CAAA,CACF,CAEJ,CACF,EAIAd,EAAY,UAAY,CAItB,SAAU4B,EAAU,KAIpB,UAAWA,EAAU,OAIrB,YAAaA,EAAU,KAAK,WAK5B,cAAeA,EAAU,KAKzB,eAAgBA,EAAU,KAK1B,gBAAiBA,EAAU,KAI3B,KAAMA,EAAU,KAKhB,aAAcA,EAAU,KAKxB,kBAAmBA,EAAU,OAAO,WAIpC,oBAAqBA,EAAU,OAAO,WAItC,qBAAsBA,EAAU,OAAO,WAIvC,SAAUA,EAAU,KAIpB,MAAOA,EAAU,KAAK,UACxB,EAEA5B,EAAY,YAAcH;;;;;"}