import{b as C,i as Y,d as E,_ as P,m as I,k as Z,T as ee,P as a}from"./index-C360Eztx.js";import{e as s,r as S}from"./index-DtHxqM--.js";import{A as ae}from"./Link-CTDJc3qW.js";import{u as se}from"./index-BopFi8TB.js";import{bj as H}from"./settings-CFkY3W_8.js";import{b as te}from"./index-CrSLweFd.js";import{u as ne}from"./useMatchMedia-DHmWTWsL.js";const V=["SideNavFooter","SideNavHeader","SideNavItems","SideNavMenu","SideNavLink"],re=S.createContext({});function oe({expanded:i,defaultExpanded:d=!1,isChildOfHeader:m=!0,"aria-label":p,"aria-labelledby":f,children:v,onToggle:l,className:N,href:b,isFixedNav:x=!1,isRail:c,isPersistent:O=!0,addFocusListeners:q=!0,addMouseListeners:B=!0,onOverlayClick:F,onSideNavBlur:k,enterDelayMs:L=100,...W},j){const t=C(),{current:y}=S.useRef(i!==void 0),[J,g]=H(d),[T,_]=H(d),r=y?i:J,$=S.useRef(null),K=Y([$,j]),u=(e,n=!r)=>{y||g(n,L),l&&l(e,n),(y||c)&&_(n,L)},Q={"aria-label":p,"aria-labelledby":f},z=E(N,{[`${t}--side-nav`]:!0,[`${t}--side-nav--expanded`]:r||T,[`${t}--side-nav--collapsed`]:!r&&x,[`${t}--side-nav--rail`]:c,[`${t}--side-nav--ux`]:m,[`${t}--side-nav--hidden`]:!O}),G=E({[`${t}--side-nav__overlay`]:!0,[`${t}--side-nav__overlay-active`]:r||T});let M=v;M=s.Children.map(v,e=>{var w,R;const n=y&&T||r;if(S.isValidElement(e)){const h=e;return s.cloneElement(h,{...V.includes(((w=h.type)==null?void 0:w.displayName)??((R=h.type)==null?void 0:R.name))?{isSideNavExpanded:n}:{}})}return e});const o={};q&&(o.onFocus=e=>{!e.currentTarget.contains(e.relatedTarget)&&c&&u(e,!0)},o.onBlur=e=>{e.currentTarget.contains(e.relatedTarget)||u(e,!1),!e.currentTarget.contains(e.relatedTarget)&&r&&!x&&k&&k()},o.onKeyDown=e=>{I(e,Z)&&(u(e,!1),b&&(window.location.href=b))}),B&&c&&(o.onMouseEnter=()=>{u(!0,!0)},o.onMouseLeave=()=>{g(!1),_(!1),u(!1,!1)},o.onClick=()=>{g(!0),_(!0),u(!0,!0)}),se("keydown",e=>{const n=document.activeElement;I(e,ee)&&r&&!x&&$.current&&(n!=null&&n.classList.contains(`${t}--header__menu-toggle`))&&!n.closest("nav")&&$.current.focus()});const U=`(min-width: ${te.lg.width})`,X=ne(U);return s.createElement(re.Provider,{value:{isRail:c}},x?null:s.createElement("div",{className:G,onClick:F}),s.createElement("nav",P({tabIndex:-1,ref:K,className:`${t}--side-nav__navigation ${z}`,inert:c?void 0:!(r||X)},Q,o,W),M))}const A=s.forwardRef(oe);A.displayName="SideNav";A.propTypes={...ae,addFocusListeners:a.bool,addMouseListeners:a.bool,className:a.string,defaultExpanded:a.bool,enterDelayMs:a.number,expanded:a.bool,href:a.string,isChildOfHeader:a.bool,isFixedNav:a.bool,isPersistent:a.bool,isRail:a.bool,onOverlayClick:a.func,onSideNavBlur:a.func,onToggle:a.func};const D=({className:i,children:d,isSideNavExpanded:m})=>{const p=C(),f=E([`${p}--side-nav__items`],i),v=s.Children.map(d,l=>{var N;if(s.isValidElement(l)){const b=(N=l.type)==null?void 0:N.displayName;return s.cloneElement(l,{...V.includes(b)?{isSideNavExpanded:m}:{}})}});return s.createElement("ul",{className:f},v)};D.displayName="SideNavItems";D.propTypes={children:a.node.isRequired,className:a.string,isSideNavExpanded:a.bool};function ie({className:i,children:d,...m}){const p=C(),f=E(`${p}--side-nav__link-text`,i);return s.createElement("span",P({},m,{className:f}),d)}ie.propTypes={children:a.node.isRequired,className:a.string};export{ie as S,A as a,D as b,re as c};
