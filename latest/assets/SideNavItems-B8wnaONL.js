import{u as H,c as _,_ as Y}from"./deprecate-D9ms-jbM.js";import{R as n,r as v}from"./index-BwDkhjyp.js";import{P as a}from"./index-Dk74W0Oi.js";import{A as Z}from"./Link-CeOVr8UJ.js";import{u as ee,m as F,T as ae,E as se}from"./events-Bq7WR1mU.js";import{i as D,u as te,k as ne}from"./settings-DrdbGLhD.js";import{u as ie}from"./useMatchMedia-w9z1Yjfq.js";const I=["SideNavFooter","SideNavHeader","SideNavItems","SideNavMenu","SideNavLink"],re=v.createContext({});function oe(N,x){let{expanded:u,defaultExpanded:m=!1,isChildOfHeader:y=!0,"aria-label":g,"aria-labelledby":S,children:o,onToggle:c,className:b,href:$,isFixedNav:f=!1,isRail:d,isPersistent:V=!0,addFocusListeners:A=!0,addMouseListeners:W=!0,onOverlayClick:q,onSideNavBlur:L,enterDelayMs:M=100,...J}=N;const s=H(),{current:p}=v.useRef(u!==void 0),[K,E]=D(m),[h,T]=D(m),i=p?u:K,C=v.useRef(null),Q=ee([C,x]),l=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!i;p||E(t,M),c&&c(e,t),(p||d)&&T(t,M)},j={"aria-label":g,"aria-labelledby":S},z=_(b,{[`${s}--side-nav`]:!0,[`${s}--side-nav--expanded`]:i||h,[`${s}--side-nav--collapsed`]:!i&&f,[`${s}--side-nav--rail`]:d,[`${s}--side-nav--ux`]:y,[`${s}--side-nav--hidden`]:!V}),G=_({[`${s}--side-nav__overlay`]:!0,[`${s}--side-nav__overlay-active`]:i||h});let k=o;k=n.Children.map(o,e=>{var w,P;const t=p&&h||i;if(v.isValidElement(e)){const R=e;return n.cloneElement(R,{...I.includes(((w=R.type)==null?void 0:w.displayName)??((P=R.type)==null?void 0:P.name))?{isSideNavExpanded:t}:{}})}return e});const r={};A&&(r.onFocus=e=>{!e.currentTarget.contains(e.relatedTarget)&&d&&l(e,!0)},r.onBlur=e=>{e.currentTarget.contains(e.relatedTarget)||l(e,!1),!e.currentTarget.contains(e.relatedTarget)&&i&&!f&&L&&L()},r.onKeyDown=e=>{F(e,se)&&(l(e,!1),$&&(window.location.href=$))}),W&&d&&(r.onMouseEnter=()=>{l(!0,!0)},r.onMouseLeave=()=>{E(!1),T(!1),l(!1,!1)},r.onClick=()=>{E(!0),T(!0),l(!0,!0)}),te("keydown",e=>{const t=document.activeElement;F(e,ae)&&i&&!f&&C.current&&(t!=null&&t.classList.contains(`${s}--header__menu-toggle`))&&!t.closest("nav")&&C.current.focus()});const U=`(min-width: ${ne.lg.width})`,X=ie(U);return n.createElement(re.Provider,{value:{isRail:d}},f?null:n.createElement("div",{className:G,onClick:q}),n.createElement("nav",Y({tabIndex:-1,ref:Q,className:`${s}--side-nav__navigation ${z}`,inert:d||i||X?void 0:-1},j,r,J),k))}const B=n.forwardRef(oe);B.displayName="SideNav";B.propTypes={...Z,addFocusListeners:a.bool,addMouseListeners:a.bool,className:a.string,defaultExpanded:a.bool,enterDelayMs:a.number,expanded:a.bool,href:a.string,isChildOfHeader:a.bool,isFixedNav:a.bool,isPersistent:a.bool,isRail:a.bool,onOverlayClick:a.func,onSideNavBlur:a.func,onToggle:a.func};const O=N=>{let{className:x,children:u,isSideNavExpanded:m}=N;const y=H(),g=_([`${y}--side-nav__items`],x),S=n.Children.map(u,o=>{var c;if(n.isValidElement(o)){const b=(c=o.type)==null?void 0:c.displayName;return n.cloneElement(o,{...I.includes(b)?{isSideNavExpanded:m}:{}})}});return n.createElement("ul",{className:g},S)};O.displayName="SideNavItems";O.propTypes={children:a.node.isRequired,className:a.string,isSideNavExpanded:a.bool};export{B as S,O as a,re as b};
