import{b as A,d as I,_ as F,j as Ce,P as e,c as Ee,l as Ne,u as me,m as pe,k as Ae,T as Me,g as qe}from"./index-C360Eztx.js";import{e as n,r as E}from"./index-DtHxqM--.js";import{L as ne}from"./index-B0hq8c5O.js";import{I as we,B as V,bf as Te}from"./settings-CFkY3W_8.js";import{B as te}from"./ButtonSet-Co_YnHPl.js";import{n as q,c as ge}from"./events-CdfZZS3f.js";import{I as _e}from"./InlineLoading-DwO_qCAY.js";import{m as Oe}from"./mergeRefs-91-mP8KM.js";import{r as ze}from"./requiredIfGivenPropIsTruthy-VsRXdxiC.js";import{e as je,w as Le,a as We}from"./wrapFocus-BeRLXXyC.js";import{T as ve}from"./Text-DKfZ87L_.js";var ee={exports:{}},b={},ye;function Ve(){if(ye)return b;ye=1;/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=60103,o=60106,r=60107,c=60108,d=60114,h=60109,i=60110,s=60112,f=60113,y=60120,C=60115,m=60116,v=60121,N=60122,l=60117,T=60129,_=60131;if(typeof Symbol=="function"&&Symbol.for){var p=Symbol.for;a=p("react.element"),o=p("react.portal"),r=p("react.fragment"),c=p("react.strict_mode"),d=p("react.profiler"),h=p("react.provider"),i=p("react.context"),s=p("react.forward_ref"),f=p("react.suspense"),y=p("react.suspense_list"),C=p("react.memo"),m=p("react.lazy"),v=p("react.block"),N=p("react.server.block"),l=p("react.fundamental"),T=p("react.debug_trace_mode"),_=p("react.legacy_hidden")}function $(t){if(typeof t=="object"&&t!==null){var M=t.$$typeof;switch(M){case a:switch(t=t.type,t){case r:case d:case c:case f:case y:return t;default:switch(t=t&&t.$$typeof,t){case i:case s:case m:case C:case h:return t;default:return M}}case o:return M}}}var w=h,u=a,x=s,H=r,P=m,R=C,S=o,L=d,W=c,Q=f;return b.ContextConsumer=i,b.ContextProvider=w,b.Element=u,b.ForwardRef=x,b.Fragment=H,b.Lazy=P,b.Memo=R,b.Portal=S,b.Profiler=L,b.StrictMode=W,b.Suspense=Q,b.isAsyncMode=function(){return!1},b.isConcurrentMode=function(){return!1},b.isContextConsumer=function(t){return $(t)===i},b.isContextProvider=function(t){return $(t)===h},b.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===a},b.isForwardRef=function(t){return $(t)===s},b.isFragment=function(t){return $(t)===r},b.isLazy=function(t){return $(t)===m},b.isMemo=function(t){return $(t)===C},b.isPortal=function(t){return $(t)===o},b.isProfiler=function(t){return $(t)===d},b.isStrictMode=function(t){return $(t)===c},b.isSuspense=function(t){return $(t)===f},b.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===r||t===d||t===T||t===c||t===f||t===y||t===_||typeof t=="object"&&t!==null&&(t.$$typeof===m||t.$$typeof===C||t.$$typeof===h||t.$$typeof===i||t.$$typeof===s||t.$$typeof===l||t.$$typeof===v||t[0]===N)},b.typeOf=$,b}var be;function Ge(){return be||(be=1,ee.exports=Ve()),ee.exports}var he=Ge();const Se=n.forwardRef(function({buttonOnClick:o,children:r,className:c,closeClassName:d,closeIconClassName:h,closeModal:i,iconDescription:s="Close",label:f,labelClassName:y,title:C,titleClassName:m,...v},N){const l=A();function T(x){i==null||i(x),o==null||o(x)}const _=I(`${l}--modal-header`,c),p=I(`${l}--modal-header__label ${l}--type-delta`,y),$=I(`${l}--modal-header__heading ${l}--type-beta`,m),w=I(`${l}--modal-close`,d),u=I(`${l}--modal-close__icon`,h);return n.createElement("div",F({className:_},v,{ref:N}),f&&n.createElement("h2",{className:p},f),C&&n.createElement("h2",{className:$},C),r,n.createElement("div",{className:`${l}--modal-close-button`},n.createElement(we,{className:w,label:s,onClick:T,"aria-label":s,align:"left"},n.createElement(Ce,{size:20,"aria-hidden":"true",tabIndex:"-1",className:u}))))});Se.propTypes={buttonOnClick:e.func,children:e.node,className:e.string,closeClassName:e.string,closeIconClassName:e.string,closeModal:e.func,iconDescription:e.string,label:e.node,labelClassName:e.string,title:e.node,titleClassName:e.string};function De({secondaryButtons:a,secondaryButtonText:o,secondaryClassName:r,closeModal:c,onRequestClose:d,disabled:h}){function i(s){c(s),d(s)}return Array.isArray(a)&&a.length<=2?n.createElement(n.Fragment,null,a.map(({buttonText:s,onClick:f},y)=>n.createElement(V,{key:`${s}-${y}`,className:r,kind:"secondary",onClick:f||i},s))):o?n.createElement(V,{disabled:h,className:r,onClick:i,kind:"secondary"},o):null}De.propTypes={closeModal:e.func,disabled:e.bool,onRequestClose:e.func,secondaryButtonText:e.string,secondaryButtons:(a,o,r)=>{if(a.secondaryButtons){if(!Array.isArray(a.secondaryButtons)||a.secondaryButtons.length!==2)return new Error(`${o} needs to be an array of two button config objects`);const c={buttonText:e.node,onClick:e.func};a[o].forEach(d=>{e.checkPropTypes(c,d,o,r)})}return null},secondaryClassName:e.string};const Re=n.forwardRef(function({children:o,className:r,closeModal:c=q,danger:d,inputref:h,onRequestClose:i=q,onRequestSubmit:s=q,primaryButtonDisabled:f,primaryButtonText:y,primaryClassName:C,secondaryButtonText:m,secondaryButtons:v,secondaryClassName:N,loadingStatus:l="inactive",loadingDescription:T,loadingIconDescription:_,onLoadingSuccess:p=q,...$},w){const u=A(),x=I(`${u}--modal-footer`,r,Array.isArray(v)&&v.length===2?`${u}--modal-footer--three-button`:null),H=I(C,l!=="inactive"?`${u}--btn--loading`:null),P=l!=="inactive",R={closeModal:c,secondaryButtons:v,secondaryButtonText:m,secondaryClassName:N,onRequestClose:i,disabled:P};return n.createElement(te,F({className:x},$,{ref:w,"aria-busy":P}),n.createElement(De,R),y&&n.createElement(V,{onClick:s,className:H,disabled:P||f,kind:d?"danger":"primary",ref:h},l==="inactive"?y:n.createElement(_e,{status:l,description:T,iconDescription:_,className:`${u}--inline-loading--btn`,onSuccess:p})),o)});Re.propTypes={children:e.node,className:e.string,closeModal:e.func,danger:e.bool,inputref:e.oneOfType([e.func,e.shape({current:e.any})]),loadingDescription:e.string,loadingIconDescription:e.string,loadingStatus:e.oneOf(["inactive","active","finished","error"]),onLoadingSuccess:e.func,onRequestClose:e.func,onRequestSubmit:e.func,primaryButtonDisabled:e.bool,primaryButtonText:e.string,primaryClassName:e.string,secondaryButtonText:e.string,secondaryButtons:(a,o,r)=>{if(a.secondaryButtons){if(!Array.isArray(a.secondaryButtons)||a.secondaryButtons.length!==2)return new Error(`${o} needs to be an array of two button config objects`);const c={buttonText:e.node,onClick:e.func};a[o].forEach(d=>{e.checkPropTypes(c,d,o,r)})}return null},secondaryClassName:e.string};const $e=(a,o,r)=>{a.classList.toggle(o,r)},Z=E.createContext({}),J=n.forwardRef(({children:a,className:o,modal:r,onCancel:c=q,onClick:d=q,onClose:h=q,onRequestClose:i=q,open:s=!1,role:f,ariaLabel:y,ariaLabelledBy:C,ariaDescribedBy:m,...v},N)=>{const l=A(),T=Ee(),_=`${l}--dialog-header__heading--${T}`,p=`${l}--dialog-header__label--${T}`,$=E.useRef(null),w=N??$;function u(R){s&&r&&R.target===w.current&&i(R)}function x(R){u(R),d(R)}E.useEffect(()=>{w.current&&(s?r?w.current.showModal():w.current.show():w.current.close())},[r,s]);const H=I(`${l}--dialog-container`),P={dialogId:T,titleId:_,subtitleId:p,isOpen:s};return E.useEffect(()=>{if(w.current&&s&&!y&&!C){const R=w.current.querySelector(`.${l}--dialog-header__heading`);R&&R.id&&w.current.setAttribute("aria-labelledby",R.id)}},[s,y,C,l]),n.createElement(Z.Provider,{value:P},n.createElement("dialog",F({},v,{className:I(`${l}--dialog`,{[`${l}--dialog--modal`]:r},o),ref:w,onCancel:c,onClick:x,onClose:h,role:f,"aria-label":y,"aria-labelledby":y?void 0:C||_,"aria-describedby":m}),n.createElement("div",{className:H},a)))});J.displayName="Dialog";J.propTypes={children:e.node,className:e.string,modal:e.bool,onRequestClose:e.func,open:e.bool,role:e.oneOf(["dialog","alertdialog"]),"aria-label":e.string,"aria-labelledby":e.string,ariaDescribedBy:e.string};const oe=n.forwardRef(({children:a,...o},r)=>{const c=A();return n.createElement("div",F({className:`${c}--dialog__header`,ref:r},o),a)});oe.displayName="DialogHeader";oe.propTypes={children:e.node};const re=n.forwardRef(({children:a,...o},r)=>{const c=A();return n.createElement("div",F({className:`${c}--dialog__header-controls`,ref:r},o),a)});re.displayName="DialogControls";re.propTypes={children:e.node};const ae=n.forwardRef(({onClick:a,...o},r)=>{const c=A();return n.createElement(we,F({kind:"ghost",className:`${c}--dialog__close`,label:"Close",title:"Close","aria-label":"Close",align:"left",onClick:a,ref:r},o),n.createElement(Ce,{size:20,"aria-hidden":"true",tabIndex:-1,className:`${c}--icon__close`}))});ae.displayName="DialogCloseButton";ae.propTypes={onClick:e.func};const se=n.forwardRef(({children:a,className:o,id:r,...c},d)=>{const h=A(),{titleId:i}=E.useContext(Z),s=r||i;return n.createElement(ve,F({as:"h2",id:s,className:I(`${h}--dialog-header__heading`,o),ref:d},c),a)});se.displayName="DialogTitle";se.propTypes={children:e.node,className:e.string,id:e.string};const le=n.forwardRef(({children:a,className:o,id:r,...c},d)=>{const h=A(),{subtitleId:i}=E.useContext(Z),s=r||i;return n.createElement(ve,F({as:"h2",id:s,className:I(`${h}--dialog-header__label`,o),ref:d},c),a)});le.displayName="DialogSubtitle";le.propTypes={children:e.node,className:e.string,id:e.string};const ce=n.forwardRef(({children:a,className:o,hasScrollingContent:r,...c},d)=>{const h=A(),i=E.useRef(null),[s,f]=E.useState(!1),y=Ee(),C=`${h}--dialog-body--${y}`;Ne(()=>{i.current&&f(i.current.scrollHeight>i.current.clientHeight);function l(){i.current&&f(i.current.scrollHeight>i.current.clientHeight)}const T=Te(l,200);return window.addEventListener("resize",T),()=>{T.cancel(),window.removeEventListener("resize",T)}},[]);const m=I(`${h}--dialog-content`,{[`${h}--dialog-scroll-content`]:r||s},o),v=r||s?{tabIndex:0,role:"region"}:{},N=l=>{typeof d=="function"?d(l):d&&(d.current=l),i.current=l};return n.createElement(ne,F({ref:N,id:C,className:m},v,c),a)});ce.displayName="DialogBody";ce.propTypes={children:e.node,className:e.string,hasScrollingContent:e.bool};const ie=n.forwardRef(({children:a,className:o,onRequestClose:r=q,onSecondarySubmit:c,onRequestSubmit:d=q,primaryButtonText:h="Save",primaryButtonDisabled:i=!1,secondaryButtonText:s="Cancel",secondaryButtons:f,loadingStatus:y="inactive",loadingDescription:C,loadingIconDescription:m,onLoadingSuccess:v=q,danger:N=!1,...l},T)=>{const _=A(),p=E.useRef(null),{isOpen:$}=E.useContext(Z),[w,u]=E.useState(null);E.useEffect(()=>{if(N&&w){const S=requestAnimationFrame(()=>{w.focus()});return()=>cancelAnimationFrame(S)}},[N,w,$]);const x=I(`${_}--dialog-footer`,o,{[`${_}--dialog-footer--three-button`]:Array.isArray(f)&&f.length===2}),H=y!=="inactive",P=I({[`${_}--btn--loading`]:y!=="inactive"}),R=c||r;return a?n.createElement(te,F({className:x,ref:T},l),a):n.createElement(te,F({className:x,"aria-busy":H,ref:T},l),Array.isArray(f)&&f.length<=2?f.map(({buttonText:S,onClick:L},W)=>n.createElement(V,{key:`${S}-${W}`,autoFocus:N,kind:"secondary",ref:W===0&&N?u:void 0,onClick:L},S)):s&&n.createElement(V,{ref:N?u:void 0,disabled:H,kind:"secondary",autoFocus:N,onClick:R},s),n.createElement(V,{className:P,kind:N?"danger":"primary",disabled:H||i,onClick:d,ref:p},y==="inactive"?h:n.createElement(_e,{status:y,description:C,iconDescription:m,className:`${_}--inline-loading--btn`,onSuccess:v})))});ie.displayName="DialogFooter";ie.propTypes={children:e.node,className:e.string,onRequestClose:e.func,onSecondarySubmit:e.func,onRequestSubmit:e.func,primaryButtonText:e.node,primaryButtonDisabled:e.bool,secondaryButtonText:e.node,secondaryButtons:(a,o,r)=>{if(a.secondaryButtons){if(!Array.isArray(a.secondaryButtons)||a.secondaryButtons.length!==2)return new Error(`${o} needs to be an array of two button config objects`);const c={buttonText:e.node,onClick:e.func};a[o].forEach(d=>{e.checkPropTypes(c,d,o,r)})}return null},danger:e.bool,loadingStatus:e.oneOf(["inactive","active","finished","error"]),loadingDescription:e.string,loadingIconDescription:e.string,onLoadingSuccess:e.func};const B=J;B.Root=J;B.Root.displayName="Dialog.Root";B.Header=oe;B.Header.displayName="Dialog.Header";B.Controls=re;B.Controls.displayName="Dialog.Controls";B.CloseButton=ae;B.CloseButton.displayName="Dialog.CloseButton";B.Title=se;B.Title.displayName="Dialog.Title";B.Subtitle=le;B.Subtitle.displayName="Dialog.Subtitle";B.Body=ce;B.Body.displayName="Dialog.Body";B.Footer=ie;B.Footer.displayName="Dialog.Footer";const Je=n.forwardRef(function({className:o,children:r,hasForm:c,hasScrollingContent:d,...h},i){const s=A(),f=E.useRef(null),[y,C]=E.useState(!1),m=I({[`${s}--modal-content`]:!0,[`${s}--modal-content--with-form`]:c,[`${s}--modal-scroll-content`]:d||y},o);Ne(()=>{f.current&&C(f.current.scrollHeight>f.current.clientHeight);function N(){f.current&&C(f.current.scrollHeight>f.current.clientHeight)}const l=Te(N,200);return window.addEventListener("resize",l),()=>{l.cancel(),window.removeEventListener("resize",l)}},[]);const v=d||y?{tabIndex:0,role:"region"}:{};return n.createElement(ne,F({className:m},v,h,{ref:Oe(f,i)}),r)});Je.propTypes={"aria-label":ze("hasScrollingContent",e.string),children:e.node,className:e.string,hasForm:e.bool,hasScrollingContent:e.bool};const Qe=n.forwardRef(function({["aria-labelledby"]:o,["aria-label"]:r,children:c,className:d,containerClassName:h,danger:i,decorator:s,isFullWidth:f,onClose:y,onKeyDown:C,open:m,preventCloseOnClickOutside:v,selectorPrimaryFocus:N="[data-modal-primary-focus]",selectorsFloatingMenus:l,size:T,launcherButtonRef:_,slug:p,...$},w){var fe;const u=A(),[x,H]=E.useState(!!m),[P,R]=E.useState(!!m),S=E.useRef(null),L=E.useRef(null),W=E.useRef(null),Q=E.useRef(null),t=E.useRef(null),M=me("enable-dialog-element"),U=me("enable-experimental-focus-wrap-without-sentinels");E.useEffect(()=>{!M&&m!==P&&(H(!!m),R(!!m),$e(document.body,`${u}--body--with-modal-open`,!!m))},[m,P,u]),E.useEffect(()=>{if(!M)return()=>{$e(document.body,`${u}--body--with-modal-open`,!1)}},[]);function ke(g){M||(g.stopPropagation(),pe(g,Ae)&&X(g),U&&m&&pe(g,Me)&&S.current&&Le({containerNode:S.current,currentActiveNode:g.target,event:g})),C==null||C(g)}function Ie(g){const k=g.target;t.current=k}function Be(g){const{target:k}=g,D=t.current;g.stopPropagation(),!v&&k instanceof Node&&!je(k,l)&&S.current&&!S.current.contains(k)&&!S.current.contains(D)&&X(g)}function xe({target:g,relatedTarget:k}){if(!M&&!U&&m&&k&&g&&S.current){const{current:G}=S,{current:Y}=W,{current:Pe}=Q;We({bodyNode:G,startTrapNode:Y,endTrapNode:Pe,currentActiveNode:k,oldActiveNode:g,selectorsFloatingMenus:l==null?void 0:l.filter(Boolean)})}const D=document.querySelector(`.${u}--modal-content`);if(!D||!D.classList.contains(`${u}--modal-scroll-content`)||!k||!D.contains(k))return;const z=D.children[D.children.length-1],O=D.scrollHeight-z.offsetTop-z.clientHeight;for(let G of D.children)if(G.contains(k)){const Y=D.clientHeight-G.offsetTop+D.scrollTop-G.clientHeight;Y<O&&(D.scrollTop=D.scrollTop+(O-Y));break}}function X(g){(!y||y(g)!==!1)&&H(!1)}const Fe=I(`${u}--modal`,{"is-visible":x,[`${u}--modal--danger`]:i,[`${u}--modal--slug`]:p,[`${u}--modal--decorator`]:s},d),de=I(`${u}--modal-container`,T&&`${u}--modal-container--${T}`,f&&`${u}--modal-container--full-width`,h);let K;const ue=n.Children.toArray(c).map(g=>{switch(!0){case(he.isElement(g)&&g.type===n.createElement(Se).type):{const k=g;return K=k.props.label,n.cloneElement(k,{closeModal:X})}case(he.isElement(g)&&g.type===n.createElement(Re).type):{const k=g;return n.cloneElement(k,{closeModal:X,inputref:L,danger:i})}default:return g}});E.useEffect(()=>{!M&&!m&&_&&setTimeout(()=>{var g;(g=_==null?void 0:_.current)==null||g.focus()})},[m,_]),E.useEffect(()=>{if(!M){const g=D=>{const z=D||S.current,O=z?z.querySelector(i?`.${u}--btn--secondary`:N):null;return O||L&&L.current};m&&x&&(D=>{const z=g(D),O=D.querySelector(`.${u}--modal-close`);z?z.focus():!z&&O&&(O==null||O.focus())})(S.current)}},[m,N,x]);let j=n.isValidElement(p??s)?p??s:null;j&&((fe=j.type)==null?void 0:fe.displayName)==="AILabel"&&(j=n.cloneElement(j,{size:"sm"}));const He=M?n.createElement(J,{open:m,modal:!0,className:de,"aria-label":r||K,"aria-labelledby":o},n.createElement("div",{ref:S,className:`${u}--modal-container-body`},p?j:s?n.createElement("div",{className:`${u}--modal--inner__decorator`},j):"",ue)):n.createElement("div",{className:de,role:"dialog","aria-modal":"true","aria-label":r||K,"aria-labelledby":o},!U&&n.createElement("button",{type:"button",ref:W,className:`${u}--visually-hidden`},"Focus sentinel"),n.createElement("div",{ref:S,className:`${u}--modal-container-body`},p?j:s?n.createElement("div",{className:`${u}--modal--inner__decorator`},j):"",ue),!U&&n.createElement("button",{type:"button",ref:Q,className:`${u}--visually-hidden`},"Focus sentinel"));return n.createElement(ne,F({},$,{level:0,role:"presentation",ref:w,"aria-hidden":!m,onBlur:xe,onClick:ge([$==null?void 0:$.onClick,Be]),onMouseDown:ge([$==null?void 0:$.onMouseDown,Ie]),onKeyDown:ke,className:Fe}),He)});Qe.propTypes={"aria-label":e.string,"aria-labelledby":e.string,children:e.node,className:e.string,containerClassName:e.string,danger:e.bool,decorator:e.node,isFullWidth:e.bool,launcherButtonRef:e.oneOfType([e.func,e.shape({current:e.any})]),onClose:e.func,onKeyDown:e.func,open:e.bool,preventCloseOnClickOutside:e.bool,selectorPrimaryFocus:e.string,selectorsFloatingMenus:e.arrayOf(e.string.isRequired),size:e.oneOf(["xs","sm","md","lg"]),slug:qe(e.node)};export{Qe as C,Se as M,Je as a,Re as b,he as r,$e as t,J as u};
