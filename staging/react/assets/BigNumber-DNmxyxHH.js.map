{"version":3,"file":"BigNumber-DNmxyxHH.js","sources":["../../src/components/BigNumber/constants.ts","../../src/components/BigNumber/BigNumberSkeleton.tsx","../../src/components/BigNumber/BigNumber.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport enum BigNumberSize {\n  Default = 'default',\n  Large = 'lg',\n  XLarge = 'xl',\n}\n\n// = 'default' | 'lg' | 'xl'\nexport type BigNumberSizeValues = `${BigNumberSize}`;\n\nexport enum Characters {\n  Dash = 'â€“',\n  Slash = '/',\n}\n\nexport const DefaultLocale = 'en-US';\n\nexport const formatValue = (\n  locale: Intl.LocalesArgument,\n  value: number | null | undefined,\n  fractionDigits: number,\n  truncate: boolean\n): string | null | undefined => {\n  if (value === null || value === undefined || typeof value !== 'number') {\n    return null;\n  }\n\n  return truncate\n    ? Intl.NumberFormat(locale, {\n        notation: 'compact',\n        minimumFractionDigits: fractionDigits,\n        maximumFractionDigits: Math.round(fractionDigits),\n      }).format(value)\n    : Intl.NumberFormat(locale).format(value);\n};\n\nexport const getIconSize = (size: BigNumberSizeValues): number => {\n  switch (size) {\n    case 'lg':\n      return 20;\n    case 'xl':\n      return 24;\n    default:\n      return 16;\n  }\n};\n","// @ts-check\n/**\n * Copyright IBM Corp. 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React, { forwardRef } from 'react';\n\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\n// Carbon and package components we use.\nimport { SkeletonText } from '@carbon/react';\nimport { BigNumberProps } from './BigNumber';\nimport { BigNumberSize } from './constants';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--big-number-skeleton`;\nconst componentName = 'BigNumberSkeleton';\n\n/**\n * SkeletonBigNumber is used to display a skeleton version while\n * content is loading (handled by the BigNumber prop `loading').\n *\n * Note: This component is only used within BigNumber.\n */\n\n// Use the same properties and values as parent BigNumberProps\ntype BigNumberSkeletonProps = Pick<BigNumberProps, 'className' | 'size'>;\n\nexport const BigNumberSkeleton = forwardRef<\n  HTMLDivElement,\n  BigNumberSkeletonProps\n>(({ className, size, ...rest }, ref) => {\n  const bigNumberSkeletonClasses = cx(className, blockClass, {\n    [`${blockClass}--lg`]: size === BigNumberSize.Large,\n    [`${blockClass}--xl`]: size === BigNumberSize.XLarge,\n  });\n\n  return (\n    <div\n      {...rest}\n      className={bigNumberSkeletonClasses}\n      ref={ref}\n      {...getDevtoolsProps(componentName)}\n    >\n      <SkeletonText className={`${blockClass}__label`} />\n      <SkeletonText heading className={`${blockClass}__value`} width=\"80%\" />\n    </div>\n  );\n});\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nBigNumberSkeleton.displayName = componentName;\n\nBigNumberSkeleton.propTypes = {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   *\n   */\n  size: PropTypes.oneOf([\n    BigNumberSize.Default,\n    BigNumberSize.Large,\n    BigNumberSize.XLarge,\n  ]),\n};\n","// @ts-check\n/**\n * Copyright IBM Corp. 2024, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { forwardRef, ReactNode } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { getSupportedLocale } from '../../global/js/utils/getSupportedLocale';\nimport { pkg } from '../../settings';\nimport { ArrowUp, Information } from '@carbon/react/icons';\nimport { Tooltip } from '@carbon/react';\nimport { TooltipTrigger } from '../TooltipTrigger';\nimport { BigNumberSkeleton } from './BigNumberSkeleton';\nimport {\n  BigNumberSizeValues,\n  Characters,\n  DefaultLocale,\n  formatValue,\n  getIconSize,\n} from './constants';\n\nconst blockClass = `${pkg.prefix}--big-number`;\nconst componentName = 'BigNumber';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\nexport interface BigNumberProps {\n  className?: string;\n  forceShowTotal?: boolean;\n  fractionDigits?: number;\n  iconButton?: ReactNode;\n  loading?: boolean;\n  label: string;\n  locale?: string;\n  percentage?: boolean;\n  size?: BigNumberSizeValues;\n  tooltipDescription?: string;\n  total?: number;\n  trending?: boolean;\n  truncate?: boolean;\n  value?: number;\n}\n\n/**\n * BigNumber is used to display large values in a small area. The display of\n * values can be the value itself, or grouped in a `numerator/denominator` fashion.\n * Control over the total fraction decimals displayed as well as how the\n * values/totals are displayed are done via a locale prop. Other optional props\n * allow control over size, truncation, if the value is a percentage, the addition\n * of a button as well as tool tip functionality.\n * The default locale is English (`en-US`) if one is not provided or if the provided one is not supported.\n */\nexport const BigNumber = forwardRef<HTMLDivElement, BigNumberProps>(\n  (\n    {\n      // The component props, in alphabetical order (for consistency).\n      className,\n      forceShowTotal = false,\n      fractionDigits = 1,\n      iconButton,\n      loading = false,\n      label,\n      locale = DefaultLocale,\n      percentage = false,\n      size = 'default',\n      tooltipDescription,\n      total,\n      trending = false,\n      truncate = true,\n      value,\n      // Collect any other property values passed in.\n      ...rest\n    },\n    ref\n  ) => {\n    const bigNumberClasses = cx(className, {\n      [`${blockClass}--lg`]: size === 'lg',\n      [`${blockClass}--xl`]: size === 'xl',\n    });\n\n    const supportedLocale = getSupportedLocale(locale, DefaultLocale);\n\n    const truncatedValue =\n      formatValue(supportedLocale, value, fractionDigits, truncate) ??\n      Characters.Dash;\n\n    const truncatedTotal =\n      formatValue(supportedLocale, total, fractionDigits, truncate) ??\n      'Unknown';\n\n    const shouldDisplayDenominator =\n      forceShowTotal ||\n      (!percentage &&\n        total &&\n        value &&\n        total > value &&\n        truncatedValue !== truncatedTotal);\n\n    if (loading) {\n      return (\n        <BigNumberSkeleton\n          {...rest}\n          ref={ref}\n          className={className}\n          size={size}\n          {...getDevtoolsProps(componentName)}\n        />\n      );\n    }\n\n    return (\n      <div\n        {...rest}\n        className={cx(blockClass, bigNumberClasses, className)}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n      >\n        {/* Label and tooltip */}\n        <span className={`${blockClass}__row`}>\n          <h4 className={`${blockClass}__label`}>{label}</h4>\n          {tooltipDescription && (\n            <Tooltip\n              description={tooltipDescription}\n              align=\"right\"\n              className={`${blockClass}__info`}\n            >\n              <TooltipTrigger className={`${blockClass}__tooltip-trigger`}>\n                <Information size={16} />\n              </TooltipTrigger>\n            </Tooltip>\n          )}\n        </span>\n\n        {/* Trending up arrow */}\n        <span className={`${blockClass}__row`} role=\"math\">\n          {trending && (\n            <ArrowUp\n              className={`${blockClass}__trend`}\n              size={getIconSize(size)}\n            />\n          )}\n\n          {/* Numerator */}\n          <span className={`${blockClass}__value`}>\n            {percentage ? (\n              <div className={`${blockClass}__percentage`}>\n                {truncatedValue}\n                <span className={`${blockClass}__percentage-mark`}>%</span>\n              </div>\n            ) : (\n              truncatedValue\n            )}\n          </span>\n\n          {/* Denominator */}\n          {shouldDisplayDenominator && (\n            <span className={`${blockClass}__total`}>\n              <span>{`${Characters.Slash}${truncatedTotal}`}</span>\n            </span>\n          )}\n          <span className={`${blockClass}__icon-button`}>{iconButton}</span>\n        </span>\n      </div>\n    );\n  }\n);\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nBigNumber.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nBigNumber.propTypes = {\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n  /**\n   * The default behavior will hide `total` if `undefined` or is the same as `value`.\n   *\n   * Set to `true` to ignore the default behavior and show the `total`.\n   */\n  forceShowTotal: PropTypes.bool,\n  /**\n   * Specifies the number of fraction digits when truncating `value` and `total`.\n   */\n  fractionDigits: PropTypes.number,\n  /**\n   * Displays an icon button next to `value`.\n   */\n  iconButton: PropTypes.node,\n  /**\n   * Text label above the `value`.\n   */\n  label: PropTypes.string.isRequired,\n  /**\n   * When `true`, will show the loading state.\n   */\n  loading: PropTypes.bool,\n  /**\n   * Determines how `value` and `total` will be formatted.\n   */\n  locale: PropTypes.string,\n  /**\n   * Appends a percent sign (_%_) after `value` and hides `total`.\n   */\n  percentage: PropTypes.bool,\n  /**\n   *\n   */\n  size: PropTypes.oneOf(['default', 'lg', 'xl']),\n  /**\n   * When applied, an information icon will be rendered next to the\n   * `label` and the description will be applied to its tooltip.\n   */\n  tooltipDescription: PropTypes.string,\n  /**\n   * The number that will appear after the slash (i.e. the \"denominator\" of a fraction).\n   *\n   * This number will not be rendered if it's the same as `value` or\n   * `percentage` is true. See also the **forceShowTotal** prop.\n   */\n  total: PropTypes.number,\n  /**\n   * When `true`, will render a \"trending up\" icon.\n   */\n  trending: PropTypes.bool,\n  /**\n   * Abbreviates the number when `true`. E.g. from _1,000_ to _1K_.\n   */\n  truncate: PropTypes.bool,\n  /**\n   * The primary value to display (or the \"numerator\" of a fraction).\n   */\n  value: PropTypes.number,\n};\n"],"names":["BigNumberSize","Characters","DefaultLocale","formatValue","locale","value","fractionDigits","truncate","getIconSize","size","blockClass","pkg","componentName","BigNumberSkeleton","forwardRef","className","rest","ref","bigNumberSkeletonClasses","cx","React","getDevtoolsProps","SkeletonText","PropTypes","BigNumber","forceShowTotal","iconButton","loading","label","percentage","tooltipDescription","total","trending","bigNumberClasses","supportedLocale","getSupportedLocale","truncatedValue","truncatedTotal","shouldDisplayDenominator","Tooltip","TooltipTrigger","Information","ArrowUp"],"mappings":"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"}