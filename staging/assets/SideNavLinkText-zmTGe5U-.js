import{b as L,i as Z,d as g,_ as I,p as D,q as ee,T as ae,P as a}from"./index-5As4T26e.js";import{e as s,r as y}from"./index-DzvNrmz8.js";import{A as se}from"./Link-eQwNzbSE.js";import{u as te}from"./index-P6UCShJt.js";import{bk as H}from"./settings-CP9zVSjJ.js";import{b as ne}from"./index-BHMIdRzp.js";import{u as ie}from"./useMatchMedia-T2GVo85G.js";const B=["SideNavFooter","SideNavHeader","SideNavItems","SideNavMenu","SideNavLink"],re=y.createContext({});function oe(m,p){let{expanded:o,defaultExpanded:l=!1,isChildOfHeader:f=!0,"aria-label":v,"aria-labelledby":S,children:d,onToggle:N,className:E,href:R,isFixedNav:x=!1,isRail:c,isPersistent:A=!0,addFocusListeners:q=!0,addMouseListeners:W=!0,onOverlayClick:J,onSideNavBlur:M,enterDelayMs:k=100,...K}=m;const t=L(),{current:b}=y.useRef(o!==void 0),[Q,h]=H(l),[T,_]=H(l),i=b?o:Q,C=y.useRef(null),j=Z([C,p]),u=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!i;b||h(n,k),N&&N(e,n),(b||c)&&_(n,k)},z={"aria-label":v,"aria-labelledby":S},G=g(E,{[`${t}--side-nav`]:!0,[`${t}--side-nav--expanded`]:i||T,[`${t}--side-nav--collapsed`]:!i&&x,[`${t}--side-nav--rail`]:c,[`${t}--side-nav--ux`]:f,[`${t}--side-nav--hidden`]:!A}),U=g({[`${t}--side-nav__overlay`]:!0,[`${t}--side-nav__overlay-active`]:i||T});let w=d;w=s.Children.map(d,e=>{var P,F;const n=b&&T||i;if(y.isValidElement(e)){const $=e;return s.cloneElement($,{...B.includes(((P=$.type)==null?void 0:P.displayName)??((F=$.type)==null?void 0:F.name))?{isSideNavExpanded:n}:{}})}return e});const r={};q&&(r.onFocus=e=>{!e.currentTarget.contains(e.relatedTarget)&&c&&u(e,!0)},r.onBlur=e=>{e.currentTarget.contains(e.relatedTarget)||u(e,!1),!e.currentTarget.contains(e.relatedTarget)&&i&&!x&&M&&M()},r.onKeyDown=e=>{D(e,ee)&&(u(e,!1),R&&(window.location.href=R))}),W&&c&&(r.onMouseEnter=()=>{u(!0,!0)},r.onMouseLeave=()=>{h(!1),_(!1),u(!1,!1)},r.onClick=()=>{h(!0),_(!0),u(!0,!0)}),te("keydown",e=>{const n=document.activeElement;D(e,ae)&&i&&!x&&C.current&&(n!=null&&n.classList.contains(`${t}--header__menu-toggle`))&&!n.closest("nav")&&C.current.focus()});const X=`(min-width: ${ne.lg.width})`,Y=ie(X);return s.createElement(re.Provider,{value:{isRail:c}},x?null:s.createElement("div",{className:U,onClick:J}),s.createElement("nav",I({tabIndex:-1,ref:j,className:`${t}--side-nav__navigation ${G}`,inert:c||i||Y?void 0:-1},z,r,K),w))}const O=s.forwardRef(oe);O.displayName="SideNav";O.propTypes={...se,addFocusListeners:a.bool,addMouseListeners:a.bool,className:a.string,defaultExpanded:a.bool,enterDelayMs:a.number,expanded:a.bool,href:a.string,isChildOfHeader:a.bool,isFixedNav:a.bool,isPersistent:a.bool,isRail:a.bool,onOverlayClick:a.func,onSideNavBlur:a.func,onToggle:a.func};const V=m=>{let{className:p,children:o,isSideNavExpanded:l}=m;const f=L(),v=g([`${f}--side-nav__items`],p),S=s.Children.map(o,d=>{var N;if(s.isValidElement(d)){const E=(N=d.type)==null?void 0:N.displayName;return s.cloneElement(d,{...B.includes(E)?{isSideNavExpanded:l}:{}})}});return s.createElement("ul",{className:v},S)};V.displayName="SideNavItems";V.propTypes={children:a.node.isRequired,className:a.string,isSideNavExpanded:a.bool};function le(m){let{className:p,children:o,...l}=m;const f=L(),v=g(`${f}--side-nav__link-text`,p);return s.createElement("span",I({},l,{className:v}),o)}le.propTypes={children:a.node.isRequired,className:a.string};export{le as S,O as a,V as b,re as c};
