import{d as G,P as a}from"./index-5As4T26e.js";import{M as U,a as X,b as Y,C as Z}from"./ComposedModal-DgZhcRE2.js";import{e,r as t}from"./index-DzvNrmz8.js";import{g as K}from"./devtools-B_dijMH7.js";import{p as L,B as M}from"./settings-CP9zVSjJ.js";import{P as ee,a as te}from"./ProgressIndicator-DKNWUMpg.js";import{C as ne}from"./Carousel-BScPKJZf.js";import{I as D}from"./InlineLoading-pF8In0wu.js";import{c as ae}from"./clamp-CsXXRQhr.js";import{A as J}from"./bucket-0-C6v-wDs9.js";import{u as re}from"./useId-BEHn2dBl.js";const O=e.forwardRef(x=>{const{className:N="",headerTitle:d,headerSubTitle:m,closeIconDescription:y,hideProgressIndicator:h,children:c}=x,{bodyChildrenData:s,isFullScreen:i,progStep:f,handleClose:p}=e.useContext(z),l=`${L.prefix}--interstitial-screen`,b=`${l}--internal-header`,n=re(),C=()=>e.createElement(e.Fragment,null,(d||m)&&e.createElement("div",{className:`${l}--titleContainer`},d&&e.createElement("h2",null,d),m&&e.createElement("h3",null,m)),c,!h&&s&&Array.isArray(s)&&e.createElement("div",{className:`${l}--progress`},e.createElement(ee,{vertical:!1,currentIndex:f},s==null?void 0:s.map((k,S)=>{var o,v;if(e.isValidElement(k)){const u=`${n}_${((v=(o=k.props)==null?void 0:o.stepTitle)==null?void 0:v.replace(/\s+/g,""))||S}`;return e.createElement(te,{key:u,label:k.props.stepTitle||"",translateWithId:k.props.translateWithId})}}))));return i?e.createElement("header",{className:G(b,N,{[`${b}--has-title`]:d||m||c})},C()):e.createElement(U,{className:G(b,N,{[`${b}--has-title`]:d||m||c}),closeModal:p,iconDescription:y},C())});O.propTypes={children:a.node,className:a.string,closeIconDescription:a.string,headerSubTitle:a.string,headerTitle:a.string,hideProgressIndicator:a.bool};O.__docgenInfo={description:"",methods:[],displayName:"InterstitialScreenHeader",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:`Provide the optional content for header section and will be render after header titles and before progress indicator.
People can make use of this if they want to have custom header.`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},headerTitle:{required:!1,tsType:{name:"string"},description:"Provide an optional title to be applied to the header >.",type:{name:"string"}},headerSubTitle:{required:!1,tsType:{name:"string"},description:"Provide an optional sub title to be applied to the header >.",type:{name:"string"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"}},hideProgressIndicator:{required:!1,tsType:{name:"boolean"},description:"Optional parameter to hide the progress indicator when multiple steps are used.",type:{name:"bool"}}}};const H=e.forwardRef(x=>{const{className:N="",contentRenderer:d,...m}=x,y=`${L.prefix}--interstitial-screen`,h=`${y}--internal-body`,[c,s]=t.useState(!1),{setBodyChildrenData:i,bodyChildrenData:f,isFullScreen:p,setProgStep:l,bodyScrollRef:b,scrollRef:n,handleGotoStep:C,progStep:k,setStepCount:S,disableButtonConfig:o,setDisableButtonConfig:v}=t.useContext(z),[u,P]=t.useState(-1);t.useEffect(()=>{const g=d({handleGotoStep:C,progStep:k,disableActionButton:w}),E=t.isValidElement(g),R=E?g.props.children:g;if(i==null||i(R),E&&Array.isArray(R)){const $=R.length;s(!!$),S==null||S($)}},[k]),t.useEffect(()=>{if(u!==-1){const g=f&&f.length>1?parseFloat((1/(f.length-1)).toFixed(2)):0,E=u/g;l==null||l(Math.ceil(E))}},[u]);const w=g=>{v==null||v({...o,...g})},q=g=>P(g),B=()=>e.createElement("div",{className:`${y}--body ${N}`,ref:b,...m},e.createElement("div",{className:`${y}--content`},c?e.createElement("div",{className:`${y}__carousel`},e.createElement(ne,{disableArrowScroll:!0,ref:n,onScroll:q},f)):f));return p?B():e.createElement(X,{className:h},B())});H.propTypes={className:a.string,contentRenderer:a.func.isRequired};H.__docgenInfo={description:"",methods:[],displayName:"InterstitialScreenBody",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},contentRenderer:{required:!0,tsType:{name:"signature",type:"function",raw:`(
  config: contentRendererArgs
) => ReactElement<EnrichedChildren> | ReactNode`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  handleGotoStep?: (value: number) => void;
  progStep?: number;
  disableActionButton: (value: disableButtonConfigType) => void;
}`,signature:{properties:[{key:"handleGotoStep",value:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}},required:!1}},{key:"progStep",value:{name:"number",required:!1}},{key:"disableActionButton",value:{name:"signature",type:"function",raw:"(value: disableButtonConfigType) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  skip?: boolean;
  back?: boolean;
  next?: boolean;
  start?: boolean;
}`,signature:{properties:[{key:"skip",value:{name:"boolean",required:!1}},{key:"back",value:{name:"boolean",required:!1}},{key:"next",value:{name:"boolean",required:!1}},{key:"start",value:{name:"boolean",required:!1}}]}},name:"value"}],return:{name:"void"}},required:!0}}]}},name:"config"}],return:{name:"union",raw:"ReactElement<EnrichedChildren> | ReactNode",elements:[{name:"ReactElement",elements:[{name:"signature",type:"object",raw:`{
  children: React.ReactNode;
  stepTitle: string;
  translateWithId?: (id: string) => string;
}`,signature:{properties:[{key:"children",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!0}},{key:"stepTitle",value:{name:"string",required:!0}},{key:"translateWithId",value:{name:"signature",type:"function",raw:"(id: string) => string",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"string"}},required:!1}}]}}],raw:"ReactElement<EnrichedChildren>"},{name:"ReactNode"}]}}},description:`This is a required callback that has to return the content to render in the body section.
It can be a single child or an array of children depending on your need`,type:{name:"func"}}}};const V=e.forwardRef(x=>{const{className:N="",skipButtonLabel:d="Skip",previousButtonLabel:m="Back",nextButtonLabel:y="Next",startButtonLabel:h="Get Started",actionButtonRenderer:c,onAction:s}=x,i=`${L.prefix}--interstitial-screen`,{handleClose:f,progStep:p,handleGotoStep:l,stepCount:b,disableButtonConfig:n,isFullScreen:C}=t.useContext(z),k=t.useRef(void 0),S=t.useRef(void 0),[o,v]=t.useState(""),u=!!b,P=0,w=b-1,q=async T=>{if(v(T),await(s==null?void 0:s(T,{handleGotoStep:l,progStep:p,stepCount:b,disableButtonConfig:n})),v(""),T==="next"||T==="back"){const r=ae(p+(T==="next"?1:-1),P,w);l==null||l(r)}else f==null||f(T)},B=()=>q("start"),g=()=>q("skip"),E=()=>q("next"),R=()=>q("back"),$=t.useMemo(()=>o!=="start"&&u&&p===w?{renderIcon:J}:{},[o,u,p,w]),F=()=>e.createElement("div",{className:`${i}--footer ${N}`},u&&d!==""&&e.createElement(M,{className:`${i}--skip-btn`,kind:"ghost",size:"lg",title:d,onClick:g,disabled:n==null?void 0:n.skip},d,o==="skip"&&e.createElement(D,null)),e.createElement("div",{className:`${i}--footer-controls`},u&&p>0&&e.createElement(M,{className:`${i}--prev-btn`,kind:"secondary",size:"lg",title:m,disabled:n==null?void 0:n.back,onClick:R},m,o==="back"&&e.createElement(D,null)),u&&p<w&&e.createElement(M,{className:`${i}--next-btn`,renderIcon:o!=="next"?J:null,ref:S,size:"lg",title:y,disabled:n==null?void 0:n.next,onClick:E},y,o==="next"&&e.createElement(D,null)),(u&&p===w||!u)&&e.createElement(M,{className:`${i}--start-btn`,ref:k,size:"lg",title:h,disabled:n==null?void 0:n.start,onClick:B,...$},h,o==="start"&&e.createElement(D,null))));return c?e.createElement("div",{className:`${i}--footer`},c({handleGotoStep:l,progStep:p,stepCount:b,disableButtonConfig:n})):C?F():e.createElement(Y,null,F())});V.propTypes={actionButtonRenderer:a.func,className:a.string,nextButtonLabel:a.string,onAction:a.func,previousButtonLabel:a.string,skipButtonLabel:a.string,startButtonLabel:a.string};V.__docgenInfo={description:"",methods:[],displayName:"InterstitialScreenFooter",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},previousButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the Previous button.",type:{name:"string"}},skipButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the skip button.",type:{name:"string"}},startButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the start button.",type:{name:"string"}},nextButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the Next button.",type:{name:"string"}},actionButtonRenderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(config: actionButtonRendererArgs) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  handleGotoStep?: (value: number) => void;
  progStep?: number;
  stepCount?: number;
  disableButtonConfig?: disableButtonConfigType;
}`,signature:{properties:[{key:"handleGotoStep",value:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}},required:!1}},{key:"progStep",value:{name:"number",required:!1}},{key:"stepCount",value:{name:"number",required:!1}},{key:"disableButtonConfig",value:{name:"signature",type:"object",raw:`{
  skip?: boolean;
  back?: boolean;
  next?: boolean;
  start?: boolean;
}`,signature:{properties:[{key:"skip",value:{name:"boolean",required:!1}},{key:"back",value:{name:"boolean",required:!1}},{key:"next",value:{name:"boolean",required:!1}},{key:"start",value:{name:"boolean",required:!1}}]},required:!1}}]}},name:"config"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:`This is an optional callback prop that allows to render your custom footer action buttons.
note: this is applicable when not using custom actionButtonRenderer`,type:{name:"func"}},onAction:{required:!1,tsType:{name:"signature",type:"function",raw:"(actionName: ActionType, config: actionButtonRendererArgs) => void",signature:{arguments:[{type:{name:"union",raw:"'close' | 'start' | 'skip' | 'back' | 'next'",elements:[{name:"literal",value:"'close'"},{name:"literal",value:"'start'"},{name:"literal",value:"'skip'"},{name:"literal",value:"'back'"},{name:"literal",value:"'next'"}]},name:"actionName"},{type:{name:"signature",type:"object",raw:`{
  handleGotoStep?: (value: number) => void;
  progStep?: number;
  stepCount?: number;
  disableButtonConfig?: disableButtonConfigType;
}`,signature:{properties:[{key:"handleGotoStep",value:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}},required:!1}},{key:"progStep",value:{name:"number",required:!1}},{key:"stepCount",value:{name:"number",required:!1}},{key:"disableButtonConfig",value:{name:"signature",type:"object",raw:`{
  skip?: boolean;
  back?: boolean;
  next?: boolean;
  start?: boolean;
}`,signature:{properties:[{key:"skip",value:{name:"boolean",required:!1}},{key:"back",value:{name:"boolean",required:!1}},{key:"next",value:{name:"boolean",required:!1}},{key:"start",value:{name:"boolean",required:!1}}]},required:!1}}]}},name:"config"}],return:{name:"void"}}},description:"optional asynchronous callback on action button click",type:{name:"func"}}}};const A=`${L.prefix}--interstitial-screen`,j="InterstitialScreen",z=t.createContext({progStep:0,stepCount:0});let I=e.forwardRef((x,N)=>{const{children:d,className:m,interstitialAriaLabel:y="Interstitial screen",isFullScreen:h=!1,isOpen:c=!1,onClose:s,...i}=x,f=t.useRef(null),p=N||f,l=t.useRef(void 0),b=t.useRef(void 0),n=t.useRef(void 0),[C,k]=t.useState(null),[S,o]=t.useState(0),v=t.useRef(null),[u,P]=t.useState(0),[w,q]=t.useState({skip:!1,back:!1,next:!1,start:!1}),B=h?`${A}--full-screen`:`${A}--modal`,[g,E]=t.useState(null),R=t.useCallback(r=>{o(0),s==null||s(r??"close")},[s]);if(t.useEffect(()=>{var r;c||o(0),(r=b.current)==null||r.focus()},[c,S,s]),t.useEffect(()=>{var r;k(!h&&c?"is-visible":null),(r=n==null?void 0:n.current)==null||r.focus()},[h,c]),t.useEffect(()=>{const r=_=>{const{key:Q}=_;Q==="Escape"&&R("close")};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[R]),!c)return null;const $=()=>e.createElement(Z,{...i,preventCloseOnClickOutside:!0,className:G(A,m),size:"lg",onClose:R,open:c,ref:p,"aria-label":y,...K(j)},d),F=()=>e.createElement("div",{...i,className:G(A,m,B,C),role:"main","aria-label":y,ref:N,...K(j)},e.createElement("div",{className:`${A}--container`},d)),T=r=>{o(r),l.current.scrollToView(r),W()},W=()=>{var r,_;(_=(r=v.current)==null?void 0:r.scroll)==null||_.call(r,{top:0,behavior:"smooth"})};return e.createElement(z.Provider,{value:{bodyChildrenData:g,setBodyChildrenData:E,isFullScreen:h,handleClose:R,progStep:S,setProgStep:o,bodyScrollRef:v,scrollRef:l,handleGotoStep:T,stepCount:u,setStepCount:P,disableButtonConfig:w,setDisableButtonConfig:q}},h?F():$())});I.Header=O;I.Body=H;I.Footer=V;I=L.checkComponentEnabled(I,j);I.displayName=j;I.propTypes={children:a.node,className:a.string,closeIconDescription:a.string,interstitialAriaLabel:a.string,isFullScreen:a.bool,isOpen:a.bool,onClose:a.func};I.__docgenInfo={description:`InterstitialScreen can be a full page or an overlay, and are
shown on the first time a user accesses a new experience
(e.g. upon first login or first time opening a page where a
newly purchased capability is presented).`,methods:[],displayName:"InterstitialScreen",props:{children:{required:!1,tsType:{name:"ReactNode"},description:"Provide the contents of the InterstitialScreen.",type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},interstitialAriaLabel:{required:!1,tsType:{name:"string"},description:"The aria label applied to the Interstitial Screen component",type:{name:"string"}},isFullScreen:{required:!1,tsType:{name:"boolean"},description:`Specifies whether the component is shown as a full-screen
experience, else it is shown as a modal by default.`,type:{name:"bool"}},isOpen:{required:!1,tsType:{name:"boolean"},description:"Specifies whether the component is currently open.",type:{name:"bool"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: ActionType) => void",signature:{arguments:[{type:{name:"union",raw:"'close' | 'start' | 'skip' | 'back' | 'next'",elements:[{name:"literal",value:"'close'"},{name:"literal",value:"'start'"},{name:"literal",value:"'skip'"},{name:"literal",value:"'back'"},{name:"literal",value:"'next'"}]},name:"value"}],return:{name:"void"}}},description:"Function to call when the close button is clicked.",type:{name:"func"}},closeIconDescription:{description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"},required:!1}}};export{I};
