{"version":3,"file":"UserProfileImage-Ddp81q4_.js","sources":["../../src/components/UserProfileImage/UserProfileImage.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2021, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport '../../global/js/utils/props-helper';\n\n// Carbon and package components we use.\nimport { Group, User } from '@carbon/react/icons';\nimport { PopoverAlignment, Tooltip, usePrefix } from '@carbon/react';\n\nimport { CarbonIconType } from '@carbon/icons-react/lib/CarbonIcon';\n// Other standard imports.\nimport PropTypes from 'prop-types';\n// Import portions of React that are needed.\nimport React from 'react';\nimport { TooltipTrigger } from '../TooltipTrigger';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--user-profile-image`;\nconst componentName = 'UserProfileImage';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\ntype Size = 'xl' | 'lg' | 'md';\ntype Theme = 'light' | 'dark';\n\ntype imageProps =\n  | {\n      /**\n       * When passing the image prop, supply a full path to the image to be displayed.\n       */\n      image: string;\n      /**\n       * When passing the image prop use the imageDescription prop to describe the image for screen reader.\n       */\n      imageDescription: string;\n    }\n  | {\n      image?: never;\n      imageDescription?: never;\n    };\n\ntype UserProfileImageBaseProps = {\n  /**\n   * The background color passed should match one of the background colors in the library documentation:\n   * https://pages.github.ibm.com/carbon/ibm-products/patterns/user-profile-images/\n   */\n  backgroundColor?: string;\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n\n  /**\n   * Provide a custom icon to use if you need to use an icon other than the included ones\n   */\n  icon?: () => CarbonIconType | null;\n\n  /**\n   * When passing the initials prop, either send the initials to be used or the user's display name. The first two capital letters of the display name will be used as the initials.\n   */\n  initials?: string;\n\n  /**\n   * When passing the kind prop, use either \"user\" or \"group\". The values match up to the Carbon Library icons.\n   */\n  kind?: 'user' | 'group';\n\n  /**\n   * Set the size of the avatar circle\n   */\n  size: 'xl' | 'lg' | 'md';\n\n  /**\n   * Set theme in which the component will be rendered\n   */\n  theme: 'light' | 'dark';\n\n  /**\n   * Specify how the trigger should align with the tooltip\n   */\n  tooltipAlignment?: PopoverAlignment;\n\n  /**\n   * Pass in the display name to have it shown on hover\n   */\n  tooltipText?: string;\n};\n\nexport type UserProfileImageProps = UserProfileImageBaseProps & imageProps;\n\n/**\n * The user profile avatar allows for an image of the user to be displayed by passing in the image prop. By default the component will display a user icon on a blue background.\n * @deprecated This component is deprecated.\n */\nexport const UserProfileImage = React.forwardRef<\n  HTMLDivElement,\n  UserProfileImageProps\n>((props, ref) => {\n  const {\n    backgroundColor,\n    className,\n    kind,\n    icon,\n    initials,\n    image,\n    imageDescription,\n    size,\n    theme,\n    tooltipText,\n    tooltipAlignment = 'bottom',\n    ...rest\n  } = props;\n  const carbonPrefix = usePrefix();\n  const icons = {\n    user: {\n      md: (props) => <User size={20} {...props} />,\n      lg: (props) => <User size={24} {...props} />,\n      xl: (props) => <User size={32} {...props} />,\n    },\n    group: {\n      md: (props) => <Group size={20} {...props} />,\n      lg: (props) => <Group size={24} {...props} />,\n      xl: (props) => <Group size={32} {...props} />,\n    },\n  };\n\n  const formatInitials = () => {\n    if (initials && initials.length === 2) {\n      return initials;\n    }\n    // RegEx takes in the display name and returns the first and last initials. Thomas Watson and Thomas J. Watson\n    // both return JW.\n    return (\n      (initials || '')\n        .match(/(^\\S\\S?|\\b\\S)?/g)\n        ?.join('')\n        .match(/(^\\S|\\S$)?/g)\n        ?.join('')\n        .toUpperCase() || ''\n    );\n  };\n\n  const getFillItem = () => {\n    if (image) {\n      return () => (\n        <img\n          alt={imageDescription}\n          src={image}\n          className={`${blockClass}__photo ${blockClass}__photo--${size}`}\n        />\n      );\n    }\n    if (initials) {\n      return formatInitials;\n    }\n    if (kind && size) {\n      return icons[kind][size];\n    }\n    return icon;\n  };\n\n  // if user doesn't provide a color just generate a random one\n  const getRandomColor = () => {\n    const colors = [\n      'light-cyan',\n      'dark-cyan',\n      'light-gray',\n      'dark-gray',\n      'light-green',\n      'dark-green',\n      'light-magenta',\n      'dark-magenta',\n      'light-purple',\n      'dark-purple',\n      'light-teal',\n      'dark-teal',\n    ];\n    return colors[Math.floor(Math.random() * colors.length)];\n  };\n\n  const FillItem = getFillItem() as React.ComponentType<any>;\n\n  const renderUserProfileImage = () => (\n    <div\n      {\n        // Pass through any other property values as HTML attributes.\n        ...rest\n      }\n      ref={ref}\n      className={cx([\n        blockClass,\n        className,\n        `${blockClass}--${size}`,\n        `${blockClass}--${theme}`,\n        `${blockClass}--${backgroundColor || getRandomColor()}`,\n      ])}\n      {...getDevtoolsProps(componentName)}\n    >\n      <FillItem />\n    </div>\n  );\n  return (\n    FillItem &&\n    (tooltipText ? (\n      <Tooltip\n        align={tooltipAlignment}\n        label={tooltipText}\n        className={`${blockClass}__tooltip ${carbonPrefix}--icon-tooltip`}\n      >\n        <TooltipTrigger>{renderUserProfileImage()}</TooltipTrigger>\n      </Tooltip>\n    ) : (\n      renderUserProfileImage()\n    ))\n  );\n});\n\n/**@ts-ignore*/\nUserProfileImage.deprecated = {\n  level: 'warn',\n  details: `Please replace ${componentName} with UserAvatar`,\n};\n\n// Return a placeholder if not released and not enabled by feature flag\n\nUserProfileImage.displayName = componentName;\n\nUserProfileImage.propTypes = {\n  /**\n   * The background color passed should match one of the background colors in the library documentation:\n   * https://pages.github.ibm.com/carbon/ibm-products/patterns/user-profile-images/\n   */\n  backgroundColor: PropTypes.oneOf([\n    'light-cyan',\n    'dark-cyan',\n    'light-gray',\n    'dark-gray',\n    'light-green',\n    'dark-green',\n    'light-magenta',\n    'dark-magenta',\n    'light-purple',\n    'dark-purple',\n    'light-teal',\n    'dark-teal',\n  ]),\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n\n  /**\n   * Provide a custom icon to use if you need to use an icon other than the included ones\n   */\n  icon: PropTypes.func,\n\n  /**\n   * When passing the image prop, supply a full path to the image to be displayed.\n   */\n  /**@ts-ignore */\n  image: PropTypes.string,\n\n  /**\n   * When passing the image prop use the imageDescription prop to describe the image for screen reader.\n   */\n  /**@ts-ignore */\n  imageDescription: PropTypes.string,\n\n  /**\n   * When passing the initials prop, either send the initials to be used or the user's display name. The first two capital letters of the display name will be used as the initials.\n   */\n  initials: PropTypes.string,\n\n  /**\n   * When passing the kind prop, use either \"user\" or \"group\". The values match up to the Carbon Library icons.\n   */\n  kind: PropTypes.oneOf(['user', 'group']),\n\n  /**\n   * Set the size of the avatar circle\n   */\n  size: PropTypes.oneOf<Size>(['xl', 'lg', 'md']).isRequired,\n\n  /**\n   * Set theme in which the component will be rendered\n   */\n  theme: PropTypes.oneOf<Theme>(['light', 'dark']).isRequired,\n\n  /**\n   * Specify how the trigger should align with the tooltip\n   */\n  tooltipAlignment: PropTypes.oneOf([\n    'top',\n    'top-left',\n    'top-right',\n    'bottom',\n    'bottom-left',\n    'bottom-right',\n    'left',\n    'right',\n  ]),\n\n  /**\n   * Pass in the display name to have it shown on hover\n   */\n  tooltipText: PropTypes.string,\n};\n"],"names":["blockClass","pkg","componentName","UserProfileImage","React","props","ref","backgroundColor","className","kind","icon","initials","image","imageDescription","size","theme","tooltipText","tooltipAlignment","rest","carbonPrefix","usePrefix","icons","User","Group","formatInitials","getFillItem","getRandomColor","colors","FillItem","renderUserProfileImage","cx","getDevtoolsProps","Tooltip","TooltipTrigger","PropTypes"],"mappings":"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"}