import{b as ee,d as l,_ as te,P as t,g as ie}from"./index-CMVdkQrl.js";import{e as a,r as h}from"./index-DtHxqM--.js";import{u as ae}from"./useNormalizedInputProps-DMHlP-q8.js";import{t as ne}from"./TextInput-CixU1YEY.js";import{F as se}from"./FormContext-C4Nuixum.js";import{T as le}from"./settings-C3kz8lqM.js";import{V as oe,d as re}from"./bucket-18-xYgoy0Nr.js";const E=a.forwardRef(function(O,V){let{className:L,disabled:o=!1,helperText:b,hideLabel:k,hidePasswordLabel:f="Hide password",id:$,inline:n,invalid:z=!1,invalidText:F,labelText:v,light:_,onChange:W=()=>{},onClick:R=()=>{},onTogglePasswordVisibility:y,placeholder:q,readOnly:u,size:r="md",showPasswordLabel:x="Show password",tooltipPosition:s="bottom",tooltipAlignment:d="end",type:g="password",warn:A=!1,warnText:H,...S}=O;const[w,T]=h.useState(g),e=ee(),i=ae({id:$,invalid:z,invalidText:F,warn:A,warnText:H,readOnly:u,disabled:o}),{isFluid:p}=h.useContext(se),B=m=>{T(w==="password"?"text":"password"),y&&y(m)},j=l(`${e}--text-input`,`${e}--password-input`,L,{[`${e}--text-input--light`]:_,[`${e}--text-input--invalid`]:i.invalid,[`${e}--text-input--warning`]:i.warn,[`${e}--text-input--${r}`]:r,[`${e}--layout--size-${r}`]:r}),D={id:$,onChange:m=>{o||W(m)},onClick:m=>{o||R(m)},placeholder:q,type:w,className:j,readOnly:u,ref:V,...S},G=l(`${e}--form-item`,`${e}--text-input-wrapper`,`${e}--password-input-wrapper`,{[`${e}--text-input-wrapper--readonly`]:u,[`${e}--text-input-wrapper--light`]:_,[`${e}--text-input-wrapper--inline`]:n,[`${e}--text-input--fluid`]:p}),J=l(`${e}--label`,{[`${e}--visually-hidden`]:k,[`${e}--label--disabled`]:o,[`${e}--label--inline`]:n,[`${e}--label--inline--${r}`]:n&&!!r}),K=l(`${e}--form__helper-text`,{[`${e}--form__helper-text--disabled`]:o,[`${e}--form__helper-text--inline`]:n}),M=l(`${e}--text-input__field-outer-wrapper`,{[`${e}--text-input__field-outer-wrapper--inline`]:n}),Q=l(`${e}--text-input__field-wrapper`,{[`${e}--text-input__field-wrapper--warning`]:i.warn}),U=l({[`${e}--text-input__invalid-icon`]:i.invalid||i.warn,[`${e}--text-input__invalid-icon--warning`]:i.warn}),P=v?a.createElement("label",{htmlFor:$,className:J},v):null,I=b?a.createElement("div",{id:i.helperId,className:K},b):null,C=w==="text",X=C?a.createElement(oe,{className:`${e}--icon-visibility-off`}):a.createElement(re,{className:`${e}--icon-visibility-on`}),Y=l(`${e}--text-input--password__visibility__toggle`,`${e}--btn`,`${e}--tooltip__trigger`,`${e}--tooltip--a11y`,{[`${e}--tooltip--${s}`]:s,[`${e}--tooltip--align-${d}`]:d});let c;(s==="top"||s==="bottom")&&(d==="center"&&(c=s),d==="end"&&(c=`${s}-end`),d==="start"&&(c=`${s}-start`)),(s==="right"||s==="left")&&(c=s),!f||f.trim()===""?console.warn('Warning: The "hidePasswordLabel" should not be blank.'):(!x||x.trim()==="")&&console.warn('Warning: The "showPasswordLabel" should not be blank.');const Z=a.createElement(a.Fragment,null,a.createElement("input",te({},ne({sharedTextInputProps:D,invalid:i.invalid,invalidId:i.invalidId,warn:i.warn,warnId:i.warnId,hasHelper:!!(b&&!p&&(n||!n&&!i.validation)),helperId:i.helperId}),{disabled:o,"data-toggle-password-visibility":w==="password"})),p&&a.createElement("hr",{className:`${e}--text-input__divider`}),a.createElement(le,{align:c,className:`${e}--toggle-password-tooltip`,label:C?f:x},a.createElement("button",{type:"button",className:Y,disabled:o||u,onClick:B},X)));h.useEffect(()=>{T(g)},[g]);const N=i.icon;return a.createElement("div",{className:G},n?a.createElement("div",{className:`${e}--text-input__label-helper-wrapper`},P,!p&&I):P,a.createElement("div",{className:M},a.createElement("div",{className:Q,"data-invalid":i.invalid||null},N&&a.createElement(N,{className:U}),Z,p&&!n&&i.validation),!p&&!n&&(i.validation||I)))});E.displayName="PasswordInput";E.propTypes={className:t.string,defaultValue:t.oneOfType([t.string,t.number]),disabled:t.bool,helperText:t.node,hideLabel:t.bool,hidePasswordLabel:t.string,id:t.string.isRequired,inline:t.bool,invalid:t.bool,readOnly:t.bool,invalidText:t.node,labelText:t.node.isRequired,light:ie(t.bool),onChange:t.func,onClick:t.func,onTogglePasswordVisibility:t.func,placeholder:t.string,showPasswordLabel:t.string,size:t.oneOf(["sm","md","lg"]),tooltipAlignment:t.oneOf(["start","center","end"]),tooltipPosition:t.oneOf(["top","right","bottom","left"]),type:t.oneOf(["password","text"]),value:t.oneOfType([t.string,t.number]),warn:t.bool,warnText:t.node};export{E as P};
