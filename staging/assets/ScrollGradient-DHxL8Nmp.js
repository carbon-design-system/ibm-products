import{r as e,e as t}from"./index-DtHxqM--.js";import{b as B,d as P,P as s}from"./index-C360Eztx.js";import{g as j}from"./devtools-XPxnGn1y.js";import{p as A}from"./settings-CFkY3W_8.js";import{u as J}from"./useIsomorphicEffect-DztsuiUB.js";const G={NONE:"NONE"},K=o=>{const[R,i]=e.useState(),[$,z]=e.useState(),[u,w]=e.useState(),[f,_]=e.useState(),l=e.useCallback(()=>{o.current&&(i(o.current.scrollWidth>o.current.clientWidth),z(o.current.scrollHeight>o.current.clientHeight))},[o]);return e.useEffect(()=>{if(u)return()=>{u&&u.disconnect(),f&&f.disconnect()}}),e.useLayoutEffect(()=>{const{current:d}=o;d&&("ResizeObserver"in window&&!f&&_(new ResizeObserver(l).observe(d)),"MutationObserver"in window&&!u&&w(new MutationObserver(l).observe(d,{attributes:!1,childList:!0,subtree:!1})),l())},[o,l,u,f]),{xScrollable:R,yScrollable:$}},a=`${A.prefix}--scroll-gradient`,k="ScrollGradient",V={hideStartGradient:!1,onScroll:()=>{},getScrollElementRef:()=>{}};let v=t.forwardRef(({children:o,className:R,color:i,onScroll:$=V.onScroll,scrollElementClassName:z,getScrollElementRef:u=V.getScrollElementRef,hideStartGradient:w=V.hideStartGradient,...f},_)=>{const l=e.useRef(),d=e.useRef(),x=e.useRef(),I=e.useRef(),g=`var(--${B()}-layer-01)`,m=e.useRef(void 0),p=e.useRef(void 0),{xScrollable:C,yScrollable:H}=K(m),y=H&&m.current&&p.current?m.current.offsetWidth-p.current.offsetWidth:0,S=C&&m.current&&p.current?m.current.offsetHeight-p.current.offsetHeight:0,[q]=e.useState(G.NONE),[L]=e.useState(G.NONE),E=e.useRef(null),O=e.useRef(null),b=e.useRef(null),h=e.useRef(null);J(()=>{E.current.style.right=y,E.current.style.backgroundImage=`linear-gradient(0deg, transparent, ${i??g} 90%)`,O.current.backgroundImage=`linear-gradient(-90deg, transparent, ${i??g} 90%)`,O.current.bottom=S,b.current.style.right=y,b.current.style.bottom=S,b.current.style.backgroundImage=`linear-gradient(0deg, ${i??g} 10%, transparent)`,h.current.style.right=y,h.current.style.bottom=S,h.current.style.backgroundImage=`linear-gradient(-90deg, ${i??g} 10%, transparent)`},[i,y,S]);const N=(r,n)=>{n.current&&(r.isIntersecting?(n.current.style.opacity=0,n.current.style.display="none",n==null||n.current.setAttribute("aria-hidden",!1)):(n.current.style.opacity=1,n.current.style.display="block",n==null||n.current.setAttribute("aria-hidden",!0)))};e.useEffect(()=>{const r=new IntersectionObserver(F=>{F.forEach(c=>{c.target.hasAttribute("data-start-vertical")&&N(c,E),c.target.hasAttribute("data-end-vertical")&&N(c,b),c.target.hasAttribute("data-start-horizontal")&&N(c,O),c.target.hasAttribute("data-end-horizontal")&&N(c,h)})},{root:null,rootMargin:"0px",threshold:.1});r.observe(l.current),r.observe(d.current),r.observe(x.current),r.observe(I.current);const n=l.current,T=d.current,W=x.current,D=I.current;return()=>{r.unobserve(n),r.unobserve(T),r.unobserve(W),r.unobserve(D)}},[]);const M=r=>{m.current=r,u(r)};return t.createElement("div",{...f,className:P(a,`${a}--x-${L.toLowerCase()}`,`${a}--y-${q.toLowerCase()}`,{[`${a}--x-scrollable`]:C,[`${a}--y-scrollable`]:H},R),ref:_,role:"presentation",...j(k)},t.createElement("div",{onScroll:$,ref:M,className:P(`${a}__content`,z),tabIndex:0},t.createElement("span",{ref:l,"data-start-vertical":!0}),t.createElement("span",{ref:x,"data-start-horizontal":!0}),t.createElement("div",{ref:p,className:`${a}__content-children`},o),t.createElement("span",{ref:d,"data-end-vertical":!0}),t.createElement("span",{ref:I,"data-end-horizontal":!0})),!w&&t.createElement(t.Fragment,null,t.createElement("div",{ref:E,className:`${a}__start-vertical`,role:"presentation","aria-hidden":!0}),t.createElement("div",{ref:O,className:`${a}__start-horizontal`,role:"presentation","aria-hidden":!0})),t.createElement("div",{ref:b,className:`${a}__end-vertical`,role:"presentation","aria-hidden":!0}),t.createElement("div",{ref:h,className:`${a}__end-horizontal`,role:"presentation","aria-hidden":!0}))});v=A.checkComponentEnabled(v,k);v.displayName=k;v.propTypes={children:s.oneOfType([s.arrayOf(s.node),s.node]),className:s.string,color:s.string,getScrollElementRef:s.func,hideStartGradient:s.bool,onScroll:s.func,scrollElementClassName:s.string};v.__docgenInfo={description:"TODO: A description of the component.",methods:[],displayName:"ScrollGradient",props:{onScroll:{defaultValue:{value:"() => {}",computed:!1},description:"@type {Function} Optional scroll handler",type:{name:"func"},required:!1},getScrollElementRef:{defaultValue:{value:"() => {}",computed:!1},description:"@type {(element: HTMLElement) => {}} Optional function to get reference to scrollable DOM element",type:{name:"func"},required:!1},hideStartGradient:{defaultValue:{value:"false",computed:!1},description:"@type {boolean} Set to true if you want to hide gradient on the start side (top or left) of scrollable element.",type:{name:"bool"},required:!1},children:{description:"Provide the contents of the ScrollGradient.",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"}]},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},color:{description:"@type {string} Fade out color. Any valid CSS color value works",type:{name:"string"},required:!1},scrollElementClassName:{description:"@type {string} Optional classname for scroll element.",type:{name:"string"},required:!1}}};export{v as S};
