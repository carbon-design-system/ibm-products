import{r as d,a as I,k as P,u as q,s as K,b as S,c as f,e as m,_ as L,B as U,Y,d as A,f as G,P as e}from"./iframe-BBf3bqTv.js";import{b as H,a as J}from"./useAttachedMenu-tCJ9pwqm.js";import{m as Q}from"./mergeRefs-BZpmU3mx.js";const V=["primary","tertiary","ghost"],W="primary",X=d.forwardRef(({children:b,className:y,disabled:h,kind:k=W,label:p,menuBackgroundToken:x="layer",menuBorder:w=!1,size:g="lg",menuAlignment:n="bottom",tabIndex:C=0,menuTarget:O,..._},E)=>{const B=I("enable-v12-dynamic-floating-styles"),l=P("MenuButton"),r=q(),i=d.useRef(null);let c=[];B||(c=[G({crossAxis:!1})]),(n==="bottom"||n==="top")&&c.push(K({apply({rects:a,elements:s}){Object.assign(s.floating.style,{width:`${a.reference.width}px`})}}));const{refs:o,floatingStyles:u,placement:M,middlewareData:R}=S({placement:n,strategy:"fixed",transform:!1,middleware:c,whileElementsMounted:A}),v=Q(E,i),{open:t,handleClick:F,handleMousedown:N,handleClose:T}=H(i);d.useLayoutEffect(()=>{Object.keys(u).forEach(a=>{if(o.floating.current){let s=u[a];["top","right","bottom","left"].includes(a)&&Number(s)&&(s+="px"),o.floating.current.style[a]=s}})},[u,o.floating,R,M,t]);function $(){i.current&&F()}const z=f(`${r}--menu-button__container`,y),j=f(`${r}--menu-button__trigger`,{[`${r}--menu-button__trigger--open`]:t}),D=f(`${r}--menu-button__${n}`);return m.createElement("div",L({},_,{ref:v,"aria-owns":t?l:void 0,className:z}),m.createElement(U,{ref:o.setReference,className:j,size:g,tabIndex:C,kind:k,renderIcon:Y,disabled:h,"aria-haspopup":!0,"aria-expanded":t,onClick:$,onMouseDown:N,"aria-controls":t?l:void 0},p),m.createElement(J,{containerRef:i,menuAlignment:n,className:D,ref:o.setFloating,id:l,legacyAutoalign:!1,label:p,size:g,open:t,onClose:T,target:O,backgroundToken:x,border:w},b))});X.propTypes={children:e.node.isRequired,className:e.string,disabled:e.bool,kind:e.oneOf(V),label:e.string.isRequired,menuAlignment:e.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end"]),size:e.oneOf(["xs","sm","md","lg"]),tabIndex:e.number,menuBackgroundToken:e.oneOf(["layer","background"]),menuBorder:e.bool,menuTarget:e.instanceOf(typeof Element<"u"?Element:Object)};export{X as M};
//# sourceMappingURL=index-CirT4ZT0.js.map
