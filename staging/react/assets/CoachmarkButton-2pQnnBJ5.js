import{r as a,e as t,c as g,p as A,Z as le,F as ie,G as ce,P as e,B as G}from"./iframe-BBf3bqTv.js";import{b as $,C as ue,a as U,u as me}from"./CoachmarkOverlayElements-C_myZV2j.js";import{u as C}from"./useIsomorphicEffect-ZKZ1smHY.js";import{g as L}from"./devtools-c2gfrTL0.js";function pe(o,r,n,l){const s=a.useRef(void 0),m=n===$.TOOLTIP;C(()=>{s.current=l},[l]),C(()=>{function i(p){const y=r.current&&!r.current.contains(p.target),c=o.current&&!o.current.contains(p.target);y&&c&&N()}function N(){m&&s.current()}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[o,r,m])}const de=(o,r)=>{const n=a.useRef(null);a.useEffect(()=>{n.current=r}),a.useEffect(()=>{function l(s){n.current&&n.current(s)}return window.addEventListener(o,l),()=>{window.removeEventListener(o,l)}},[o])},fe=(o,r=100)=>{let n=Date.now();return()=>{n+r-Date.now()<=0&&(o(),n=Date.now())}},_=`${A.prefix}--coachmark`,z=`${_}-overlay`,S="Coachmark",h={align:"bottom",onClose:()=>{},overlayKind:"tooltip",theme:"light",isOpenByDefault:!1,closeIconDescription:""},T=a.forwardRef(({align:o=h.align,autoAlign:r,children:n,className:l,onClose:s=h.onClose,overlayClassName:m,overlayKind:i=h.overlayKind,overlayRef:N,positionTune:p,portalTarget:y,target:c,theme:w=h.theme,isOpenByDefault:Y=h.isOpenByDefault,closeIconDescription:Z=h.closeIconDescription,...J},Q)=>{const X=i===$.TOOLTIP,q=i===$.STACKED,[d,f]=a.useState(q||Y),[H,K]=a.useState(!1),[ee,te]=a.useState(),[ae,oe]=a.useState({x:0,y:0}),ne=a.useRef(void 0),re=a.useRef(void 0),F=Q||re,R=N||ne,x=a.useRef(null),b=a.useRef(null);let B;t.isValidElement(c)&&typeof c.type!="string"&&(B=c.type),C(()=>{x.current=y?document?.querySelector(y)??document?.querySelector("body"):document?.querySelector("body")},[y]);const j=()=>{f(!1)},v=a.useCallback(()=>{q||f(!1),s()},[q,s]),P=a.useCallback(u=>{u.key==="Escape"&&v()},[v]);a.useEffect(()=>(document.addEventListener("keydown",P,!1),()=>{document.removeEventListener("keydown",P,!1)}),[P]);const W=u=>{te(u.target.getBoundingClientRect()),oe({x:u.target.offsetLeft,y:u.target.offsetTop}),X?f(I=>!I):(f(!1),K(!0))},D={buttonProps:{"aria-expanded":d,tabIndex:0,onClick:W,onDoubleClick:W},closeButtonProps:{onClick:v},targetRect:ee,targetOffset:ae,align:o,positionTune:p,isOpen:d,closeIconDescription:Z},se=fe(()=>{j()},2e3);return a.useEffect(()=>{H&&(K(!1),f(!0))},[H]),C(()=>{const u={top:`${(p?.y??0)-16}px`,left:`${(p?.x??0)-16}px`};if(b.current&&b.current.style&&u){const I={position:"absolute",...u};Object.assign(b.current.style,I)}},[b,p]),a.useEffect(()=>()=>f(!1),[]),pe(F,R,i,j),de("resize",se),t.createElement(ue.Provider,{value:D},t.createElement("div",{className:g(_,`${_}__${w}`,l),ref:F,...J,...L(S)},i!=="tooltip"?t.createElement(t.Fragment,null,B?.displayName==="CoachmarkBeacon"?t.cloneElement(c,{buttonProps:D.buttonProps}):c,d&&x?.current&&le.createPortal(t.createElement(U,{ref:R,fixedIsVisible:!1,kind:i,onClose:v,theme:w,className:g(m,`${z}--is-visible`)},n),x?.current)):t.createElement(ie,{highContrast:!0,caret:!0,ref:b,align:o,autoAlign:r,open:d},B?.displayName==="CoachmarkBeacon"?t.cloneElement(c,{buttonProps:D.buttonProps}):c,t.createElement(ce,null,d&&t.createElement(U,{ref:R,fixedIsVisible:!1,kind:i,onClose:v,theme:w,className:g(m,{[`${z}--is-visible`]:d})},n)))))}),he=typeof HTMLElement>"u"?e.object:e.instanceOf(HTMLElement);T.deprecated={level:"warn",details:`${S} is deprecated.`};T.displayName=S;const ye={overlayClassName:e.string,overlayKind:e.oneOf(["tooltip","floating","stacked"]),overlayRef:e.shape({current:he}),portalTarget:e.string,target:e.node,theme:e.oneOf(["light","dark"])};T.propTypes={align:e.oneOf(["bottom","bottom-left","bottom-right","left","left-top","left-bottom","right","right-top","right-bottom","top","top-left","top-right"]),autoAlign:e.bool,children:e.node.isRequired,className:e.string,closeIconDescription:e.string,isOpenByDefault:e.bool,onClose:e.func,positionTune:e.shape({x:e.number,y:e.number}),...ye};T.__docgenInfo={description:`Coachmarks are used to call out specific functionality or concepts
within the UI that may not be intuitive but are important for the
user to gain understanding of the product's main value and discover new use cases.
@deprecated This component is deprecated.`,methods:[],displayName:"Coachmark",props:{align:{required:!1,tsType:{name:"union",raw:`| 'bottom'
| 'bottom-left'
| 'bottom-right'
| 'left'
| 'left-top'
| 'left-bottom'
| 'right'
| 'right-top'
| 'right-bottom'
| 'top'
| 'top-left'
| 'top-right'`,elements:[{name:"literal",value:"'bottom'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"},{name:"literal",value:"'left'"},{name:"literal",value:"'left-top'"},{name:"literal",value:"'left-bottom'"},{name:"literal",value:"'right'"},{name:"literal",value:"'right-top'"},{name:"literal",value:"'right-bottom'"},{name:"literal",value:"'top'"},{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"}]},description:`Where to render the Coachmark relative to its target.
Applies only to Floating and Tooltip Coachmarks.
@see COACHMARK_ALIGNMENT`,defaultValue:{value:"'bottom'",computed:!1},type:{name:"enum",value:[{value:"'bottom'",computed:!1},{value:"'bottom-left'",computed:!1},{value:"'bottom-right'",computed:!1},{value:"'left'",computed:!1},{value:"'left-top'",computed:!1},{value:"'left-bottom'",computed:!1},{value:"'right'",computed:!1},{value:"'right-top'",computed:!1},{value:"'right-bottom'",computed:!1},{value:"'top'",computed:!1},{value:"'top-left'",computed:!1},{value:"'top-right'",computed:!1}]}},autoAlign:{required:!1,tsType:{name:"boolean"},description:`Auto aligns the coachmark based on screen boundaries
Applies only to Tooltip Coachmarks.`,type:{name:"bool"}},children:{required:!0,tsType:{name:"ReactNode"},description:`Coachmark should use a single CoachmarkOverlayElements component as a child.
@see CoachmarkOverlayElements`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Function to call when the Coachmark closes.",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},overlayClassName:{required:!1,tsType:{name:"string"},description:`@deprecated
Optional class name for the Coachmark Overlay component.`,type:{name:"string"}},overlayKind:{required:!1,tsType:{name:"union",raw:"'tooltip' | 'floating' | 'stacked'",elements:[{name:"literal",value:"'tooltip'"},{name:"literal",value:"'floating'"},{name:"literal",value:"'stacked'"}]},description:`@deprecated
What kind or style of Coachmark to render.`,defaultValue:{value:"'tooltip'",computed:!1},type:{name:"enum",value:[{value:"'tooltip'",computed:!1},{value:"'floating'",computed:!1},{value:"'stacked'",computed:!1}]}},overlayRef:{required:!1,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]}],raw:"MutableRefObject<HTMLElement | null>"},description:"@deprecated",type:{name:"shape",value:{current:{name:"custom",raw:"overlayRefType as PropTypes.Validator<HTMLElement | null>",required:!1}}}},portalTarget:{required:!1,tsType:{name:"string"},description:`@deprecated
By default, the Coachmark will be appended to the end of \`document.body\`.
The Coachmark will remain persistent as the user navigates the app until
the user closes the Coachmark.

Alternatively, the app developer can tightly couple the Coachmark to a DOM
element or other component by specifying a CSS selector. The Coachmark will
remain visible as long as that element remains visible or mounted. When the
element is hidden or component is unmounted, the Coachmark will disappear.`,type:{name:"string"}},positionTune:{required:!1,tsType:{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},description:"Fine tune the position of the target in pixels. Applies only to Beacons.",type:{name:"shape",value:{x:{name:"number",required:!1},y:{name:"number",required:!1}}}},target:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:`@deprecated
The optional button or beacon that the user will click to show the Coachmark.`,type:{name:"node"}},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:`@deprecated
Determines the theme of the component.`,defaultValue:{value:"'light'",computed:!1},type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},isOpenByDefault:{required:!1,tsType:{name:"boolean"},description:"Determines if the coachmark is open by default.\nDoes nothing if `overlayKind=stacked`.",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"Tooltip text and aria label for the Close button icon.",defaultValue:{value:"''",computed:!1},type:{name:"string"}}}};const k=`${A.prefix}--coachmark-beacon`,M="CoachmarkBeacon",be={kind:"default"},E=t.forwardRef((o,r)=>{const{label:n,className:l,kind:s=be.kind,buttonProps:m,...i}=o;return t.createElement("span",{...i,className:g(k,`${k}-${s}`,l),ref:r,...L(M),role:"tooltip"},t.createElement("button",{type:"button",...m,className:`${k}__target`},t.createElement("svg",{className:`${k}__center`,"aria-label":n},t.createElement("title",null,n),t.createElement("circle",{r:1,cx:38,cy:38}))))});E.deprecated={level:"warn",details:`${M} is deprecated.`};E.displayName=M;E.propTypes={buttonProps:e.shape({...G.propTypes,onClick:e.func,onDoubleClick:e.func,tabIndex:e.number,"aria-expanded":e.bool}),className:e.string,kind:e.oneOf(["default"]),label:e.string.isRequired};E.__docgenInfo={description:`Use beacon for the target prop of a Coachmark component.
@deprecated This component is deprecated.`,methods:[],displayName:"CoachmarkBeacon",props:{className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},kind:{required:!1,tsType:{name:"BEACON_KIND"},description:`What style of beacon.
BEACON_KIND is an exported enum from the Coachmark and can be used for this value.
@see {@link BEACON_KIND}`,type:{name:"enum",value:[{value:"'default'",computed:!1}]}},label:{required:!0,tsType:{name:"string"},description:"The aria label.",type:{name:"string"}},buttonProps:{required:!1,tsType:{name:"CoachmarkButtonProps"},description:"button props",type:{name:"shape",value:{onClick:{name:"func",required:!1},onDoubleClick:{name:"func",required:!1},tabIndex:{name:"number",required:!1},"aria-expanded":{name:"bool",required:!1}}}}}};const ve=`${A.prefix}--coachmark-button`,V="CoachmarkButton",O=t.forwardRef(({className:o,label:r,...n},l)=>{const s=me();return s?t.createElement(G,{...n,className:g(ve,o,{}),ref:l,role:"button","aria-label":r,...L(V),...s.buttonProps},r):t.createElement("div",null,"CoachmarkButton is to be use exclusively within the target prop of Coachmark")});O.deprecated={level:"warn",details:`${V} is deprecated.`};O.displayName=V;O.propTypes={className:e.string,label:e.string.isRequired};O.__docgenInfo={description:`Use CoachmarkButton for the target prop of a Coachmark component.
@deprecated This component is deprecated.`,methods:[],displayName:"CoachmarkButton",props:{className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node.",type:{name:"string"}},label:{required:!0,tsType:{name:"string"},description:"The aria label.",type:{name:"string"}}}};export{T as C,E as a,O as b};
//# sourceMappingURL=CoachmarkButton-2pQnnBJ5.js.map
