import{b as A,d as T,B as j,v as K,_ as x,P as t,c as Q}from"./index-4poXP75K.js";import{r as u,e as l}from"./index-DtHxqM--.js";import{bd as U}from"./settings-Bzj6EGPa.js";import{w as X}from"./wrapComponent-CT2vJnKR.js";import{A as B}from"./index-CVEmjZFv.js";import{i as _}from"./utils--12iVJsW.js";import{aF as Y}from"./bucket-0-C0XwVn_F.js";import{b as ee}from"./bucket-1-C6RjXMcc.js";const $={NONE:"NONE",DESC:"DESC",ASC:"ASC"},te=u.createContext({titleId:void 0,descriptionId:void 0}),V=(a,e)=>{var h,g,E,y;if(a.children.length>0)return!1;const s=window.getComputedStyle(a);e.font=s.font?s.font:`${s.fontSize}" "${s.fontFamily}`;let o=(e==null?void 0:e.measureText(a.textContent??"")).width??0;const m=(h=s.letterSpacing)==null?void 0:h.split("px");m&&m.length&&!isNaN(Number(m[0]))&&(o+=Number(m[0])*(((g=a.textContent)==null?void 0:g.length)??0));const d=(E=s.paddingLeft)==null?void 0:E.split("px");d&&d.length&&!isNaN(Number(d[0]))&&(o+=Number(d[0]));const p=(y=s.paddingLeft)==null?void 0:y.split("px");return p&&p.length&&!isNaN(Number(p[0]))&&(o+=Number(p[0])),o>a.getBoundingClientRect().width},ae=({className:a,children:e,useZebraStyles:s,size:c="lg",isSortable:o=!1,useStaticWidth:m,stickyHeader:d,overflowMenuOnHover:p=!0,experimentalAutoAlign:h=!1,tabIndex:g,...E})=>{var z;const{titleId:y,descriptionId:C}=u.useContext(te),r=A(),[D,n]=u.useState(!1),i=u.useRef(null),I=T(`${r}--data-table`,a,{[`${r}--data-table--${c}`]:c,[`${r}--data-table--sort`]:o,[`${r}--data-table--zebra`]:s,[`${r}--data-table--static`]:m,[`${r}--data-table--sticky-header`]:d,[`${r}--data-table--visible-overflow-menu`]:!p}),v=u.useCallback((N=!1)=>{var b,f;N?(b=i.current)==null||b.classList.add(`${r}--data-table--top-aligned-body`):(f=i.current)==null||f.classList.remove(`${r}--data-table--top-aligned-body`)},[r]),w=u.useCallback((N=!1)=>{var b,f;N?(b=i.current)==null||b.classList.add(`${r}--data-table--top-aligned-header`):(f=i.current)==null||f.classList.remove(`${r}--data-table--top-aligned-header`)},[r]),S=u.useCallback(()=>{if(h){const b=document.createElement("canvas").getContext("2d");if(i.current&&b){const f=Array.from(i.current.querySelectorAll("td")).some(W=>V(W,b)),O=Array.from(i.current.querySelectorAll("th")).some(W=>{const M=W.querySelector(`.${r}--table-header-label`);return M&&V(M,b)});v(f),w(O)}}else v(!1),w(!1)},[h,v,w,r]),R=U(S,100);j("resize",R);const L=u.useCallback(()=>{var f,O;const N=(f=i==null?void 0:i.current)==null?void 0:f.parentNode,b=(O=i==null?void 0:i.current)==null?void 0:O.firstChild;(b==null?void 0:b.scrollWidth)>(N==null?void 0:N.clientWidth)?n(!0):n(!1)},[]),H=U(L,100);j("resize",H),K(()=>{L()},[L]),typeof document<"u"&&((z=document==null?void 0:document.fonts)!=null&&z.status)&&document.fonts.status!=="loaded"&&document.fonts.ready.then(()=>{S()}),K(()=>{S()},[S,c]);const k=l.createElement("div",{className:`${r}--data-table-content`,tabIndex:g??(D?0:void 0)},l.createElement("table",x({"aria-labelledby":y,"aria-describedby":C},E,{className:I,ref:i}),e));return d?l.createElement("section",{className:`${r}--data-table_inner-container`},k):k};ae.propTypes={children:t.node,className:t.string,experimentalAutoAlign:t.bool,isSortable:t.bool,overflowMenuOnHover:t.bool,size:t.oneOf(["xs","sm","md","lg","xl"]),stickyHeader:t.bool,useStaticWidth:t.bool,useZebraStyles:t.bool,tabIndex:t.number};const se=({children:a,className:e,...s})=>l.createElement("tbody",x({"aria-live":s["aria-live"]??"polite",className:e},s),a);se.propTypes={"aria-live":t.oneOf(["polite","assertive","off"]),children:t.node,className:t.string};const le=u.forwardRef,G=le((a,e)=>{const{children:s,className:c,hasAILabelHeader:o,colSpan:m,...d}=a,p=A(),h=T(c,{[`${p}--table-cell--column-slug`]:o});return l.createElement("td",x({className:h||void 0,ref:e,colSpan:m},d),s)});G.displayName="TableCell";G.propTypes={children:t.node,className:t.string,colSpan:t.number,hasAILabelHeader:t.bool,headers:t.string};const q=({className:a,decorator:e})=>{const s=A(),c=T({...a&&{[a]:!0},[`${s}--table-column-decorator`]:!0,[`${s}--table-column-decorator--active`]:e}),m=_(e,B)?u.cloneElement(e,{size:"mini"}):null;return l.createElement("td",{className:c},m)};q.displayName="TableDecoratorRow";q.propTypes={className:t.string,decorator:t.node};const Z={};function re(a,e){return Z[a]||(Z[a]=!0),a}const P=({className:a,slug:e})=>{u.useEffect(()=>{re("TableSlugRow")},[]);const s=A(),c=T({...a&&{[a]:!0},[`${s}--table-column-slug`]:!0,[`${s}--table-column-slug--active`]:e});let o;return e&&(o=l.cloneElement(e,{size:"mini"})),l.createElement("td",{className:c},o)};P.displayName="TableSlugRow";P.propTypes={className:t.string,slug:t.node};const Ne=X({name:"TableHead",type:"thead"}),ne="col",J={buttonDescription:"carbon.table.header.icon.description"},oe=(a,e)=>e&&a===J.buttonDescription?e.isSortHeader&&$?e.sortDirection===$.NONE?`Click to sort rows by ${e.header} header in ascending order`:e.sortDirection===$.ASC?`Click to sort rows by ${e.header} header in descending order`:`Click to unsort rows by ${e.header} header`:`Click to sort rows by ${e.header} header in ascending order`:"",ce={[$.NONE]:"none",[$.ASC]:"ascending",[$.DESC]:"descending"},F=l.forwardRef(function({className:e,children:s,colSpan:c,decorator:o,isSortable:m=!1,isSortHeader:d,onClick:p,scope:h=ne,sortDirection:g,translateWithId:E=oe,slug:y,id:C,...r},D){const n=A(),i=Q("table-sort"),I=u.useRef(null),v=y??o,w=_(v,B),S=w,R=w?u.cloneElement(v,{size:"mini",ref:I}):null,L=T({[`${n}--table-header-label`]:!0,[`${n}--table-header-label--slug ${n}--table-header-label--ai-label`]:S,[`${n}--table-header-label--decorator`]:o});if(!m)return l.createElement("th",x({},r,{id:C,className:e,scope:h,colSpan:c,ref:D}),s?l.createElement("div",{className:L},s,l.createElement("div",{className:`${n}--table-header-label--decorator-inner`},R)):null);const H=T(e,{[`${n}--table-sort`]:!0,[`${n}--table-sort--active`]:d&&g!==$.NONE,[`${n}--table-sort--descending`]:d&&g===$.DESC}),k=!d||!g?"none":ce[g],z=E&&E("carbon.table.header.icon.description",{header:s,sortDirection:g,isSortHeader:d,sortStates:$}),N=T(e,`${n}--table-sort__header`,{[`${n}--table-sort__header--ai-label`]:S,[`${n}--table-sort__header--decorator`]:o}),b=f=>{if(!(S&&I.current&&I.current.contains(f.target))&&p)return p(f)};return l.createElement("th",{id:C,"aria-sort":k,className:N,colSpan:c,ref:D,scope:h},l.createElement("div",{className:`${n}--table-sort__description`,id:i},z),l.createElement("button",x({type:"button","aria-describedby":i,className:H,onClick:b},r),l.createElement("span",{className:`${n}--table-sort__flex`},l.createElement("div",{className:`${n}--table-header-label`},s),l.createElement(Y,{size:20,className:`${n}--table-sort__icon`}),l.createElement(ee,{size:20,className:`${n}--table-sort__icon-unsorted`}),l.createElement("div",{className:`${n}--table-header-label--decorator-inner`},R))))});F.propTypes={children:t.node,className:t.string,colSpan:t.number,id:t.string,isSortHeader:t.bool,isSortable:t.bool,onClick:t.func,scope:t.string,sortDirection:t.oneOf(Object.values($)),translateWithId:t.func};F.translationKeys=Object.values(J);F.displayName="TableHeader";const ie=l.forwardRef((a,e)=>{const s=A();let c;a!=null&&a.children&&u.Children.toArray(a.children).map(C=>{_(C,P)?C.props.slug&&(c=!0):_(C,q)&&_(C.props.decorator,B)&&(c=!0)});const o=T(a.className,{[`${s}--data-table--selected`]:a.isSelected,[`${s}--data-table--slug-row ${s}--data-table--ai-label-row`]:c}),{ariaLabel:m,"aria-label":d,"aria-controls":p,onExpand:h,isExpanded:g,isSelected:E,...y}=a;return o&&(y.className=o),l.createElement("tr",x({ref:e},y))});ie.propTypes={className:t.string,isSelected:t.bool};export{ae as T,Ne as a,ie as b,F as c,se as d,G as e,te as f,P as g,q as h,$ as s};
