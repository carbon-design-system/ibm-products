import{b as p,d as f,_ as E,P as a,g as y,v as b}from"./index-C360Eztx.js";import{e,r as v}from"./index-DtHxqM--.js";import{a as h}from"./bucket-6-BjeV6rPm.js";function N({active:c=!0,className:n,withOverlay:t=!0,small:o=!1,description:m="loading",...d}){const i=p(),l=f(n,{[`${i}--loading`]:!0,[`${i}--loading--small`]:o,[`${i}--loading--stop`]:!c}),g=f({[`${i}--loading-overlay`]:!0,[`${i}--loading-overlay--stop`]:!c}),r=e.createElement("div",E({},d,{"aria-atomic":"true","aria-live":c?"assertive":"off",className:l}),e.createElement("svg",{className:`${i}--loading__svg`,viewBox:"0 0 100 100"},e.createElement("title",null,m),o?e.createElement("circle",{className:`${i}--loading__background`,cx:"50%",cy:"50%",r:"42"}):null,e.createElement("circle",{className:`${i}--loading__stroke`,cx:"50%",cy:"50%",r:o?"42":"44"})));return t?e.createElement("div",{className:g},r):r}N.propTypes={active:a.bool,className:a.string,description:a.string,id:y(a.string),small:a.bool,withOverlay:a.bool};const k=({className:c,status:n="active",iconDescription:t,description:o,onSuccess:m,successDelay:d=1500,...i})=>{const l=p(),g=f(`${l}--inline-loading`,c),r=v.useRef(null);v.useEffect(()=>(n==="finished"&&(r.current=setTimeout(()=>{m&&m()},d)),()=>{r.current&&(clearTimeout(r.current),r.current=null)}),[n,m,d]);const _=()=>{let s=t||n;if(n==="error")return e.createElement(h,{className:`${l}--inline-loading--error`},e.createElement("title",null,s));if(n==="finished")return e.createElement(b,{className:`${l}--inline-loading__checkmark-container`},e.createElement("title",null,s));if(n==="active")return t||(s="loading"),e.createElement(N,{small:!0,description:s,withOverlay:!1,active:n==="active"});if(n==="inactive")return t||(s="not loading"),e.createElement("title",{className:`${l}--inline-loading__inactive-status`},s)},$=o&&e.createElement("div",{className:`${l}--inline-loading__text`},o),u=_(),x=u&&e.createElement("div",{className:`${l}--inline-loading__animation`},u);return e.createElement("div",E({className:g},i,{"aria-live":i["aria-live"]??"assertive"}),x,$)};k.propTypes={className:a.string,description:a.node,iconDescription:a.string,onSuccess:a.func,status:a.oneOf(["inactive","active","finished","error"]),successDelay:a.number};export{k as I,N as L};
