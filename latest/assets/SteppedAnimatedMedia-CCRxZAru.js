import{e as y,r as a}from"./index-DxDX2vOa.js";import{l as v}from"./lottie-D0UQuq7-.js";import{c as b}from"./clamp-RSd2z2nT.js";import{c as j,P as i}from"./index-B_euquWE.js";import{g as N}from"./devtools-BlxCaI1L.js";import{p as x}from"./settings-0ThqPtR3.js";const D=`${x.prefix}--stepped-animated-media`,g="SteppedAnimatedMedia",q={playStep:0},l=y.forwardRef(({className:R,playStep:f=q.playStep,filePaths:e,...S},w)=>{const[r,A]=a.useState([]),n=a.useRef(void 0),h=a.useRef(null),u=w??h,p=u.current,M=e==null?void 0:e.join();return a.useEffect(()=>{const c=t=>t.includes(".json");async function o(){if(e&&e.every(c)){const t=e.map(d=>fetch(d)),s=(await Promise.all(t)).map(d=>d.json()),T=await Promise.all(s);A(T)}}o()},[M]),a.useEffect(()=>{var o,t,m;const c=window!=null&&window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!0;return p&&((o=n.current)==null||o.destroy(),n.current=v.loadAnimation({container:p,renderer:"svg",animationData:r[b(f,0,r.length-1)],loop:!1,autoplay:!1,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}}),c?(t=n.current)==null||t.goToAndStop(0):(m=n.current)==null||m.goToAndPlay(0)),()=>{var s;return(s=n.current)==null?void 0:s.destroy()}},[r,p,f]),r?y.createElement("div",{...S,className:j(D,R),role:"img",ref:u,...N(g)}):null});l.displayName=g;l.propTypes={className:i.string,filePaths:i.arrayOf(i.string).isRequired,playStep:i.number};l.__docgenInfo={description:"The SteppedAnimatedMedia is an Onboarding internal component and is not intended for general use.",methods:[],displayName:"SteppedAnimatedMedia",props:{className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},filePaths:{required:!0,tsType:{name:"union",raw:"string[] | undefined",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"undefined"}]},description:"The file path(s) to json formatted Lottie animation files.",type:{name:"arrayOf",value:{name:"string"}}},playStep:{required:!1,tsType:{name:"number"},description:"Which animation step from the filePaths array to play.",defaultValue:{value:"0",computed:!1},type:{name:"number"}}}};export{l as S};
