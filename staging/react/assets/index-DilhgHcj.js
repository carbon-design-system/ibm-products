import{r as d,a as D,d as I,u as P,s as T,b as q,c as f,e as m,_ as K,B as S,w as L,f as U,g as A,P as e}from"./iframe-arkle79Y.js";import{b as G,a as H}from"./useAttachedMenu-bOf8RlpA.js";import{m as J}from"./mergeRefs-D4pwfk3t.js";const Q=["primary","tertiary","ghost"],V="primary",W=d.forwardRef(({children:b,className:h,disabled:y,kind:w=V,label:p,size:g="lg",menuAlignment:s="bottom",tabIndex:x=0,menuTarget:C,..._},E)=>{const O=D("enable-v12-dynamic-floating-styles"),l=I("MenuButton"),r=P(),i=d.useRef(null);let c=[];O||(c=[A({crossAxis:!1})]),(s==="bottom"||s==="top")&&c.push(T({apply({rects:a,elements:o}){Object.assign(o.floating.style,{width:`${a.reference.width}px`})}}));const{refs:n,floatingStyles:u,placement:M,middlewareData:R}=q({placement:s,strategy:"fixed",transform:!1,middleware:c,whileElementsMounted:U}),k=J(E,i),{open:t,handleClick:v,handleMousedown:B,handleClose:F}=G(i);d.useLayoutEffect(()=>{Object.keys(u).forEach(a=>{if(n.floating.current){let o=u[a];["top","right","bottom","left"].includes(a)&&Number(o)&&(o+="px"),n.floating.current.style[a]=o}})},[u,n.floating,R,M,t]);function N(){i.current&&v()}const $=f(`${r}--menu-button__container`,h),z=f(`${r}--menu-button__trigger`,{[`${r}--menu-button__trigger--open`]:t}),j=f(`${r}--menu-button__${s}`);return m.createElement("div",K({},_,{ref:k,"aria-owns":t?l:void 0,className:$}),m.createElement(S,{ref:n.setReference,className:z,size:g,tabIndex:x,kind:w,renderIcon:L,disabled:y,"aria-haspopup":!0,"aria-expanded":t,onClick:N,onMouseDown:B,"aria-controls":t?l:void 0},p),m.createElement(H,{containerRef:i,menuAlignment:s,className:j,ref:n.setFloating,id:l,legacyAutoalign:!1,label:p,size:g,open:t,onClose:F,target:C},b))});W.propTypes={children:e.node.isRequired,className:e.string,disabled:e.bool,kind:e.oneOf(Q),label:e.string.isRequired,menuAlignment:e.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end"]),size:e.oneOf(["sm","md","lg"]),tabIndex:e.number,menuTarget:e.instanceOf(typeof Element<"u"?Element:Object)};export{W as M};
