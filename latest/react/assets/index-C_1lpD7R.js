import{r as f,d as D,g as I,u as P,s as T,f as q,c as d,e as m,_ as K,B as S,F as L,h as U,i as A,P as e}from"./iframe-6Ea7Lnhj.js";import{b as G,a as H}from"./useAttachedMenu-DlDWY8of.js";import{m as J}from"./mergeRefs-91-mP8KM.js";const Q=["primary","tertiary","ghost"],V="primary",W=f.forwardRef(function({children:b,className:h,disabled:y,kind:x=V,label:p,size:g="lg",menuAlignment:n="bottom",tabIndex:w=0,menuTarget:C,..._},E){const M=D("enable-v12-dynamic-floating-styles"),l=I("MenuButton"),r=P(),i=f.useRef(null);let c=[];M||(c=[A({crossAxis:!1})]),(n==="bottom"||n==="top")&&c.push(T({apply({rects:o,elements:a}){Object.assign(a.floating.style,{width:`${o.reference.width}px`})}}));const{refs:s,floatingStyles:u,placement:O,middlewareData:R}=q({placement:n,strategy:"fixed",transform:!1,middleware:c,whileElementsMounted:U}),k=J(E,i),{open:t,handleClick:v,handleMousedown:B,handleClose:F}=G(i);f.useLayoutEffect(()=>{Object.keys(u).forEach(o=>{if(s.floating.current){let a=u[o];["top","right","bottom","left"].includes(o)&&Number(a)&&(a+="px"),s.floating.current.style[o]=a}})},[u,s.floating,R,O,t]);function $(){i.current&&v()}const N=d(`${r}--menu-button__container`,h),z=d(`${r}--menu-button__trigger`,{[`${r}--menu-button__trigger--open`]:t}),j=d(`${r}--menu-button__${n}`);return m.createElement("div",K({},_,{ref:k,"aria-owns":t?l:void 0,className:N}),m.createElement(S,{ref:s.setReference,className:z,size:g,tabIndex:w,kind:x,renderIcon:L,disabled:y,"aria-haspopup":!0,"aria-expanded":t,onClick:$,onMouseDown:B,"aria-controls":t?l:void 0},p),m.createElement(H,{containerRef:i,menuAlignment:n,className:j,ref:s.setFloating,id:l,legacyAutoalign:!1,label:p,size:g,open:t,onClose:F,target:C},b))});W.propTypes={children:e.node.isRequired,className:e.string,disabled:e.bool,kind:e.oneOf(Q),label:e.string.isRequired,menuAlignment:e.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end"]),size:e.oneOf(["sm","md","lg"]),tabIndex:e.number,menuTarget:e.instanceOf(typeof Element<"u"?Element:Object)};export{W as M};
