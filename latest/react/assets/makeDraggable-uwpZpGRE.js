function l({el:e,dragHandle:n,focusableDragHandle:d,dragStep:p,shiftDragStep:m}){const y=window.getComputedStyle(e);n?(n.style.cursor="move",e.style.cursor="default"):e.style.cursor="move";const i=y.position;i!=="absolute"&&i!=="relative"&&i!=="fixed"&&(e.style.position="relative");let o=!1,f=0,u=0;function r(t,s={}){e.dispatchEvent(new CustomEvent(t,{detail:s,bubbles:!0}))}function v(t){if(t.key==="Enter"&&(o=!o),o?r("dragstart",{keyboard:!0}):r("dragend",{keyboard:!0}),!o)return;const s=t.shiftKey?m??32:p??8;switch(t.key){case"Enter":case" ":t.preventDefault();break;case"ArrowLeft":e.style.left=`${e.offsetLeft-s}px`;break;case"ArrowRight":e.style.left=`${e.offsetLeft+s}px`;break;case"ArrowUp":e.style.top=`${e.offsetTop-s}px`;break;case"ArrowDown":e.style.top=`${e.offsetTop+s}px`;break}}function a(t){(n?n.contains(t.target):e.contains(t.target))&&(f=t.clientX-e.offsetLeft,u=t.clientY-e.offsetTop,o=!0,r("dragstart",{mouse:!0}),document.addEventListener("mousemove",c),document.addEventListener("mouseup",w,{once:!0}))}function c(t){o&&(e.style.left=`${t.clientX-f}px`,e.style.top=`${t.clientY-u}px`)}function w(){o&&(o=!1,r("dragend",{mouse:!0}),document.removeEventListener("mousemove",c))}n?n.addEventListener("mousedown",a):e.addEventListener("mousedown",a),d?.addEventListener("keydown",v)}export{l as m};
