{"version":3,"file":"ToolbarGroup-BmWe9QC9.js","sources":["../../src/components/Toolbar/Toolbar.tsx","../../src/components/Toolbar/ToolbarButton.tsx","../../src/components/Toolbar/ToolbarGroup.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2021, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, {\n  PropsWithChildren,\n  createContext,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { bool, node, string } from 'prop-types';\n\n// cspell:words Focusable focusable\nimport { getFocusableElements as _getFocusableElements } from '../../global/js/utils/getFocusableElements';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\n\nconst blockClass = `${pkg.prefix}--toolbar`;\n\nexport interface ToolbarProps {\n  /** Provide an optional class to be applied to the containing node */\n  className?: string;\n\n  /** Determines whether the `Toolbar` is rendered vertically */\n  vertical?: boolean;\n}\n\ninterface ToolbarContextType {\n  vertical?: boolean;\n}\n\nconst ToolbarContext = createContext<ToolbarContextType>({});\n\n/** Toolbars are a collection of action items that organize a programâ€™s interaction patterns into a series of closely related commands. */\nconst Toolbar = forwardRef(\n  (\n    { children, className, vertical, ...rest }: PropsWithChildren<ToolbarProps>,\n    r: React.Ref<HTMLDivElement>\n  ) => {\n    const focusableElements = useRef<HTMLElement[] | undefined>(undefined);\n\n    const getFocusableElements = useCallback(\n      (): HTMLElement[] | undefined => focusableElements.current,\n      [focusableElements]\n    );\n\n    const localRef = useRef<HTMLDivElement>(null);\n    const ref = r || localRef;\n\n    const [focus, setFocus] = useState(-1);\n\n    useEffect(() => {\n      focusableElements.current = _getFocusableElements(\n        ref?.['current']\n      ) as HTMLElement[];\n\n      if (focus !== -1) {\n        getFocusableElements()?.forEach((element, index) => {\n          element[index !== focus ? 'setAttribute' : 'removeAttribute'](\n            'tabindex',\n            '-1'\n          );\n        });\n      }\n    });\n\n    useEffect(() => {\n      if (focus !== -1) {\n        getFocusableElements()?.[focus].focus();\n      }\n    }, [focus, getFocusableElements]);\n\n    const [arrowNext, arrowPrevious] = !vertical\n      ? ['ArrowRight', 'ArrowLeft']\n      : ['ArrowDown', 'ArrowUp'];\n\n    function onArrowDown(increment: number) {\n      const nextFocus = focus + increment;\n\n      if (getFocusableElements()?.[nextFocus]) {\n        setFocus(nextFocus);\n      }\n    }\n\n    function onFocus({ target }) {\n      const elements = getFocusableElements();\n\n      if (elements?.includes(target)) {\n        setFocus(elements.indexOf(target));\n      }\n    }\n\n    function onKeyDown({ key, target }) {\n      if (getFocusableElements()?.includes(target)) {\n        switch (key) {\n          case arrowNext:\n            onArrowDown(1);\n            break;\n\n          case arrowPrevious:\n            onArrowDown(-1);\n            break;\n        }\n      }\n    }\n\n    return (\n      <div\n        {...rest}\n        ref={ref}\n        className={cx(blockClass, className, {\n          [`${blockClass}--vertical`]: vertical,\n        })}\n        onFocus={onFocus}\n        onKeyDown={onKeyDown}\n        {...(vertical && { 'aria-orientation': 'vertical' })}\n        {...getDevtoolsProps(componentName)}\n        role=\"toolbar\"\n      >\n        <ToolbarContext.Provider value={{ vertical }}>\n          {children}\n        </ToolbarContext.Provider>\n      </div>\n    );\n  }\n);\n\nconst componentName = 'Toolbar';\nToolbar.displayName = componentName;\n\nToolbar.propTypes = {\n  /** Provide the content of the `Toolbar` */\n  children: node.isRequired,\n\n  /** Provide an optional class to be applied to the containing node */\n  className: string,\n\n  /** Determines whether the `Toolbar` is rendered vertically */\n  vertical: bool,\n};\n\nexport { blockClass, componentName, Toolbar, ToolbarContext };\n","/**\n * Copyright IBM Corp. 2021, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { forwardRef, useContext } from 'react';\nimport { ToolbarContext, blockClass as toolbarClass } from './Toolbar';\nimport { bool, func, node, string } from 'prop-types';\n\nimport { IconButton } from '@carbon/react';\nimport cx from 'classnames';\nimport { pkg } from '../../settings';\n\nexport const blockClass = `${toolbarClass}__button`;\n\nexport interface ToolbarButtonProps\n  extends React.ComponentProps<typeof IconButton> {\n  /** Determines whether the caret is rendered */\n  caret?: boolean;\n  /** Provide an optional class to be applied to the containing node */\n  className?: string;\n  /**\n   * @deprecated use `label` instead\n   * Specifies the label for the icon button */\n  iconDescription?: string;\n\n  /** Specifies the label for the icon button */\n  label: string;\n\n  /** Specifies the icon to be used by the ToolbarButton component */\n  renderIcon: React.ElementType;\n}\n\n/** Toolbar buttons are common functions performed as part of a products interface or an open window.  */\nexport const ToolbarButton = forwardRef(\n  (\n    {\n      caret = false,\n      children,\n      className,\n      renderIcon,\n      iconDescription: deprecated_iconDescription = '',\n      label,\n      ...rest\n    }: React.PropsWithChildren<ToolbarButtonProps>,\n    ref\n  ) => {\n    const Icon = renderIcon;\n    return (\n      <IconButton\n        align={useContext(ToolbarContext)?.vertical ? 'right' : 'top'}\n        {...rest}\n        label={label ?? deprecated_iconDescription}\n        ref={ref}\n        className={cx(className, { [`${blockClass}--caret`]: caret })}\n        kind=\"ghost\"\n        size=\"md\"\n      >\n        <>\n          {Icon ? <Icon /> : null}\n          {children}\n\n          {caret && <span className={`${blockClass}__caret`} />}\n        </>\n      </IconButton>\n    );\n  }\n);\n\nconst componentName = 'ToolbarButton';\nToolbarButton.displayName = componentName;\n\nexport const deprecatedProps = {\n  /**\n   * **Deprecated**\n   * Specifies the label for the icon button\n   *  */\n  iconDescription: string,\n};\n\nToolbarButton.propTypes = {\n  /** Determines whether the caret is rendered */\n  caret: bool,\n\n  /** Provide the content of the `ToolbarButton` */\n  children: node,\n\n  /** Provide an optional class to be applied to the containing node */\n  className: string,\n\n  /** Specifies the label for the icon button */\n  label: string.isRequired,\n\n  /** Specifies the icon to be used by the ToolbarButton component */\n  renderIcon: func.isRequired,\n\n  ...deprecatedProps,\n};\n","/**\n * Copyright IBM Corp. 2021, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { PropsWithChildren, ReactNode, forwardRef } from 'react';\nimport { node, string } from 'prop-types';\n\nimport { blockClass } from './Toolbar';\nimport cx from 'classnames';\nimport { pkg } from '../../settings';\n\nexport interface ToolbarGroupProps {\n  /** Provide the content of the `ToolbarGroup` */\n  children?: ReactNode;\n\n  /** Provide an optional class to be applied to the containing node */\n  className?: string;\n}\n\n/** Toolbar groups organize the commands within a toolbar into related groups. */\nexport const ToolbarGroup = forwardRef(\n  (\n    { className, children, ...rest }: PropsWithChildren<ToolbarGroupProps>,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    return (\n      <div\n        {...rest}\n        ref={ref}\n        className={cx(`${blockClass}__group`, className)}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nconst componentName = 'ToolbarGroup';\nToolbarGroup.displayName = componentName;\n\nToolbarGroup.propTypes = {\n  /** Provide the content of the `ToolbarGroup` */\n  children: node.isRequired,\n\n  /** Provide an optional class to be applied to the containing node */\n  className: string,\n};\n"],"names":["blockClass","pkg","ToolbarContext","createContext","Toolbar","forwardRef","children","className","vertical","rest","r","focusableElements","useRef","getFocusableElements","useCallback","localRef","ref","focus","setFocus","useState","useEffect","_getFocusableElements","element","index","arrowNext","arrowPrevious","onArrowDown","increment","nextFocus","onFocus","target","elements","onKeyDown","key","React","cx","getDevtoolsProps","componentName","node","string","bool","toolbarClass","ToolbarButton","caret","renderIcon","deprecated_iconDescription","label","Icon","IconButton","useContext","deprecatedProps","func","ToolbarGroup"],"mappings":"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"}