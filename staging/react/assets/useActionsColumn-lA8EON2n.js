import{c as A,e as n,p as H,V as R}from"./iframe-arkle79Y.js";import{I as S}from"./Icon.Skeleton-DPtyIic2.js";import{O as B}from"./index-BwI-ewks.js";import{O as W}from"./OverflowMenuItem-CXsVT-BU.js";import{p as j}from"./props-helper-B3uqW2Cc.js";const s=`${H.prefix}--datagrid`,G=m=>{const E=g=>{const{rowActions:e,isFetching:c,state:{selectedRowIds:i}}=g,l=o=>!!Object.keys(i).map(b=>Number(b)).includes(o);if(e&&Array.isArray(e)){const o=(a,b)=>{const{cell:N}=b,{row:t,column:$}=N;if($.isAction){const p=!!$.sticky;return[a,{children:n.createElement("div",{className:`${s}__actions-column-contents`},c&&n.createElement(S,{className:`${s}__actions-column-loading`}),!c&&e.length<=2&&!p&&n.createElement("div",{className:`${s}_actions-column`},e.map((r,f)=>{const k=j(r,["isDelete"]),{align:y,id:h,itemText:u,onClick:I,icon:w,shouldHideMenuItem:_,shouldDisableMenuItem:d,disabled:P,...v}=k,D=typeof _=="function"&&_(t),O=typeof d=="function"?d(t):P;if(D)return null;const C=w;return n.createElement("div",{className:A(`${s}__actions-column-button`,{[`${s}__disabled-row-action-button`]:l(t.index)}),key:`${u}__${f}`},n.createElement(R,{...v,align:y||"top",label:u,kind:"ghost",name:u,className:A({[`${s}__disabled-row-action`]:l(t.index)}),onClick:x=>{l(t.index)||(x.stopPropagation(),I?.(h,t,x))},disabled:O},C&&n.createElement(C,null)))})),!c&&(e.length>2||p)&&n.createElement("div",null,n.createElement(B,{align:"left",size:"sm",flipped:!0,onClick:r=>{r.stopPropagation()}},e.map(r=>{const{id:f,onClick:k,shouldHideMenuItem:y,shouldDisableMenuItem:h,disabled:u,...I}=r,w=typeof y=="function"&&y(t),_=typeof h=="function"?h(t):u;return w?null:n.createElement(W,{...I,disabled:_,onClick:d=>{d.stopPropagation(),k?.(f,t,d)},key:f})})))),className:A({[`${s}__actions-column-cell`]:!0,[`${s}__cell`]:!0,[`${s}__actions-column-cell-non-sticky`]:!p}),style:{width:e.length>2||p?48:96}}]}return[a]};m.getCellProps.push(o)}},M=g=>{const{rowActions:e}=g;if(e&&Array.isArray(e)){const c=(i,l)=>{const{column:o}=l;if(o.isAction){const a=!!o.sticky;return[i,{style:{...i.style,width:e.length>2||a?48:96}}]}return[i]};m.getHeaderProps.push(c)}};m.useInstance.push(M),m.useInstance.push(E)};export{G as u};
