import{R as t,r as q}from"./index-BwDkhjyp.js";import{P as e}from"./index-Dk74W0Oi.js";import{C as vt,c as re,M as St,b as Et}from"./index-CQ0F2wkl.js";import{T as $e}from"./Tag-B2lmaEX7.js";import{A as Nt,a as $t}from"./AccordionItem-C1_nOVGv.js";import{p as L,B as W}from"./settings-xiNX1vM3.js";import{N as It}from"./NoDataEmptyState-D6Y1-3q6.js";import{B as kt,a as Ct}from"./BreadcrumbItem-8bQS_VPB.js";import{D as Ye}from"./Dropdown-DdJe44Fy.js";import{L as Je}from"./index-CvBNEhOa.js";import{U as _t}from"./UserProfileImage-DwGwPzeM.js";import{a_ as wt,aY as xt}from"./bucket-2-DlXCnOsR.js";import{d as At,e as Bt}from"./bucket-13-BtB9ADLM.js";import{f as Pt}from"./bucket-18-DbwFKOtV.js";import{C as Ke}from"./Checkbox-NbGVaYV6.js";import{O as Qe}from"./index-Bp_RdxBV.js";import{S as We}from"./Search-CuE4XdDa.js";import{O as Ft}from"./OverflowMenuItem-piys-31F.js";import{c as Dt,az as Rt,f as Ot}from"./bucket-0-DyNWBZ5j.js";import{u as Ge}from"./uuidv4-BQrI85uz.js";import{F as Xe}from"./bucket-6-DBBo9VQm.js";import{B as Lt}from"./ButtonSet-UZItGUcq.js";import{D as jt}from"./DismissibleTag-BN8UQ4kl.js";import{N as Mt}from"./NotFoundEmptyState-DISsP4xP.js";import{T as zt}from"./Tearsheet-BKl6VWV5.js";import{T as Vt}from"./TearsheetNarrow-C2yIFXfU.js";const Q=`${L.prefix}--add-select__meta-panel`,Ht="AddSelectMetaPanel";let fe=({closeIconDescription:n,meta:a,setDisplayMetaPanel:s,title:c})=>{const r=()=>{s({})};return t.createElement("div",{className:Q},t.createElement("div",{className:`${Q}-header`},t.createElement("p",{className:`${Q}-title`},c),t.createElement(W,{renderIcon:l=>t.createElement(vt,{size:16,...l}),className:`${Q}-close`,iconDescription:n,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:r,kind:"ghost",size:"sm"})),q.isValidElement(a)?a:a.map(l=>t.createElement("div",{key:l==null?void 0:l.id,className:`${Q}-entry`},t.createElement("p",{className:`${Q}-entry-title`},l==null?void 0:l.title),t.createElement("p",{className:`${Q}-entry-body`},l==null?void 0:l.value))))};fe.propTypes={closeIconDescription:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]).isRequired,setDisplayMetaPanel:e.func.isRequired,title:e.string.isRequired};fe.displayName=Ht;fe.__docgenInfo={description:"",methods:[],displayName:"AddSelectMetaPanel",props:{closeIconDescription:{description:"",type:{name:"string"},required:!0},meta:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}]},required:!0},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!0},title:{description:"",type:{name:"string"},required:!0}}};const F=`${L.prefix}--add-select__sidebar`,Kt="AddSelectSidebar";let ge=({appliedModifiers:n,closeIconDescription:a,displayMetalPanel:s,illustrationTheme:c,influencerTitle:r,items:l,metaPanelTitle:i,modifiers:o,multiSelection:d,noSelectionDescription:h,noSelectionTitle:y,setDisplayMetaPanel:b})=>{var C;const T=((C=o==null?void 0:o.options)==null?void 0:C.length)>0,S=d.length>0,I=p=>{const{meta:N,icon:k,avatar:P,...f}=p;return f},E=d.map(p=>{if(Array.isArray(l)){const N=l.find(k=>k.id===p);return I(N)}return I(l[p])}),$=p=>t.createElement("div",{className:`${F}-accordion-title`},t.createElement("div",{className:`${F}-selected-item`},t.createElement("p",{className:`${F}-selected-item-title`},p.title),t.createElement("p",{className:`${F}-selected-item-subtitle`},p.subtitle)),T&&t.createElement("div",null,n.find(N=>N.id===p.id)[o.id]));return Object.keys(s).length!==0?t.createElement(fe,{closeIconDescription:a,meta:s.meta,setDisplayMetaPanel:b,title:i}):t.createElement("div",{className:F},t.createElement("div",{className:`${F}-header`},t.createElement("p",{className:`${F}-title`},r),t.createElement($e,{type:"gray",size:"sm"},d.length)),S?t.createElement(Nt,{align:"start"},E.map(p=>t.createElement($t,{title:$(p),key:p.id},Object.keys(p).map(N=>t.createElement("div",{className:`${F}-item`,key:N},t.createElement("p",{className:`${F}-item-header`},N),t.createElement("p",{className:`${F}-item-body`},p[N])))))):t.createElement("div",{className:`${F}-body`},t.createElement(It,{subtitle:h,title:y,size:"sm",illustrationTheme:c})))};ge.propTypes={appliedModifiers:e.array,closeIconDescription:e.string,displayMetalPanel:e.object,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.oneOfType([e.object,e.array]),metaPanelTitle:e.string,modifiers:e.object,multiSelection:e.array,noSelectionDescription:e.string,noSelectionTitle:e.string,setDisplayMetaPanel:e.func};ge.displayName=Kt;ge.__docgenInfo={description:"",methods:[],displayName:"AddSelectSidebar",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},closeIconDescription:{description:"",type:{name:"string"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},illustrationTheme:{description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},influencerTitle:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"union",value:[{name:"object"},{name:"array"}]},required:!1},metaPanelTitle:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},noSelectionDescription:{description:"",type:{name:"string"},required:!1},noSelectionTitle:{description:"",type:{name:"string"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1}}};const Ue=`${L.prefix}--add-select__breadcrumbs`,Gt="AddSelectBreadcrumbs";let oe=({multi:n,onClick:a,path:s})=>{const c=(l,i)=>{l.preventDefault(),a(i)},r=re(Ue,{[`${Ue}-multi`]:n});return t.createElement(kt,{noTrailingSlash:!0,className:r},s.map((l,i)=>{const o=i===s.length-1;return t.createElement(Ct,{key:l.id,isCurrentPage:o,onClick:d=>c(d,i),href:"#"},l.title)}))};oe.propTypes={multi:e.bool,onClick:e.func,path:e.array};oe.displayName=Gt;oe.__docgenInfo={description:"",methods:[],displayName:"AddSelectBreadcrumbs",props:{multi:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},path:{description:"",type:{name:"array"},required:!1}}};const Ut="AddSelectFormControl",M=`${L.prefix}--add-select__selections`;let le=({item:n,onClick:a,selected:s,type:c})=>{const r={onClick:a,className:`${M}-form-control-wrapper ${M}-form-control-wrapper--${c}`,size:20,"aria-labelledby":`control-label-${n.id}`},l=()=>s?t.createElement(wt,{...r}):t.createElement(xt,{...r}),i=()=>s?t.createElement(At,{...r}):t.createElement(Bt,{...r}),o=()=>{if(n)return c==="checkbox"?l():i()},d=({src:y,alt:b,icon:T,backgroundColor:S,theme:I})=>({className:`${M}-cell-avatar`,size:"lg",theme:I,image:y,imageDescription:b,icon:T,backgroundColor:S}),h=({icon:y})=>t.createElement(y,null);return t.createElement("div",{className:`${M}-form-control`},o(),t.createElement("div",{className:`${M}-form-control-label-wrapper`},n.avatar&&t.createElement(_t,{...d(n.avatar)}),n.icon&&t.createElement("div",{className:`${M}-cell-icon`},h(n)),t.createElement("div",{className:`${M}-form-control-label-text`},t.createElement("span",{className:`${M}-cell-title`,id:`control-label-${n.id}`},n.title),n.subtitle&&t.createElement("span",{className:`${M}-cell-subtitle`},n.subtitle))))};le.propTypes={item:e.object,onClick:e.func,selected:e.bool,type:e.oneOf(["checkbox","radio"])};le.displayName=Ut;le.__docgenInfo={description:"",methods:[],displayName:"AddSelectFormControl",props:{item:{description:"",type:{name:"object"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},selected:{description:"",type:{name:"bool"},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'checkbox'",computed:!1},{value:"'radio'",computed:!1}]},required:!1}}};const z=`${L.prefix}--add-select__selections`,Yt="AddSelectList";let ye=({appliedModifiers:n,displayMetalPanel:a,index:s,focus:c,item:r,metaIconDescription:l,modifiers:i,multi:o,multiSelection:d,navIconDescription:h,parentId:y,parentSelected:b,setAppliedModifiers:T,setDisplayMetaPanel:S,setFocus:I,setMultiSelection:E,setParentSelected:$,setSingleSelection:C,setSize:p,singleSelection:N})=>{var Y;const k=q.useRef(null);q.useEffect(()=>{c===s&&k.current.focus()},[c,s]);const P=()=>o?d.includes(r.id):r.id===N,f=()=>s===0&&c===""||c===s&&c!==""?0:-1,V=q.useCallback(v=>{I(v?"":s)},[I,s]),H=()=>{C(r.id)},X=({key:v})=>{v==="Enter"||v===" "?o?w():H():v==="ArrowRight"&&r.children&&K()},w=()=>{if(P()){const m=d.filter(g=>g!==r.id);E(m)}else{const m=[...d,r.id];E(m)}},K=()=>{V(!0),$(r.id,r.title,y)},j=(v,m)=>{const g=[...n],_=g.findIndex(B=>B.id===v);g[_]={id:v,[i.id]:m},T(g)},u=()=>{r.meta&&S(r)},x=v=>v===(a==null?void 0:a.id),A=((Y=i==null?void 0:i.options)==null?void 0:Y.length)>0,ne=f(),U=P(),Z=b===r.id;return t.createElement("div",{className:re(`${z}-row`,{[`${z}-row--selected`]:P(),[`${z}-row-meta--selected`]:x(r.id),[`${z}-row--active`]:Z}),onKeyDown:X,tabIndex:ne,ref:k,role:"row","aria-selected":U,"aria-posinset":s+1,"aria-setsize":p,"aria-expanded":Z},t.createElement("div",{className:`${z}-cell`,role:"gridcell"},t.createElement("div",{className:`${z}-cell-wrapper`},o?t.createElement(t.Fragment,null,t.createElement(le,{type:"checkbox",item:r,selected:U,onClick:w}),A&&t.createElement(Je,null,t.createElement(Ye,{titleText:i.label,id:`add-select-modifier-${r.id}`,type:"inline",items:i.options,label:i.label,disabled:!P(),className:`${z}-dropdown`,initialSelectedItem:r[i.id],onChange:({selectedItem:v})=>j(r.id,v)}))):t.createElement(le,{type:"radio",item:r,selected:U,onClick:H}),r.children&&t.createElement(W,{className:`${z}-view-children`,renderIcon:v=>t.createElement(St,{size:16,...v}),iconDescription:h,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:K,kind:"ghost",size:"sm",tabIndex:-1,"aria-hidden":!0}),r.meta&&t.createElement(W,{className:`${z}-view-meta`,renderIcon:v=>t.createElement(Pt,{size:16,...v}),iconDescription:l,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,kind:"ghost",size:"sm",onClick:u}))))};ye.propTypes={appliedModifiers:e.array,displayMetalPanel:e.object,filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),index:e.number,item:e.object,metaIconDescription:e.string,modifiers:e.object,multi:e.bool,multiSelection:e.array,navIconDescription:e.string,parentId:e.string,parentSelected:e.string,setAppliedModifiers:e.func,setDisplayMetaPanel:e.func,setFocus:e.func,setMultiSelection:e.func,setParentSelected:e.func,setSingleSelection:e.func,setSize:e.number,singleSelection:e.string};ye.displayName=Yt;ye.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},index:{description:"",type:{name:"number"},required:!1},item:{description:"",type:{name:"object"},required:!1},metaIconDescription:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},navIconDescription:{description:"",type:{name:"string"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},parentSelected:{description:"",type:{name:"string"},required:!1},setAppliedModifiers:{description:"",type:{name:"func"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1},setFocus:{description:"",type:{name:"func"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setParentSelected:{description:"",type:{name:"func"},required:!1},setSingleSelection:{description:"",type:{name:"func"},required:!1},setSize:{description:"",type:{name:"number"},required:!1},singleSelection:{description:"",type:{name:"string"},required:!1}}};const Jt=n=>{const[a,s]=q.useState(""),c=q.useCallback(r=>{const l=a===""?0:a;r.keyCode===40?(r.preventDefault(),s(l===n-1?0:l+1)):r.keyCode===38&&(r.preventDefault(),s(l===0?n-1:l-1))},[n,a,s]);return q.useEffect(()=>{const r=document.querySelector("#add-select-focus");return r.addEventListener("keydown",c,!1),()=>{r.removeEventListener("keydown",c,!1)}},[c]),[a,s]},ue=`${L.prefix}--add-select__selections`,Qt="AddSelectList";let ce=({filteredItems:n,multi:a,...s})=>{const[c,r]=Jt(n.length);return t.createElement("div",{id:"add-select-focus",className:re(`${ue}-wrapper`,{[`${ue}-wrapper-multi`]:a})},t.createElement("div",{className:`${ue}`},t.createElement("div",{className:`${ue}-body`,role:"treegrid","aria-label":"add select tree label"},n.map((l,i)=>t.createElement(ye,{key:l.id,index:i,focus:c,setSize:n.length,item:l,multi:a,setFocus:r,...s})))))};ce.propTypes={filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),multi:e.bool};ce.displayName=Qt;ce.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},multi:{description:"",type:{name:"bool"},required:!1}}};const Ee=`${L.prefix}--add-select-sort`,Wt="AddSelectSort",de=({setSortAttribute:n,setSortDirection:a,sortBy:s,sortByLabel:c})=>{const r=s?s==null?void 0:s.reduce((i,o)=>{const d=[{id:`${o}-asc`,itemText:t.createElement(t.Fragment,null,t.createElement(Dt,{size:16}),o),direction:"asc",attribute:o},{id:`${o}-desc`,itemText:t.createElement(t.Fragment,null,t.createElement(Rt,{size:16}),o),direction:"desc",attribute:o}];return[...i,...d]},[]):[],l=({direction:i,attribute:o})=>{n==null||n(o),a==null||a(i)};return t.createElement("div",{className:Ee},r.length>0&&t.createElement(Qe,{renderIcon:i=>t.createElement(Ot,{size:32,...i}),className:`${Ee}_overflow`,flipped:!0,"aria-label":c,iconDescription:c},r.map(i=>t.createElement(Ft,{className:`${Ee}_overflow-item`,key:i==null?void 0:i.id,itemText:i==null?void 0:i.itemText,onClick:()=>l(i)}))))};de.propTypes={setSortAttribute:e.func,setSortDirection:e.func,sortBy:e.array,sortByLabel:e.string};de.displayName=Wt;de.__docgenInfo={description:"",methods:[],displayName:"AddSelectSort",props:{setSortAttribute:{required:!1,tsType:{name:"signature",type:"function",raw:"(attribute) => void",signature:{arguments:[{name:"attribute"}],return:{name:"void"}}},description:"",type:{name:"func"}},setSortDirection:{required:!1,tsType:{name:"signature",type:"function",raw:"(direction) => void",signature:{arguments:[{name:"direction"}],return:{name:"void"}}},description:"",type:{name:"func"}},sortBy:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:"",type:{name:"array"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}}}};const Ze=n=>n.entries.reduce((s,c)=>{const{children:r,...l}=c;if(s[l.id]=l,r){const i=Ze(r);return{...s,...i}}return s},{}),Xt=(n,a)=>{const s=Object.keys(a);return n.reduce((r,l)=>{const i=l.id,o=s.reduce((d,h)=>{const b=a[h][i];return b&&!d.includes(b)&&d.push(b),d},[]);return r.push({opts:o,...l}),r},[])},et=(n,a)=>(s,c)=>{var i,o;const r=(i=s[n])==null?void 0:i.split(" ").join(""),l=(o=c[n])==null?void 0:o.split(" ").join("");return a==="desc"?r>l?-1:1:r<l?-1:1},Zt=(n,a,s,c,r,l,i,o,d,h)=>{if(n){const y=Object.keys(a);return s||c?y.reduce((T,S)=>(a[S].title.toLowerCase().includes(s.toLowerCase())&&T.push(a[S]),T),[]).filter(T=>r.every(S=>T[S]===l[S])).sort(i):o?d:h.length>1?h.reduce((b,T,S)=>{var E,$;return S===0?b:($=(E=b.find(C=>C.id===T.id))==null?void 0:E.children)==null?void 0:$.entries},d.entries):d.entries}else return s?d.entries.filter(y=>y.title.toLowerCase().includes(s.toLowerCase())):d.entries},tt=()=>{const[n,a]=q.useState(""),[s,c]=q.useState("");return{sortDirection:n,setSortDirection:a,sortAttribute:s,setSortAttribute:c}},rt=()=>{const[n,a]=q.useState(null);return{parentSelected:n,setParentSelected:a}},Ne=`${L.prefix}--add-select`,te=`${Ne}__column`,er="AddSelectColumn";let me=({columnInputPlaceholder:n,filterByLabel:a,header:s,items:c,multiSelection:r,parentId:l,path:i,setMultiSelection:o,setPath:d,sortByLabel:h,...y})=>{const b=Et(),{parentSelected:T,setParentSelected:S}=rt(),[I,E]=q.useState(""),{sortDirection:$,setSortDirection:C,sortAttribute:p,setSortAttribute:N}=tt(),[k,P]=q.useState([]),{entries:f,filterBy:V,sortBy:H}=c,w=(()=>{const m=i.find(g=>g.parentId===l);return m&&!T?f.find(g=>g.id===m.id):f.find(g=>g.id===T)??null})(),K=w&&i.find(m=>m.id===w.id),j=f.every(m=>r.includes(m.id)),u=V?f.map(m=>m[V]):[],x=(m,{checked:g})=>{const _=f.map(B=>B.id);if(g){const B=[...new Set([...r,..._])];o(B)}else{const B=r.filter(se=>!_.includes(se));o(B)}},A=(m,g)=>{if(m){const _=[...k,g];P(_)}else{const _=k.filter(B=>B!==g);P(_)}},ne=m=>m.title.toLowerCase().includes(I),U=m=>{if(k.length===0)return!0;const{filterBy:g}=m,_=m[g];return k.some(B=>B===_)},Z=et(p,$),Y=f.filter(ne).filter(U).sort(Z),v=(m,g)=>{S(m),d(m,g,l)};return t.createElement(t.Fragment,null,t.createElement("div",{className:te},t.createElement("div",{className:`${te}-search-bar`},t.createElement(We,{value:I,onChange:m=>E(m.target.value),placeholder:n,className:`${te}-input`,id:Ge(),labelText:n,size:"md"}),t.createElement("div",{className:`${te}-sort-filter`},t.createElement(de,{items:f,setSortAttribute:N,setSortDirection:C,sortAttribute:p,sortDirection:$,sortBy:H,sortByLabel:h}),u.length>0&&t.createElement(Qe,{renderIcon:m=>t.createElement(Xe,{size:32,...m}),className:`${te}-overflow`,flipped:!0,"aria-label":a,iconDescription:a},u.map(m=>t.createElement("div",{key:m,className:`${b}--overflow-menu-options__option`},t.createElement("div",{className:`${b}--overflow-menu-options__btn`},t.createElement(Ke,{id:m,labelText:m,onChange:(g,{checked:_})=>A(_,m),checked:!!k.find(g=>g===m)}))))))),t.createElement("div",{className:`${Ne}__tags`},t.createElement(Ke,{id:`${Ge()}-select-all`,className:`${te}__select-all`,checked:j,onChange:x,labelText:t.createElement(t.Fragment,null,t.createElement("span",{className:`${Ne}__tag-label`},s),t.createElement($e,{type:"gray",size:"sm"},Y.length))})),t.createElement(ce,{...y,filteredItems:Y,setMultiSelection:o,multiSelection:r,setParentSelected:v,parentSelected:T})),w&&K&&t.createElement(me,{columnInputPlaceholder:n,header:w.title,items:w.children,multiSelection:r,setMultiSelection:o,parentId:w.id,setPath:d,path:i,sortByLabel:h,filterByLabel:a,...y}))};me.propTypes={columnInputPlaceholder:e.string,filterByLabel:e.string,header:e.string,items:e.object,multiSelection:e.array,parentId:e.string,path:e.array,setMultiSelection:e.func,setPath:e.func,sortByLabel:e.string};me.displayName=er;me.__docgenInfo={description:"",methods:[],displayName:"AddSelectColumn",props:{columnInputPlaceholder:{description:"",type:{name:"string"},required:!1},filterByLabel:{description:"",type:{name:"string"},required:!1},header:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},path:{description:"",type:{name:"array"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setPath:{description:"",type:{name:"func"},required:!1},sortByLabel:{description:"",type:{name:"string"},required:!1}}};const R=`${L.prefix}--add-select__global-filter`,tr="AddSelectFilter";let be=({appliedFilters:n,clearFiltersText:a,filterOpts:s,filtersLabel:c,handleFilter:r,handleSearch:l,hasFiltersApplied:i,iconDescription:o,inputLabel:d,inputPlaceholder:h,multi:y,placeholder:b,primaryButtonText:T,searchTerm:S,secondaryButtonText:I})=>{const[E,$]=q.useState({}),[C,p]=q.useState(!1),N=u=>{l(u.target.value)},k=({selectedItem:u},x)=>{$({...E,[x]:u})},P=()=>{p(!1),r(E)},f=()=>{$({})},V=()=>{f(),r({})},H=u=>{const x={...E};delete x[u],$(x),r(x)},X=u=>E[u]||"",w=y&&(s==null?void 0:s.length)>0,K=re(`${R}-toggle`,{[`${R}-toggle--open`]:C}),j=Object.keys(E).length>0;return t.createElement(t.Fragment,null,t.createElement("div",{className:`${R}-search`},t.createElement(We,{id:"add-select-global-search-filter",labelText:d,placeholder:h,value:S,onChange:N}),w&&t.createElement(W,{renderIcon:u=>t.createElement(Xe,{size:16,...u}),hasIconOnly:!0,kind:"ghost",onClick:()=>p(!C),iconDescription:o,className:K,size:"md",tooltipPosition:"left"}),C&&t.createElement(Je,{className:R,level:1},t.createElement("div",{className:`${R}-content`},t.createElement("p",null,c),t.createElement("div",{className:`${R}-opts`},s.map(u=>t.createElement(Ye,{key:u.id,id:u.id,titleText:u.label,items:u.opts,onChange:x=>k(x,u.id),selectedItem:X(u.id),label:b})))),t.createElement(Lt,{className:`${R}-button-set`},t.createElement(W,{kind:"secondary",onClick:f,className:`${R}-button`,disabled:!j},I),t.createElement(W,{kind:"primary",onClick:P,className:`${R}-button`,disabled:!j&&!i},T)))),i&&t.createElement("div",{className:`${R}-applied`},Object.keys(n).map(u=>t.createElement(jt,{key:u,text:`${u}: ${n[u]}`,type:"gray",size:"sm",onClose:()=>H(u)})),t.createElement(W,{kind:"ghost",size:"sm",onClick:V},a)))};be.propTypes={appliedFilters:e.object,clearFiltersText:e.string,filterOpts:e.array,filtersLabel:e.string,handleFilter:e.func,handleSearch:e.func,hasFiltersApplied:e.bool,iconDescription:e.string,inputLabel:e.string.isRequired,inputPlaceholder:e.string,multi:e.bool,placeholder:e.string,primaryButtonText:e.string,searchTerm:e.string,secondaryButtonText:e.string};be.displayName=tr;be.__docgenInfo={description:"",methods:[],displayName:"AddSelectFilter",props:{appliedFilters:{description:"",type:{name:"object"},required:!1},clearFiltersText:{description:"",type:{name:"string"},required:!1},filterOpts:{description:"",type:{name:"array"},required:!1},filtersLabel:{description:"",type:{name:"string"},required:!1},handleFilter:{description:"",type:{name:"func"},required:!1},handleSearch:{description:"",type:{name:"func"},required:!1},hasFiltersApplied:{description:"",type:{name:"bool"},required:!1},iconDescription:{description:"",type:{name:"string"},required:!1},inputLabel:{description:"",type:{name:"string"},required:!0},inputPlaceholder:{description:"",type:{name:"string"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},primaryButtonText:{description:"",type:{name:"string"},required:!1},searchTerm:{description:"",type:{name:"string"},required:!1},secondaryButtonText:{description:"",type:{name:"string"},required:!1}}};const rr=(n="")=>{const[a,s]=q.useState([{id:"base_of_path",title:n}]);return q.useEffect(()=>{s([{id:"base_of_path",title:n}])},[n]),{path:a,setPath:(i,o,d)=>{if(a.find(y=>y.id===i))return;const h={id:i,title:o,...d&&{parentId:d}};if(a.find(y=>y.parentId===d)){const y=a.findIndex(T=>T.id===d),b=[...a];b.length=y+1,s([...b,h])}else s([...a,h])},pathOnclick:i=>{const o=[...a];o.length=i+1,s([...o])},resetPath:()=>{s([{id:"base_of_path",title:n}])}}},O=`${L.prefix}--add-select`,nr="AddSelectBody",Ie=q.forwardRef(({className:n,clearFiltersText:a,closeIconDescription:s,columnInputPlaceholder:c,defaultModifiers:r,description:l,filterByLabel:i,globalFilterOpts:o,globalFiltersLabel:d,globalFiltersIconDescription:h,globalFiltersPlaceholderText:y,globalFiltersPrimaryButtonText:b,globalFiltersSecondaryButtonText:T,globalSearchLabel:S,globalSearchPlaceholder:I,globalSortBy:E,illustrationTheme:$,influencerTitle:C,items:p,itemsLabel:N,metaIconDescription:k,metaPanelTitle:P,multi:f,navIconDescription:V,noResultsDescription:H,noResultsTitle:X,noSelectionDescription:w,noSelectionTitle:K,normalizedItems:j,onClose:u,onCloseButtonText:x,onSubmit:A,onSubmitButtonText:ne,open:U,portalTarget:Z,searchResultsTitle:Y,sortByLabel:v,title:m,useNormalizedItems:g,..._},B)=>{var He;const[se,ke]=q.useState(""),[ae,Ce]=q.useState([]),[J,_e]=q.useState(""),[qe,we]=q.useState({}),[xe,Te]=q.useState({}),[D,Ae]=q.useState(r),{sortDirection:nt,setSortDirection:Be,sortAttribute:st,setSortAttribute:Pe}=tt(),{parentSelected:Fe,setParentSelected:De}=rt(),{path:ee,setPath:Re,pathOnclick:at,resetPath:it}=rr(N),lt=()=>{ke(""),Ce([]),_e(""),we({}),Te({}),Ae(r),Pe(""),Be(""),De(null),it()},Oe=()=>{lt(),u==null||u()},ot=re(n,O,{[`${O}__single`]:!f,[`${O}__multi`]:f}),Le=Object.keys(qe),ie=Le.length>0,ct=G=>{_e(G)},dt=G=>{we(G)},mt=()=>{if(f&&D&&(D==null?void 0:D.length)>0){const G=ae.map(ve=>D.find(Se=>Se.id===ve));A==null||A(G)}else f&&(D==null?void 0:D.length)===0?A==null||A(ae):A==null||A(se);Oe()},pt=()=>!(g===!1||J||ie),ut=()=>J?!0:!(g&&f),ft=(G,ve,Se)=>{De(G),Re(G,ve,Se)},gt=et(st,nt),pe=Zt(g,j,J,ie,Le,qe,gt,f,p,ee),je=pe.length>0,yt=pt(),bt=(J||ie)&&je,ht=ut(),Me={displayMetalPanel:xe,metaIconDescription:k,multi:f,multiSelection:ae,navIconDescription:V,path:ee,setMultiSelection:Ce,setPath:Re,setSingleSelection:ke,singleSelection:se,setDisplayMetaPanel:Te,parentId:ee[0].id},ze={..._,className:ot,open:U,title:m,description:l,actions:[{label:x,kind:"secondary",onClick:Oe},{label:ne,kind:"primary",onClick:mt,disabled:f?ae.length===0:!se}],portalTarget:Z,ref:B},qt={appliedModifiers:D,closeIconDescription:s,displayMetalPanel:xe,illustrationTheme:$,influencerTitle:C,items:g?j:p==null?void 0:p.entries,metaPanelTitle:P,modifiers:p==null?void 0:p.modifiers,multiSelection:ae,noSelectionDescription:w,noSelectionTitle:K,setDisplayMetaPanel:Te},Tt=f&&g&&!J&&!ie,Ve=t.createElement(t.Fragment,null,t.createElement("div",{id:"add-select",className:`${O}__header`},t.createElement(be,{inputLabel:S,inputPlaceholder:I,searchTerm:J,handleSearch:ct,multi:f,filterOpts:o,filtersLabel:d,handleFilter:dt,primaryButtonText:b,secondaryButtonText:T,placeholder:y,iconDescription:h,appliedFilters:qe,hasFiltersApplied:ie,clearFiltersText:a}),t.createElement("div",{className:re(`${O}__sub-header`,{[`${O}__sub-header-multi`]:f})},t.createElement("div",{className:`${O}__tags`},yt?t.createElement(oe,{path:ee,onClick:at,multi:f}):t.createElement("p",{className:`${O}__tags-label`},J?Y:N),ht&&t.createElement($e,{type:"gray",size:"sm"},pe.length)),bt&&t.createElement(de,{setSortAttribute:Pe,setSortDirection:Be,sortBy:E}))),Tt?t.createElement("div",{className:`${O}__columns`},t.createElement(me,{...Me,items:pe,columnInputPlaceholder:c,header:(He=ee[0])==null?void 0:He.title,filterByLabel:i,sortByLabel:v})):t.createElement("div",null,je?t.createElement(ce,{...Me,filteredItems:pe,modifiers:p==null?void 0:p.modifiers,appliedModifiers:D,setAppliedModifiers:Ae,setParentSelected:ft,parentSelected:Fe,parentId:Fe||ee[0].id}):t.createElement("div",{className:`${O}__body`},t.createElement(Mt,{subtitle:H,title:X,illustrationTheme:$}))));return f?t.createElement(zt,{...ze,influencer:f&&t.createElement(ge,{...qt}),influencerPosition:"right"},Ve):t.createElement(Vt,{...ze},Ve)});Ie.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string,columnInputPlaceholder:e.string,defaultModifiers:e.array,description:e.string,filterByLabel:e.string,globalFilterOpts:e.array,globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.oneOfType([e.func,e.object]),src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.oneOfType([e.func,e.object]),id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired}))}),itemsLabel:e.string,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool,navIconDescription:e.string,noResultsDescription:e.string,noResultsTitle:e.string,noSelectionDescription:e.string,noSelectionTitle:e.string,normalizedItems:e.object,onClose:e.func,onCloseButtonText:e.string,onSubmit:e.func,onSubmitButtonText:e.string,open:e.bool,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string,useNormalizedItems:e.bool};oe.displayName=nr;Ie.__docgenInfo={description:"",methods:[],displayName:"AddSelectBody",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},defaultModifiers:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},description:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilterOpts:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!1}}}},itemsLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},normalizedItems:{required:!1,tsType:{name:"object"},description:"",type:{name:"object"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onCloseButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection) => void",signature:{arguments:[{name:"selection"}],return:{name:"void"}}},description:"",type:{name:"func"}},onSubmitButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},open:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},useNormalizedItems:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}}}};const sr="AddSelect",he=q.forwardRef(({items:n,globalFilters:a,...s},c)=>{const r=!!n.entries.find(d=>d.children),l=r?Ze(n):null,i=s.multi&&(a!=null&&a.length)?Xt(a,l):null,o=s.multi&&n.modifiers?n.entries.map(d=>{var b;const h=(b=n==null?void 0:n.modifiers)==null?void 0:b.id;return{...{id:d.id},...h&&{[h]:d[h]}}}):[];return t.createElement(Ie,{...s,ref:c,items:n,normalizedItems:l,useNormalizedItems:r,globalFilterOpts:i,defaultModifiers:o})});he.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string.isRequired,columnInputPlaceholder:e.string,description:e.string.isRequired,filterByLabel:e.string,globalFilters:e.arrayOf(e.shape({id:e.string,label:e.string})),globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.func,src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.func,id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired})).isRequired}).isRequired,itemsLabel:e.string.isRequired,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool.isRequired,navIconDescription:e.string,noResultsDescription:e.string.isRequired,noResultsTitle:e.string.isRequired,noSelectionDescription:e.string,noSelectionTitle:e.string,onClose:e.func.isRequired,onCloseButtonText:e.string.isRequired,onSubmit:e.func.isRequired,onSubmitButtonText:e.string.isRequired,open:e.bool.isRequired,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string.isRequired};he.defaultProps={closeIconDescription:"",description:"",itemsLabel:"",items:{entries:[]},multi:!1,noResultsDescription:"",noResultsTitle:"",onClose:()=>{},onCloseButtonText:"",onSubmit:()=>{},onSubmitButtonText:"",open:!1,title:""};he.displayName=sr;he.__docgenInfo={description:"",methods:[],displayName:"AddSelect",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},description:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilters:{required:!1,tsType:{name:"Array",elements:[{name:"Filter"}],raw:"Filter[]"},description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",defaultValue:{value:`{
  entries: [],
}`,computed:!1},type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"func",required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"func",required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!0}}}},itemsLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}},noResultsTitle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},onCloseButtonText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},onSubmitButtonText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}},open:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"portal target for the all tags modal",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}}}};export{he as A};
