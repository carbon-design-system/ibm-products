import{j as a,aB as W,aD as q,r as s,e,B as f,p as _,c as X}from"./iframe-arkle79Y.js";import{L as T}from"./Link-C5Cx_auS.js";import{T as U}from"./index-C6Y7yluE.js";import{useMDXComponents as L}from"./index-CmvJnCPZ.js";import{i as G}from"./carousel-XJ-VQo61.js";import{C as J}from"./CoachmarkTagline-BUT3taK7.js";import{C as u}from"./Coachmark-COQFlzAp.js";import{e as K}from"./bucket-9-CxWWOEUU.js";import"./LayerContext-BFXHEcAf.js";import"./useMatchMedia-JBbyLdDM.js";import"./devtools-BxzFCMfs.js";import"./makeDraggable-DVDwDKbH.js";import"./bucket-6-DcCyHKAe.js";import"./useIsomorphicEffect-CVBbaLXF.js";const Q="@keyframes cds--hide-feedback{0%{opacity:1;visibility:inherit}to{opacity:0;visibility:hidden}}@keyframes cds--show-feedback{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:inherit}}@keyframes cds--skeleton{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}to{opacity:.3;transform:scaleX(0);transform-origin:left}}.cds--layout--size-xs{--cds-layout-size-height-context: var(--cds-layout-size-height-xs, 1.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xs{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xs, 1.5rem))}.cds--layout-constraint--size__min-xs{--cds-layout-size-height-min: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout-constraint--size__max-xs{--cds-layout-size-height-max: var(--cds-layout-size-height-xs, 1.5rem)}.cds--layout--size-sm{--cds-layout-size-height-context: var(--cds-layout-size-height-sm, 2rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-sm{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-sm, 2rem))}.cds--layout-constraint--size__min-sm{--cds-layout-size-height-min: var(--cds-layout-size-height-sm, 2rem)}.cds--layout-constraint--size__max-sm{--cds-layout-size-height-max: var(--cds-layout-size-height-sm, 2rem)}.cds--layout--size-md{--cds-layout-size-height-context: var(--cds-layout-size-height-md, 2.5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-md{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-md, 2.5rem))}.cds--layout-constraint--size__min-md{--cds-layout-size-height-min: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout-constraint--size__max-md{--cds-layout-size-height-max: var(--cds-layout-size-height-md, 2.5rem)}.cds--layout--size-lg{--cds-layout-size-height-context: var(--cds-layout-size-height-lg, 3rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-lg{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-lg, 3rem))}.cds--layout-constraint--size__min-lg{--cds-layout-size-height-min: var(--cds-layout-size-height-lg, 3rem)}.cds--layout-constraint--size__max-lg{--cds-layout-size-height-max: var(--cds-layout-size-height-lg, 3rem)}.cds--layout--size-xl{--cds-layout-size-height-context: var(--cds-layout-size-height-xl, 4rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-xl, 4rem))}.cds--layout-constraint--size__min-xl{--cds-layout-size-height-min: var(--cds-layout-size-height-xl, 4rem)}.cds--layout-constraint--size__max-xl{--cds-layout-size-height-max: var(--cds-layout-size-height-xl, 4rem)}.cds--layout--size-2xl{--cds-layout-size-height-context: var(--cds-layout-size-height-2xl, 5rem);--cds-layout-size-height: var(--cds-layout-size-height-context)}.cds--layout-constraint--size__default-2xl{--cds-layout-size-height: var(--cds-layout-size-height-context, var(--cds-layout-size-height-2xl, 5rem))}.cds--layout-constraint--size__min-2xl{--cds-layout-size-height-min: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout-constraint--size__max-2xl{--cds-layout-size-height-max: var(--cds-layout-size-height-2xl, 5rem)}.cds--layout--density-condensed{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-condensed, .5rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-condensed{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-condensed, .5rem))}.cds--layout-constraint--density__min-condensed{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout-constraint--density__max-condensed{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-condensed, .5rem)}.cds--layout--density-normal{--cds-layout-density-padding-inline-context: var(--cds-layout-density-padding-inline-normal, 1rem);--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context)}.cds--layout-constraint--density__default-normal{--cds-layout-density-padding-inline: var(--cds-layout-density-padding-inline-context, var(--cds-layout-density-padding-inline-normal, 1rem))}.cds--layout-constraint--density__min-normal{--cds-layout-density-padding-inline-min: var(--cds-layout-density-padding-inline-normal, 1rem)}.cds--layout-constraint--density__max-normal{--cds-layout-density-padding-inline-max: var(--cds-layout-density-padding-inline-normal, 1rem)}:root{--cds-layout-size-height-xs: 1.5rem;--cds-layout-size-height-sm: 2rem;--cds-layout-size-height-md: 2.5rem;--cds-layout-size-height-lg: 3rem;--cds-layout-size-height-xl: 4rem;--cds-layout-size-height-2xl: 5rem;--cds-layout-size-height-min: 0px;--cds-layout-size-height-max: 999999999px;--cds-layout-density-padding-inline-condensed: .5rem;--cds-layout-density-padding-inline-normal: 1rem;--cds-layout-density-padding-inline-min: 0px;--cds-layout-density-padding-inline-max: 999999999px}.cds--assistive-text,.cds--visually-hidden{position:absolute;overflow:hidden;padding:0;border:0;margin:-1px;block-size:1px;clip:rect(0,0,0,0);inline-size:1px;visibility:inherit;white-space:nowrap}@keyframes out-to-active{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes active-to-out{0%{transform:translate(-100%)}to{transform:translate(0)}}.carousel__view-stack .carousel__itemsWrapper{position:relative;overflow:hidden;block-size:100%;inline-size:100%;min-inline-size:20vh}:host(.carousel__view),.carousel__view{z-index:80;overflow:hidden auto;block-size:100%;inline-size:100%;inset-inline-start:100%;transform:translate(0)}@media (prefers-reduced-motion: no-preference){:host(.carousel__view),.carousel__view{transition:transform .24s cubic-bezier(.5,0,.1,1)}}@media (prefers-reduced-motion: reduce){:host(.carousel__view),.carousel__view{animation:none;transition:none}}:host(.carousel__view:focus),.carousel__view:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view:focus),.carousel__view:focus{outline-style:dotted}}:host(.carousel__view-active),.carousel__view-active{z-index:100;overflow:hidden auto;block-size:100%;inline-size:100%;inset-inline-start:100%;transform:translate(-100%)}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-active),.carousel__view-active{transition:transform .24s cubic-bezier(.5,0,.1,1)}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-active),.carousel__view-active{animation:none;transition:none}}:host(.carousel__view-active:focus),.carousel__view-active:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-active:focus),.carousel__view-active:focus{outline-style:dotted}}:host(.carousel__view-in-stack),.carousel__view-in-stack{z-index:90;overflow:hidden auto;block-size:100%;inline-size:100%;inset-inline-start:100%;transform:translate(-200%)}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-in-stack),.carousel__view-in-stack{transition:transform .24s cubic-bezier(.5,0,.1,1)}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-in-stack),.carousel__view-in-stack{animation:none;transition:none}}:host(.carousel__view-in-stack:focus),.carousel__view-in-stack:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-in-stack:focus),.carousel__view-in-stack:focus{outline-style:dotted}}:host(.carousel__view-recycle-in),.carousel__view-recycle-in{z-index:100;overflow:hidden auto;block-size:100%;inline-size:100%}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-recycle-in),.carousel__view-recycle-in{animation:out-to-active .24s cubic-bezier(.5,0,.1,1) forwards}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-recycle-in),.carousel__view-recycle-in{animation:none;transition:none}}:host(.carousel__view-recycle-in:focus),.carousel__view-recycle-in:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-recycle-in:focus),.carousel__view-recycle-in:focus{outline-style:dotted}}:host(.carousel__view-recycle-out),.carousel__view-recycle-out{z-index:90;overflow:hidden auto;block-size:100%;inline-size:100%}@media (prefers-reduced-motion: no-preference){:host(.carousel__view-recycle-out),.carousel__view-recycle-out{animation:active-to-out .24s cubic-bezier(.5,0,.1,1) forwards}}@media (prefers-reduced-motion: reduce){:host(.carousel__view-recycle-out),.carousel__view-recycle-out{animation:none;transition:none}}:host(.carousel__view-recycle-out:focus),.carousel__view-recycle-out:focus{outline:2px solid var(--cds-focus, #0f62fe);outline-offset:-2px}@media screen and (prefers-contrast){:host(.carousel__view-recycle-out:focus),.carousel__view-recycle-out:focus{outline-style:dotted}}.c4p--coachmark__next--coachmark-content{position:fixed;inline-size:18rem;margin-inline-start:.75rem;visibility:visible}.c4p--coachmark__next--coachmark-content.--is-visible{visibility:visible}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body{display:flex;flex-direction:column}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body>h2{font-size:var(--cds-productive-heading-02-font-size, 1rem);font-weight:var(--cds-productive-heading-02-font-weight, 600);line-height:var(--cds-productive-heading-02-line-height, 1.375);letter-spacing:var(--cds-productive-heading-02-letter-spacing, 0);margin:0 0 .5rem}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body>p{font-size:var(--cds-body-long-01-font-size, .875rem);font-weight:var(--cds-body-long-01-font-weight, 400);line-height:var(--cds-body-long-01-line-height, 1.42857);letter-spacing:var(--cds-body-long-01-letter-spacing, .16px)}.c4p--coachmark__next--coachmark-content .c4p--coachmark__next--content-body>button{display:flex;align-self:flex-end;margin-block-start:1rem}.carousel__view>h2{font-size:var(--cds-productive-heading-02-font-size, 1rem);font-weight:var(--cds-productive-heading-02-font-weight, 600);line-height:var(--cds-productive-heading-02-line-height, 1.375);letter-spacing:var(--cds-productive-heading-02-letter-spacing, 0);margin:0 0 .5rem}.carousel__view>p{font-size:var(--cds-body-long-01-font-size, .875rem);font-weight:var(--cds-body-long-01-font-weight, 400);line-height:var(--cds-body-long-01-line-height, 1.42857);letter-spacing:var(--cds-body-long-01-letter-spacing, .16px)}.carouselControls{position:relative}.carouselControls .nextButton,.carouselControls .prevButton{position:absolute;inset-inline-start:2rem}.cds--content-switcher{inline-size:20rem;margin-block:3rem;margin-inline:2rem}.carouselControlWrapper__footer span{justify-self:flex-start;margin-inline-end:auto}.carouselControlWrapper__footer{display:flex;align-items:center;justify-content:flex-end;padding-block-start:1rem}.carouselControlWrapper--controls-progress{justify-self:flex-start;margin-inline-end:auto;font-size:var(--cds-helper-text-01-font-size, .75rem);line-height:var(--cds-helper-text-01-line-height, 1.33333);letter-spacing:var(--cds-helper-text-01-letter-spacing, .32px)}.coachmark-stacked-home__nav-links,.stacked-coachmark__nav-links{margin-block-start:.75rem;margin-inline-start:-1rem}.coachmark-stacked-home__icon-idea,.stacked-coachmark__icon-idea{margin-block-end:.5rem}.coachmark-stacked-home li,.stacked-coachmark li{display:block;max-inline-size:100%;white-space:nowrap}.coachmark-stacked-home__title,.stacked-coachmark__title{font-size:var(--cds-productive-heading-02-font-size, 1rem);font-weight:var(--cds-productive-heading-02-font-weight, 600);line-height:var(--cds-productive-heading-02-line-height, 1.375);letter-spacing:var(--cds-productive-heading-02-letter-spacing, 0);margin:0 0 .5rem}.coachmark-stacked-home__body,.stacked-coachmark__body{font-size:var(--cds-body-long-01-font-size, .875rem);font-weight:var(--cds-body-long-01-font-weight, 400);line-height:var(--cds-body-long-01-line-height, 1.42857);letter-spacing:var(--cds-body-long-01-letter-spacing, .16px)}.coachmark-stacked-home__button,.stacked-coachmark__button{margin-block-end:0}.stacked-coachmark__button{display:flex;align-items:center;justify-content:flex-end;padding:1rem 1rem 0}.c4p__bubble__arrow{display:none}.stacked_element_content{inset:logical unset unset 0 0!important;inset-block-start:auto;inset-inline-start:auto}.c4p--coachmark__next--coachmark-content{inset-block-end:0;inset-block-start:unset!important;inset-inline-end:1rem;inset-inline-start:unset!important;opacity:1;transform:none}.coachmark-stacked-home--scaled-home{inset-block-end:1rem;opacity:.8;transform:scale(.9);transform-origin:top center;transition:transform .24s cubic-bezier(.2,0,1,.9)}.coachmark-stacked-home--unscaled-home{transform:none}";function S(r){const n={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...L(),...r.components};return a.jsxs(a.Fragment,{children:[a.jsx(n.h1,{id:"coachmarkstacked",children:"CoachmarkStacked"}),`
`,a.jsx(n.h2,{id:"table-of-contents",children:"Table of Contents"}),`
`,a.jsxs(n.ul,{children:[`
`,a.jsx(n.li,{children:a.jsx(n.a,{href:"#overview",children:"Overview"})}),`
`,a.jsx(n.li,{children:a.jsx(n.a,{href:"#example-usage",children:"Example usage"})}),`
`]}),`
`,a.jsx(n.h2,{id:"overview",children:"Overview"}),`
`,a.jsx(n.p,{children:`The CoachmarkStacked pattern acts as a container element for onboarding and
should only be used within the scope of a Coachmark.`}),`
`,a.jsx(n.p,{children:"To build this pattern, we recommend including the following components:"}),`
`,a.jsxs(n.ul,{children:[`
`,a.jsx(n.li,{children:a.jsx(n.a,{href:"https://carbon-for-ibm-products.netlify.app/?path=/docs/experimental-onboarding-coachmark-next--overview",rel:"nofollow",children:"Coachmark"})}),`
`,a.jsx(n.li,{children:a.jsx(n.a,{href:"https://web-components.carbondesignsystem.com/?path=/docs/components-button",rel:"nofollow",children:"cds-button"})}),`
`,a.jsx(n.li,{children:a.jsx(n.a,{href:"https://github.com/carbon-design-system/carbon/blob/main/packages/utilities/src/carousel/README.md",rel:"nofollow",children:"Carousel utility"})}),`
`]}),`
`,a.jsx(n.h2,{id:"about-onboarding",children:"About Onboarding"}),`
`,a.jsxs(n.p,{children:[a.jsx(n.a,{href:"https://pages.github.ibm.com/security/security-design/department/end-to-end-experiences/onboarding/overview/",rel:"nofollow",children:"Onboarding"}),`
is a continuous learning methodology and framework that aims to orient, onboard,
explain, educate, and cultivate novice users into high-functioning power users.`]}),`
`,a.jsx(n.h2,{id:"example-usage",children:"Example usage"}),`
`,`
`,a.jsx(W,{className:"coachmarkExample",withSource:"none",children:a.jsx("div",{className:"CoachmarkBaseExampleUsage",children:a.jsx(q,{of:void 0})})})]})}function Y(r={}){const{wrapper:n}={...L(),...r.components};return n?a.jsx(n,{...r,children:a.jsx(S,{...r})}):S(r)}const ge={title:"Patterns/Coachmark Stacked",component:()=>{},tags:["autodocs"],parameters:{styles:Q,docs:{page:Y}}};function Z(){const[r,n]=s.useState(()=>document.documentElement.getAttribute("data-carbon-theme"));return s.useEffect(()=>{const c=document.documentElement,y=()=>{const g=c.getAttribute("data-carbon-theme");n(h=>h!==g?g:h)},k=new MutationObserver(g=>{for(const h of g)h.type==="attributes"&&h.attributeName==="data-carbon-theme"&&y()});k.observe(c,{attributes:!0,attributeFilter:["data-carbon-theme"]});const E=setInterval(y,200);return()=>{k.disconnect(),clearInterval(E)}},[]),r}const ee=r=>{const n=Z(),[c,y]=s.useState(!0),[k,E]=s.useState(-1),[g,h]=s.useState(-1),[d,b]=s.useState(0),x=s.useRef(null),p=s.useRef(null),[H,R]=s.useState(0),m=s.useRef(null),C=s.useRef([]),i="coachmark-stacked-home",w="stacked-coachmark",j="stacked_element_content",$=[{id:1,label:"Example 1"},{id:2,label:"Example 2"},{id:3,label:"Example 3"}],B=[{id:1,title:"Short Coachmark",text:"As small as it gets.",type:"simple",button:e.createElement(f,{size:"sm",onClick:t=>{b(null),t.stopPropagation()}},"Done")},{id:2,type:"carousel",pages:[{id:"1",title:"Mid-height Coachmark",text:e.createElement(e.Fragment,null,"This should be about the same height as the base stack item.",e.createElement("br",null),e.createElement("br",null),"This is known as the enrichment phase. Enrichment supports you by emulating how an analyst would evaluate a finding—for example, by adding context, such as whether a certain piece of data is known to be malicious, or is linked..."),button:e.createElement(T,{href:"https://www.ibm.com"},"Learn more")},{id:"2",title:"Hello World",text:"Link opens in new tab.",button:e.createElement(T,{href:"https://www.ibm.com",target:"_blank"}," ","Learn more"," ")}]},{id:3,type:"carousel",pages:[{id:"1",title:"Tall Coachmark",text:e.createElement(e.Fragment,null,"These alerts contain data gathered from your connected security systems.")},{id:"2",title:"Alerts contain evidence, known as artifacts",text:e.createElement(e.Fragment,null,"These help to determine whether the alert is good or bad. And as alerts are added to a case, they become findings.")},{id:"3",title:"Findings are enriched with more information and context",text:e.createElement(e.Fragment,null,"This is known as the enrichment phase. Enrichment supports you by emulating how an analyst would evaluate a finding—for example, by adding context, such as whether a certain piece of data is known to be malicious, or is linked to a known threat.",e.createElement("br",null),e.createElement("br",null),"Lets",e.createElement("br",null),e.createElement("br",null),"make",e.createElement("br",null),e.createElement("br",null),"this",e.createElement("br",null),e.createElement("br",null),"one",e.createElement("br",null),e.createElement("br",null),"really",e.createElement("br",null),e.createElement("br",null),"tall.")},{id:"4",title:"Next, the correlation process takes place",text:e.createElement(e.Fragment,null,"Based on the results of the enrichment process, findings that are potentially related are grouped together, and then evaluated.")},{id:"5",title:"Between enrichment and correlation, the severity of a case is determined",text:e.createElement(e.Fragment,null,"And once you know the severity, you can easily choose which case to pick up next.")}]}],N=()=>{y(!1)},O=t=>{b(null),p.current.reset(),t.stopPropagation()},D=()=>{y(t=>!t)};s.useEffect(()=>{x&&x.current&&(p.current=G(x.current,{onViewChangeStart:V,onViewChangeEnd:A,useMaxHeight:!0}))},[p,d]);const V=()=>{},A=t=>{P(t)},P=s.useCallback(({currentIndex:t,lastIndex:o})=>{E(t),h(o)},[d]),F=t=>{p.current.next(),t.stopPropagation()},M=t=>{p.current.prev(),t.stopPropagation()};return s.useLayoutEffect(()=>{if(!H){if(m.current){const t=m.current.querySelector(`div.${_.prefix}__bubble`);if(t){const o=t.clientHeight;o>0&&R(o)}}return}if(m.current){const t=m.current.querySelector(`div.${_.prefix}__bubble`);t&&(t.style.height=`${H}px`)}if((!c||d<=0)&&requestAnimationFrame(()=>{if(m.current){const t=m.current.querySelector(`div.${_.prefix}__bubble`);t&&(t.classList.remove(`${i}--scaled-home`),t.classList.add(`${i}--unscaled-home`),t.focus())}},0),d>0&&c&&C.current){const t=C.current[d],o=Array.from(t.querySelectorAll(`div.${_.prefix}__bubble`)).filter(l=>l.parentElement===t);o.length>0&&setTimeout(()=>{o.forEach(l=>{requestAnimationFrame(()=>{const I=l.clientHeight,z=m.current.querySelector(`div.${_.prefix}__bubble`);z&&(z.style.height=`calc(${I}px + 1px)`,z.classList.add(`${i}--scaled-home`),z.classList.remove(`${i}--unscaled-home`),C.current[d].focus())})})},0)}},[d,c,H]),e.createElement(U,{theme:n},e.createElement(u,{open:c,onClose:N,align:"top",...r,className:`${i}`},e.createElement(J,{title:"Why are there two types of severity scores?",closeIconDescription:"Close","data-testid":"helloworld",isOpen:c,buttonProps:{onClick:D,id:"CoachmarkTagline"}}),e.createElement(u.Content,{className:c&&"--is-visible",highContrast:!0,ref:m},e.createElement(u.Content.Header,{closeIconDescription:"Close"}),e.createElement(u.Content.Body,{className:`${i}__body`},e.createElement("div",{className:`${i}-element`},e.createElement(K,{size:20,className:`${i}__icon-idea`})),e.createElement("div",{className:`${i}__content`},e.createElement("h2",{className:`${i}__title`},"Example title"),e.createElement("p",{className:`${i}__body`},"This is an example of a description")),e.createElement("ul",{className:`${i}__nav-links`},$.map(t=>e.createElement(e.Fragment,{key:t.id},e.createElement("li",{key:t.id},e.createElement(f,{kind:"ghost",size:"sm",onClick:()=>{b(t.id)}},t.label))))),e.createElement(f,{size:"sm",onClick:N,className:`${i}__footer`},"Close"),e.createElement("br",null)))),$.map(t=>e.createElement(u,{open:d===t.id,onClose:o=>{b(null),o.stopPropagation()},align:"top"},e.createElement(u.Content,{highContrast:!0,ref:o=>{o&&(C.current[t.id]=o)},className:X(`${j}`)},e.createElement(u.Content.Header,{closeIconDescription:"Close"}),e.createElement(u.Content.Body,null,B.filter(o=>o.id===t.id).map(o=>o.type==="simple"?e.createElement("div",{key:o.id,className:`${w}__content`},e.createElement("h2",{className:`${w}__title`},o.title),e.createElement("p",{className:`${w}__body`},o.text),e.createElement("div",{className:`${w}__button`},o.button)):o.type==="carousel"?e.createElement(e.Fragment,null,e.createElement("div",{ref:x,className:"exampleCarouselWrapper"},o.pages.map(l=>e.createElement("div",{key:l.id},e.createElement("h2",null,l.title),e.createElement("p",null,l.text),e.createElement("p",null,l.button)))),e.createElement("div",{className:"carouselControlWrapper__footer"},e.createElement("div",{className:"carouselControlWrapper--controls-progress"},o.pages.map((l,I)=>{if(p.current?.getActiveItem?.()?.index===I)return e.createElement("span",{key:t.id},`${p.current?.getActiveItem?.()?.index+1} / ${o.pages.length}`)})),e.createElement("div",{className:"carouselControlWrapper--buttons"},k!==0&&e.createElement(f,{size:"sm",iconDescription:"Previous",kind:"ghost",onClick:M},"Back"),g!==k?e.createElement(f,{size:"sm",iconDescription:"Next",onClick:F},"Next"):e.createElement(f,{size:"sm",onClick:O},"Done")))):null))))))},v=ee.bind({});v.args={};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`args => {
  const carbonTheme = useCarbonTheme();
  const [isOpen, setIsOpen] = useState(true);
  const [currentViewIndex, setCurrentViewIndex] = useState(-1);
  const [lastViewIndex, setLastViewIndex] = useState(-1);
  //prettier-ignore
  const [openId, setOpenId] = useState(0);
  //prettier-ignore
  const carouselContainerRef = useRef<HTMLDivElement>(null);
  //prettier-ignore
  const carouselInit = useRef<InitCarousel>(null);
  //prettier-ignore
  const [parentHeight, setParentHeight] = useState<number>(0);
  //prettier-ignore
  const stackHomeContentRef = useRef<HTMLDivElement | null>(null);
  //prettier-ignore
  const stackedCoachmarkContentRefs = useRef([]);
  const blockClass = \`coachmark-stacked-home\`;
  const stackedCoachmark = \`stacked-coachmark\`;
  const elementBlockClass = \`stacked_element_content\`;
  const items = [{
    id: 1,
    label: 'Example 1'
  }, {
    id: 2,
    label: 'Example 2'
  }, {
    id: 3,
    label: 'Example 3'
  }];
  const nestedItems = [{
    id: 1,
    title: 'Short Coachmark',
    text: 'As small as it gets.',
    type: 'simple',
    button: <Button size="sm" onClick={e => {
      setOpenId(null);
      e.stopPropagation();
    }}>
          Done
        </Button>
  }, {
    id: 2,
    type: 'carousel',
    pages: [{
      id: '1',
      title: 'Mid-height Coachmark',
      text: <>
              This should be about the same height as the base stack item.
              <br />
              <br />
              This is known as the enrichment phase. Enrichment supports you by
              emulating how an analyst would evaluate a finding—for example, by
              adding context, such as whether a certain piece of data is known
              to be malicious, or is linked...
            </>,
      button: <CarbonLink href="https://www.ibm.com">Learn more</CarbonLink>
    }, {
      id: '2',
      title: 'Hello World',
      text: 'Link opens in new tab.',
      button: <CarbonLink href="https://www.ibm.com" target="_blank">
              {' '}
              Learn more{' '}
            </CarbonLink>
    }]
  }, {
    id: 3,
    type: 'carousel',
    pages: [{
      id: '1',
      title: 'Tall Coachmark',
      text: <>
              These alerts contain data gathered from your connected security
              systems.
            </>
    }, {
      id: '2',
      title: 'Alerts contain evidence, known as artifacts',
      text: <>
              These help to determine whether the alert is good or bad. And as
              alerts are added to a case, they become findings.
            </>
    }, {
      id: '3',
      title: 'Findings are enriched with more information and context',
      text: <>
              This is known as the enrichment phase. Enrichment supports you by
              emulating how an analyst would evaluate a finding—for example, by
              adding context, such as whether a certain piece of data is known
              to be malicious, or is linked to a known threat.
              <br />
              <br />
              Lets
              <br />
              <br />
              make
              <br />
              <br />
              this
              <br />
              <br />
              one
              <br />
              <br />
              really
              <br />
              <br />
              tall.
            </>
    }, {
      id: '4',
      title: 'Next, the correlation process takes place',
      text: <>
              Based on the results of the enrichment process, findings that are
              potentially related are grouped together, and then evaluated.
            </>
    }, {
      id: '5',
      title: 'Between enrichment and correlation, the severity of a case is determined',
      text: <>
              And once you know the severity, you can easily choose which case
              to pick up next.
            </>
    }]
  }];
  const handleClose = () => {
    setIsOpen(false);
  };
  const handleCloseCarousel = e => {
    setOpenId(null);
    carouselInit.current.reset();
    e.stopPropagation();
  };
  const handleTaglineClick = () => {
    setIsOpen(isOpen => !isOpen);
  };
  useEffect(() => {
    if (carouselContainerRef && carouselContainerRef.current) {
      carouselInit.current = initCarousel(carouselContainerRef.current, {
        onViewChangeStart: onViewChangeStart,
        onViewChangeEnd: onViewChangeEnd,
        useMaxHeight: true
      });
    }
  }, [carouselInit, openId]);
  const onViewChangeStart = () => {};
  const onViewChangeEnd = options => {
    handleViewStackUpdate(options);
  };
  const handleViewStackUpdate = useCallback(({
    currentIndex,
    lastIndex
  }) => {
    setCurrentViewIndex(currentIndex);
    setLastViewIndex(lastIndex);
  }, [openId]);
  const onNext = e => {
    carouselInit.current.next();
    e.stopPropagation();
  };
  const onPrev = e => {
    carouselInit.current.prev();
    e.stopPropagation();
  };
  useLayoutEffect(() => {
    if (!parentHeight) {
      if (stackHomeContentRef.current) {
        //prettier-ignore
        const stackHomeContent = stackHomeContentRef.current.querySelector<HTMLDivElement>(\`div.\${pkg.prefix}__bubble\`);
        if (stackHomeContent) {
          const height = stackHomeContent.clientHeight;
          if (height > 0) {
            setParentHeight(height);
          }
        }
      }
      return;
    }
    if (stackHomeContentRef.current) {
      //prettier-ignore
      const stackHomeContent = stackHomeContentRef.current.querySelector<HTMLDivElement>(\`div.\${pkg.prefix}__bubble\`);
      if (stackHomeContent) {
        stackHomeContent.style.height = \`\${parentHeight}px\`;
      }
    }
    if (!isOpen || openId <= 0) {
      requestAnimationFrame(() => {
        if (stackHomeContentRef.current) {
          //prettier-ignore
          const stackHomeContent = stackHomeContentRef.current.querySelector<HTMLDivElement>(\`div.\${pkg.prefix}__bubble\`);
          if (stackHomeContent) {
            stackHomeContent.classList.remove(\`\${blockClass}--scaled-home\`);
            stackHomeContent.classList.add(\`\${blockClass}--unscaled-home\`);
            stackHomeContent.focus();
          }
        }
        return;
      }, 0);
    }
    if (openId > 0 && isOpen && stackedCoachmarkContentRefs.current) {
      const container = stackedCoachmarkContentRefs.current[openId];

      //prettier-ignore
      const targetHome = Array.from(container.querySelectorAll<HTMLDivElement>(\`div.\${pkg.prefix}__bubble\`)).filter(bubble => bubble.parentElement === container);
      if (targetHome.length > 0) {
        setTimeout(() => {
          targetHome.forEach(bubble => {
            requestAnimationFrame(() => {
              const targetHomeHeight = bubble.clientHeight;

              //prettier-ignore
              const stackHomeContent = stackHomeContentRef.current.querySelector<HTMLDivElement>(\`div.\${pkg.prefix}__bubble\`);
              if (stackHomeContent) {
                stackHomeContent.style.height = \`calc(\${targetHomeHeight}px + 1px)\`;
                stackHomeContent.classList.add(\`\${blockClass}--scaled-home\`);
                stackHomeContent.classList.remove(\`\${blockClass}--unscaled-home\`);
                stackedCoachmarkContentRefs.current[openId].focus();
              }
            });
          });
        }, 0);
      }
    }
  }, [openId, isOpen, parentHeight]);
  return <Theme theme={carbonTheme}>
      <Coachmark open={isOpen} onClose={handleClose} align="top" {...args} className={\`\${blockClass}\`}>
        <CoachmarkTagline title="Why are there two types of severity scores?" closeIconDescription="Close" data-testid={'helloworld'} isOpen={isOpen} buttonProps={{
        onClick: handleTaglineClick,
        id: 'CoachmarkTagline'
      }}></CoachmarkTagline>
        <Coachmark.Content className={isOpen && \`--is-visible\`} highContrast={true} ref={stackHomeContentRef}>
          <Coachmark.Content.Header closeIconDescription="Close"></Coachmark.Content.Header>
          <Coachmark.Content.Body className={\`\${blockClass}__body\`}>
            <div className={\`\${blockClass}-element\`}>
              <Idea size={20} className={\`\${blockClass}__icon-idea\`} />
            </div>
            <div className={\`\${blockClass}__content\`}>
              <h2 className={\`\${blockClass}__title\`}>Example title</h2>
              <p className={\`\${blockClass}__body\`}>
                This is an example of a description
              </p>
            </div>
            <ul className={\`\${blockClass}__nav-links\`}>
              {items.map(item => <React.Fragment key={item.id}>
                  <li key={item.id}>
                    <Button kind="ghost" size="sm" onClick={() => {
                  setOpenId(item.id);
                }}>
                      {item.label}
                    </Button>
                  </li>
                </React.Fragment>)}
            </ul>
            <Button size="sm" onClick={handleClose} className={\`\${blockClass}__footer\`}>
              Close
            </Button>
            <br></br>
          </Coachmark.Content.Body>
        </Coachmark.Content>
      </Coachmark>
      {items.map(item => <Coachmark open={openId === item.id} onClose={e => {
      setOpenId(null);
      e.stopPropagation();
    }} align="top">
          <Coachmark.Content highContrast ref={el => {
        if (el) {
          stackedCoachmarkContentRefs.current[item.id] = el;
        }
      }} className={cx(\`\${elementBlockClass}\`)}>
            <Coachmark.Content.Header closeIconDescription="Close" />
            <Coachmark.Content.Body>
              {nestedItems.filter(nested => nested.id === item.id).map(nested => {
            if (nested.type === 'simple') {
              return <div key={nested.id} className={\`\${stackedCoachmark}__content\`}>
                        <h2 className={\`\${stackedCoachmark}__title\`}>
                          {nested.title}
                        </h2>
                        <p className={\`\${stackedCoachmark}__body\`}>
                          {nested.text}
                        </p>
                        <div className={\`\${stackedCoachmark}__button\`}>
                          {nested.button}
                        </div>
                      </div>;
            }
            if (nested.type === 'carousel') {
              return <>
                        <div ref={carouselContainerRef} className="exampleCarouselWrapper">
                          {nested.pages.map(page => <div key={page.id}>
                              <h2>{page.title}</h2>
                              <p>{page.text}</p>
                              <p>{page.button}</p>
                            </div>)}
                        </div>

                        <div className={'carouselControlWrapper__footer'}>
                          <div className={'carouselControlWrapper--controls-progress'}>
                            {nested.pages.map((page, index) => {
                      if (carouselInit.current?.getActiveItem?.()?.index === index) return <span key={item.id}>
                                    {\`\${carouselInit.current?.getActiveItem?.()?.index + 1} / \${nested.pages.length}\`}
                                  </span>;
                    })}
                          </div>
                          <div className={'carouselControlWrapper--buttons'}>
                            {currentViewIndex !== 0 && <Button size="sm" iconDescription="Previous" kind="ghost" onClick={onPrev}>
                                Back
                              </Button>}

                            {lastViewIndex !== currentViewIndex ? <Button size="sm" iconDescription="Next" onClick={onNext}>
                                Next
                              </Button> : <Button size="sm" onClick={handleCloseCarousel}>
                                Done
                              </Button>}
                          </div>
                        </div>
                      </>;
            }
            return null;
          })}
            </Coachmark.Content.Body>
          </Coachmark.Content>
        </Coachmark>)}
    </Theme>;
}`,...v.parameters?.docs?.source}}};const fe=["CoachmarkStack"];export{v as CoachmarkStack,fe as __namedExportsOrder,ge as default};
