import{r as f,u as F,c as I,e as t,_ as O,q as K,A as ie,m as ae,d as G,a as H,N as J,B as oe,n as se,a4 as ce,$ as le,t as re,P as e,i as L,a5 as ue}from"./iframe-DL4rv6Sk.js";import{T as E}from"./Text-BLHpolkk.js";import{w as fe,a as me}from"./wrapFocus-Dt-_dlb_.js";import{I as de,a as pe}from"./bucket-10-B5_FbTkN.js";import{a as be,W as ge}from"./bucket-19-Yu9VpGqT.js";import{a as Ne}from"./bucket-6-0n8zOi6E.js";function $e(n,c,l=!0){const i=o=>{const s=n.current&&document.activeElement===n.current||n.current?.contains(document.activeElement);le(o,[re])&&l&&s&&c(o)};J(()=>(n.current!==null&&document.addEventListener("keydown",i,!1),()=>document.removeEventListener("keydown",i,!1)))}function P({children:n,className:c,onClick:l,inline:i,...o}){const s=F(),m=I(c,{[`${s}--actionable-notification__action-button`]:!0});return t.createElement(oe,O({className:m,kind:i?"ghost":"tertiary",onClick:l,size:"sm"},o),n)}P.propTypes={children:e.node,className:e.string,inline:e.bool,onClick:e.func};function A({"aria-label":n="close notification",ariaLabel:c,className:l,type:i="button",renderIcon:o=ae,name:s,notificationType:m="toast",...$}){const r=F(),d=I(l,{[`${r}--${m}-notification__close-button`]:m}),_=I({[`${r}--${m}-notification__close-icon`]:m});return t.createElement("button",O({},$,{type:i,"aria-label":c||n,title:c||n,className:d}),o&&t.createElement(o,{className:_,name:s}))}A.propTypes={"aria-label":e.string,ariaLabel:L(e.string),className:e.string,name:e.string,notificationType:e.oneOf(["toast","inline","actionable"]),renderIcon:e.oneOfType([e.func,e.object]),type:e.string};const Ee={error:Ne,success:ie,warning:ge,"warning-alt":be,info:pe,"info-square":de};function k({iconDescription:n,kind:c,notificationType:l}){const i=F(),o=Ee[c];return o?t.createElement(o,{className:`${i}--${l}-notification__icon`,size:20},t.createElement("title",null,n)):null}k.propTypes={iconDescription:e.string.isRequired,kind:e.oneOf(["error","success","warning","warning-alt","info","info-square"]).isRequired,notificationType:e.oneOf(["inline","toast"]).isRequired};function _e({["aria-label"]:n,ariaLabel:c,role:l="status",onClose:i,onCloseButtonClick:o=K,statusIconDescription:s,className:m,children:$,kind:r="error",lowContrast:d,hideCloseButton:_=!1,timeout:a=0,title:N,caption:w,subtitle:y,...p}){const[B,C]=f.useState(!0),b=F(),R=I(m,{[`${b}--toast-notification`]:!0,[`${b}--toast-notification--low-contrast`]:d,[`${b}--toast-notification--${r}`]:r}),v=f.useRef(null),h=T=>{(!i||i(T)!==!1)&&C(!1)},u=f.useRef(null);function q(T){o(T),h(T)}const x=f.useRef(i);return f.useEffect(()=>{x.current=i}),f.useEffect(()=>{if(!a)return;const T=window.setTimeout(D=>{C(!1),x.current&&x.current(D)},a);return()=>{window.clearTimeout(T)}},[a]),B?t.createElement("div",O({ref:u},p,{role:l,className:R}),t.createElement(k,{notificationType:"toast",kind:r,iconDescription:s||`${r} icon`}),t.createElement("div",{ref:v,className:`${b}--toast-notification__details`},N&&t.createElement(E,{as:"div",className:`${b}--toast-notification__title`},N),y&&t.createElement(E,{as:"div",className:`${b}--toast-notification__subtitle`},y),w&&t.createElement(E,{as:"div",className:`${b}--toast-notification__caption`},w),$),!_&&t.createElement(A,{notificationType:"toast",onClick:q,"aria-label":c||n})):null}_e.propTypes={"aria-label":e.string,ariaLabel:L(e.string),caption:e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,timeout:e.number,title:e.string};function we({["aria-label"]:n,children:c,title:l,subtitle:i,role:o="status",onClose:s,onCloseButtonClick:m=K,statusIconDescription:$,className:r,kind:d="error",lowContrast:_,hideCloseButton:a=!1,...N}){const[w,y]=f.useState(!0),p=F(),B=I(r,{[`${p}--inline-notification`]:!0,[`${p}--inline-notification--low-contrast`]:_,[`${p}--inline-notification--${d}`]:d,[`${p}--inline-notification--hide-close-button`]:a}),C=f.useRef(null),b=h=>{(!s||s(h)!==!1)&&y(!1)},R=f.useRef(null);function v(h){m(h),b(h)}return w?t.createElement("div",O({ref:R},N,{role:o,className:B}),t.createElement("div",{className:`${p}--inline-notification__details`},t.createElement(k,{notificationType:"inline",kind:d,iconDescription:$||`${d} icon`}),t.createElement("div",{ref:C,className:`${p}--inline-notification__text-wrapper`},l&&t.createElement(E,{as:"div",className:`${p}--inline-notification__title`},l),i&&t.createElement(E,{as:"div",className:`${p}--inline-notification__subtitle`},i),c)),!a&&t.createElement(A,{notificationType:"inline",onClick:v,"aria-label":n})):null}we.propTypes={"aria-label":e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,title:e.string};function Ce({actionButtonLabel:n,["aria-label"]:c,ariaLabel:l,caption:i,children:o,role:s="alertdialog",onActionButtonClick:m,onClose:$,onCloseButtonClick:r=K,statusIconDescription:d,className:_,inline:a=!1,kind:N="error",lowContrast:w,hideCloseButton:y=!1,hasFocus:p=!0,closeOnEscape:B=!0,title:C,subtitle:b,...R}){const[v,h]=f.useState(!0),u=F(),q=G("actionable-notification"),x=G("actionable-notification-subtitle"),T=I(_,{[`${u}--actionable-notification`]:!0,[`${u}--actionable-notification--toast`]:!a,[`${u}--actionable-notification--low-contrast`]:w,[`${u}--actionable-notification--${N}`]:N,[`${u}--actionable-notification--hide-close-button`]:y}),D=f.useRef(null),z=f.useRef(null),M=f.useRef(null),S=f.useRef(null),U=H("enable-experimental-focus-wrap-without-sentinels"),W=H("enable-focus-wrap-without-sentinels")||U;J(()=>{p&&s==="alertdialog"&&document.querySelector("button.cds--actionable-notification__action-button")?.focus()});function X({target:g,relatedTarget:V}){if(v&&V&&g&&s==="alertdialog"){const{current:ee}=D,{current:te}=z,{current:ne}=M;me({bodyNode:ee,startTrapNode:te,endTrapNode:ne,currentActiveNode:V,oldActiveNode:g})}}function Y(g){v&&se(g,ce)&&S.current&&s==="alertdialog"&&fe({containerNode:S.current,currentActiveNode:g.target,event:g})}const Z=g=>{(!$||$(g)!==!1)&&h(!1)};$e(S,j,B);function j(g){r(g),Z(g)}return v?t.createElement("div",O({},R,{ref:S,role:s,className:T,"aria-labelledby":C?q:x,onBlur:W?()=>{}:X,onKeyDown:W?Y:()=>{}}),!W&&t.createElement("span",{ref:z,tabIndex:0,role:"link",className:`${u}--visually-hidden`},"Focus sentinel"),t.createElement("div",{className:`${u}--actionable-notification__details`},t.createElement(k,{notificationType:a?"inline":"toast",kind:N,iconDescription:d||`${N} icon`}),t.createElement("div",{className:`${u}--actionable-notification__text-wrapper`},t.createElement("div",{className:`${u}--actionable-notification__content`},C&&t.createElement(E,{as:"div",className:`${u}--actionable-notification__title`,id:q},C),b&&t.createElement(E,{as:"div",className:`${u}--actionable-notification__subtitle`,id:x},b),i&&t.createElement(E,{as:"div",className:`${u}--actionable-notification__caption`},i),o))),t.createElement("div",{className:`${u}--actionable-notification__button-wrapper`,ref:D},n&&t.createElement(P,{onClick:m,inline:a},n),!y&&t.createElement(A,{"aria-label":l||c,notificationType:"actionable",onClick:j})),!W&&t.createElement("span",{ref:M,tabIndex:0,role:"link",className:`${u}--visually-hidden`},"Focus sentinel")):null}Ce.propTypes={actionButtonLabel:e.string,"aria-label":e.string,ariaLabel:L(e.string),caption:e.string,children:e.node,className:e.string,closeOnEscape:e.bool,hasFocus:L(e.bool),hideCloseButton:e.bool,inline:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onActionButtonClick:e.func,onClose:e.func,onCloseButtonClick:e.func,role:e.string,statusIconDescription:e.string,subtitle:e.node,title:e.string};const he={error:"warning",success:"info"},Te=n=>he[n];function Q({actionButtonLabel:n,children:c,onActionButtonClick:l,title:i,titleId:o,subtitle:s,statusIconDescription:m,className:$,kind:r="info",lowContrast:d,..._}){const a=F(),N=I($,{[`${a}--actionable-notification`]:!0,[`${a}--actionable-notification--low-contrast`]:d,[`${a}--actionable-notification--${r}`]:r,[`${a}--actionable-notification--hide-close-button`]:!0}),w=f.useRef(null);return t.createElement("div",O({},_,{className:N}),t.createElement("div",{className:`${a}--actionable-notification__details`},t.createElement(k,{notificationType:"inline",kind:r,iconDescription:m||`${r} icon`}),t.createElement("div",{ref:w,className:`${a}--actionable-notification__text-wrapper`},i&&t.createElement(E,{as:"div",id:o,className:`${a}--actionable-notification__title`},i),s&&t.createElement(E,{as:"div",className:`${a}--actionable-notification__subtitle`},s),c)),t.createElement("div",{className:`${a}--actionable-notification__button-wrapper`},n&&t.createElement(P,{onClick:l,"aria-describedby":o,inline:!0},n)))}Q.propTypes={actionButtonLabel:e.string,children:e.node,className:e.string,kind:ue(e.oneOf(["error","info","info-square","success","warning","warning-alt"]),["warning","info"],Te),lowContrast:e.bool,onActionButtonClick:e.func,statusIconDescription:e.string,subtitle:e.node,title:e.string,titleId:e.string};const Re=n=>t.createElement(Q,n);export{Ce as A,Q as C,we as I,P as N,Re as S,_e as T,A as a};
