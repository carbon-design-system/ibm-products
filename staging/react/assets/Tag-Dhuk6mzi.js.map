{"version":3,"file":"Tag-Dhuk6mzi.js","sources":["../../../../node_modules/@carbon/react/es/components/Tag/isEllipsisActive.js","../../../../node_modules/@carbon/react/es/components/Tag/Tag.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any -- https://github.com/carbon-design-system/carbon/issues/20452\nconst isEllipsisActive = element => {\n  if (element) {\n    return element?.offsetWidth < element?.scrollWidth;\n  }\n  return false;\n};\n\nexport { isEllipsisActive };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState, useLayoutEffect, cloneElement } from 'react';\nimport cx from 'classnames';\nimport { Close } from '@carbon/icons-react';\nimport { useId } from '../../internal/useId.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { Text } from '../Text/Text.js';\nimport '../Text/TextDirection.js';\nimport { deprecate } from '../../prop-types/deprecate.js';\nimport { DefinitionTooltip } from '../Tooltip/DefinitionTooltip.js';\nimport '../Tooltip/Tooltip.js';\nimport { isEllipsisActive } from './isEllipsisActive.js';\nimport { useMergedRefs } from '../../internal/useMergedRefs.js';\nimport { AILabel } from '../AILabel/index.js';\nimport { isComponentElement } from '../../internal/utils.js';\n\nvar _Close;\nconst TYPES = {\n  red: 'Red',\n  magenta: 'Magenta',\n  purple: 'Purple',\n  blue: 'Blue',\n  cyan: 'Cyan',\n  teal: 'Teal',\n  green: 'Green',\n  gray: 'Gray',\n  'cool-gray': 'Cool-Gray',\n  'warm-gray': 'Warm-Gray',\n  'high-contrast': 'High-Contrast',\n  outline: 'Outline'\n};\nconst SIZES = {\n  sm: 'sm',\n  md: 'md',\n  lg: 'lg'\n};\n// eslint-disable-next-line react/display-name -- https://github.com/carbon-design-system/carbon/issues/20452\nconst TagBase = /*#__PURE__*/React.forwardRef(({\n  children,\n  className,\n  decorator,\n  id,\n  type,\n  filter,\n  // remove filter in next major release - V12\n  renderIcon: CustomIconElement,\n  title = 'Clear filter',\n  // remove title in next major release - V12\n  disabled,\n  onClose,\n  // remove onClose in next major release - V12\n  size,\n  as: BaseComponent,\n  slug,\n  ...other\n}, forwardRef) => {\n  const prefix = usePrefix();\n  const tagRef = useRef(null);\n  if (filter) {\n    // eslint-disable-next-line no-console -- https://github.com/carbon-design-system/carbon/issues/20452\n    console.warn('The `filter` prop for Tag has been deprecated and will be removed in the next major version. Use DismissibleTag instead.');\n  }\n  if (onClose) {\n    // eslint-disable-next-line no-console -- https://github.com/carbon-design-system/carbon/issues/20452\n    console.warn('The `onClose` prop for Tag has been deprecated and will be removed in the next major version. Use DismissibleTag instead.');\n  }\n  const ref = useMergedRefs([forwardRef, tagRef]);\n  // eslint-disable-next-line  react-hooks/rules-of-hooks -- https://github.com/carbon-design-system/carbon/issues/20452\n  const tagId = id || `tag-${useId()}`;\n  const [isEllipsisApplied, setIsEllipsisApplied] = useState(false);\n  useLayoutEffect(() => {\n    const newElement = tagRef.current?.getElementsByClassName(`${prefix}--tag__label`)[0];\n    setIsEllipsisApplied(isEllipsisActive(newElement));\n  }, [prefix, tagRef]);\n  const conditions = [`${prefix}--tag--selectable`, `${prefix}--tag--filter`, `${prefix}--tag--operational`];\n  const isInteractiveTag = conditions.some(el => className?.includes(el));\n  const tagClasses = cx(`${prefix}--tag`, className, {\n    [`${prefix}--tag--disabled`]: disabled,\n    [`${prefix}--tag--filter`]: filter,\n    [`${prefix}--tag--${size}`]: size,\n    // TODO: V12 - Remove this class\n    [`${prefix}--layout--size-${size}`]: size,\n    [`${prefix}--tag--${type}`]: type,\n    [`${prefix}--tag--interactive`]: other.onClick && !isInteractiveTag && isEllipsisApplied\n  });\n  const typeText = type !== undefined && type in Object.keys(TYPES) ? TYPES[type] : '';\n  const handleClose = event => {\n    if (onClose) {\n      event.stopPropagation();\n      onClose(event);\n    }\n  };\n\n  // AILabel is always size `sm` and `inline`\n  const candidate = slug ?? decorator;\n  const candidateIsAILabel = isComponentElement(candidate, AILabel);\n  const normalizedDecorator = candidateIsAILabel && !isInteractiveTag ? /*#__PURE__*/cloneElement(candidate, {\n    size: 'sm',\n    kind: 'inline'\n  }) : null;\n  if (filter) {\n    const ComponentTag = BaseComponent ?? 'div';\n    return /*#__PURE__*/React.createElement(ComponentTag, _extends({\n      className: tagClasses,\n      id: tagId\n    }, other), CustomIconElement && size !== 'sm' ? /*#__PURE__*/React.createElement(\"div\", {\n      className: `${prefix}--tag__custom-icon`\n    }, /*#__PURE__*/React.createElement(CustomIconElement, null)) : '', /*#__PURE__*/React.createElement(Text, {\n      title: typeof children === 'string' ? children : undefined,\n      className: `${prefix}--tag__label`\n    }, children !== null && children !== undefined ? children : typeText), normalizedDecorator, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: `${prefix}--tag__close-icon`,\n      onClick: handleClose,\n      disabled: disabled,\n      \"aria-label\": title,\n      title: title\n    }, _Close || (_Close = /*#__PURE__*/React.createElement(Close, null))));\n  }\n  const ComponentTag = BaseComponent ?? (other.onClick || className?.includes(`${prefix}--tag--operational`) ? 'button' : 'div');\n  const labelClasses = cx({\n    [`${prefix}--tag__label`]: !isInteractiveTag\n  });\n  return /*#__PURE__*/React.createElement(ComponentTag, _extends({\n    ref: ref,\n    disabled: disabled,\n    className: tagClasses,\n    id: tagId,\n    type: ComponentTag === 'button' ? 'button' : undefined\n  }, other), CustomIconElement && size !== 'sm' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--tag__custom-icon`\n  }, /*#__PURE__*/React.createElement(CustomIconElement, null)) : '', isEllipsisApplied && !isInteractiveTag ? /*#__PURE__*/React.createElement(DefinitionTooltip, {\n    openOnHover: false,\n    definition: children !== null && children !== undefined ? children : typeText,\n    className: `${prefix}--definition--tooltip--tag`\n  }, /*#__PURE__*/React.createElement(Text, {\n    title: children !== null && children !== undefined && typeof children === 'string' ? children : typeText,\n    className: labelClasses\n  }, children !== null && children !== undefined ? children : typeText)) : /*#__PURE__*/React.createElement(Text, {\n    title: children !== null && children !== undefined && typeof children === 'string' ? children : typeText,\n    className: labelClasses\n  }, children !== null && children !== undefined ? children : typeText), slug ? normalizedDecorator : decorator ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--tag__decorator`\n  }, normalizedDecorator) : '');\n});\nconst Tag = TagBase;\n\n// @ts-expect-error - `propTypes` isn't typed.\nTag.propTypes = {\n  /**\n   * Provide an alternative tag or component to use instead of the default\n   * wrapping element\n   */\n  as: PropTypes.elementType,\n  /**\n   * Provide content to be rendered inside of a `Tag`\n   */\n  children: PropTypes.node,\n  /**\n   * Provide a custom className that is applied to the containing <span>\n   */\n  className: PropTypes.string,\n  /**\n   * **Experimental:** Provide a `decorator` component to be rendered inside the `Tag` component\n   */\n  decorator: PropTypes.node,\n  /**\n   * Specify if the `Tag` is disabled\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Determine if `Tag` is a filter/chip\n   */\n  filter: deprecate(PropTypes.bool, 'The `filter` prop has been deprecated and will be removed in the next major version. Use DismissibleTag instead.'),\n  /**\n   * Specify the id for the tag.\n   */\n  id: PropTypes.string,\n  /**\n   * Click handler for filter tag close button.\n   */\n  onClose: deprecate(PropTypes.func, 'The `onClose` prop has been deprecated and will be removed in the next major version. Use DismissibleTag instead.'),\n  /**\n   * A component used to render an icon.\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  /**\n   * Specify the size of the Tag. Currently supports either `sm`,\n   * `md` (default) or `lg` sizes.\n   */\n  size: PropTypes.oneOf(Object.keys(SIZES)),\n  /**\n   * **Experimental:** Provide a `Slug` component to be rendered inside the `Tag` component\n   */\n  slug: deprecate(PropTypes.node, 'The `slug` prop has been deprecated and will be removed in the next major version. Use the decorator prop instead.'),\n  /**\n   * Text to show on clear filters\n   */\n  title: deprecate(PropTypes.string, 'The `title` prop has been deprecated and will be removed in the next major version. Use DismissibleTag instead.'),\n  /**\n   * Specify the type of the `Tag`\n   */\n  type: PropTypes.oneOf(Object.keys(TYPES))\n};\n\nexport { SIZES, TYPES, Tag as default };\n"],"names":["isEllipsisActive","element","_Close","TYPES","SIZES","TagBase","React","children","className","decorator","id","type","filter","CustomIconElement","title","disabled","onClose","size","BaseComponent","slug","other","forwardRef","prefix","usePrefix","tagRef","useRef","ref","useMergedRefs","tagId","useId","isEllipsisApplied","setIsEllipsisApplied","useState","useLayoutEffect","newElement","isInteractiveTag","el","tagClasses","cx","typeText","handleClose","event","candidate","normalizedDecorator","isComponentElement","AILabel","ComponentTag","_extends","Text","Close","labelClasses","DefinitionTooltip","Tag","PropTypes","deprecate"],"mappings":"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","x_google_ignoreList":[0,1]}