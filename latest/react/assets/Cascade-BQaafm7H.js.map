{"version":3,"file":"Cascade-BQaafm7H.js","sources":["../../src/components/Cascade/Cascade.tsx"],"sourcesContent":["//\n// Copyright IBM Corp. 2021, 2024\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\nimport React, { ReactNode, forwardRef } from 'react';\n\nimport { Grid } from '@carbon/react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\n\nconst blockClass = `${pkg.prefix}--cascade`;\nconst componentName = 'Cascade';\n\nexport interface CascadeProps {\n  children: ReactNode;\n  /**\n   * Specify an optional className to be applied to\n   * the container node.\n   */\n  className?: string;\n  /**\n   * Specifies whether or not to wrap the child content in a `<Grid />`.\n   * If this is set to true it's important that the children are being wrapped in rows in columns.\n   * Check the documentation for additional clarification.\n   */\n  grid?: boolean;\n}\n\nconst defaults = {\n  grid: false,\n};\n\ntype EnrichedChildren = {\n  children?: ReactNode;\n  className?: string;\n};\n\n/**\n\nThis pattern is intended for use with cards, tiles, or similarly styled\ncomponents. Use this patterns in areas that are the primary focus on the page to\nhelp the user along their journey or locate the most important information on\nthe page. It should not be used on a page if it is the secondary focus of the\npage as that will distract the user.\n\n*/\nexport const Cascade = forwardRef<HTMLDivElement, CascadeProps>(\n  (props, ref) => {\n    const { children, className, grid = defaults.grid, ...rest } = props;\n    const childProps = {\n      ...rest,\n      className: cx(blockClass, className),\n      ref,\n      ...getDevtoolsProps(componentName),\n    };\n    const modifyChildren = (child) => {\n      const className = cx(child.props.className, `${blockClass}__element`);\n      return React.cloneElement(child, { className });\n    };\n    const getModifiedChildren = () => {\n      return React.Children.map(children, (child) => modifyChildren(child));\n    };\n\n    if (grid) {\n      let colIdx = 0;\n      const gridElm = React.Children.map(children, (row) => {\n        if (React.isValidElement<EnrichedChildren>(row)) {\n          const cols = React.Children.map(row?.props.children, (col) => {\n            if (React.isValidElement<EnrichedChildren>(col)) {\n              colIdx = colIdx + 1;\n              const colClassnames = cx(\n                col.props.className,\n                `${blockClass}__col`,\n                `${blockClass}__col-${colIdx}`\n              );\n              return React.cloneElement(col, { className: colClassnames });\n            }\n          });\n          return React.cloneElement(row, {\n            children: cols,\n          });\n        }\n        return children;\n      });\n      return (\n        <div {...childProps}>\n          <Grid>{gridElm}</Grid>\n        </div>\n      );\n    }\n\n    return <div {...childProps}>{getModifiedChildren()}</div>;\n  }\n);\n\nCascade.displayName = componentName;\n\nCascade.propTypes = {\n  /**\n   * Main content that is shown.\n   */\n  children: PropTypes.node,\n  /**\n   * Optional class name.\n   */\n  className: PropTypes.string,\n  /**\n   * Specifies whether or not to wrap the child content in a `<Grid />`.\n   * If this is set to true it's important that the children are being wrapped in rows in columns.\n   * Check the documentation for additional clarification.\n   */\n  grid: PropTypes.bool,\n};\n"],"names":["blockClass","pkg","componentName","defaults","Cascade","forwardRef","props","ref","children","className","grid","rest","childProps","cx","getDevtoolsProps","modifyChildren","child","React","getModifiedChildren","colIdx","gridElm","row","cols","col","colClassnames","Grid","PropTypes"],"mappings":"kJAeA,MAAMA,EAAa,GAAGC,EAAI,MAAM,YAC1BC,EAAgB,UAiBhBC,EAAW,CACf,KAAM,EACR,EAgBaC,EAAUC,EAAAA,WACrB,CAACC,EAAOC,IAAQ,CACd,KAAM,CAAE,SAAAC,EAAU,UAAAC,EAAW,KAAAC,EAAOP,EAAS,KAAM,GAAGQ,GAASL,EACzDM,EAAa,CACjB,GAAGD,EACH,UAAWE,EAAGb,EAAYS,CAAS,EACnC,IAAAF,EACA,GAAGO,EAAiBZ,CAAa,CAAA,EAE7Ba,EAAkBC,GAAU,CAChC,MAAMP,EAAYI,EAAGG,EAAM,MAAM,UAAW,GAAGhB,CAAU,WAAW,EACpE,OAAOiB,EAAM,aAAaD,EAAO,CAAE,UAAAP,EAAW,CAChD,EACMS,EAAsB,IACnBD,EAAM,SAAS,IAAIT,EAAWQ,GAAUD,EAAeC,CAAK,CAAC,EAGtE,GAAIN,EAAM,CACR,IAAIS,EAAS,EACb,MAAMC,EAAUH,EAAM,SAAS,IAAIT,EAAWa,GAAQ,CACpD,GAAIJ,EAAM,eAAiCI,CAAG,EAAG,CAC/C,MAAMC,EAAOL,EAAM,SAAS,IAAII,GAAK,MAAM,SAAWE,GAAQ,CAC5D,GAAIN,EAAM,eAAiCM,CAAG,EAAG,CAC/CJ,EAASA,EAAS,EAClB,MAAMK,EAAgBX,EACpBU,EAAI,MAAM,UACV,GAAGvB,CAAU,QACb,GAAGA,CAAU,SAASmB,CAAM,EAAA,EAE9B,OAAOF,EAAM,aAAaM,EAAK,CAAE,UAAWC,EAAe,CAC7D,CACF,CAAC,EACD,OAAOP,EAAM,aAAaI,EAAK,CAC7B,SAAUC,CAAA,CACX,CACH,CACA,OAAOd,CACT,CAAC,EACD,uBACG,MAAA,CAAK,GAAGI,GACPK,EAAA,cAACQ,EAAA,KAAML,CAAQ,CACjB,CAEJ,CAEA,OAAOH,EAAA,cAAC,MAAA,CAAK,GAAGL,CAAA,EAAaM,GAAsB,CACrD,CACF,EAEAd,EAAQ,YAAcF,EAEtBE,EAAQ,UAAY,CAIlB,SAAUsB,EAAU,KAIpB,UAAWA,EAAU,OAMrB,KAAMA,EAAU,IAClB;;;;;"}