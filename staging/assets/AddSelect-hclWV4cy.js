import{e as t,r as q}from"./index-DzvNrmz8.js";import{w as vt,P as e,d as ne,l as St,W as Et,b as $t}from"./index-5As4T26e.js";import{T as $e}from"./Tag-D3qYq5ZI.js";import{A as Nt,a as It}from"./AccordionItem-NFjBSBpp.js";import{p as j,B as X}from"./settings-CP9zVSjJ.js";import{N as kt}from"./NoDataEmptyState-DD-dEAUp.js";import{B as Ct,a as At}from"./BreadcrumbItem-C5_zE9RR.js";import{D as We}from"./Dropdown-DocP4HuW.js";import{L as Je}from"./index-B9LAK09p.js";import{M as wt}from"./MultiSelect-BNZzndEw.js";import{U as _t}from"./UserProfileImage-tc8-Q-A8.js";import{C as Pt}from"./bucket-2-CdrYWKja.js";import{R as Ft,a as xt}from"./bucket-13-DS-8Bjga.js";import{ai as Bt}from"./bucket-18-D-cwffHE.js";import{C as Ke}from"./Checkbox-BedUlDBz.js";import{O as Qe}from"./index-DuQ_yDmg.js";import{S as Xe}from"./Search-BqckCrhT.js";import{O as Dt}from"./OverflowMenuItem-BFN-JnPH.js";import{aE as Rt,aA as Ot}from"./bucket-0-C6v-wDs9.js";import{A as Lt}from"./bucket-1-BbY-lWHx.js";import{u as Ge}from"./uuidv4-BN2rGLQG.js";import{F as Ye}from"./bucket-6-BVxmYIXv.js";import{B as jt}from"./ButtonSet-B2onNqwp.js";import{D as zt}from"./DismissibleTag-DbFm0hUn.js";import{N as Mt}from"./NotFoundEmptyState-CLnSIRqu.js";import{T as Ht}from"./Tearsheet-BIuP2BRn.js";import{T as Vt}from"./TearsheetNarrow-CDBb8Mvi.js";const Q=`${j.prefix}--add-select__meta-panel`,Kt="AddSelectMetaPanel";let ge=({closeIconDescription:n,meta:i,setDisplayMetaPanel:a,title:d})=>{const r=()=>{a({})};return t.createElement("div",{className:Q},t.createElement("div",{className:`${Q}-header`},t.createElement("p",{className:`${Q}-title`},d),t.createElement(X,{renderIcon:l=>t.createElement(vt,{size:16,...l}),className:`${Q}-close`,iconDescription:n,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:r,kind:"ghost",size:"sm"})),q.isValidElement(i)?i:i.map(l=>t.createElement("div",{key:l==null?void 0:l.id,className:`${Q}-entry`},t.createElement("p",{className:`${Q}-entry-title`},l==null?void 0:l.title),t.createElement("p",{className:`${Q}-entry-body`},l==null?void 0:l.value))))};ge.propTypes={closeIconDescription:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]).isRequired,setDisplayMetaPanel:e.func.isRequired,title:e.string.isRequired};ge.displayName=Kt;ge.__docgenInfo={description:"",methods:[],displayName:"AddSelectMetaPanel",props:{closeIconDescription:{description:"",type:{name:"string"},required:!0},meta:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}]},required:!0},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!0},title:{description:"",type:{name:"string"},required:!0}}};const x=`${j.prefix}--add-select__sidebar`,Gt="AddSelectSidebar";let ye=({appliedModifiers:n,closeIconDescription:i,displayMetalPanel:a,illustrationTheme:d,influencerTitle:r,items:l,metaPanelTitle:s,modifiers:c,multiSelection:p,noSelectionDescription:h,noSelectionTitle:f,setDisplayMetaPanel:b})=>{var A;const T=((A=c==null?void 0:c.options)==null?void 0:A.length)>0,S=p.length>0,C=m=>{const{meta:E,icon:v,avatar:$,...u}=m;return u},I=p.map(m=>{if(Array.isArray(l)){const E=l.find(v=>v.id===m);return C(E)}return C(l[m])}),k=m=>{let E;if(T){const v=n==null?void 0:n.find($=>($==null?void 0:$.id)===(m==null?void 0:m.id))[c==null?void 0:c.id];E=v,Array.isArray(v)&&(E=v==null?void 0:v.map(($,u)=>`${$}${u+1!==v.length?", ":""}`))}return t.createElement("div",{className:`${x}-accordion-title`},t.createElement("div",{className:`${x}-selected-item`},t.createElement("p",{className:`${x}-selected-item-title`},m.title),t.createElement("p",{className:`${x}-selected-item-subtitle`},m.subtitle)),T&&t.createElement("div",null,E))};return Object.keys(a).length!==0?t.createElement(ge,{closeIconDescription:i,meta:a.meta,setDisplayMetaPanel:b,title:s}):t.createElement("div",{className:x},t.createElement("div",{className:`${x}-header`},t.createElement("p",{className:`${x}-title`},r),t.createElement($e,{type:"gray",size:"sm"},p.length)),S?t.createElement(Nt,{align:"start"},I.map(m=>t.createElement(It,{title:k(m),key:m.id},Object.keys(m).map(E=>t.createElement("div",{className:`${x}-item`,key:E},t.createElement("p",{className:`${x}-item-header`},E),t.createElement("p",{className:`${x}-item-body`},m[E])))))):t.createElement("div",{className:`${x}-body`},t.createElement(kt,{subtitle:h,title:f,size:"sm",illustrationTheme:d})))};ye.propTypes={appliedModifiers:e.array,closeIconDescription:e.string,displayMetalPanel:e.object,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.oneOfType([e.object,e.array]),metaPanelTitle:e.string,modifiers:e.object,multiSelection:e.array,noSelectionDescription:e.string,noSelectionTitle:e.string,setDisplayMetaPanel:e.func};ye.displayName=Gt;ye.__docgenInfo={description:"",methods:[],displayName:"AddSelectSidebar",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},closeIconDescription:{description:"",type:{name:"string"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},illustrationTheme:{description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]},required:!1},influencerTitle:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"union",value:[{name:"object"},{name:"array"}]},required:!1},metaPanelTitle:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},noSelectionDescription:{description:"",type:{name:"string"},required:!1},noSelectionTitle:{description:"",type:{name:"string"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1}}};const Ue=`${j.prefix}--add-select__breadcrumbs`,Ut="AddSelectBreadcrumbs";let oe=({multi:n,onClick:i,path:a})=>{const d=(l,s)=>{l.preventDefault(),i(s)},r=ne(Ue,{[`${Ue}-multi`]:n});return t.createElement(Ct,{noTrailingSlash:!0,className:r},a.map((l,s)=>{const c=s===a.length-1;return t.createElement(At,{key:l.id,isCurrentPage:c,onClick:p=>d(p,s),href:"#"},l.title)}))};oe.propTypes={multi:e.bool,onClick:e.func,path:e.array};oe.displayName=Ut;oe.__docgenInfo={description:"",methods:[],displayName:"AddSelectBreadcrumbs",props:{multi:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},path:{description:"",type:{name:"array"},required:!1}}};const Wt="AddSelectFormControl",z=`${j.prefix}--add-select__selections`;let le=({item:n,onClick:i,selected:a,type:d})=>{const r={onClick:i,className:`${z}-form-control-wrapper ${z}-form-control-wrapper--${d}`,size:20,"aria-labelledby":`control-label-${n.id}`},l=()=>a?t.createElement(St,{...r}):t.createElement(Pt,{...r}),s=()=>a?t.createElement(Ft,{...r}):t.createElement(xt,{...r}),c=()=>{if(n)return d==="checkbox"?l():s()},p=({src:f,alt:b,icon:T,backgroundColor:S,theme:C})=>({className:`${z}-cell-avatar`,size:"lg",theme:C,image:f,imageDescription:b,icon:T,backgroundColor:S}),h=({icon:f})=>t.createElement(f,null);return t.createElement("div",{className:`${z}-form-control`},c(),t.createElement("div",{className:`${z}-form-control-label-wrapper`},n.avatar&&t.createElement(_t,{...p(n.avatar)}),n.icon&&t.createElement("div",{className:`${z}-cell-icon`},h(n)),t.createElement("div",{className:`${z}-form-control-label-text`},t.createElement("span",{className:`${z}-cell-title`,id:`control-label-${n.id}`},n.title),n.subtitle&&t.createElement("span",{className:`${z}-cell-subtitle`},n.subtitle))))};le.propTypes={item:e.object,onClick:e.func,selected:e.bool,type:e.oneOf(["checkbox","radio"])};le.displayName=Wt;le.__docgenInfo={description:"",methods:[],displayName:"AddSelectFormControl",props:{item:{description:"",type:{name:"object"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},selected:{description:"",type:{name:"bool"},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'checkbox'",computed:!1},{value:"'radio'",computed:!1}]},required:!1}}};const R=`${j.prefix}--add-select__selections`,Jt="AddSelectList";let fe=({appliedModifiers:n,displayMetalPanel:i,index:a,focus:d,item:r,metaIconDescription:l,modifiers:s,multi:c,multiSelection:p,navIconDescription:h,parentId:f,parentSelected:b,setAppliedModifiers:T,setDisplayMetaPanel:S,setFocus:C,setMultiSelection:I,setParentSelected:k,setSingleSelection:A,setSize:m,singleSelection:E})=>{var ee;const v=q.useRef(null);q.useEffect(()=>{d===a&&v.current.focus()},[d,a]);const $=()=>c?p.includes(r.id):r.id===E,u=()=>a===0&&d===""||d===a&&d!==""?0:-1,M=q.useCallback(o=>{C(o?"":a)},[C,a]),H=()=>{A(r.id)},Y=({key:o})=>{o==="Enter"||o===" "?c?w():H():o==="ArrowRight"&&r.children&&V()},w=()=>{if($()){const y=p.filter(N=>N!==r.id);I(y)}else{const y=[...p,r.id];I(y)}},V=()=>{M(!0),k(r.id,r.title,f)},B=(o,y)=>{const N=[...n],F=N.findIndex(W=>W.id===o);N[F]={id:o,[s.id]:y},T(N)},g=()=>{r.meta&&S(r)},_=o=>o===(i==null?void 0:i.id),P=((ee=s==null?void 0:s.options)==null?void 0:ee.length)>0,se=u(),G=$(),Z=b===r.id,U={id:`add-select-modifier-${r.id}`,titleText:s==null?void 0:s.title,type:"inline",disabled:!$(),label:s==null?void 0:s.label,items:s==null?void 0:s.options};return t.createElement("div",{className:ne(`${R}-row`,{[`${R}-row--selected`]:$(),[`${R}-row-meta--selected`]:_(r.id),[`${R}-row--active`]:Z,[`${R}-row--focused`]:d===a}),onKeyDown:Y,tabIndex:se,ref:v,role:"row","aria-selected":G,"aria-posinset":a+1,"aria-setsize":m,"aria-expanded":Z},t.createElement("div",{className:`${R}-cell`,role:"gridcell"},t.createElement("div",{className:`${R}-cell-wrapper`},c?t.createElement(t.Fragment,null,t.createElement(le,{type:"checkbox",item:r,selected:G,onClick:w}),P&&t.createElement(Je,null,s!=null&&s.multiSelect?t.createElement(wt,{...U,initialSelectedItems:r[s.id],onChange:({selectedItems:o})=>B(r.id,o)}):t.createElement(We,{...U,className:`${R}-dropdown`,initialSelectedItem:r[s.id],onChange:({selectedItem:o})=>B(r.id,o)}))):t.createElement(le,{type:"radio",item:r,selected:G,onClick:H}),r.children&&t.createElement(X,{className:`${R}-view-children`,renderIcon:o=>t.createElement(Et,{size:16,...o}),iconDescription:h,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,onClick:V,kind:"ghost",size:"sm",tabIndex:-1,"aria-hidden":!0}),r.meta&&t.createElement(X,{className:`${R}-view-meta`,renderIcon:o=>t.createElement(Bt,{size:16,...o}),iconDescription:l,tooltipPosition:"left",tooltipAlignment:"center",hasIconOnly:!0,kind:"ghost",size:"sm",onClick:g}))))};fe.propTypes={appliedModifiers:e.array,displayMetalPanel:e.object,filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),index:e.number,item:e.object,metaIconDescription:e.string,modifiers:e.object,multi:e.bool,multiSelection:e.array,navIconDescription:e.string,parentId:e.string,parentSelected:e.string,setAppliedModifiers:e.func,setDisplayMetaPanel:e.func,setFocus:e.func,setMultiSelection:e.func,setParentSelected:e.func,setSingleSelection:e.func,setSize:e.number,singleSelection:e.string};fe.displayName=Jt;fe.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{appliedModifiers:{description:"",type:{name:"array"},required:!1},displayMetalPanel:{description:"",type:{name:"object"},required:!1},filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},index:{description:"",type:{name:"number"},required:!1},item:{description:"",type:{name:"object"},required:!1},metaIconDescription:{description:"",type:{name:"string"},required:!1},modifiers:{description:"",type:{name:"object"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},navIconDescription:{description:"",type:{name:"string"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},parentSelected:{description:"",type:{name:"string"},required:!1},setAppliedModifiers:{description:"",type:{name:"func"},required:!1},setDisplayMetaPanel:{description:"",type:{name:"func"},required:!1},setFocus:{description:"",type:{name:"func"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setParentSelected:{description:"",type:{name:"func"},required:!1},setSingleSelection:{description:"",type:{name:"func"},required:!1},setSize:{description:"",type:{name:"number"},required:!1},singleSelection:{description:"",type:{name:"string"},required:!1}}};const Qt=n=>{const[i,a]=q.useState(""),d=q.useCallback(r=>{const l=i===""?0:i;r.keyCode===40?(r.preventDefault(),a(l===n-1?0:l+1)):r.keyCode===38&&(r.preventDefault(),a(l===0?n-1:l-1))},[n,i,a]);return q.useEffect(()=>{const r=document.querySelector("#add-select-focus");return r.addEventListener("keydown",d,!1),()=>{r.removeEventListener("keydown",d,!1)}},[d]),[i,a]},ue=`${j.prefix}--add-select__selections`,Xt="AddSelectList";let ce=({filteredItems:n,multi:i,...a})=>{const[d,r]=Qt(n.length);return t.createElement("div",{id:"add-select-focus",className:ne(`${ue}-wrapper`,{[`${ue}-wrapper-multi`]:i})},t.createElement("div",{className:`${ue}`},t.createElement("div",{className:`${ue}-body`,role:"treegrid","aria-label":"add select tree label"},n.map((l,s)=>t.createElement(fe,{key:l.id,index:s,focus:d,setSize:n.length,item:l,multi:i,setFocus:r,...a})))))};ce.propTypes={filteredItems:e.array,focus:e.oneOfType([e.number,e.string]),multi:e.bool};ce.displayName=Xt;ce.__docgenInfo={description:"",methods:[],displayName:"AddSelectList",props:{filteredItems:{description:"",type:{name:"array"},required:!1},focus:{description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},multi:{description:"",type:{name:"bool"},required:!1}}};const Se=`${j.prefix}--add-select-sort`,Yt="AddSelectSort",de=({setSortAttribute:n,setSortDirection:i,sortBy:a,sortByLabel:d})=>{const r=a?a==null?void 0:a.reduce((s,c)=>{const p=[{id:`${c}-asc`,itemText:t.createElement(t.Fragment,null,t.createElement(Rt,{size:16}),c),direction:"asc",attribute:c},{id:`${c}-desc`,itemText:t.createElement(t.Fragment,null,t.createElement(Ot,{size:16}),c),direction:"desc",attribute:c}];return[...s,...p]},[]):[],l=({direction:s,attribute:c})=>{n==null||n(c),i==null||i(s)};return t.createElement("div",{className:Se},r.length>0&&t.createElement(Qe,{renderIcon:s=>t.createElement(Lt,{size:32,...s}),className:`${Se}_overflow`,flipped:!0,"aria-label":d,iconDescription:d},r.map(s=>t.createElement(Dt,{className:`${Se}_overflow-item`,key:s==null?void 0:s.id,itemText:s==null?void 0:s.itemText,onClick:()=>l(s)}))))};de.propTypes={setSortAttribute:e.func,setSortDirection:e.func,sortBy:e.array,sortByLabel:e.string};de.displayName=Yt;de.__docgenInfo={description:"",methods:[],displayName:"AddSelectSort",props:{setSortAttribute:{required:!1,tsType:{name:"signature",type:"function",raw:"(attribute) => void",signature:{arguments:[{name:"attribute"}],return:{name:"void"}}},description:"",type:{name:"func"}},setSortDirection:{required:!1,tsType:{name:"signature",type:"function",raw:"(direction) => void",signature:{arguments:[{name:"direction"}],return:{name:"void"}}},description:"",type:{name:"func"}},sortBy:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:"",type:{name:"array"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}}}};const Ze=n=>n.entries.reduce((a,d)=>{const{children:r,...l}=d;if(a[l.id]=l,r){const s=Ze(r);return{...a,...s}}return a},{}),Zt=(n,i)=>{const a=Object.keys(i);return n.reduce((r,l)=>{const s=l.id,c=a.reduce((p,h)=>{const b=i[h][s];return b&&!p.includes(b)&&p.push(b),p},[]);return r.push({opts:c,...l}),r},[])},et=(n,i)=>(a,d)=>{var s,c;const r=(s=a[n])==null?void 0:s.split(" ").join(""),l=(c=d[n])==null?void 0:c.split(" ").join("");return i==="desc"?r>l?-1:1:r<l?-1:1},er=(n,i,a,d,r,l,s,c,p,h)=>{if(n){const f=Object.keys(i);return a||d?f.reduce((T,S)=>(i[S].title.toLowerCase().includes(a.toLowerCase())&&T.push(i[S]),T),[]).filter(T=>r.every(S=>T[S]===l[S])).sort(s):c?p:h.length>1?h.reduce((b,T,S)=>{var I,k;return S===0?b:(k=(I=b.find(A=>A.id===T.id))==null?void 0:I.children)==null?void 0:k.entries},p.entries):p.entries}else return a?p.entries.filter(f=>f.title.toLowerCase().includes(a.toLowerCase())):p.entries},tt=()=>{const[n,i]=q.useState(""),[a,d]=q.useState("");return{sortDirection:n,setSortDirection:i,sortAttribute:a,setSortAttribute:d}},rt=()=>{const[n,i]=q.useState(null);return{parentSelected:n,setParentSelected:i}},Ee=`${j.prefix}--add-select`,re=`${Ee}__column`,tr="AddSelectColumn";let pe=({columnInputPlaceholder:n,filterByLabel:i,header:a,items:d,multiSelection:r,parentId:l,path:s,setMultiSelection:c,setPath:p,sortByLabel:h,...f})=>{const b=$t(),{parentSelected:T,setParentSelected:S}=rt(),[C,I]=q.useState(""),{sortDirection:k,setSortDirection:A,sortAttribute:m,setSortAttribute:E}=tt(),[v,$]=q.useState([]),{entries:u,filterBy:M,sortBy:H}=d,w=(()=>{const o=s.find(y=>y.parentId===l);return o&&!T?u.find(y=>y.id===o.id):u.find(y=>y.id===T)??null})(),V=w&&s.find(o=>o.id===w.id),B=u.every(o=>r.includes(o.id)),g=M?u.map(o=>o[M]):[],_=(o,{checked:y})=>{const N=u.map(F=>F.id);if(y){const F=[...new Set([...r,...N])];c(F)}else{const F=r.filter(W=>!N.includes(W));c(F)}},P=(o,y)=>{if(o){const N=[...v,y];$(N)}else{const N=v.filter(F=>F!==y);$(N)}},se=o=>o.title.toLowerCase().includes(C),G=o=>{if(v.length===0)return!0;const{filterBy:y}=o,N=o[y];return v.some(F=>F===N)},Z=et(m,k),U=u.filter(se).filter(G).sort(Z),ee=(o,y)=>{S(o),p(o,y,l)};return t.createElement(t.Fragment,null,t.createElement("div",{className:re},t.createElement("div",{className:`${re}-search-bar`},t.createElement(Xe,{value:C,onChange:o=>I(o.target.value),placeholder:n,className:`${re}-input`,id:Ge(),labelText:n,size:"md"}),t.createElement("div",{className:`${re}-sort-filter`},t.createElement(de,{items:u,setSortAttribute:E,setSortDirection:A,sortAttribute:m,sortDirection:k,sortBy:H,sortByLabel:h}),g.length>0&&t.createElement(Qe,{renderIcon:o=>t.createElement(Ye,{size:32,...o}),className:`${re}-overflow`,flipped:!0,"aria-label":i,iconDescription:i},g.map(o=>t.createElement("div",{key:o,className:`${b}--overflow-menu-options__option`},t.createElement("div",{className:`${b}--overflow-menu-options__btn`},t.createElement(Ke,{id:o,labelText:o,onChange:(y,{checked:N})=>P(N,o),checked:!!v.find(y=>y===o)}))))))),t.createElement("div",{className:`${Ee}__tags`},t.createElement(Ke,{id:`${Ge()}-select-all`,className:`${re}__select-all`,checked:B,onChange:_,labelText:t.createElement(t.Fragment,null,t.createElement("span",{className:`${Ee}__tag-label`},a),t.createElement($e,{type:"gray",size:"sm"},U.length))})),t.createElement(ce,{...f,filteredItems:U,setMultiSelection:c,multiSelection:r,setParentSelected:ee,parentSelected:T})),w&&V&&t.createElement(pe,{columnInputPlaceholder:n,header:w.title,items:w.children,multiSelection:r,setMultiSelection:c,parentId:w.id,setPath:p,path:s,sortByLabel:h,filterByLabel:i,...f}))};pe.propTypes={columnInputPlaceholder:e.string,filterByLabel:e.string,header:e.string,items:e.object,multiSelection:e.array,parentId:e.string,path:e.array,setMultiSelection:e.func,setPath:e.func,sortByLabel:e.string};pe.displayName=tr;pe.__docgenInfo={description:"",methods:[],displayName:"AddSelectColumn",props:{columnInputPlaceholder:{description:"",type:{name:"string"},required:!1},filterByLabel:{description:"",type:{name:"string"},required:!1},header:{description:"",type:{name:"string"},required:!1},items:{description:"",type:{name:"object"},required:!1},multiSelection:{description:"",type:{name:"array"},required:!1},parentId:{description:"",type:{name:"string"},required:!1},path:{description:"",type:{name:"array"},required:!1},setMultiSelection:{description:"",type:{name:"func"},required:!1},setPath:{description:"",type:{name:"func"},required:!1},sortByLabel:{description:"",type:{name:"string"},required:!1}}};const O=`${j.prefix}--add-select__global-filter`,rr="AddSelectFilter";let be=({appliedFilters:n,clearFiltersText:i,filterOpts:a,filtersLabel:d,handleFilter:r,handleSearch:l,hasFiltersApplied:s,iconDescription:c,inputLabel:p,inputPlaceholder:h,multi:f,placeholder:b,primaryButtonText:T,searchTerm:S,secondaryButtonText:C})=>{const[I,k]=q.useState({}),[A,m]=q.useState(!1),E=g=>{l(g.target.value)},v=({selectedItem:g},_)=>{k({...I,[_]:g})},$=()=>{m(!1),r(I)},u=()=>{k({})},M=()=>{u(),r({})},H=g=>{const _={...I};delete _[g],k(_),r(_)},Y=g=>I[g]||"",w=f&&(a==null?void 0:a.length)>0,V=ne(`${O}-toggle`,{[`${O}-toggle--open`]:A}),B=Object.keys(I).length>0;return t.createElement(t.Fragment,null,t.createElement("div",{className:`${O}-search`},t.createElement(Xe,{id:"add-select-global-search-filter",labelText:p,placeholder:h,value:S,onChange:E}),w&&t.createElement(X,{renderIcon:g=>t.createElement(Ye,{size:16,...g}),hasIconOnly:!0,kind:"ghost",onClick:()=>m(!A),iconDescription:c,className:V,size:"md",tooltipPosition:"left"}),A&&t.createElement(Je,{className:O,level:1},t.createElement("div",{className:`${O}-content`},t.createElement("p",null,d),t.createElement("div",{className:`${O}-opts`},a.map(g=>t.createElement(We,{key:g.id,id:g.id,titleText:g.label,items:g.opts,onChange:_=>v(_,g.id),selectedItem:Y(g.id),label:b})))),t.createElement(jt,{className:`${O}-button-set`},t.createElement(X,{kind:"secondary",onClick:u,className:`${O}-button`,disabled:!B},C),t.createElement(X,{kind:"primary",onClick:$,className:`${O}-button`,disabled:!B&&!s},T)))),s&&t.createElement("div",{className:`${O}-applied`},Object.keys(n).map(g=>t.createElement(zt,{key:g,text:`${g}: ${n[g]}`,type:"gray",size:"sm",onClose:()=>H(g)})),t.createElement(X,{kind:"ghost",size:"sm",onClick:M},i)))};be.propTypes={appliedFilters:e.object,clearFiltersText:e.string,filterOpts:e.array,filtersLabel:e.string,handleFilter:e.func,handleSearch:e.func,hasFiltersApplied:e.bool,iconDescription:e.string,inputLabel:e.string.isRequired,inputPlaceholder:e.string,multi:e.bool,placeholder:e.string,primaryButtonText:e.string,searchTerm:e.string,secondaryButtonText:e.string};be.displayName=rr;be.__docgenInfo={description:"",methods:[],displayName:"AddSelectFilter",props:{appliedFilters:{description:"",type:{name:"object"},required:!1},clearFiltersText:{description:"",type:{name:"string"},required:!1},filterOpts:{description:"",type:{name:"array"},required:!1},filtersLabel:{description:"",type:{name:"string"},required:!1},handleFilter:{description:"",type:{name:"func"},required:!1},handleSearch:{description:"",type:{name:"func"},required:!1},hasFiltersApplied:{description:"",type:{name:"bool"},required:!1},iconDescription:{description:"",type:{name:"string"},required:!1},inputLabel:{description:"",type:{name:"string"},required:!0},inputPlaceholder:{description:"",type:{name:"string"},required:!1},multi:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},primaryButtonText:{description:"",type:{name:"string"},required:!1},searchTerm:{description:"",type:{name:"string"},required:!1},secondaryButtonText:{description:"",type:{name:"string"},required:!1}}};const nr=(n="")=>{const[i,a]=q.useState([{id:"base_of_path",title:n}]);return q.useEffect(()=>{a([{id:"base_of_path",title:n}])},[n]),{path:i,setPath:(s,c,p)=>{if(i.find(f=>f.id===s))return;const h={id:s,title:c,...p&&{parentId:p}};if(i.find(f=>f.parentId===p)){const f=i.findIndex(T=>T.id===p),b=[...i];b.length=f+1,a([...b,h])}else a([...i,h])},pathOnclick:s=>{const c=[...i];c.length=s+1,a([...c])},resetPath:()=>{a([{id:"base_of_path",title:n}])}}},L=`${j.prefix}--add-select`,sr="AddSelectBody",Ne=q.forwardRef(({className:n,clearFiltersText:i,closeIconDescription:a,columnInputPlaceholder:d,defaultModifiers:r,description:l,filterByLabel:s,globalFilterOpts:c,globalFiltersLabel:p,globalFiltersIconDescription:h,globalFiltersPlaceholderText:f,globalFiltersPrimaryButtonText:b,globalFiltersSecondaryButtonText:T,globalSearchLabel:S,globalSearchPlaceholder:C,globalSortBy:I,illustrationTheme:k,influencerTitle:A,items:m,itemsLabel:E,metaIconDescription:v,metaPanelTitle:$,multi:u,navIconDescription:M,noResultsDescription:H,noResultsTitle:Y,noSelectionDescription:w,noSelectionTitle:V,normalizedItems:B,onClose:g,onCloseButtonText:_,onSubmit:P,onSubmitButtonText:se,open:G,portalTarget:Z,searchResultsTitle:U,sortByLabel:ee,title:o,useNormalizedItems:y,...N},F)=>{var Ve;const[W,ke]=q.useState(""),[ae,Ce]=q.useState([]),[J,Ae]=q.useState(""),[he,we]=q.useState({}),[_e,qe]=q.useState({}),[D,Pe]=q.useState(r),{sortDirection:nt,setSortDirection:Fe,sortAttribute:st,setSortAttribute:xe}=tt(),{parentSelected:Be,setParentSelected:De}=rt(),{path:te,setPath:Re,pathOnclick:at,resetPath:it}=nr(E),lt=()=>{ke(""),Ce([]),Ae(""),we({}),qe({}),Pe(r),xe(""),Fe(""),De(null),it()},Oe=()=>{lt(),g==null||g()},ot=ne(n,L,{[`${L}__single`]:!u,[`${L}__multi`]:u}),Le=Object.keys(he),ie=Le.length>0,ct=K=>{Ae(K)},dt=K=>{we(K)},pt=()=>{if(u&&D&&(D==null?void 0:D.length)>0){const K=ae.map(Te=>D.find(ve=>ve.id===Te));P==null||P(K)}else u&&(D==null?void 0:D.length)===0?P==null||P(ae):P==null||P(W);Oe()},mt=()=>!(y===!1||J||ie),ut=()=>J?!0:!(y&&u),gt=(K,Te,ve)=>{De(K),Re(K,Te,ve)},yt=et(st,nt),me=er(y,B,J,ie,Le,he,yt,u,m,te),je=me.length>0,ft=mt(),bt=(J||ie)&&je,ht=ut(),ze={displayMetalPanel:_e,metaIconDescription:v,multi:u,multiSelection:ae,navIconDescription:M,path:te,setMultiSelection:Ce,setPath:Re,setSingleSelection:ke,singleSelection:W,setDisplayMetaPanel:qe,parentId:te[0].id},Me={...N,className:ot,open:G,title:o,description:l,actions:[{label:_,kind:"secondary",onClick:Oe},{label:se,kind:"primary",onClick:pt,disabled:u?ae.length===0:!W}],portalTarget:Z,ref:F},qt={appliedModifiers:D,closeIconDescription:a,displayMetalPanel:_e,illustrationTheme:k,influencerTitle:A,items:y?B:m==null?void 0:m.entries,metaPanelTitle:$,modifiers:m==null?void 0:m.modifiers,multiSelection:ae,noSelectionDescription:w,noSelectionTitle:V,setDisplayMetaPanel:qe},Tt=u&&y&&!J&&!ie,He=t.createElement(t.Fragment,null,t.createElement("div",{id:"add-select",className:`${L}__header`},t.createElement(be,{inputLabel:S,inputPlaceholder:C,searchTerm:J,handleSearch:ct,multi:u,filterOpts:c,filtersLabel:p,handleFilter:dt,primaryButtonText:b,secondaryButtonText:T,placeholder:f,iconDescription:h,appliedFilters:he,hasFiltersApplied:ie,clearFiltersText:i}),t.createElement("div",{className:ne(`${L}__sub-header`,{[`${L}__sub-header-multi`]:u})},t.createElement("div",{className:`${L}__tags`},ft?t.createElement(oe,{path:te,onClick:at,multi:u}):t.createElement("p",{className:`${L}__tags-label`},J?U:E),ht&&t.createElement($e,{type:"gray",size:"sm"},me.length)),bt&&t.createElement(de,{setSortAttribute:xe,setSortDirection:Fe,sortBy:I}))),Tt?t.createElement("div",{className:`${L}__columns`},t.createElement(pe,{...ze,items:me,columnInputPlaceholder:d,header:(Ve=te[0])==null?void 0:Ve.title,filterByLabel:s,sortByLabel:ee})):t.createElement("div",null,je?t.createElement(ce,{...ze,filteredItems:me,modifiers:m==null?void 0:m.modifiers,appliedModifiers:D,setAppliedModifiers:Pe,setParentSelected:gt,parentSelected:Be,parentId:Be||te[0].id}):t.createElement("div",{className:`${L}__body`},t.createElement(Mt,{subtitle:H,title:Y,illustrationTheme:k}))));return u?t.createElement(Ht,{...Me,influencer:u&&t.createElement(ye,{...qt}),influencerPosition:"right"},He):t.createElement(Vt,{...Me},He)});Ne.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string,columnInputPlaceholder:e.string,defaultModifiers:e.array,description:e.string,filterByLabel:e.string,globalFilterOpts:e.array,globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array,multiSelect:e.bool}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.oneOfType([e.func,e.object]),src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.oneOfType([e.func,e.object]),id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired}))}),itemsLabel:e.string,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool,navIconDescription:e.string,noResultsDescription:e.string,noResultsTitle:e.string,noSelectionDescription:e.string,noSelectionTitle:e.string,normalizedItems:e.object,onClose:e.func,onCloseButtonText:e.string,onSubmit:e.func,onSubmitButtonText:e.string,open:e.bool,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string,useNormalizedItems:e.bool};oe.displayName=sr;Ne.__docgenInfo={description:"",methods:[],displayName:"AddSelectBody",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},defaultModifiers:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},description:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilterOpts:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1},multiSelect:{name:"bool",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!1}}}},itemsLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},normalizedItems:{required:!1,tsType:{name:"object"},description:"",type:{name:"object"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onCloseButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection) => void",signature:{arguments:[{name:"selection"}],return:{name:"void"}}},description:"",type:{name:"func"}},onSubmitButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},open:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},useNormalizedItems:{required:!1,tsType:{name:"boolean"},description:"",type:{name:"bool"}}}};const ar="AddSelect",Ie=q.forwardRef(({items:n={entries:[]},globalFilters:i,...a},d)=>{const r=!!n.entries.find(p=>p.children),l=r?Ze(n):null,s=a.multi&&(i!=null&&i.length)?Zt(i,l):null,c=a.multi&&n.modifiers?n.entries.map(p=>{var b;const h=(b=n==null?void 0:n.modifiers)==null?void 0:b.id;return{...{id:p.id},...h&&{[h]:p[h]}}}):[];return t.createElement(Ne,{...a,ref:d,items:n,normalizedItems:l,useNormalizedItems:r,globalFilterOpts:s,defaultModifiers:c})});Ie.propTypes={className:e.string,clearFiltersText:e.string,closeIconDescription:e.string.isRequired,columnInputPlaceholder:e.string,description:e.string.isRequired,filterByLabel:e.string,globalFilters:e.arrayOf(e.shape({id:e.string,label:e.string})),globalFiltersIconDescription:e.string,globalFiltersLabel:e.string,globalFiltersPlaceholderText:e.string,globalFiltersPrimaryButtonText:e.string,globalFiltersSecondaryButtonText:e.string,globalSearchLabel:e.string.isRequired,globalSearchPlaceholder:e.string,globalSortBy:e.array,illustrationTheme:e.oneOf(["light","dark"]),influencerTitle:e.string,items:e.shape({modifiers:e.shape({id:e.string,label:e.string,options:e.array,multiSelect:e.bool}),sortBy:e.array,filterBy:e.array,entries:e.arrayOf(e.shape({avatar:e.shape({alt:e.string,icon:e.func,src:e.string,theme:e.oneOf(["light","dark"])}),children:e.object,icon:e.func,id:e.string.isRequired,meta:e.oneOfType([e.arrayOf(e.shape({id:e.string,title:e.string,value:e.string})),e.node]),subtitle:e.string,title:e.string.isRequired,value:e.string.isRequired})).isRequired}).isRequired,itemsLabel:e.string.isRequired,metaIconDescription:e.string,metaPanelTitle:e.string,multi:e.bool.isRequired,navIconDescription:e.string,noResultsDescription:e.string.isRequired,noResultsTitle:e.string.isRequired,noSelectionDescription:e.string,noSelectionTitle:e.string,onClose:e.func.isRequired,onCloseButtonText:e.string.isRequired,onSubmit:e.func.isRequired,onSubmitButtonText:e.string.isRequired,open:e.bool.isRequired,portalTarget:e.node,searchResultsTitle:e.string,sortByLabel:e.string,title:e.string.isRequired};Ie.displayName=ar;Ie.__docgenInfo={description:"",methods:[],displayName:"AddSelect",props:{className:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},closeIconDescription:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},columnInputPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},description:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},filterByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFilters:{required:!1,tsType:{name:"Array",elements:[{name:"Filter"}],raw:"Filter[]"},description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}}},globalFiltersIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPlaceholderText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersPrimaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalFiltersSecondaryButtonText:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},globalSearchPlaceholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},globalSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"Array<any>"},description:"",type:{name:"array"}},illustrationTheme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},influencerTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},items:{required:!1,tsType:{name:"Item"},description:"",defaultValue:{value:"{ entries: [] }",computed:!1},type:{name:"shape",value:{modifiers:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1},options:{name:"array",required:!1},multiSelect:{name:"bool",required:!1}},required:!1},sortBy:{name:"array",required:!1},filterBy:{name:"array",required:!1},entries:{name:"arrayOf",value:{name:"shape",value:{avatar:{name:"shape",value:{alt:{name:"string",required:!1},icon:{name:"func",required:!1},src:{name:"string",required:!1},theme:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}],required:!1}},required:!1},children:{name:"object",required:!1},icon:{name:"func",required:!1},id:{name:"string",required:!0},meta:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},title:{name:"string",required:!1},value:{name:"string",required:!1}}}},{name:"node"}],required:!1},subtitle:{name:"string",required:!1},title:{name:"string",required:!0},value:{name:"string",required:!0}}},required:!0}}}},itemsLabel:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},metaIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},metaPanelTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},multi:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}},navIconDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsDescription:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},noResultsTitle:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionDescription:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},noSelectionTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onCloseButtonText:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},onSubmitButtonText:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},open:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"portal target for the all tags modal",type:{name:"node"}},searchResultsTitle:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},sortByLabel:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},title:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}}}};export{Ie as A};
