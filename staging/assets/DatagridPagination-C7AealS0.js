import{R as s,r as p}from"./index-BwDkhjyp.js";import{b as pe,k as me,c as I,_ as fe}from"./index-C8rbkH0g.js";import{P as e}from"./index-Dk74W0Oi.js";import{S as L}from"./Select-CD-qysfH.js";import{S as F}from"./SelectItem-23yACZRt.js";import{I as q}from"./settings-DI4GKhuL.js";import{c as de,d as be}from"./bucket-2-BgPkDhJt.js";function xe(n,i){if(!Array.isArray(n)||!Array.isArray(i)||n.length!==i.length)return!1;if(n===i)return!0;for(let o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0}var M,A;function O(n){return typeof n[0]=="object"&&n[0]!==null?n:n.map(i=>({text:i,value:i}))}function _e(n){let i=1;const o=[];for(;i<=n;)o.push(s.createElement(F,{key:i,value:i,text:String(i)})),i++;return o}function B(n,i){return i&&n.find(f=>i===f.value)?i:n[0].value}const U=s.forwardRef(function(i,o){let{backwardText:f="Previous page",className:v="",disabled:d=!1,forwardText:z="Next page",id:N,isLastPage:j=!1,itemText:G=(t,r)=>`${t}–${r} items`,itemRangeText:k=(t,r,m)=>`${t}–${r} of ${m} items`,itemsPerPageText:H="Items per page:",onChange:u,pageNumberText:Pe="Page Number",pageRangeText:J=(t,r)=>`of ${r} ${r===1?"page":"pages"}`,page:S=1,pageInputDisabled:K,pageSize:P,pageSizeInputDisabled:Q,pageSizes:h,pageText:V=t=>`page ${t}`,pagesUnknown:C=!1,size:y="md",totalItems:c,...W}=i;const a=pe(),T=me(N==null?void 0:N.toString()),b=p.useRef(null),x=p.useRef(null),[E,X]=p.useState(()=>O(h)),[Y,Z]=p.useState(h),[l,_]=p.useState(S),[ee,te]=p.useState(S),[g,R]=p.useState(()=>B(E,P)),[ae,ne]=p.useState(P),ie=I({[`${a}--pagination`]:!0,[`${a}--pagination--${y}`]:y,[v]:!!v}),$=c?Math.max(Math.ceil(c/g),1):1,w=d||l===1,se=I({[`${a}--pagination__button`]:!0,[`${a}--pagination__button--backward`]:!0,[`${a}--pagination__button--no-index`]:w}),D=d||l===$&&!C,re=I({[`${a}--pagination__button`]:!0,[`${a}--pagination__button--forward`]:!0,[`${a}--pagination__button--no-index`]:D}),oe=_e($);if(S!==ee&&(_(S),te(S)),P!==ae&&(R(B(E,P)),ne(P)),!xe(h,Y)){const t=O(h);t.find(m=>m.value===g)||_(1),X(t),Z(h)}function le(t){const m={pageSize:Number(t.target.value),page:1};_(m.page),R(m.pageSize),u&&u(m)}function ge(t){const r=Number(t.target.value);r>0&&c&&r<=Math.max(Math.ceil(c/g),1)&&(_(r),u&&u({page:r,pageSize:g}))}function ce(){const t=l+1;_(t),t===$&&(b!=null&&b.current)&&b.current.focus(),u&&u({page:t,pageSize:g,ref:b})}function ue(){const t=l-1;_(t),t===1&&(x!=null&&x.current)&&x.current.focus(),u&&u({page:t,pageSize:g,ref:x})}return s.createElement("div",fe({className:ie,ref:o},W),s.createElement("div",{className:`${a}--pagination__left`},s.createElement("label",{id:`${a}-pagination-select-${T}-count-label`,className:`${a}--pagination__text`,htmlFor:`${a}-pagination-select-${T}`},H),s.createElement(L,{id:`${a}-pagination-select-${T}`,className:`${a}--select__item-count`,labelText:"",hideLabel:!0,noLabel:!0,inline:!0,onChange:le,disabled:Q||d,value:g},E.map(t=>s.createElement(F,{key:t.value,value:t.value,text:String(t.text)}))),s.createElement("span",{className:`${a}--pagination__text ${a}--pagination__items-count`},C||!c?c===0?k(0,0,0):G(g*(l-1)+1,l*g):k(Math.min(g*(l-1)+1,c),Math.min(l*g,c),c))),s.createElement("div",{className:`${a}--pagination__right`},C?s.createElement("span",{className:`${a}--pagination__text ${a}--pagination__page-text ${a}--pagination__unknown-pages-text`},V(l)):s.createElement(s.Fragment,null,s.createElement(L,{id:`${a}-pagination-select-${T}-right`,className:`${a}--select__page-number`,labelText:`Page number, of ${$} pages`,inline:!0,hideLabel:!0,onChange:ge,value:l,disabled:K||d},oe),s.createElement("span",{className:`${a}--pagination__text`},J(l,$))),s.createElement("div",{className:`${a}--pagination__control-buttons`},s.createElement(q,{align:"top",disabled:w,kind:"ghost",className:se,label:f,"aria-label":f,onClick:ue,ref:b},M||(M=s.createElement(de,null))),s.createElement(q,{align:"top-right",disabled:D||j,kind:"ghost",className:re,label:z,"aria-label":z,onClick:ce,ref:x},A||(A=s.createElement(be,null))))))});U.propTypes={backwardText:e.string,className:e.string,disabled:e.bool,forwardText:e.string,id:e.oneOfType([e.string,e.number]),isLastPage:e.bool,itemRangeText:e.func,itemText:e.func,itemsPerPageText:e.string,onChange:e.func,page:e.number,pageInputDisabled:e.bool,pageNumberText:e.string,pageRangeText:e.func,pageSize:e.number,pageSizeInputDisabled:e.bool,pageSizes:e.oneOfType([e.arrayOf(e.number.isRequired),e.arrayOf(e.shape({text:e.string.isRequired,value:e.number.isRequired}).isRequired)]).isRequired,pageText:e.func,pagesUnknown:e.bool,size:e.oneOf(["sm","md","lg"]),totalItems:e.number};const Se=({state:n,setPageSize:i,gotoPage:o,rows:f})=>{const v=({page:d,pageSize:z})=>{console.log(n),i(z),o(d-1)};return s.createElement(U,{page:n.pageIndex+1,pageSize:n.pageSize,pageSizes:n.pageSizes||[10,20,30,40,50],totalItems:f.length,onChange:v})};Se.__docgenInfo={description:"",methods:[],displayName:"DatagridPagination"};export{Se as D};
