import{b as N,i as R,d as T,_ as b,m as k,k as E,P as a}from"./index-C360Eztx.js";import{e as x,r as o}from"./index-DtHxqM--.js";import{u as B}from"./index-BopFi8TB.js";const D=()=>{},y=x.forwardRef(function({children:p,className:f,expanded:n,addFocusListeners:P=!0,onHeaderPanelFocus:c=D,href:u,..._},$){const s=N(),r=o.useRef(null),g=R([r,$]),S=o.useRef(n!==void 0).current,[v,i]=o.useState(n),H=S?n:v,[l,m]=o.useState(null),L=T(`${s}--header-panel`,{[`${s}--header-panel--expanded`]:H,[f]:!!f}),d={};return P&&(d.onBlur=e=>{var t;!e.currentTarget.contains(e.relatedTarget)&&!((t=l==null?void 0:l.classList)!=null&&t.contains(`${s}--switcher__item-link`))&&(i(!1),m(null),n&&c())},d.onKeyDown=e=>{k(e,E)&&(i(!1),c(),u&&(window.location.href=u))}),B("click",()=>{var h,w;const e=document.activeElement;m(e);const t=p;((h=t==null?void 0:t.type)==null?void 0:h.displayName)==="Switcher"&&!(e!=null&&e.closest(`.${s}--header-panel--expanded`))&&!(e!=null&&e.closest(`.${s}--header__action`))&&!((w=r==null?void 0:r.current)!=null&&w.classList.contains(`${s}--switcher`))&&n&&(i(!1),c())}),x.createElement("div",b({},_,{className:L,ref:g},d),p)});y.propTypes={addFocusListeners:a.bool,children:a.node,className:a.string,expanded:a.bool,href:a.string,onHeaderPanelFocus:a.func};y.displayName="HeaderPanel";export{y as H};
