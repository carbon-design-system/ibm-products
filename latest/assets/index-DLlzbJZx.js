import{u as j,c as D,b as P,s as q,a as K,e as S,d as u,_ as L,k as U,f as G,P as e}from"./index-5As4T26e.js";import{r as d,e as m}from"./index-DzvNrmz8.js";import{B as H}from"./settings-CP9zVSjJ.js";import{b as J,a as Q}from"./useAttachedMenu-ByErO-AK.js";import{m as V}from"./mergeRefs-CTUecegF.js";const W=["primary","tertiary","ghost"],X="primary",Y=d.forwardRef(function(g,b){let{children:y,className:h,disabled:x,kind:w=X,label:f,size:p="lg",menuAlignment:n="bottom",tabIndex:C=0,menuTarget:_,...k}=g;const E=j("enable-v12-dynamic-floating-styles"),i=D("MenuButton"),a=P(),o=d.useRef(null);let l=[];E||(l=[G({crossAxis:!1})]),(n==="bottom"||n==="top")&&l.push(q({apply(r){let{rects:I,elements:T}=r;Object.assign(T.floating.style,{width:`${I.reference.width}px`})}}));const{refs:s,floatingStyles:c,placement:M,middlewareData:O}=K({placement:n,strategy:"fixed",middleware:l,whileElementsMounted:S}),R=V(b,o),{open:t,handleClick:$,handleMousedown:B,handleClose:v}=J(o);d.useLayoutEffect(()=>{Object.keys(c).forEach(r=>{s.floating.current&&(s.floating.current.style[r]=c[r])})},[c,s.floating,O,M,t]);function z(){o.current&&$()}const A=u(`${a}--menu-button__container`,h),F=u(`${a}--menu-button__trigger`,{[`${a}--menu-button__trigger--open`]:t}),N=u(`${a}--menu-button__${n}`);return m.createElement("div",L({},k,{ref:R,"aria-owns":t?i:void 0,className:A}),m.createElement(H,{ref:s.setReference,className:F,size:p,tabIndex:C,kind:w,renderIcon:U,disabled:x,"aria-haspopup":!0,"aria-expanded":t,onClick:z,onMouseDown:B,"aria-controls":t?i:void 0},f),m.createElement(Q,{containerRef:o,menuAlignment:n,className:N,ref:s.setFloating,id:i,legacyAutoalign:!1,label:f,mode:"basic",size:p,open:t,onClose:v,target:_},y))});Y.propTypes={children:e.node.isRequired,className:e.string,disabled:e.bool,kind:e.oneOf(W),label:e.string.isRequired,menuAlignment:e.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end"]),size:e.oneOf(["sm","md","lg"]),tabIndex:e.number,menuTarget:e.instanceOf(typeof Element<"u"?Element:Object)};export{Y as M};
