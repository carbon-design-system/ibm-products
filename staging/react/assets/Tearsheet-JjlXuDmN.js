import{r as s,p as de,e,c as T,O as ue,aO as pe,u as me,J as fe,aw as he}from"./iframe-BbTYfv9-.js";import{M as ye,C as ge,a as be}from"./ComposedModal-DsGf30ws.js";import{T as _e}from"./TruncatedText-C1WRpy-Y.js";import{L as Te}from"./index-CiA8v0SK.js";import{S as A}from"./SidePanel-D6d9CzGJ.js";import{M as we}from"./MenuItem-C_s8hbQW.js";import{M as ve}from"./index-CqBphhZJ.js";import"./documentLang-E105Y72C.js";import{L as Ne}from"./overflowHandler-6nRVSJRW.js";import{u as $}from"./useIsomorphicEffect-omIe2Oju.js";import{u as Ce}from"./usePortalTarget-CQmsAlyZ.js";import{u as Ee}from"./useResizeObserver-DG4fyqZH.js";import{u as Re}from"./useId-C2YpaygB.js";const C=s.createContext({hasCloseIcon:!0,fullyCollapsed:!1,disableHeaderCollapse:!1,variant:"wide",isSm:!1}),t=`${de.prefix}--tearsheet__next`,x=e.forwardRef((a,n)=>{const{children:c,closeIconDescription:o,hideCloseButton:r=!1,className:i,disableHeaderCollapse:d,...m}=a,{setHasCloseIcon:f,fullyCollapsed:l,onClose:y,setDisableHeaderCollapse:u}=s.useContext(C),h=s.useRef(void 0),p=n||h;return s.useEffect(()=>{f?.(!!r)},[r,f]),s.useEffect(()=>{u?.(!!d)},[d,u]),e.createElement(ye,{ref:p,className:T(`${t}__header`,{[`${i}`]:!0,[`${t}__header--with-close-icon`]:!!r,[`${t}__header-collapsed`]:l}),closeClassName:T({[`${t}__header--no-close-icon`]:r}),closeModal:y,iconDescription:o,...m},c)}),L=e.forwardRef((a,n)=>{const{children:c,scroller:o,className:r,...i}=a;return e.createElement("div",{className:`${t}__navigation-bar  ${r}`,...i},c,o)}),D=e.forwardRef(function({className:n,children:c,label:o,onClick:r,collapseText:i="Collapse",expandText:d="Expand",...m},f){const{fullyCollapsed:l,setFullyCollapsed:y}=e.useContext(C),u=h=>{y?.(!h)};return e.createElement("span",{className:`${t}__scroller-container  ${n}`},e.createElement(ue,{ref:f,label:l?d:i,size:"md",kind:"ghost",autoAlign:!0,...m,onClick:h=>{r?.(h),u(!!l)},className:T(n,`${t}__scroller-button`)},e.createElement(pe,{className:T(`${t}__scroller-button-icon`,{[`${t}__scroller-button-icon-collapsed`]:l})})))});x.__docgenInfo={description:"",methods:[],displayName:"TearsheetHeader",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:`Provide the optional content for header section and will be render after header titles and before progress indicator.
People can make use of this if they want to have custom header.`},closeIconDescription:{required:!1,tsType:{name:"string"},description:`The accessibility title for the close icon (if shown).

**Note:** This prop is only required if a close icon is shown, i.e. if
there are a no navigation actions and/or hasCloseIcon is true.`},hideCloseButton:{required:!1,tsType:{name:"boolean"},description:`Enable a close icon ('x') in the header area of the tearsheet. By default,
(when this prop is omitted, or undefined or null) a tearsheet does not
display a close icon if there are navigation actions ("transactional
tearsheet") and displays one if there are no navigation actions ("passive
tearsheet"), and that behavior can be overridden if required by setting
this prop to either true or false.`},className:{required:!1,tsType:{name:"string"},description:""},disableHeaderCollapse:{required:!1,tsType:{name:"boolean"},description:"Default header collapse/expand while scrolling the main content can bd disabled  by setting this"}}};L.__docgenInfo={description:"",methods:[],displayName:"TearsheetNavigationBar",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},scroller:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};D.__docgenInfo={description:"",methods:[],displayName:"TearsheetScrollButton",props:{collapseText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Collapse'",computed:!1}},expandText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Expand'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}},composes:["IconButtonProps"]};const F=e.forwardRef((a,n)=>{const{children:c,label:o,title:r,description:i,headerActions:d,titleStart:m,titleEnd:f,...l}=a;return e.createElement("div",{className:`${t}__header-content-wrapper`,ref:n},e.createElement("div",{className:`${t}__header-content`},o?e.createElement("div",{className:`${t}__header-label`},o):null,e.createElement("div",{className:`${t}__content__title-wrapper`},e.createElement("h2",{className:T(`${t}__header-title`)},m?e.createElement("span",{className:`${t}__title-start`},m):null,e.createElement(_e,{id:`${t}__header-title__truncatedText`,className:`${t}__content__title`,align:"bottom",autoAlign:!0,value:r}),f?e.createElement("span",{className:`${t}__title-end`},f):null)),e.createElement("div",{className:`${t}__header-description`},i),c&&e.createElement("div",{className:`${t}__header-content--extra`},c)),d&&e.createElement("div",{className:`${t}__header-actions`},d))});F.__docgenInfo={description:"",methods:[],displayName:"TearsheetHeaderContent",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:`Provide the optional content for header section and will be render after header titles and before progress indicator.
People can make use of this if they want to have custom header.`},title:{required:!0,tsType:{name:"string"},description:"The main title of the tearsheet."},label:{required:!1,tsType:{name:"ReactNode"},description:`A label for the tearsheet, displayed above the title
to maintain context for the tearsheet (e.g. as the title changes from page
to page of a multi-page task).`},description:{required:!1,tsType:{name:"ReactNode"},description:"A description of the flow, displayed in the header area of the tearsheet."},titleStart:{required:!1,tsType:{name:"ReactNode"},description:"This can be used to render a content just before the title like an icon"},titleEnd:{required:!1,tsType:{name:"ReactNode"},description:"This can be used to render a content just after the title like an icon"},headerActions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The PageHeaderContent's page actions"}}};function qe({container:a,triggerCollapse:n,disableHeaderCollapse:c=!1}){s.useEffect(()=>{if(!a||c)return;let o=null,r=!1;const i=l=>{o=l.clientY,r=!0},d=l=>{if(!r||o===null)return;const y=o-l.clientY;y>5?n(!0):y<-5&&n(!1)},m=()=>{r=!1,o=null,document.body.style.cursor="default"},f=l=>{l.deltaY>0?n(!0):l.deltaY<0&&n(!1)};return a.addEventListener("pointerdown",i),a.addEventListener("pointermove",d),a.addEventListener("pointerup",m),a.addEventListener("wheel",f),()=>{a.removeEventListener("pointerdown",i),a.removeEventListener("pointermove",d),a.removeEventListener("pointerup",m),a.removeEventListener("wheel",f)}},[a,n,c])}const P=s.forwardRef(({children:a,className:n},c)=>e.createElement("div",{className:`${t}__body ${n}`,ref:c},a)),z=s.forwardRef(({children:a,className:n,isFlush:c,...o},r)=>{const i=s.useRef(null),d=r||i,{setFullyCollapsed:m,disableHeaderCollapse:f}=s.useContext(C),l=typeof d=="function"?null:d?.current??null;return qe({container:l,triggerCollapse:u=>{l&&(u?l.scrollHeight>l.clientHeight&&m?.(!0):l.scrollTop===0&&m?.(!1))},disableHeaderCollapse:f}),e.createElement(Te,{withBackground:!0,className:T(`${t}__main-content`,n,{[`${t}__flush`]:c}),ref:d,...o},a)}),V=s.forwardRef(({children:a,className:n,summaryPanelOpen:c=!1,onSummaryPanelClose:o,isFlush:r},i)=>{const{isSm:d}=s.useContext(C);return d?e.createElement(A,{size:"sm",open:c,onRequestClose:o,className:n},a):e.createElement("div",{className:T(`${t}__summary-content`,n,{[`${t}__flush`]:r}),ref:i},e.createElement("aside",null,a))}),H=s.forwardRef(({children:a,className:n,influencerPanelOpen:c=!1,onInfluencerPanelClose:o,isFlush:r},i)=>{const{isSm:d}=s.useContext(C);return d?e.createElement(A,{size:"sm",open:c,onRequestClose:o,placement:"left",className:n},a):e.createElement("aside",{className:T(`${t}__influencer`,n,{[`${t}__flush`]:r}),ref:i},a)});z.__docgenInfo={description:`----------------
MainContent
----------------`,methods:[],displayName:"MainContent",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},isFlush:{required:!1,tsType:{name:"boolean"},description:"this can be set take full width without any padding"}}};V.__docgenInfo={description:"",methods:[],displayName:"SummaryContent",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},summaryPanelOpen:{required:!1,tsType:{name:"boolean"},description:"In mobile screens right side details section wont be visible by default. This prop can be toggled to open/close right panel in this case.",defaultValue:{value:"false",computed:!1}},isFlush:{required:!1,tsType:{name:"boolean"},description:"this can be set take full width without any padding"}}};H.__docgenInfo={description:"",methods:[],displayName:"Influencer",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},influencerPanelOpen:{required:!1,tsType:{name:"boolean"},description:"In mobile screens right side details section wont be visible by default. This prop can be toggled to open/close right panel in this case.",defaultValue:{value:"false",computed:!1}},isFlush:{required:!1,tsType:{name:"boolean"},description:"this can be set take full width without any padding"}}};P.__docgenInfo={description:"",methods:[],displayName:"TearsheetBody",props:{children:{required:!1,tsType:{name:"ReactNode"},description:"Optional static content for body"},className:{required:!1,tsType:{name:"string"},description:"Provide an optional class to be applied to the containing node."}}};const O=({className:a,children:n,menuButtonProps:c})=>{const o=s.useRef(null),r=s.useRef(null),[i,d]=s.useState(!1),[m,f]=s.useState([]),l=s.useRef(!1);$(()=>{if(i&&r.current){const u=r.current.offsetWidth;document.documentElement.style.setProperty("--tearsheet-header-title-grid-width",`${u}px`)}},[i]);const y=e.Children.toArray(n).filter(u=>(e.isValidElement(u)&&u.type!==M&&(l.current=!0),e.isValidElement(u)));return $(()=>{!o.current||l.current||Ne({container:o.current,onChange:(u,h)=>{f(y?.slice(u.length)),h.length>0&&d(!0)}})},[o.current]),e.createElement("div",{className:`${t}__content__header-actions  ${a}`,ref:o},n,!l.current&&e.createElement("span",{"data-offset":!0,"data-hidden":!0,ref:r,className:T(`${t}__header-actions-menuButton`,{[`${t}__header-actions-menuButton--hidden`]:m.length===0})},e.createElement(ve,{size:"sm",...c},m.map(u=>{if(!e.isValidElement(u))return null;const h=u.props;return e.createElement(we,{renderIcon:h?.children?.props?.renderIcon??void 0,key:h.id,onClick:h?.children?.props?.onClick,label:h.overflowItemLabel})}))))},M=({children:a,className:n})=>e.createElement("div",{className:`${t}__header-action-item  ${n}`},a);O.__docgenInfo={description:"",methods:[],displayName:"TearsheetHeaderActions",props:{children:{required:!0,tsType:{name:"Array",elements:[{name:"ReactReactElement",raw:"React.ReactElement<{ id: string; menuItemLabel: string }>",elements:[{name:"signature",type:"object",raw:"{ id: string; menuItemLabel: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"menuItemLabel",value:{name:"string",required:!0}}]}}]}],raw:"EnhancedChild[]"},description:"Provide child elements to be rendered inside TearsheetHeaderActions."},className:{required:!1,tsType:{name:"string"},description:"Specify an optional className to be added to your TearsheetHeaderActions"},menuButtonProps:{required:!1,tsType:{name:"MenuButtonProps"},description:"The PageHeaderContent's page actions collapsible Menu button label"}}};M.__docgenInfo={description:"",methods:[],displayName:"TearsheetHeaderActionItem",props:{children:{required:!0,tsType:{name:"ReactNode"},description:"Provide child elements to be rendered inside TearsheetHeaderActions."},className:{required:!1,tsType:{name:"string"},description:"Specify an optional className to be added to your TearsheetHeaderActions"},overflowItemLabel:{required:!1,tsType:{name:"string"},description:"The PageHeaderContent's page actions collapsible Menu button label"},id:{required:!1,tsType:{name:"string"},description:""}}};const W=s.createContext(void 0),$e=({children:a,stackStepSize:n="lg"})=>{const[c,o]=s.useState([]),r=s.useRef(null),i={sm:.5,md:.75,lg:1},{width:d}=Ee(r),m=s.useCallback((p,b,w)=>{r.current=w,o(v=>b?v.includes(p)?[...v.filter(N=>N!==p),p]:[...v,p]:v.filter(N=>N!==p))},[]),f=p=>{const b=y(p),w=i[n],v=l(w);return b>-1?(d-v*2*b)/d:1},l=p=>p*parseFloat(getComputedStyle(document.documentElement).fontSize),y=s.useCallback(p=>{const b=c.indexOf(p);return b===-1?-1:c.length-1-b},[c]),h={stack:c,notifyStack:m,getScaleFactor:f,getBlockSizeChange:p=>{const b=y(p),w=i[n];return`${l(w)*b}px`},getDepth:y};return e.createElement(W.Provider,{value:h},a)},Se=()=>{const a=s.useContext(W);return a===void 0?{notifyStack:()=>{},stack:[],getDepth:()=>-1,getScaleFactor:()=>1,getBlockSizeChange:()=>null}:a};$e.__docgenInfo={description:"",methods:[],displayName:"StackProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},stackStepSize:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'lg'",computed:!1}}}};const Ie=(a,n=!1)=>{const[c,o]=s.useState(n);return s.useEffect(()=>{const r=d=>{o(d.matches)},i=window.matchMedia(a);return i.addEventListener("change",r),o(i.matches),()=>{i.removeEventListener("change",r)}},[a]),c},g=s.forwardRef(({children:a,variant:n="wide",selectorsFloatingMenus:c=[],className:o,influencerWidth:r,summaryContentWidth:i,ariaLabel:d,onClose:m,selectorPrimaryFocus:f,open:l=!1,portalTarget:y,verticalGap:u,containerClassName:h,...p},b)=>{const w=me(),v=s.useRef(void 0),N=s.useRef(null),E=b||v,U=`(max-width: ${he.md.width})`,S=Ie(U)||n==="narrow",[B,j]=s.useState(!0),[J,Q]=s.useState(!1),[K,X]=s.useState(!1),R=e.Children.toArray(a),Z=R.find(_=>_.type===x),G=R.find(_=>_.type===H),ee=R.find(_=>_.type===P),te=R.find(_=>_.type===Y),q=s.useRef(Re()),{notifyStack:ae,stack:I,getDepth:ne,getScaleFactor:se,getBlockSizeChange:re}=Se(),[oe,ie]=s.useState(0),le=Ce(y);return $(()=>{const k=(E.current?.querySelector(`.${w}--ai-label`)?.clientWidth??0)+24+(S?8:0);document.documentElement.style.setProperty("--tearsheet-header-action-offset",`${k}px`),r&&document.documentElement.style.setProperty("--tearsheet-influencer-width",`${r}`),i&&document.documentElement.style.setProperty("--tearsheet-summary-content-width",`${i}`),u&&document.documentElement.style.setProperty("--tearsheet-vertical-gap",`${u}`)},[S,p.decorator,r,i,u]),$(()=>{N.current&&ae?.(q.current,l,N.current)},[l]),s.useEffect(()=>{if(I?.length>0){const _=ne?.(q.current),k=re?.(q.current),ce=se?.(q.current);ie(_),E.current.style.setProperty("--stack-depth",_+""),E.current.style.setProperty("--block-size-change",k),E.current.style.setProperty("--scale-factor",ce+"")}},[I]),le(e.createElement(C.Provider,{value:{hasCloseIcon:B,setHasCloseIcon:j,fullyCollapsed:J,setFullyCollapsed:Q,onClose:m,disableHeaderCollapse:K,setDisableHeaderCollapse:X,variant:n,isSm:S}},e.createElement(fe,{enableExperimentalFocusWrapWithoutSentinels:!0},e.createElement(ge,{...p,"aria-label":d,className:T(t,o,{[`${t}--wide`]:n==="wide",[`${t}--narrow`]:n==="narrow",[`${t}--stacked`]:oe>0,[`${t}--stack-activated`]:I.length>1,[`${t}--has-ai-label`]:!!p.decorator&&p.decorator.type?.displayName==="AILabel",[`${t}--has-decorator`]:!!p.decorator&&p.decorator.type?.displayName!=="AILabel",[`${t}--has-close`]:B}),containerClassName:T(`${t}__container`,h),onClose:m,open:l,selectorPrimaryFocus:f,ref:E,selectorsFloatingMenus:[`.${w}--overflow-menu-options`,`.${w}--tooltip`,".flatpickr-calendar",`.${t}__container`,`.${w}--menu`,...c],isFullWidth:!0,size:n==="narrow"?"sm":""},Z,e.createElement(be,{className:`${t}__body-layout`,ref:N},G,ee,te)))))}),Y=s.forwardRef(({children:a},n)=>e.createElement("footer",{className:`${t}__footer`,ref:n},a));g.Header=x;g.HeaderContent=F;g.Body=P;g.Influencer=H;g.MainContent=z;g.SummaryContent=V;g.Footer=Y;g.NavigationBar=L;g.ScrollButton=D;g.HeaderActions=O;g.HeaderActionItem=M;g.__docgenInfo={description:"",methods:[],displayName:"Tearsheet",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},open:{required:!1,tsType:{name:"boolean"},description:"Specifies whether the tearsheet is currently open.",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"User can pass any class names to add to the modal wrapper"},containerClassName:{required:!1,tsType:{name:"string"},description:"User can pass any class names that will added to the modal container, rather than the wrapper"},verticalGap:{required:!1,tsType:{name:"string"},description:"the defines the gap from top of the view port. Defaulted to 3rem"},influencerWidth:{required:!1,tsType:{name:"string"},description:"Default influencer takes 256px, this allow to override eg: 300px , 20rem"},summaryContentWidth:{required:!1,tsType:{name:"string"},description:"Default rightContent takes 256px, this allow to override eg: 300px , 20rem"},variant:{required:!1,tsType:{name:"union",raw:"'wide' | 'narrow'",elements:[{name:"literal",value:"'wide'"},{name:"literal",value:"'narrow'"}]},description:"Default to wide variant. Pass in narrow for narrow tearsheet",defaultValue:{value:"'wide'",computed:!1}},decorator:{required:!1,tsType:{name:"ReactNode"},description:"Optional prop that allows you to pass any component."},selectorsFloatingMenus:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:`Specify the CSS selectors that match the floating menus.

See https://react.carbondesignsystem.com/?path=/docs/components-composedmodal--overview#focus-management`,defaultValue:{value:"[]",computed:!1}},ariaLabel:{required:!1,tsType:{name:"string"},description:"The aria label applied to the tearsheet"},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"An optional handler that is called when the user closes the tearsheet (by\nclicking the close button, if enabled, or clicking outside, if enabled).\nReturning `false` here prevents the modal from closing."},selectorPrimaryFocus:{required:!1,tsType:{name:"PropTypes.string"},description:`Specify a CSS selector that matches the DOM element that should be
focused when the Modal opens.`},portalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"The DOM element that the tearsheet should be rendered within. Defaults to document.body."}},composes:["ComposedModalProps"]};export{$e as S,g as T};
//# sourceMappingURL=Tearsheet-JjlXuDmN.js.map
