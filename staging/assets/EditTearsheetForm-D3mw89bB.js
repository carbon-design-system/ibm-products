import{r as n,e as t}from"./index-DtHxqM--.js";import{d as $,P as e}from"./index-CGLP8AGt.js";import{F as j}from"./FormGroup-t548bBaY.js";import{G as C}from"./Grid-DMByK9mo.js";import{C as R}from"./Column-Ci_sqQLV.js";import{F as D}from"./Form-DmwIfhLO.js";import{a as M,b as H}from"./SideNavLinkText-Bt3KTE78.js";import{S as J}from"./SideNavMenuItem-BSC6fdbz.js";import{p as v,a as K}from"./settings-xxMXFJdE.js";import{g as Q}from"./devtools-DANatd7d.js";import{T as X}from"./TearsheetShell-BtvVdk9f.js";import{p as Z}from"./props-helper-CgskTpCX.js";const b="EditTearsheet",g=`${v.prefix}--tearsheet-edit`,k=n.createContext(null),_=n.createContext(0),N={verticalPosition:"normal",influencerWidth:"narrow",sideNavAriaLabel:"Side navigation"};let c=n.forwardRef(({cancelButtonText:a,children:o,className:i,description:l,influencerWidth:f=N.influencerWidth,label:d,onClose:u,open:T,submitButtonText:w,title:r,verticalPosition:p=N.verticalPosition,onRequestSubmit:P,onFormChange:q,sideNavAriaLabel:A=N.sideNavAriaLabel,...S},I)=>{const[L,x]=n.useState(!1),W=async()=>{x(!0);try{await P()}catch(s){console.warn(`${b} submit error: ${s}`)}x(!1)},B=[{key:"edit-action-button-submit",label:w,onClick:()=>W(),loading:L,kind:"primary"},{key:"edit-action-button-cancel",label:a,onClick:u,kind:"ghost"}],[F,G]=n.useState(0),[O,V]=n.useState([]),U=n.useRef(null),Y=s=>{G(s),q&&q(s)};function z(){return t.createElement("div",{className:`${g}__side-nav-wrapper`},t.createElement(M,{"aria-label":A,className:`${g}__side-nav`,expanded:!0,isFixedNav:!1},t.createElement(H,null,O.map((s,h)=>t.createElement(J,{key:h,onClick:()=>Y(h),isActive:F===h},s)))))}return t.createElement(X,{...Q(b),...Z(S),actions:B,children:o,className:$(g,i),description:l,influencerPosition:"left",influencerWidth:f,label:d,onClose:u,open:T,size:"wide",title:r,verticalPosition:p,...S,hasCloseIcon:!1,influencer:z(),ref:I},t.createElement("div",{className:`${g}__content`,ref:U,role:"main"},t.createElement(D,null,t.createElement(k.Provider,{value:{currentForm:F,setFormTitles:V}},t.Children.map(o,(s,h)=>t.createElement(_.Provider,{value:h},s))))))});c.deprecated={level:"warn",details:"This component is deprecated and will be removed in the next major version."};c=v.checkComponentEnabled(c,b);c.displayName=b;c.propTypes={cancelButtonText:e.string,children:e.node,className:e.string,description:e.node,influencerWidth:e.oneOf(["narrow","wide"]),label:e.node,onClose:e.func,onFormChange:e.func,onRequestSubmit:e.func.isRequired,open:e.bool,sideNavAriaLabel:e.string,submitButtonText:e.string,title:e.node,verticalPosition:e.oneOf(["normal","lower"])};c.__docgenInfo={description:`**This component is deprecated.** <br>
Use Tearsheet with medium to complex edits. See usage guidance for further information.
@deprecated`,methods:[],displayName:"EditTearsheet",props:{cancelButtonText:{required:!1,tsType:{name:"string"},description:"The cancel button text",type:{name:"string"}},children:{required:!1,tsType:{name:"ReactNode"},description:"The main content of the tearsheet",type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"An optional class or classes to be added to the outermost element.",type:{name:"string"}},description:{required:!1,tsType:{name:"ReactNode"},description:"A description of the flow, displayed in the header area of the tearsheet.",type:{name:"node"}},influencerWidth:{required:!1,tsType:{name:"union",raw:"'narrow' | 'wide'",elements:[{name:"literal",value:"'narrow'"},{name:"literal",value:"'wide'"}]},description:"Used to set the size of the influencer",defaultValue:{value:"'narrow'",computed:!1},type:{name:"enum",value:[{value:"'narrow'",computed:!1},{value:"'wide'",computed:!1}]}},label:{required:!1,tsType:{name:"ReactNode"},description:`A label for the tearsheet, displayed in the header area of the tearsheet
to maintain context for the tearsheet (e.g. as the title changes from page
to page of a multi-page task).`,type:{name:"node"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => boolean | void",signature:{arguments:[],return:{name:"union",raw:"boolean | void",elements:[{name:"boolean"},{name:"void"}]}}},description:"An optional handler that is called when the user closes the tearsheet (by\nclicking the close button, if enabled, or clicking outside, if enabled).\nReturning `false` here prevents the modal from closing.",type:{name:"func"}},onFormChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(formIndex: number) => number",signature:{arguments:[{type:{name:"number"},name:"formIndex"}],return:{name:"number"}}},description:`An optional handler that is called when a user changes forms via clicking
an influencer nav item.
Returns the index of the selected form.`,type:{name:"func"}},onRequestSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:`Specify a handler for submitting the tearsheet. Throughout its execution
the submit button will be disabled and include a loading indicator.`,type:{name:"func"}},open:{required:!1,tsType:{name:"boolean"},description:"Specifies whether the tearsheet is currently open.",type:{name:"bool"}},sideNavAriaLabel:{required:!1,tsType:{name:"string"},description:"Specifies the aria label for the SideNav from Carbon UIShell",defaultValue:{value:"'Side navigation'",computed:!1},type:{name:"string"}},submitButtonText:{required:!1,tsType:{name:"string"},description:"The submit button text",type:{name:"string"}},title:{required:!1,tsType:{name:"ReactNode"},description:"The main title of the tearsheet, displayed in the header area.",type:{name:"node"}},verticalPosition:{required:!1,tsType:{name:"union",raw:"'normal' | 'lower'",elements:[{name:"literal",value:"'normal'"},{name:"literal",value:"'lower'"}]},description:`The position of the top of tearsheet in the viewport. The 'normal'
position (the default) is a short distance down from the top of the
viewport, leaving room at the top for a global header bar to show through
from below. The 'lower' position provides a little extra room at the top
to allow an action bar navigation or breadcrumbs to also show through.`,defaultValue:{value:"'normal'",computed:!1},type:{name:"enum",value:[{value:"'normal'",computed:!1},{value:"'lower'",computed:!1}]}}},composes:["PropsWithChildren"]};const ee=({formContext:a,formNumber:o,title:i})=>{n.useEffect(()=>{a&&a.setFormTitles(l=>{if(l[o]!==i){const d=[...l];return d[o]=i,d}return l})},[i,a,o])},E="EditTearsheetForm",m=`${v.prefix}--tearsheet-edit__form`,te={hasFieldset:!0};let y=n.forwardRef(({children:a,className:o,description:i,fieldsetLegendText:l,hasFieldset:f=te.hasFieldset,subtitle:d,title:u,...T},w)=>{const r=n.useContext(k),p=n.useContext(_);return ee({formContext:r,formNumber:p,title:u}),r?t.createElement("div",{...T,className:$(m,o,{[`${m}__form--hidden-form`]:p!==(r==null?void 0:r.currentForm),[`${m}__form--visible-form`]:p===(r==null?void 0:r.currentForm)}),ref:w},t.createElement(C,null,t.createElement(R,{xlg:12,lg:12,md:8,sm:4},t.createElement("h4",{className:`${m}--title`},u),d&&t.createElement("h6",{className:`${m}--subtitle`},d),i&&t.createElement("p",{className:`${m}--description`},i)),t.createElement(R,{span:100},f?t.createElement(j,{legendText:l,className:`${m}--fieldset`},t.createElement(C,null,a)):a))):K.warn(`You have tried using a ${E} component outside of a EditTearsheet. This is not allowed. ${E}s should always be children of the EditTearsheet`)});y=v.checkComponentEnabled(y,E);y.propTypes={children:e.node,className:e.string,description:e.string,fieldsetLegendText:e.string.isRequired.if(({hasFieldset:a})=>!!a),hasFieldset:e.bool,subtitle:e.string,title:e.node.isRequired};y.__docgenInfo={description:"",methods:[],displayName:"EditTearsheetForm",props:{children:{required:!1,tsType:{name:"ReactNode"},description:"Content that shows in the tearsheet form",type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Sets an optional className to be added to the tearsheet form",type:{name:"string"}},description:{required:!1,tsType:{name:"string"},description:"Sets an optional description on the form component",type:{name:"string"}},hasFieldset:{required:!1,tsType:{name:"boolean"},description:"This optional prop will render your form content inside of a fieldset html element\nand is defaulted to true.\nYou can set this prop to `false` if you have multiple fieldset elements or want to control the children of your Full Page's form content.",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},subtitle:{required:!1,tsType:{name:"string"},description:"Sets an optional subtitle on the form component",type:{name:"string"}},title:{required:!0,tsType:{name:"ReactNode"},description:"Sets the title text for a tearsheet form",type:{name:"node"}},fieldsetLegendText:{description:"This is the required legend text that appears above a fieldset html element for accessibility purposes.\nYou can set the `hasFieldset` prop to false if you have multiple fieldset elements or want to control the children of your Full Page's form content.\nOtherwise, use CSS to hide/remove this label text.",type:{name:"string"},required:!0}}};export{c as E,y as a};
