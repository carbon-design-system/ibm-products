import{r as m,e as t,c as C,p as $,B as N,m as le,P as n,H as me}from"./iframe-BbTYfv9-.js";import{u as de}from"./uuidv4-BN2rGLQG.js";import{g as V}from"./devtools-KS_k4bKc.js";import{d as ue}from"./bucket-6-D484BBya.js";import{u as pe}from"./useIsomorphicEffect-omIe2Oju.js";import{c as Z}from"./clamp-CsXXRQhr.js";import{C as fe}from"./Carousel-BDYj-R18.js";var he=(e=>(e.DEFAULT="default",e))(he||{}),_=(e=>(e.TOOLTIP="tooltip",e.FLOATING="floating",e.FIXED="fixed",e.STACKED="stacked",e))(_||{}),y=(e=>(e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e))(y||{});const ye=m.createContext(null),Y=()=>m.useContext(ye),ne=`${$.prefix}--coachmark-dragbar`,ae=`${$.prefix}--coachmark-overlay`,K="CoachmarkDragbar",W={onDrag:()=>{},onClose:()=>{},showCloseButton:!0,theme:"light"},L=t.forwardRef(({a11yKeyboardHandler:e,onClose:u=W.onClose,onDrag:r=W.onDrag,showCloseButton:i=W.showCloseButton,theme:c=W.theme,...s},l)=>{const[v,x]=m.useState(!1);m.useEffect(()=>{const b=()=>x(!1);return window.addEventListener("mouseup",b),()=>{window.removeEventListener("mouseup",b)}},[]),m.useEffect(()=>{const b=p=>{r(p.movementX,p.movementY)};return v&&window.addEventListener("mousemove",b),()=>{window.removeEventListener("mousemove",b)}},[v,r]);const q=()=>x(!0),R=Y()?.closeIconDescription;return t.createElement("header",{...s,className:C(ne,`${ne}__${c}`,{}),ref:l,...V(K)},t.createElement("button",{type:"button",className:`${ae}__handle`,onMouseDown:q,onKeyDown:e,title:"Drag Handle"},t.createElement(ue,{size:"16"})),i&&t.createElement(N,{kind:"ghost",size:"sm",renderIcon:le,iconDescription:R,hasIconOnly:!0,className:`${ae}--close-btn`,onClick:u}))});L.deprecated={level:"warn",details:`${K} is deprecated.`};L.displayName=K;L.propTypes={a11yKeyboardHandler:n.func.isRequired,onClose:n.func,onDrag:n.func,showCloseButton:n.bool,theme:n.oneOf(["light","dark"])};L.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.
@deprecated This component is deprecated.`,methods:[],displayName:"CoachmarkDragbar",props:{a11yKeyboardHandler:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: React.KeyboardEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},name:"event"}],return:{name:"void"}}},description:"Handler to manage keyboard interactions with the dragbar.",type:{name:"func"}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Function to call when the close button is clicked.",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},onDrag:{required:!1,tsType:{name:"signature",type:"function",raw:"(movementX: number, movementY: number) => void",signature:{arguments:[{type:{name:"number"},name:"movementX"},{type:{name:"number"},name:"movementY"}],return:{name:"void"}}},description:`Function to call when the user clicks and drags the Coachmark.
For internal use only by the parent CoachmarkOverlay.`,defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:'Show/hide the "X" close button.',defaultValue:{value:"true",computed:!1},type:{name:"bool"}},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"Determines the theme of the component.",defaultValue:{value:"'light'",computed:!1},type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}}}};const oe=`${$.prefix}--coachmark-header`,re=`${$.prefix}--coachmark-overlay`,A="CoachmarkHeader",M={onClose:()=>{},showCloseButton:!0,theme:"light"},H=t.forwardRef(({onClose:e=M.onClose,showCloseButton:u=M.showCloseButton,theme:r=M.theme,...i},c)=>{const s=Y()?.closeIconDescription;return t.createElement("header",{...i,className:C(oe,`${oe}__${r}`),ref:c,...V(A)},u&&t.createElement("div",{className:`${re}--close-btn-container`},t.createElement(N,{kind:"ghost",size:"sm",renderIcon:le,iconDescription:s,hasIconOnly:!0,className:`${re}--close-btn`,onClick:e})))});H.deprecated={level:"warn",details:`${A} is deprecated.`};H.displayName=A;H.propTypes={closeIconDescription:n.string,onClose:n.func,showCloseButton:n.bool,theme:n.oneOf(["light","dark"])};H.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.
@deprecated This component is deprecated.`,methods:[],displayName:"CoachmarkHeader",props:{onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Function to call when the close button is clicked.",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:'Show/hide the "X" close button.',defaultValue:{value:"true",computed:!1},type:{name:"bool"}},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"Determines the theme of the component.",defaultValue:{value:"'light'",computed:!1},type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}},closeIconDescription:{description:"Tooltip text and aria label for the Close button icon.",type:{name:"string"},required:!1}}};const ge=(e,u)=>{const{width:r,height:i}=e.targetRect,c=24;let s=0,l=0;if(u!==_.TOOLTIP)switch(e.align){case y.TOP:l=r/2;break;case y.TOP_LEFT:l=c;break;case y.TOP_RIGHT:l=r-c;break;case y.BOTTOM:s=i,l=r/2;break;case y.BOTTOM_LEFT:s=i,l=c;break;case y.BOTTOM_RIGHT:s=i,l=r-c;break;case y.LEFT:s=i/2;break;case y.LEFT_TOP:s=c;break;case y.LEFT_BOTTOM:s=i-c;break;case y.RIGHT:s=i/2,l=r;break;case y.RIGHT_TOP:s=c,l=r;break;case y.RIGHT_BOTTOM:s=i-c,l=r;break}return{top:s,left:l}},E=`${$.prefix}--coachmark-overlay`,ee="CoachmarkOverlay",se={kind:_.FLOATING,theme:"light"},G=m.forwardRef((e,u)=>{const{children:r,onClose:i,fixedIsVisible:c,className:s,kind:l=se.kind,theme:v=se.theme,...x}=e,{winHeight:q,winWidth:R}=ve(),[b,p]=m.useState(!1),T=m.useRef(null),g=Y(),B=l===_.TOOLTIP,h=l===_.FLOATING,Q=s?.includes("is-visible"),P=a=>{const{shiftKey:o,key:d}=a;if(d==="Enter"||d===" ")p(f=>!f);else if(b){const f=o?128:32;switch(d){case"ArrowLeft":k(f*-1,0);break;case"ArrowRight":k(f,0);break;case"ArrowUp":k(0,f*-1);break;case"ArrowDown":k(0,f);break}}},D=m.useMemo(()=>{const a={};if((B||h)&&(g?.targetRect&&(a.left=g.targetRect.x+window.scrollX,a.top=g.targetRect.y+window.scrollY),a.left&&a.top&&(B&&(a.left=a.left+16,a.top=a.top+16),h))){const o=ge(g,l);a.left=a.left+o.left,a.top=a.top+o.top}return a},[B,h,g,l]);function S(a,o){let d=a,f=o;const z=R-288,X=q-150;return d<0?d=0:d>z&&(d=z),f<0?f=0:f>X&&(f=X),{targetX:d,targetY:f}}function k(a,o){const d=T.current;if(!d)return;const{x:f,y:z}=d.getBoundingClientRect(),{targetX:X,targetY:ce}=S(f+a,z+o);d.style.transform="none",d.style.position="fixed",d.style.left=`${X}px`,d.style.top=`${ce}px`,d.style.bottom="auto"}const w=de();return pe(()=>{if(T.current){const a=T.current?.style;Object.keys(D).forEach(o=>{const d=D[o];a.setProperty(o,`${d}px`)})}},[D,T]),t.createElement("div",{...x,className:C(E,`${E}--${l}`,`${E}__${v}`,(B||h)&&g?.align&&`${E}--${g.align}`,c&&`${E}--is-visible`,b&&`${E}--is-dragmode`,s),ref:T,"aria-labelledby":w,tabIndex:-1,...V(ee)},h?t.createElement(L,{a11yKeyboardHandler:P,onBlur:()=>p(!1),onDrag:k,theme:v,onClose:i}):t.createElement(H,{onClose:i}),t.createElement("div",{className:`${E}__body`,ref:u,id:w},t.Children.map(r,a=>t.cloneElement(a,{isVisible:Q}))))});function ie(){const{innerWidth:e,innerHeight:u}=window;return{winWidth:e,winHeight:u}}const ve=()=>{const[e,u]=m.useState(ie());return m.useEffect(()=>{function r(){u(ie())}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e};G.deprecated={level:"warn",details:`${ee} is deprecated.`};G.displayName=ee;G.propTypes={children:n.node.isRequired,className:n.string,fixedIsVisible:n.bool.isRequired,kind:n.oneOf(Object.values(_)),onClose:n.func.isRequired,theme:n.oneOf(["light","dark"])};G.__docgenInfo={description:`DO NOT USE. This component is for the exclusive use
of other Onboarding components.
@deprecated This component is deprecated.`,methods:[],displayName:"CoachmarkOverlay",props:{children:{required:!0,tsType:{name:"ReactNode"},description:`The CoachmarkOverlayElements child components.
Validation is handled in the parent Coachmark component.`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},fixedIsVisible:{required:!0,tsType:{name:"boolean"},description:`The visibility of CoachmarkOverlay is
managed in the parent Coachmark component.`,type:{name:"bool"}},kind:{required:!1,tsType:{name:"COACHMARK_OVERLAY_KIND"},description:"What kind or style of Coachmark to render.",type:{name:"enum",computed:!0,value:"Object.values(COACHMARK_OVERLAY_KIND)"}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Function to call when the Coachmark closes.",type:{name:"func"}},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"Determines the theme of the component.",type:{name:"enum",value:[{value:"'light'",computed:!1},{value:"'dark'",computed:!1}]}}}};const I=`${$.prefix}--coachmark-overlay-element`,te="CoachmarkOverlayElement",j=t.forwardRef(({button:e,className:u,description:r,title:i,...c},s)=>t.createElement("div",{...c,className:C(I,u,{}),ref:s,...V(te)},t.createElement("div",{className:`${I}__content`},i&&t.createElement("h2",{className:`${I}__title`},i),r&&t.createElement("p",{className:`${I}__body`},r)),e&&t.createElement("div",{className:`${I}__button`},e)));j.deprecated={level:"warn",details:`${te} is deprecated.`};j.displayName=te;j.propTypes={button:n.node,className:n.string,description:n.node.isRequired,title:n.string.isRequired};j.__docgenInfo={description:`Component to be displayed within a CoachmarkOverlayElements container.
Can be used 1 to N number, to display content in a Coachmark's overlay
in a carousel fashion.
@deprecated This component is deprecated.`,methods:[],displayName:"CoachmarkOverlayElement",props:{button:{required:!1,tsType:{name:"ReactNode"},description:`An optional button can be rendered below the description.
This can be a link, button, Coachmark button, etc.`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},description:{required:!0,tsType:{name:"ReactNode"},description:"The description of the Coachmark.",type:{name:"node"}},title:{required:!0,tsType:{name:"string"},description:"The title of the Coachmark.",type:{name:"string"}}}};const F=`${$.prefix}--coachmark-overlay-elements`,U="CoachmarkOverlayElements",O={isVisible:!1,nextButtonText:"Next",previousButtonLabel:"Back",closeButtonLabel:"Got it",onNext:void 0,onBack:void 0,currentStep:0},J=t.forwardRef(({className:e,children:u,isVisible:r=O.isVisible,renderMedia:i,currentStep:c=O.currentStep,nextButtonText:s=O.nextButtonText,previousButtonLabel:l=O.previousButtonLabel,closeButtonLabel:v=O.closeButtonLabel,onNext:x=O.onNext,onBack:q=O.onBack,...R},b)=>{const p=m.useRef(void 0),T=m.useRef(void 0),[g,B]=m.useState(0),[h,Q]=m.useState(c),P=Y(),D=o=>{h>0&&o===0&&p.current&&setTimeout(()=>{p.current?.focus()},1e3),Q(o)},S=m.Children.count(u),k=0,w=S-1,a=m.useMemo(()=>i?.({playStep:h}),[h,i]);return m.useEffect(()=>{const o=Z(c,k,w);T?.current?.scrollToView?.(o)},[c]),m.useEffect(()=>{p.current&&p.current.focus()},[]),m.useEffect(()=>{setTimeout(()=>{p.current&&r&&p.current.focus()},100)},[r]),P?t.createElement("section",{...R,className:C(F,e,{}),ref:b,...V(U)},i&&t.createElement("div",{className:`${F}__element-stepped-media`},a),S===1?t.createElement(t.Fragment,null,u,v&&t.createElement("div",{className:C(`${F}__footer`,"coachmark-carousel-controls")},t.createElement(N,{size:"sm",...P.closeButtonProps,ref:p},v))):t.createElement(t.Fragment,null,t.createElement(fe,{ref:T,onScroll:o=>{B(o)}},u),t.createElement("div",{className:C(`${F}__footer`)},t.createElement("div",{className:`${F}--controls-progress`},`${h+1} / ${S}`),g>0&&t.createElement(N,{size:"sm",kind:"ghost",title:l,disabled:g===0,onClick:()=>{const o=Z(h-1,k,w);T?.current?.scrollToView?.(o),D(o),q?.()}},l),h<w?t.createElement(N,{size:"sm",ref:p,title:s,disabled:g===1,onClick:()=>{const o=Z(h+1,k,w);T?.current?.scrollToView?.(o),D(o),x?.()}},s):v&&t.createElement(N,{size:"sm",ref:p,...P.closeButtonProps},v)))):me.warn(`The ${U} is a composable container element which should be used only within the scope of a Coachmark or a CoachmarkFixed component.`)});J.deprecated={level:"warn",details:`${U} is deprecated.`};J.displayName=U;J.propTypes={children:n.node.isRequired,className:n.string,closeButtonLabel:n.string,currentStep:n.number,isVisible:n.bool,nextButtonText:n.string,onBack:n.func,onNext:n.func,previousButtonLabel:n.string,renderMedia:n.func};J.__docgenInfo={description:`Composable container to allow for the displaying of CoachmarkOverlayElement
components in a carousel fashion.
@deprecated This component is deprecated.`,methods:[],displayName:"CoachmarkOverlayElements",props:{children:{required:!0,tsType:{name:"ReactNode"},description:`CoachmarkOverlayElements should be used with one or many CoachmarkOverlayElement components as children.
@see CoachmarkOverlayElement`,type:{name:"node"}},className:{required:!1,tsType:{name:"string"},description:"Optional class name for this component.",type:{name:"string"}},isVisible:{required:!1,tsType:{name:"boolean"},description:`The visibility of CoachmarkOverlayElements is
managed in the parent component.`,defaultValue:{value:"false",computed:!1},type:{name:"bool"}},renderMedia:{required:!1,tsType:{name:"signature",type:"function",raw:"(params) => ReactNode",signature:{arguments:[{name:"params"}],return:{name:"ReactNode"}}},description:"Optional prop to render any media like images or any animated media.",type:{name:"func"}},nextButtonText:{required:!1,tsType:{name:"string"},description:"The label for the Next button.",defaultValue:{value:"'Next'",computed:!1},type:{name:"string"}},previousButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the Previous button.",defaultValue:{value:"'Back'",computed:!1},type:{name:"string"}},closeButtonLabel:{required:!1,tsType:{name:"string"},description:"The label for the Close button.",defaultValue:{value:"'Got it'",computed:!1},type:{name:"string"}},onNext:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback called when clicking on the Next button.",defaultValue:{value:"undefined",computed:!0},type:{name:"func"}},onBack:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback called when clicking on the Previous button.",defaultValue:{value:"undefined",computed:!0},type:{name:"func"}},currentStep:{required:!1,tsType:{name:"number"},description:"Current step of the coachmarks.",defaultValue:{value:"0",computed:!1},type:{name:"number"}}}};export{he as B,ye as C,G as a,_ as b,H as c,J as d,j as e,y as f,Y as u};
//# sourceMappingURL=CoachmarkOverlayElements-BIrdMf7L.js.map
