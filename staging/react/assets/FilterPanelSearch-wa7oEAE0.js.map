{"version":3,"file":"FilterPanelSearch-wa7oEAE0.js","sources":["../../src/components/FilterPanel/FilterPanelSearch/FilterPanelSearch.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2024, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useEffect, useState } from 'react';\n\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { Search } from '@carbon/react';\n\nimport { getDevtoolsProps } from '../../../global/js/utils/devtools';\nimport { pkg } from '../../../settings';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--filter-panel-search`;\nconst componentName = 'FilterPanelSearch';\n\nconst defaults = {\n  searchProps: {},\n};\n\n/**\n * An input field and container to show search results.\n * @deprecated This component is deprecated\n */\nexport let FilterPanelSearch = React.forwardRef(\n  (\n    { children, className, searchProps = defaults.searchProps, ...rest },\n    ref\n  ) => {\n    const [resultsVisible, setResultsVisible] = useState(false);\n    let timer;\n\n    // Hide results with a delay.\n    // Gives enough time for \"show\" to trigger earlier.\n    const hideResults = () => {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        setResultsVisible(false);\n      }, 300);\n    };\n\n    // Show results immediately.\n    const showResults = () => {\n      clearTimeout(timer);\n      setResultsVisible(true);\n    };\n\n    // On unmount, clear the timer.\n    useEffect(() => {\n      return clearTimeout(timer);\n    }, [timer]);\n\n    return (\n      <div\n        {...rest}\n        className={cx(blockClass, `${blockClass}__container`, className)}\n        onBlur={hideResults}\n        onFocus={showResults}\n        ref={ref}\n        {...getDevtoolsProps(componentName)}\n      >\n        <Search className={`${blockClass}__input`} {...searchProps} />\n        {resultsVisible && !!children && (\n          <div className={`${blockClass}__results`}>{children}</div>\n        )}\n      </div>\n    );\n  }\n);\n\nFilterPanelSearch.deprecated = {\n  level: 'warn',\n  details: `This component is deprecated`,\n};\n// Return a placeholder if not released and not enabled by feature flag\nFilterPanelSearch = pkg.checkComponentEnabled(FilterPanelSearch, componentName);\n\nFilterPanelSearch.displayName = componentName;\n\nFilterPanelSearch.propTypes = {\n  /**\n   * Provide the contents of the FilterPanelSearch.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n\n  /**\n   * Props specific to the internal `Search` component.\n   */\n  searchProps: PropTypes.shape({\n    /** The label text for the Search icon. */\n    labelText: PropTypes.string.isRequired,\n  }).isRequired,\n};\n"],"names":["blockClass","pkg","componentName","defaults","FilterPanelSearch","React","children","className","searchProps","rest","ref","resultsVisible","setResultsVisible","useState","timer","hideResults","showResults","useEffect","cx","getDevtoolsProps","Search","PropTypes"],"mappings":"yJAiBA,MAAMA,EAAa,GAAGC,EAAI,MAAM,wBAC1BC,EAAgB,oBAEhBC,EAAW,CACf,YAAa,CAAA,CACf,EAMO,IAAIC,EAAoBC,EAAM,WACnC,CACE,CAAE,SAAAC,EAAU,UAAAC,EAAW,YAAAC,EAAcL,EAAS,YAAa,GAAGM,CAAA,EAC9DC,IACG,CACH,KAAM,CAACC,EAAgBC,CAAiB,EAAIC,EAAAA,SAAS,EAAK,EAC1D,IAAIC,EAIJ,MAAMC,EAAc,IAAM,CACxB,aAAaD,CAAK,EAClBA,EAAQ,WAAW,IAAM,CACvBF,EAAkB,EAAK,CACzB,EAAG,GAAG,CACR,EAGMI,EAAc,IAAM,CACxB,aAAaF,CAAK,EAClBF,EAAkB,EAAI,CACxB,EAGAK,OAAAA,EAAAA,UAAU,IACD,aAAaH,CAAK,EACxB,CAACA,CAAK,CAAC,EAGRT,EAAA,cAAC,MAAA,CACE,GAAGI,EACJ,UAAWS,EAAGlB,EAAY,GAAGA,CAAU,cAAeO,CAAS,EAC/D,OAAQQ,EACR,QAASC,EACT,IAAAN,EACC,GAAGS,EAAiBjB,CAAa,CAAA,kBAEjCkB,EAAA,CAAO,UAAW,GAAGpB,CAAU,UAAY,GAAGQ,EAAa,EAC3DG,GAAkB,CAAC,CAACL,GACnBD,EAAA,cAAC,OAAI,UAAW,GAAGL,CAAU,WAAA,EAAcM,CAAS,CAAA,CAI5D,CACF,EAEAF,EAAkB,WAAa,CAC7B,MAAO,OACP,QAAS,8BACX,EAEAA,EAAoBH,EAAI,sBAAsBG,EAAmBF,CAAa,EAE9EE,EAAkB,YAAcF,EAEhCE,EAAkB,UAAY,CAI5B,SAAUiB,EAAU,KAKpB,UAAWA,EAAU,OAKrB,YAAaA,EAAU,MAAM,CAE3B,UAAWA,EAAU,OAAO,UAAA,CAC7B,EAAE,UACL;"}