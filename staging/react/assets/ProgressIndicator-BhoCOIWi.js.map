{"version":3,"file":"ProgressIndicator-BhoCOIWi.js","sources":["../../../../node_modules/@carbon/react/es/components/ProgressIndicator/ProgressIndicator.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Enter, Space } from '../../internal/keyboard/keys.js';\nimport { matches } from '../../internal/keyboard/match.js';\nimport { Warning, Incomplete, CheckmarkOutline, CircleDash } from '@carbon/icons-react';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { Text } from '../Text/Text.js';\nimport '../Text/TextDirection.js';\n\nconst translationIds = {\n  'carbon.progress-step.complete': 'carbon.progress-step.complete',\n  'carbon.progress-step.incomplete': 'carbon.progress-step.incomplete',\n  'carbon.progress-step.current': 'carbon.progress-step.current',\n  'carbon.progress-step.invalid': 'carbon.progress-step.invalid'\n};\nconst defaultTranslations = {\n  [translationIds['carbon.progress-step.complete']]: 'Complete',\n  [translationIds['carbon.progress-step.incomplete']]: 'Incomplete',\n  [translationIds['carbon.progress-step.current']]: 'Current',\n  [translationIds['carbon.progress-step.invalid']]: 'Invalid'\n};\nconst defaultTranslateWithId = messageId => {\n  return defaultTranslations[messageId];\n};\nfunction ProgressIndicator({\n  children,\n  className: customClassName,\n  currentIndex: controlledIndex = 0,\n  onChange,\n  spaceEqually,\n  vertical,\n  ...rest\n}) {\n  const prefix = usePrefix();\n  const [currentIndex, setCurrentIndex] = useState(controlledIndex);\n  const [prevControlledIndex, setPrevControlledIndex] = useState(controlledIndex);\n  const className = cx({\n    [`${prefix}--progress`]: true,\n    [`${prefix}--progress--vertical`]: vertical,\n    [`${prefix}--progress--space-equal`]: spaceEqually && !vertical,\n    [customClassName ?? '']: customClassName\n  });\n  if (controlledIndex !== prevControlledIndex) {\n    setCurrentIndex(controlledIndex);\n    setPrevControlledIndex(controlledIndex);\n  }\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    className: className\n  }, rest), React.Children.map(children, (child, index) => {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return null;\n    }\n\n    // only setup click handlers if onChange event is passed\n    const onClick = onChange ? () => onChange(index) : undefined;\n    if (index === currentIndex) {\n      return /*#__PURE__*/React.cloneElement(child, {\n        complete: child.props.complete,\n        current: child.props.complete ? false : true,\n        index,\n        onClick\n      });\n    }\n    if (index < currentIndex) {\n      return /*#__PURE__*/React.cloneElement(child, {\n        complete: true,\n        index,\n        onClick\n      });\n    }\n    if (index > currentIndex) {\n      return /*#__PURE__*/React.cloneElement(child, {\n        complete: child.props.complete || false,\n        index,\n        onClick\n      });\n    }\n    return null;\n  }));\n}\nProgressIndicator.propTypes = {\n  /**\n   * Provide `<ProgressStep>` components to be rendered in the\n   * `<ProgressIndicator>`\n   */\n  children: PropTypes.node,\n  /**\n   * Provide an optional className to be applied to the containing node\n   */\n  className: PropTypes.string,\n  /**\n   * Optionally specify the current step array index\n   */\n  currentIndex: PropTypes.number,\n  /**\n   * Optional callback called if a ProgressStep is clicked on. Returns the index of the step.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Specify whether the progress steps should be split equally in size in the div\n   */\n  spaceEqually: PropTypes.bool,\n  /**\n   * Determines whether or not the ProgressIndicator should be rendered vertically.\n   */\n  vertical: PropTypes.bool\n};\nfunction ProgressStep({\n  label,\n  description,\n  className,\n  current,\n  complete,\n  invalid,\n  secondaryLabel,\n  disabled,\n  onClick,\n  translateWithId: t = defaultTranslateWithId,\n  ...rest\n}) {\n  const prefix = usePrefix();\n  const classes = cx({\n    [`${prefix}--progress-step`]: true,\n    [`${prefix}--progress-step--current`]: current,\n    [`${prefix}--progress-step--complete`]: complete,\n    [`${prefix}--progress-step--incomplete`]: !complete && !current,\n    [`${prefix}--progress-step--disabled`]: disabled,\n    [className ?? '']: className\n  });\n  const handleKeyDown = e => {\n    if (matches(e, [Enter, Space]) && onClick) {\n      onClick(e);\n    }\n  };\n  const SVGIcon = ({\n    complete,\n    current,\n    description,\n    invalid,\n    prefix\n  }) => {\n    if (invalid) {\n      return /*#__PURE__*/React.createElement(Warning, {\n        className: `${prefix}--progress__warning`\n      }, /*#__PURE__*/React.createElement(\"title\", null, description));\n    }\n    if (current) {\n      return /*#__PURE__*/React.createElement(Incomplete, null, /*#__PURE__*/React.createElement(\"title\", null, description));\n    }\n    if (complete) {\n      return /*#__PURE__*/React.createElement(CheckmarkOutline, null, /*#__PURE__*/React.createElement(\"title\", null, description));\n    }\n    return /*#__PURE__*/React.createElement(CircleDash, null, /*#__PURE__*/React.createElement(\"title\", null, description));\n  };\n  let message = t('carbon.progress-step.incomplete');\n  if (current) {\n    message = t('carbon.progress-step.current');\n  }\n  if (complete) {\n    message = t('carbon.progress-step.complete');\n  }\n  if (invalid) {\n    message = t('carbon.progress-step.invalid');\n  }\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: classes\n  }, /*#__PURE__*/React.createElement(\"button\", _extends({\n    type: \"button\",\n    className: cx(`${prefix}--progress-step-button`, {\n      [`${prefix}--progress-step-button--unclickable`]: !onClick || current\n    }),\n    disabled: disabled,\n    \"aria-disabled\": disabled,\n    tabIndex: !current && onClick && !disabled ? 0 : -1,\n    onClick: !current ? onClick : undefined,\n    onKeyDown: handleKeyDown,\n    title: label\n  }, rest), /*#__PURE__*/React.createElement(SVGIcon, {\n    complete: complete,\n    current: current,\n    description: description,\n    invalid: invalid,\n    prefix: prefix\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefix}--progress-text`\n  }, /*#__PURE__*/React.createElement(Text, {\n    as: \"p\",\n    className: `${prefix}--progress-label`\n  }, label), secondaryLabel !== null && secondaryLabel !== undefined ? /*#__PURE__*/React.createElement(Text, {\n    as: \"p\",\n    className: `${prefix}--progress-optional`\n  }, secondaryLabel) : null), /*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefix}--assistive-text`\n  }, message), /*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefix}--progress-line`\n  })));\n}\nProgressStep.propTypes = {\n  /**\n   * Provide an optional className to be applied to the containing `<li>` node\n   */\n  className: PropTypes.string,\n  /**\n   * Specify whether the step has been completed\n   */\n  complete: PropTypes.bool,\n  /**\n   * Specify whether the step is the current step\n   */\n  current: PropTypes.bool,\n  /**\n   * Provide a description for the `<ProgressStep>`\n   */\n  description: PropTypes.string,\n  /**\n   * Specify whether the step is disabled\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Index of the current step within the ProgressIndicator\n   */\n  index: PropTypes.number,\n  /**\n   * Specify whether the step is invalid\n   */\n  invalid: PropTypes.bool,\n  /**\n   * Provide the label for the `<ProgressStep>`\n   */\n  label: PropTypes.node.isRequired,\n  /**\n   * A callback called if the step is clicked or the enter key is pressed\n   */\n  onClick: PropTypes.func,\n  /**\n   * Provide the props that describe a progress step tooltip\n   */\n  overflowTooltipProps: PropTypes.object,\n  /**\n   * Provide an optional secondary label\n   */\n  secondaryLabel: PropTypes.string,\n  /**\n   * The ID of the tooltip content.\n   */\n  tooltipId: PropTypes.string,\n  /**\n   * Translates component strings using your i18n tool.\n   */\n  translateWithId: PropTypes.func\n};\n\nexport { ProgressIndicator, ProgressStep };\n"],"names":["translationIds","defaultTranslations","defaultTranslateWithId","messageId","ProgressIndicator","children","customClassName","controlledIndex","onChange","spaceEqually","vertical","rest","prefix","usePrefix","currentIndex","setCurrentIndex","useState","prevControlledIndex","setPrevControlledIndex","className","cx","React","_extends","child","index","onClick","PropTypes","ProgressStep","label","description","current","complete","invalid","secondaryLabel","disabled","t","classes","handleKeyDown","e","matches","Enter","Space","SVGIcon","Warning","Incomplete","CheckmarkOutline","CircleDash","message","Text"],"mappings":"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","x_google_ignoreList":[0]}