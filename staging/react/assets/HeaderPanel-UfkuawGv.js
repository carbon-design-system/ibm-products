import{r as p,u as _,c as L,e as r,_ as P,n as R,a7 as F,a8 as H,P as e,l as T,K,v as V}from"./iframe-BIFZhnVI.js";import{L as v,A}from"./Link-rvWsc1Tl.js";const k=p.forwardRef(function(d,w){const{"aria-label":l,"aria-labelledby":g,className:f,children:b,isSelected:S,expanded:y,tabIndex:s=y?0:-1,index:u,handleSwitcherItemFocus:x,onKeyDown:E=()=>{},href:N,target:h,rel:i,...n}=d,t=_(),I=L(`${t}--switcher__item`,{[f||""]:!!f}),m={"aria-label":l,"aria-labelledby":g},a=L(`${t}--switcher__item-link`,{[`${t}--switcher__item-link--selected`]:S});function c(o){R(o,F)&&(o.preventDefault(),x?.({currentIndex:u||-1,direction:1})),R(o,H)&&(o.preventDefault(),x?.({currentIndex:u||-1,direction:-1}))}return r.createElement("li",{className:I},r.createElement(v,P({onKeyDown:o=>{c(o),E(o)},href:N,target:h,rel:i,ref:w},n,{className:a,tabIndex:s},m),b))});k.displayName="SwitcherItem";k.propTypes={...A,children:e.node.isRequired,className:e.string,handleSwitcherItemFocus:e.func,href:e.string,index:e.number,onClick:e.func,onKeyDown:e.func,tabIndex:e.number,target:e.string,rel:e.string};const $=p.forwardRef(function(d,w){const l=p.useRef(null),g=T([l,w]),f=_(),{"aria-label":b,"aria-labelledby":S,className:y,children:s,expanded:u}=d,x={"aria-label":b,"aria-labelledby":S},E=L(`${f}--switcher`,{[y||""]:!!y}),N=({currentIndex:i,direction:n})=>{const t=r.Children.toArray(s).reduce((a,c,o)=>(r.isValidElement(c)&&Object.keys(c.props).length!==0&&c.type===k&&a.push(o),a),[]),I=(()=>{const a=t.indexOf(i)+n;switch(t[a]){case void 0:return n===-1?t[t.length-1]:t[0];case 0:if(n===1)return t[1];default:return t[a]}})(),m=l.current?.children[I]?.children[0];m&&m.focus()},h=r.Children.toArray(s).map((i,n)=>r.isValidElement(i)&&i.type===k?r.cloneElement(i,{handleSwitcherItemFocus:N,index:n,key:n,expanded:u}):r.cloneElement(i,{index:n,key:n,expanded:u}));return r.createElement("ul",P({ref:g,className:E},x),h)});$.displayName="Switcher";$.propTypes={...A,children:e.node.isRequired,className:e.string,expanded:e.bool};const B=()=>{},D=r.forwardRef(function({children:d,className:w,expanded:l,addFocusListeners:g=!0,onHeaderPanelFocus:f=B,href:b,...S},y){const s=_(),u=p.useRef(null),x=T([u,y]),E=p.useRef(l!==void 0).current,[N,h]=p.useState(l),i=E?l:N,[n,t]=p.useState(null),I=L(`${s}--header-panel`,{[`${s}--header-panel--expanded`]:i,[w]:!!w}),m={};return g&&(m.onBlur=a=>{!a.currentTarget.contains(a.relatedTarget)&&!n?.classList?.contains(`${s}--switcher__item-link`)&&(h(!1),t(null),l&&f())},m.onKeyDown=a=>{R(a,V)&&(h(!1),f(),b&&(window.location.href=b))}),K("click",a=>{const c=a.target;if(!(c instanceof HTMLElement))return;t(c),p.isValidElement(d)&&typeof d.type!="string"&&d.type===$&&!c.closest(`.${s}--header-panel--expanded`)&&!c.closest(`.${s}--header__action`)&&!u?.current?.classList.contains(`${s}--switcher`)&&l&&(h(!1),f())}),r.createElement("div",P({},S,{className:I,ref:x},m),d)});D.propTypes={addFocusListeners:e.bool,children:e.node,className:e.string,expanded:e.bool,href:e.string,onHeaderPanelFocus:e.func};D.displayName="HeaderPanel";export{D as H,$ as S,k as a};
