import{c as De,b as F,n as K,i as xe,d as H,_ as z,a3 as We,a5 as Ae,j as Me,q as Ie,D as $e,R as we,bK as Z,bL as ee,k as V,bM as He,H as _e,J as ye,P as n,g as Ve}from"./index-Ccw_5OKp.js";import{b as Le}from"./index-BHMIdRzp.js";import{r,e as t}from"./index-DtHxqM--.js";import{G as ze}from"./Grid-Di8_A-el.js";import{r as ie}from"./ComposedModal-B82WV5E1.js";import{bh as fe,T as Te,bi as Oe}from"./settings-JuRwpTYJ.js";import{u as Ce}from"./useControllableState-ICkXF1jW.js";import{g as be}from"./useNoInteractiveChildren-Bz6WKoA6.js";import{b as me}from"./index-DxWVrnnv.js";import{u as ue}from"./useMatchMedia-DK06MzfZ.js";import{T as X}from"./Text-CPocCdE2.js";function ve(E){let{onPress:c,onPressIn:g,onPressOut:a,onLongPress:v,delayLongPressMs:h=500}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=r.useRef(c),f=r.useRef(g),b=r.useRef(a),x=r.useRef(v),[_,p]=r.useState(!1),[e,I]=r.useState(!1),S=r.useRef({longPress:!1});r.useEffect(()=>{l.current=c},[c]),r.useEffect(()=>{f.current=g},[g]),r.useEffect(()=>{b.current=a},[a]),r.useEffect(()=>{x.current=v},[v]),r.useEffect(()=>{const{current:m}=E;function L(s){var u;p(!0),(u=f.current)==null||u.call(f),s.preventDefault()}function D(){var s;p(!1),I(!1),(s=b.current)==null||s.call(b,S.current)}function $(){var s;p(!1),I(!1),(s=b.current)==null||s.call(b),S.current.longPress=!1}function d(){var s;p(!1),I(!1),(s=b.current)==null||s.call(b),S.current.longPress=!1}function o(){var s;I(!1),p(!1),(s=l.current)==null||s.call(l,S.current),S.current.longPress=!1}function W(s){s.preventDefault()}return m.addEventListener("pointerdown",L),m.addEventListener("pointerup",D),m.addEventListener("pointercancel",$),m.addEventListener("pointerleave",d),m.addEventListener("click",o),m.addEventListener("contextmenu",W),()=>{m.removeEventListener("pointerdown",L),m.removeEventListener("pointerup",D),m.removeEventListener("pointercancel",$),m.removeEventListener("pointerleave",d),m.removeEventListener("click",o),m.removeEventListener("contextmenu",W)}},[E]),r.useEffect(()=>{if(_){const m=setTimeout(()=>{p(!1),I(!0)},h);return()=>{clearTimeout(m)}}},[_,h]),r.useEffect(()=>{var m;if(e)return S.current.longPress=!0,(m=x.current)==null?void 0:m.call(x)},[e])}var he,pe,ge;const Y=64,G=t.createContext({baseId:"",activeIndex:0,defaultSelectedIndex:0,dismissable:!1,onTabCloseRequest(){},setActiveIndex(){},selectedIndex:0,setSelectedIndex(){}}),de=t.createContext({index:0,hasSecondaryLabel:!1}),ke=`(min-width: ${Le.lg.width})`,Se=`(max-width: ${Le.md.width})`,Ne=t.createContext(0);function ce(E){let{children:c,defaultSelectedIndex:g=0,onChange:a,selectedIndex:v,dismissable:h,onTabCloseRequest:l}=E;const f=De("ccs");h&&!l&&console.error("dismissable property specified without also providing an onTabCloseRequest property.");const[b,x]=r.useState(g),[_,p]=Ce({value:v,defaultValue:g,onChange:I=>a==null?void 0:a({selectedIndex:I})}),e={baseId:f,activeIndex:b,defaultSelectedIndex:g,dismissable:h,onTabCloseRequest:l,setActiveIndex:x,selectedIndex:_,setSelectedIndex:p};return t.createElement(G.Provider,{value:e},c)}ce.propTypes={children:n.node,defaultSelectedIndex:n.number,dismissable:n.bool,onChange:n.func,onTabCloseRequest:E=>{if(E.dismissable&&!E.onTabCloseRequest)return new Error("dismissable property specified without also providing an onTabCloseRequest property.")},selectedIndex:n.number};function qe(E){let{children:c,height:g,defaultSelectedIndex:a=0,onChange:v,selectedIndex:h,...l}=E;const[f,b]=Ce({value:h,defaultValue:a,onChange:p=>v==null?void 0:v({selectedIndex:p})}),x={...l,selectedIndex:f,onChange:p=>{let{selectedIndex:e}=p;return b(e)}};return ue(Se)?t.createElement(ce,x,c):t.createElement(ze,{style:{height:g}},t.createElement(ce,x,c))}qe.propTypes={children:n.node,defaultSelectedIndex:n.number,height:n.string,onChange:n.func,selectedIndex:n.number};function Ke(E,c,g){switch(!0){case V(E,$e):return(g+1)%c;case V(E,we):return(c+g-1)%c;case V(E,Z):return 0;case V(E,ee):return c-1;default:return g}}function Fe(E,c,g){switch(!0){case V(E,_e):return(g+1)%c;case V(E,ye):return(c+g-1)%c;case V(E,Z):return 0;case V(E,ee):return c-1;default:return g}}function Pe(E){let{activation:c="automatic","aria-label":g,children:a,className:v,contained:h=!1,fullWidth:l=!1,iconSize:f,leftOverflowButtonProps:b,light:x,rightOverflowButtonProps:_,scrollDebounceWait:p=200,scrollIntoView:e,...I}=E;const{activeIndex:S,selectedIndex:m,setSelectedIndex:L,setActiveIndex:D,dismissable:$}=t.useContext(G),d=F(),o=r.useRef(null),W=r.useRef(null),s=r.useRef(null),[u,y]=r.useState(!1),[C,P]=r.useState(0);let R=!1;h&&(R=t.Children.toArray(a).some(i=>{const w=i;return t.isValidElement(i)&&!!w.props.secondaryLabel}));const M=ue(ke),k=l&&h&&M&&t.Children.toArray(a).length<9,te=H(`${d}--tabs`,{[`${d}--tabs--contained`]:h,[`${d}--tabs--light`]:x,[`${d}--tabs__icon--default`]:f==="default",[`${d}--tabs__icon--lg`]:f==="lg",[`${d}--layout--size-lg`]:f==="lg",[`${d}--tabs--tall`]:R,[`${d}--tabs--full-width`]:k,[`${d}--tabs--dismissable`]:$},v),O=44,[Q,U]=r.useState(o.current?C+O+o.current.clientWidth<o.current.scrollWidth:!1),ne=o.current?u&&C>0:!1,se=H(`${d}--tab--overflow-nav-button`,`${d}--tab--overflow-nav-button--previous`,{[`${d}--tab--overflow-nav-button--hidden`]:!ne}),J=H(`${d}--tab--overflow-nav-button`,`${d}--tab--overflow-nav-button--next`,{[`${d}--tab--overflow-nav-button--hidden`]:!Q}),N=r.useRef([]),re=r.useCallback(()=>fe(i=>{P(i.target.scrollLeft)},p),[p]);function ae(i){var w;if(Ie(i,[$e,we,Z,ee])){i.preventDefault();const q=N.current.filter(le=>le!==null).filter(le=>!le.disabled),oe=q.indexOf(N.current[c==="automatic"?m:S]),j=N.current.indexOf(q[Ke(i,q.length,oe)]);c==="automatic"?L(j):c==="manual"&&D(j),(w=N.current[j])==null||w.focus()}}function T(i){var B;let{relatedTarget:w}=i;(B=o.current)!=null&&B.contains(w)||c==="manual"&&D(m)}function A(i){if(!(!u||!o.current)&&i){const{width:w}=i.getBoundingClientRect(),B=i.offsetLeft,q=i.offsetLeft+w,oe=o.current.scrollLeft+O,j=o.current.scrollLeft+o.current.clientWidth-O;B<oe&&P(B-O),q>j&&P(q+O-o.current.clientWidth)}}return r.useEffect(()=>{const i=N.current[m];e&&i&&i.scrollIntoView({block:"nearest",inline:"nearest"})},[]),r.useEffect(()=>{U(o.current?C+O+o.current.clientWidth+1<o.current.scrollWidth:!1),$&&o.current&&y(o.current.scrollWidth>o.current.clientWidth)},[C,a,$,u]),r.useEffect(()=>{var i;if((i=N.current[m])!=null&&i.disabled){const w=N.current.filter(B=>!B.disabled);if(w.length>0){const B=w[0];L(N.current.indexOf(B))}}},[]),K(()=>{o.current&&y(o.current.scrollWidth>o.current.clientWidth+1);function i(){o.current&&y(o.current.scrollWidth>o.current.clientWidth+1)}const w=fe(i,200);return window.addEventListener("resize",w),()=>{w.cancel(),window.removeEventListener("resize",w)}},[]),K(()=>{C!==null&&o.current&&(o.current.scrollLeft=C)},[C]),K(()=>{const i=c==="manual"?N.current[S]:N.current[m];A(i)},[c,S]),K(()=>{const i=N.current[m];A(i)},[m,u,a]),ve(W,{onPress(i){let{longPress:w}=i;!w&&o.current&&P(Math.max(C-o.current.scrollWidth/N.current.length*1.5,0))},onLongPress(){return Ee(o,"backward",P)}}),ve(s,{onPress(i){let{longPress:w}=i;!w&&o.current&&P(Math.min(C+o.current.scrollWidth/N.current.length*1.5,o.current.scrollWidth-o.current.clientWidth))},onLongPress(){return Ee(o,"forward",P)}}),t.createElement("div",{className:te},t.createElement("button",z({"aria-hidden":"true",tabIndex:-1,"aria-label":"Scroll left",ref:W,className:se,type:"button"},b),he||(he=t.createElement(We,null))),t.createElement("div",z({},I,{"aria-label":g,ref:o,role:"tablist",className:`${d}--tab--list`,onScroll:re,onKeyDown:ae,onBlur:T}),t.Children.map(a,(i,w)=>ie.isElement(i)?t.createElement(de.Provider,{value:{index:w,hasSecondaryLabel:R,contained:h}},t.cloneElement(i,{ref:B=>{N.current[w]=B}})):null)),t.createElement("button",z({"aria-hidden":"true",tabIndex:-1,"aria-label":"Scroll right",ref:s,className:J,type:"button"},_),pe||(pe=t.createElement(Ae,null))))}Pe.propTypes={activation:n.oneOf(["automatic","manual"]),"aria-label":n.string,children:n.node,className:n.string,contained:n.bool,fullWidth:n.bool,iconSize:n.oneOf(["default","lg"]),leftOverflowButtonProps:n.object,light:Ve(n.bool),rightOverflowButtonProps:n.object,scrollDebounceWait:n.number,scrollIntoView:n.bool};function je(E){let{activation:c="automatic","aria-label":g,children:a,className:v,scrollIntoView:h,...l}=E;const{activeIndex:f,selectedIndex:b,setSelectedIndex:x,setActiveIndex:_}=t.useContext(G),p=F(),e=r.useRef(null),[I,S]=r.useState(!1),[m,L]=r.useState(!1),D=ue(Se),$=H(`${p}--tabs`,`${p}--tabs--vertical`,`${p}--tabs--contained`,v),d=r.useRef([]);function o(s){var u;if(Ie(s,[_e,ye,Z,ee])){s.preventDefault();const C=d.current.filter(M=>M!==null).filter(M=>!M.disabled),P=C.indexOf(d.current[c==="automatic"?b:f]),R=d.current.indexOf(C[Fe(s,C.length,P)]);c==="automatic"?x(R):c==="manual"&&_(R),(u=d.current[R])==null||u.focus()}}function W(s){var y;let{relatedTarget:u}=s;(y=e.current)!=null&&y.contains(u)||c==="manual"&&_(b)}return r.useEffect(()=>{var s;if((s=d.current[b])!=null&&s.disabled){const u=d.current.filter(y=>!y.disabled);if(u.length>0){const y=u[0];x(d.current.indexOf(y))}}},[]),r.useEffect(()=>{function s(){var R,M,k;const u=(R=e.current)==null?void 0:R.offsetHeight,y=(M=e.current)==null?void 0:M.getBoundingClientRect().top,C=(k=d.current[b])==null?void 0:k.getBoundingClientRect().top,P=Y/2;y&&u&&(C-P<y||C-y+Y+P>u)&&e.current&&e.current.scrollTo({top:(b-1)*Y,behavior:"smooth"})}return window.addEventListener("resize",s),s(),()=>{window.removeEventListener("resize",s)}},[b,h]),r.useEffect(()=>{const s=e.current;if(!s)return;const u=()=>{const C=Y/2;S(s.scrollTop+s.clientHeight+C<=s.scrollHeight),L(s.scrollTop>C)},y=new ResizeObserver(()=>u());return y.observe(s),s.addEventListener("scroll",u),()=>{y.disconnect(),s.removeEventListener("scroll",u)}}),D?t.createElement(Pe,z({},l,{"aria-label":g,contained:!0}),a):t.createElement("div",{className:$},m&&t.createElement("div",{className:`${p}--tab--list-gradient_top`}),t.createElement("div",z({},l,{"aria-label":g,ref:e,role:"tablist",className:`${p}--tab--list`,onKeyDown:o,onBlur:W}),t.Children.map(a,(s,u)=>ie.isElement(s)?t.createElement(de.Provider,{value:{index:u,hasSecondaryLabel:!1}},t.cloneElement(s,{ref:y=>{d.current[u]=y}})):null)),I&&t.createElement("div",{className:`${p}--tab--list-gradient_bottom`}))}je.propTypes={activation:n.oneOf(["automatic","manual"]),"aria-label":n.string,children:n.node,className:n.string};function Ee(E,c,g){const a=E.current;if(!a)return()=>{};const v=a==null?void 0:a.style["scroll-behavior"];a.style["scroll-behavior"]="auto";const h=c==="forward"?5:-5;let l=null;function f(){a&&(a.scrollLeft=a.scrollLeft+h,l=requestAnimationFrame(f))}return l=requestAnimationFrame(f),()=>{a.style["scroll-behavior"]=v,g(a.scrollLeft),l&&cancelAnimationFrame(l)}}const Re=r.forwardRef(function(c,g){let{as:a="button",children:v,className:h,disabled:l,onClick:f,onKeyDown:b,secondaryLabel:x,renderIcon:_,...p}=c;const e=F(),{selectedIndex:I,setSelectedIndex:S,baseId:m,dismissable:L,onTabCloseRequest:D}=t.useContext(G),{index:$,hasSecondaryLabel:d,contained:o}=t.useContext(de),{badgeIndicator:W}=t.useContext(Be)||{},s=r.useRef(null),u=r.useRef(null),y=xe([g,u]),[C,P]=r.useState(!1),R=`${m}-tab-${$}`,M=`${m}-tabpanel-${$}`,[k,te]=r.useState(!1),O=T=>(te(T.offsetHeight<T.scrollHeight),T.offsetHeight<T.scrollHeight),Q=H(`${e}--tabs__nav-item`,`${e}--tabs__nav-link`,{[`${e}--tabs__nav-item--selected`]:I===$,[`${e}--tabs__nav-item--disabled`]:l,[`${e}--tabs__nav-item--hover-off`]:C},h),U=a,ne=T=>{o&&u.current&&(T.stopPropagation(),P(!0),u.current.classList.add(`${e}--tabs__nav-item--hover-off`))},se=()=>{o&&u.current&&(u.current.classList.remove(`${e}--tabs__nav-item--hover-off`),P(!1))};me(s,"mouseover",ne),me(s,"mouseleave",se),K(()=>{function T(){const A=document.getElementById(`${R}`)||u.current;if(A!=null&&A.closest(`.${e}--tabs--vertical`)){const i=A==null?void 0:A.getElementsByClassName(`${e}--tabs__nav-item-label`)[0];O(i)}}return T(),window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}},[e,R]);const J=T=>{var A;if(T.stopPropagation(),D==null||D($),u.current&&u.current.parentElement){const i=Array.from(u.current.parentElement.childNodes).filter(w=>{const B=w;return B.classList.contains(`${e}--tabs__nav-link`)&&!B.classList.contains(`${e}--tabs__nav-item--disabled`)}).length;if(u.current&&$+1!==i)u.current.focus();else{const w=(i-2)*2;(A=u.current.parentElement.childNodes[w])==null||A.focus()}}},N=T=>{L&&V(T,He)&&J(T),b==null||b(T)},re=t.createElement("div",{className:H({[`${e}--tabs__nav-item--close`]:L,[`${e}--tabs__nav-item--close--hidden`]:!L})},t.createElement("button",{type:"button",tabIndex:I===$&&L?0:-1,"aria-disabled":l,"aria-hidden":I===$&&L?"false":"true",disabled:l,className:H({[`${e}--tabs__nav-item--close-icon`]:L,[`${e}--visually-hidden`]:!L,[`${e}--tabs__nav-item--close-icon--selected`]:I===$,[`${e}--tabs__nav-item--close-icon--disabled`]:l}),onClick:J,title:`Remove ${typeof v=="string"?v:""} tab`,ref:s},t.createElement(Me,{"aria-hidden":I===$&&L?"false":"true","aria-label":`Press delete to remove ${typeof v=="string"?v:""} tab`}))),ae=_??L;return k?t.createElement(Te,{label:v,align:"top",leaveDelayMs:0,autoAlign:!0,onMouseEnter:()=>!1,closeOnActivation:!0},t.createElement(U,z({},p,{"aria-controls":M,"aria-disabled":l,"aria-selected":I===$,ref:y,id:R,role:"tab",className:Q,disabled:l,title:v,onClick:T=>{l||(S($),f==null||f(T))},onKeyDown:N,tabIndex:I===$?"0":"-1",type:"button"}),t.createElement("div",{className:`${e}--tabs__nav-item-label-wrapper`},t.createElement(X,{className:`${e}--tabs__nav-item-label`},v)),d&&x&&t.createElement(X,{as:"div",className:`${e}--tabs__nav-item-secondary-label`,title:x},x))):t.createElement(t.Fragment,null,t.createElement(U,z({},p,{"aria-controls":M,"aria-disabled":l,"aria-selected":I===$,ref:y,id:R,role:"tab",className:Q,disabled:l,onClick:T=>{l||(S($),f==null||f(T))},onKeyDown:N,tabIndex:I===$?"0":"-1",type:"button"}),t.createElement("div",{className:`${e}--tabs__nav-item-label-wrapper`},L&&_&&t.createElement("div",{className:`${e}--tabs__nav-item--icon-left`},t.createElement(_,{size:16})),t.createElement(X,{className:`${e}--tabs__nav-item-label`},v),!L&&_&&t.createElement("div",{className:H(`${e}--tabs__nav-item--icon`,{[`${e}--visually-hidden`]:!ae})},!L&&_&&t.createElement(_,{size:16}))),d&&x&&t.createElement(X,{as:"div",className:`${e}--tabs__nav-item-secondary-label`,title:x},x),!l&&W&&(ge||(ge=t.createElement(Oe,null)))),re)});Re.propTypes={as:n.oneOfType([n.string,n.elementType]),children:n.node,className:n.string,disabled:n.bool,onClick:n.func,onKeyDown:n.func,renderButton:n.func,renderIcon:n.oneOfType([n.func,n.object]),secondaryLabel:n.string};const Be=r.createContext(!1),Ge=t.forwardRef(function(c,g){let{badgeIndicator:a,children:v,className:h,defaultOpen:l=!1,enterDelayMs:f,leaveDelayMs:b,label:x,..._}=c;const p=F(),e=r.useMemo(()=>({badgeIndicator:a}),[a]),I=r.isValidElement(v)&&v.props.size===20,S=H(`${p}--tabs__nav-item--icon-only`,h,{[`${p}--tabs__nav-item--icon-only__20`]:I});return t.createElement(Be.Provider,{value:e},t.createElement(Te,{align:"bottom",defaultOpen:l,className:`${p}--icon-tooltip`,enterDelayMs:f,label:x,leaveDelayMs:b},t.createElement(Re,z({className:S,ref:g},_),v)))});Ge.propTypes={badgeIndicator:n.bool,children:n.node,className:n.string,defaultOpen:n.bool,enterDelayMs:n.number,label:n.node.isRequired,leaveDelayMs:n.number};const Qe=t.forwardRef(function(c,g){let{children:a,className:v,...h}=c;const l=F(),f=r.useRef(null),b=xe([g,f]),[x,_]=r.useState(0),[p,e]=r.useState(!1),{selectedIndex:I,baseId:S}=t.useContext(G),m=t.useContext(Ne),L=`${S}-tabpanel-${m}`,D=`${S}-tab-${m}`,$=H(`${l}--tab-content`,v,{[`${l}--tab-content--interactive`]:p});return r.useEffect(()=>{if(!f.current)return;be(f.current)&&(e(!0),_(-1))},[]),r.useEffect(()=>{const d=f.current;if(!d)return;function o(){be(d)?(e(!0),_(-1)):(e(!1),_(0))}const W=new MutationObserver(o);return W.observe(d,{childList:!0,subtree:!0}),()=>W.disconnect()},[]),t.createElement("div",z({},h,{"aria-labelledby":D,id:L,className:$,ref:b,role:"tabpanel",tabIndex:x,hidden:I!==m}),a)});Qe.propTypes={children:n.node,className:n.string};function Ue(E){let{children:c}=E;const g=F(),a=r.useRef([]),v=r.useRef([]);return K(()=>{var b,x;const h=(b=a.current[0])==null?void 0:b.previousElementSibling,l=h==null?void 0:h.classList.contains(`${g}--tabs--vertical`),f=(x=h==null?void 0:h.parentElement)==null?void 0:x.style.height;if(l&&!f){v.current=a.current.map(e=>(e==null?void 0:e.hidden)||!1),a.current.forEach(e=>{e&&(e.hidden=!1)});const _=a.current.map(e=>(e==null?void 0:e.offsetHeight)||0),p=Math.max(..._);h.style.height=p+"px",a.current.forEach((e,I)=>{e&&(e.hidden=v.current[I])})}}),t.createElement(t.Fragment,null,t.Children.map(c,(h,l)=>ie.isElement(h)?t.createElement(Ne.Provider,{value:l},t.cloneElement(h,{ref:f=>{a.current[l]=f}})):null))}Ue.propTypes={children:n.node};export{Ge as I,ce as T,Ue as a,Qe as b,Pe as c,Re as d,je as e,qe as f};
