{"version":3,"file":"CreateTearsheetNarrow-9TQegQwi.js","sources":["../../src/components/CreateTearsheetNarrow/CreateTearsheetNarrow.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2021, 2021\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Import portions of React that are needed.\nimport React, { PropsWithChildren, ReactNode } from 'react';\n\nimport { Form } from '@carbon/react';\n// Other standard imports.\nimport PropTypes from 'prop-types';\nimport { TearsheetNarrow } from '../Tearsheet/TearsheetNarrow';\nimport cx from 'classnames';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport { pkg } from '../../settings';\nimport uuidv4 from '../../global/js/utils/uuidv4';\n\n// The block part of our conventional BEM class names (blockClass__E--M).\nconst blockClass = `${pkg.prefix}--create-tearsheet-narrow`;\nconst componentName = 'CreateTearsheetNarrow';\n\n// NOTE: the component SCSS is not imported here: it is rolled up separately.\n\ntype VerticalPosition = 'normal' | 'lower';\nexport interface CreateTearsheetNarrowProps extends PropsWithChildren {\n  /**\n   * Provide the contents of the CreateTearsheetNarrow.\n   */\n  children: ReactNode;\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className?: string;\n\n  /**\n   * A description of the flow, displayed in the header area of the tearsheet.\n   */\n  description?: ReactNode;\n\n  /**\n   * Specifies a boolean for disabling or enabling the primary button. This is important for form validation\n   * Returning `true` prevents the primary button from being clicked until required fields are completed.\n   */\n  disableSubmit?: boolean;\n\n  /**\n   * Specifies an optional field that provides a additional context for a form\n   */\n  formDescription?: ReactNode;\n\n  /**\n   * Specifies a field that provides a title for a form\n   */\n  formTitle?: ReactNode;\n\n  /**\n   * A label for the tearsheet, displayed in the header area of the tearsheet\n   * to maintain context for the tearsheet (e.g. as the title changes from page\n   * to page of a multi-page task).\n   */\n  label?: ReactNode;\n\n  /**\n   * An optional handler that is called when the user closes the tearsheet (by\n   * clicking the close button, if enabled, or clicking outside, if enabled).\n   * Returning `false` here prevents the modal from closing.\n   */\n  onRequestClose?: () => void;\n\n  /**\n   * Specifies an optional handler which is called when the CreateTearsheetNarrow\n   * primary button is pressed.\n   */\n  onRequestSubmit?: () => void;\n\n  /**\n   * Specifies whether the tearsheet is currently open.\n   */\n  open?: boolean;\n\n  /**\n   * Specifies the primary button's text in the CreateTearsheetNarrow.\n   */\n  primaryButtonText: string;\n\n  /**\n   * Specifies the secondary button's text in the CreateTearsheetNarrow.\n   */\n  secondaryButtonText: string;\n\n  /**\n   * Specifies which DOM element in the form should be focused.\n   */\n  selectorPrimaryFocus?: ReactNode;\n\n  /**\n   * The main title of the tearsheet, displayed in the header area.\n   */\n  title?: ReactNode;\n\n  /**\n   * The position of the top of tearsheet in the viewport. The 'normal'\n   * position (the default) is a short distance down from the top of the\n   * viewport, leaving room at the top for a global header bar to show through\n   * from below. The 'lower' position provides a little extra room at the top\n   * to allow an action bar navigation or breadcrumbs to also show through.\n   */\n  verticalPosition?: VerticalPosition;\n}\n/**\n * Use a narrow tearsheet as an alternative to a modal when there is scrolling.\n * Use when the form fields can be broken down into sections using section headers.\n */\nexport const CreateTearsheetNarrow = React.forwardRef(\n  (\n    {\n      children,\n      className,\n      description,\n      disableSubmit,\n      formDescription,\n      formTitle,\n      label,\n      open,\n      onRequestClose,\n      onRequestSubmit,\n      primaryButtonText,\n      secondaryButtonText,\n      selectorPrimaryFocus,\n      title,\n      verticalPosition,\n      ...rest\n    }: CreateTearsheetNarrowProps,\n    ref\n  ) => {\n    const actions = [\n      {\n        label: primaryButtonText,\n        onClick: onRequestSubmit,\n        kind: 'primary',\n        disabled: disableSubmit,\n      },\n      {\n        label: secondaryButtonText,\n        onClick: onRequestClose,\n        kind: 'secondary',\n      },\n    ];\n\n    const formTextClass = `${blockClass}__content-text`;\n    const formTitleId = uuidv4();\n\n    return (\n      <TearsheetNarrow\n        {\n          // Pass through any other property values as HTML attributes.\n          ...(rest as any)\n        }\n        title={title}\n        description={description}\n        className={cx(blockClass, className)}\n        actions={actions}\n        open={open}\n        ref={ref}\n        onClose={() => {\n          onRequestClose?.();\n          return false;\n        }}\n        label={label}\n        selectorPrimaryFocus={selectorPrimaryFocus}\n        verticalPosition={verticalPosition}\n        role=\"presentation\"\n        {...getDevtoolsProps(componentName)}\n      >\n        <h3\n          className={cx(`${blockClass}__form-title-text`, formTextClass)}\n          id={formTitleId}\n        >\n          {formTitle}\n        </h3>\n        <p\n          className={cx(`${blockClass}__form-description-text`, formTextClass)}\n        >\n          {formDescription}\n        </p>\n        <Form\n          className={`${blockClass}__form`}\n          aria-labelledby={formTitleId}\n          onSubmit={(e: React.FormEvent<HTMLFormElement>) => e.preventDefault()}\n        >\n          {children}\n        </Form>\n      </TearsheetNarrow>\n    );\n  }\n);\n\n// The display name of the component, used by React. Note that displayName\n// is used in preference to relying on function.name.\nCreateTearsheetNarrow.displayName = componentName;\n\n// The types and DocGen commentary for the component props,\n// in alphabetical order (for consistency).\n// See https://www.npmjs.com/package/prop-types#usage.\nCreateTearsheetNarrow.propTypes = {\n  /**\n   * Provide the contents of the CreateTearsheetNarrow.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Provide an optional class to be applied to the containing node.\n   */\n  className: PropTypes.string,\n\n  /**\n   * A description of the flow, displayed in the header area of the tearsheet.\n   */\n  description: PropTypes.node,\n\n  /**\n   * Specifies a boolean for disabling or enabling the primary button. This is important for form validation\n   * Returning `true` prevents the primary button from being clicked until required fields are completed.\n   */\n  disableSubmit: PropTypes.bool,\n\n  /**\n   * Specifies an optional field that provides a additional context for a form\n   */\n  formDescription: PropTypes.node,\n\n  /**\n   * Specifies a field that provides a title for a form\n   */\n  formTitle: PropTypes.node,\n\n  /**\n   * A label for the tearsheet, displayed in the header area of the tearsheet\n   * to maintain context for the tearsheet (e.g. as the title changes from page\n   * to page of a multi-page task).\n   */\n  label: PropTypes.node,\n\n  /**\n   * An optional handler that is called when the user closes the tearsheet (by\n   * clicking the close button, if enabled, or clicking outside, if enabled).\n   * Returning `false` here prevents the modal from closing.\n   */\n  onRequestClose: PropTypes.func,\n\n  /**\n   * Specifies an optional handler which is called when the CreateTearsheetNarrow\n   * primary button is pressed.\n   */\n  onRequestSubmit: PropTypes.func,\n\n  /**\n   * Specifies whether the tearsheet is currently open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Specifies the primary button's text in the CreateTearsheetNarrow.\n   */\n  primaryButtonText: PropTypes.string.isRequired,\n\n  /**\n   * Specifies the secondary button's text in the CreateTearsheetNarrow.\n   */\n  secondaryButtonText: PropTypes.string.isRequired,\n\n  /**\n   * Specifies which DOM element in the form should be focused.\n   */\n  selectorPrimaryFocus: PropTypes.node,\n\n  /**\n   * The main title of the tearsheet, displayed in the header area.\n   */\n  title: PropTypes.node,\n\n  /**\n   * The position of the top of tearsheet in the viewport. The 'normal'\n   * position (the default) is a short distance down from the top of the\n   * viewport, leaving room at the top for a global header bar to show through\n   * from below. The 'lower' position provides a little extra room at the top\n   * to allow an action bar navigation or breadcrumbs to also show through.\n   */\n  verticalPosition: PropTypes.oneOf(['normal', 'lower']),\n};\n"],"names":["blockClass","pkg","componentName","CreateTearsheetNarrow","React","children","className","description","disableSubmit","formDescription","formTitle","label","open","onRequestClose","onRequestSubmit","primaryButtonText","secondaryButtonText","selectorPrimaryFocus","title","verticalPosition","rest","ref","actions","formTextClass","formTitleId","uuidv4","TearsheetNarrow","cx","getDevtoolsProps","Form","e","PropTypes"],"mappings":"2OAoBA,MAAMA,EAAa,GAAGC,EAAI,MAAM,4BAC1BC,EAAgB,wBA8FTC,EAAwBC,EAAM,WACzC,CACE,CACE,SAAAC,EACA,UAAAC,EACA,YAAAC,EACA,cAAAC,EACA,gBAAAC,EACA,UAAAC,EACA,MAAAC,EACA,KAAAC,EACA,eAAAC,EACA,gBAAAC,EACA,kBAAAC,EACA,oBAAAC,EACA,qBAAAC,EACA,MAAAC,EACA,iBAAAC,EACA,GAAGC,CAAA,EAELC,IACG,CACH,MAAMC,EAAU,CACd,CACE,MAAOP,EACP,QAASD,EACT,KAAM,UACN,SAAUN,CAAA,EAEZ,CACE,MAAOQ,EACP,QAASH,EACT,KAAM,WAAA,CACR,EAGIU,EAAgB,GAAGvB,CAAU,iBAC7BwB,EAAcC,EAAA,EAEpB,OACErB,EAAA,cAACsB,EAAA,CAGG,GAAIN,EAEN,MAAAF,EACA,YAAAX,EACA,UAAWoB,EAAG3B,EAAYM,CAAS,EACnC,QAAAgB,EACA,KAAAV,EACA,IAAAS,EACA,QAAS,KACPR,IAAA,EACO,IAET,MAAAF,EACA,qBAAAM,EACA,iBAAAE,EACA,KAAK,eACJ,GAAGS,EAAiB1B,CAAa,CAAA,EAElCE,EAAA,cAAC,KAAA,CACC,UAAWuB,EAAG,GAAG3B,CAAU,oBAAqBuB,CAAa,EAC7D,GAAIC,CAAA,EAEHd,CAAA,EAEHN,EAAA,cAAC,IAAA,CACC,UAAWuB,EAAG,GAAG3B,CAAU,0BAA2BuB,CAAa,CAAA,EAElEd,CAAA,EAEHL,EAAA,cAACyB,EAAA,CACC,UAAW,GAAG7B,CAAU,SACxB,kBAAiBwB,EACjB,SAAWM,GAAwCA,EAAE,eAAA,CAAe,EAEnEzB,CAAA,CACH,CAGN,CACF,EAIAF,EAAsB,YAAcD,EAKpCC,EAAsB,UAAY,CAIhC,SAAU4B,EAAU,KAAK,WAKzB,UAAWA,EAAU,OAKrB,YAAaA,EAAU,KAMvB,cAAeA,EAAU,KAKzB,gBAAiBA,EAAU,KAK3B,UAAWA,EAAU,KAOrB,MAAOA,EAAU,KAOjB,eAAgBA,EAAU,KAM1B,gBAAiBA,EAAU,KAK3B,KAAMA,EAAU,KAKhB,kBAAmBA,EAAU,OAAO,WAKpC,oBAAqBA,EAAU,OAAO,WAKtC,qBAAsBA,EAAU,KAKhC,MAAOA,EAAU,KASjB,iBAAkBA,EAAU,MAAM,CAAC,SAAU,OAAO,CAAC,CACvD;;;;;;;;"}