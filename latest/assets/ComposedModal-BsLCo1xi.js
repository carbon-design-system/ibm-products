import{b as z,c as E,_ as H,C as Be,P as t,l as xe,u as we,e as ve,i as ce,E as Te,T as Me}from"./index-B_euquWE.js";import{e as n,r as b}from"./index-DxDX2vOa.js";import{L as de}from"./index-B1YmXwfC.js";import{I as Fe,B as te,n as D,k as ke}from"./settings-0ThqPtR3.js";import{B as Ie}from"./ButtonSet-epghEKVn.js";import{I as Re}from"./InlineLoading-CIMtbZ0Q.js";import{m as Pe}from"./mergeRefs-CTUecegF.js";import{r as Le}from"./requiredIfGivenPropIsTruthy-CU7JwK8h.js";import{b as Ae,e as Oe,w as _e}from"./wrapFocus-ChZuRP4g.js";import{c as qe}from"./events-OVwOsPzJ.js";var fe={exports:{}},o={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=Symbol.for("react.element"),oe=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),G=Symbol.for("react.context"),De=Symbol.for("react.server_context"),J=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),me;me=Symbol.for("react.module.reference");function g(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case ne:switch(e=e.type,e){case W:case K:case j:case Q:case U:return e;default:switch(e=e&&e.$$typeof,e){case De:case G:case J:case Y:case X:case V:return e;default:return s}}case oe:return s}}}o.ContextConsumer=G;o.ContextProvider=V;o.Element=ne;o.ForwardRef=J;o.Fragment=W;o.Lazy=Y;o.Memo=X;o.Portal=oe;o.Profiler=K;o.StrictMode=j;o.Suspense=Q;o.SuspenseList=U;o.isAsyncMode=function(){return!1};o.isConcurrentMode=function(){return!1};o.isContextConsumer=function(e){return g(e)===G};o.isContextProvider=function(e){return g(e)===V};o.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ne};o.isForwardRef=function(e){return g(e)===J};o.isFragment=function(e){return g(e)===W};o.isLazy=function(e){return g(e)===Y};o.isMemo=function(e){return g(e)===X};o.isPortal=function(e){return g(e)===oe};o.isProfiler=function(e){return g(e)===K};o.isStrictMode=function(e){return g(e)===j};o.isSuspense=function(e){return g(e)===Q};o.isSuspenseList=function(e){return g(e)===U};o.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===W||e===K||e===j||e===Q||e===U||e===ze||typeof e=="object"&&e!==null&&(e.$$typeof===Y||e.$$typeof===X||e.$$typeof===V||e.$$typeof===G||e.$$typeof===J||e.$$typeof===me||e.getModuleId!==void 0)};o.typeOf=g;fe.exports=o;var ie=fe.exports;const ye=n.forwardRef(function(s,u){let{buttonOnClick:f,children:m,className:B,closeClassName:$,closeIconClassName:N,closeModal:i,iconDescription:c="Close",label:y,labelClassName:p,title:S,titleClassName:l,...x}=s;const d=z();function C(k){i==null||i(k),f==null||f(k)}const P=E(`${d}--modal-header`,B),w=E(`${d}--modal-header__label ${d}--type-delta`,p),M=E(`${d}--modal-header__heading ${d}--type-beta`,l),F=E(`${d}--modal-close`,$),a=E(`${d}--modal-close__icon`,N);return n.createElement("div",H({className:P},x,{ref:u}),y&&n.createElement("h2",{className:w},y),S&&n.createElement("h2",{className:M},S),m,n.createElement("div",{className:`${d}--modal-close-button`},n.createElement(Fe,{className:F,label:c,onClick:C,"aria-label":c,align:"left"},n.createElement(Be,{size:20,"aria-hidden":"true",tabIndex:"-1",className:a}))))});ye.propTypes={buttonOnClick:t.func,children:t.node,className:t.string,closeClassName:t.string,closeIconClassName:t.string,closeModal:t.func,iconDescription:t.string,label:t.node,labelClassName:t.string,title:t.node,titleClassName:t.string};function pe(e){let{secondaryButtons:s,secondaryButtonText:u,secondaryClassName:f,closeModal:m,onRequestClose:B,disabled:$}=e;function N(i){m(i),B(i)}return Array.isArray(s)&&s.length<=2?s.map((i,c)=>{let{buttonText:y,onClick:p}=i;return n.createElement(te,{key:`${y}-${c}`,className:f,kind:"secondary",onClick:p||N},y)}):u?n.createElement(te,{disabled:$,className:f,onClick:N,kind:"secondary"},u):null}pe.propTypes={closeModal:t.func,disabled:t.bool,onRequestClose:t.func,secondaryButtonText:t.string,secondaryButtons:(e,s,u)=>{if(e.secondaryButtons){if(!Array.isArray(e.secondaryButtons)||e.secondaryButtons.length!==2)return new Error(`${s} needs to be an array of two button config objects`);const f={buttonText:t.node,onClick:t.func};e[s].forEach(m=>{t.checkPropTypes(f,m,s,u)})}return null},secondaryClassName:t.string};const be=n.forwardRef(function(s,u){let{children:f,className:m,closeModal:B=D,danger:$,inputref:N,onRequestClose:i=D,onRequestSubmit:c=D,primaryButtonDisabled:y,primaryButtonText:p,primaryClassName:S,secondaryButtonText:l,secondaryButtons:x,secondaryClassName:d,loadingStatus:C="inactive",loadingDescription:P,loadingIconDescription:w,onLoadingSuccess:M=D,...F}=s;const a=z(),k=E(`${a}--modal-footer`,m,Array.isArray(x)&&x.length===2?`${a}--modal-footer--three-button`:null),O=E(S,C!=="inactive"?`${a}--btn--loading`:null),L=C!=="inactive",Z={closeModal:B,secondaryButtons:x,secondaryButtonText:l,secondaryClassName:d,onRequestClose:i,disabled:L};return n.createElement(Ie,H({className:k},F,{ref:u,"aria-busy":L}),n.createElement(pe,Z),p&&n.createElement(te,{onClick:c,className:O,disabled:L||y,kind:$?"danger":"primary",ref:N},C==="inactive"?p:n.createElement(Re,{status:C,description:P,iconDescription:w,className:`${a}--inline-loading--btn`,onSuccess:M})),f)});be.propTypes={children:t.node,className:t.string,closeModal:t.func,danger:t.bool,inputref:t.oneOfType([t.func,t.shape({current:t.any})]),loadingDescription:t.string,loadingIconDescription:t.string,loadingStatus:t.oneOf(["inactive","active","finished","error"]),onLoadingSuccess:t.func,onRequestClose:t.func,onRequestSubmit:t.func,primaryButtonDisabled:t.bool,primaryButtonText:t.string,primaryClassName:t.string,secondaryButtonText:t.string,secondaryButtons:(e,s,u)=>{if(e.secondaryButtons){if(!Array.isArray(e.secondaryButtons)||e.secondaryButtons.length!==2)return new Error(`${s} needs to be an array of two button config objects`);const f={buttonText:t.node,onClick:t.func};e[s].forEach(m=>{t.checkPropTypes(f,m,s,u)})}return null},secondaryClassName:t.string};function ue(e,s,u){e.classList.contains(s)===!u&&e.classList[u?"add":"remove"](s)}const He=n.forwardRef(function(s,u){let{className:f,children:m,hasForm:B,hasScrollingContent:$,...N}=s;const i=z(),c=b.useRef(null),[y,p]=b.useState(!1),S=E({[`${i}--modal-content`]:!0,[`${i}--modal-content--with-form`]:B,[`${i}--modal-scroll-content`]:$||y},f);xe(()=>{c.current&&p(c.current.scrollHeight>c.current.clientHeight);function x(){c.current&&p(c.current.scrollHeight>c.current.clientHeight)}const d=ke(x,200);return window.addEventListener("resize",d),()=>{d.cancel(),window.removeEventListener("resize",d)}},[]);const l=$||y?{tabIndex:0,role:"region"}:{};return n.createElement(de,H({className:S},l,N,{ref:Pe(c,u)}),m)});He.propTypes={"aria-label":Le("hasScrollingContent",t.string),children:t.node,className:t.string,hasForm:t.bool,hasScrollingContent:t.bool};const We=n.forwardRef(function(s,u){var le;let{["aria-labelledby"]:f,["aria-label"]:m,children:B,className:$,containerClassName:N,danger:i,decorator:c,isFullWidth:y,onClose:p,onKeyDown:S,open:l,preventCloseOnClickOutside:x,selectorPrimaryFocus:d="[data-modal-primary-focus]",selectorsFloatingMenus:C,size:P,launcherButtonRef:w,slug:M,...F}=s;const a=z(),[k,O]=b.useState(!!l),[L,Z]=b.useState(!!l),v=b.useRef(null),ee=b.useRef(null),re=b.useRef(null),se=b.useRef(null),_=we("enable-experimental-focus-wrap-without-sentinels");b.useEffect(()=>{l!==L&&(O(!!l),Z(!!l),ue(document.body,`${a}--body--with-modal-open`,!!l))},[l,L,a]),b.useEffect(()=>()=>{ue(document.body,`${a}--body--with-modal-open`,!1)},[]);function ge(r){r.stopPropagation(),ce(r,Te)&&q(r),_&&l&&ce(r,Me)&&v.current&&Ae({containerNode:v.current,currentActiveNode:r.target,event:r}),S==null||S(r)}function Ce(r){const h=r.target;r.stopPropagation(),!x&&!Oe(h,C)&&v.current&&!v.current.contains(h)&&q(r)}function he(r){let{target:h,relatedTarget:R}=r;if(l&&R&&h&&v.current){const{current:I}=v,{current:T}=re,{current:Ee}=se;_e({bodyNode:I,startTrapNode:T,endTrapNode:Ee,currentActiveNode:R,oldActiveNode:h,selectorsFloatingMenus:C==null?void 0:C.filter(Boolean)})}}function q(r){(!p||p(r)!==!1)&&O(!1)}const $e=E(`${a}--modal`,{"is-visible":k,[`${a}--modal--danger`]:i,[`${a}--modal--slug`]:M,[`${a}--modal--decorator`]:c},$),Ne=E(`${a}--modal-container`,P&&`${a}--modal-container--${P}`,y&&`${a}--modal-container--full-width`,N);let ae;const Se=n.Children.toArray(B).map(r=>{switch(!0){case(ie.isElement(r)&&r.type===n.createElement(ye).type):{const h=r;return ae=h.props.label,n.cloneElement(h,{closeModal:q})}case(ie.isElement(r)&&r.type===n.createElement(be).type):{const h=r;return n.cloneElement(h,{closeModal:q,inputref:ee,danger:i})}default:return r}});b.useEffect(()=>{!l&&w&&setTimeout(()=>{var r;(r=w==null?void 0:w.current)==null||r.focus()})},[l,w]),b.useEffect(()=>{const r=R=>{const I=R||v.current,T=I?I.querySelector(i?`.${a}--btn--secondary`:d):null;return T||ee&&ee.current};l&&k&&(R=>{const I=r(R),T=R.querySelector(`.${a}--modal-close`);I?I.focus():!I&&T&&(T==null||T.focus())})(v.current)},[l,d,k]);let A=n.isValidElement(M??c)?M??c:null;return A&&((le=A.type)==null?void 0:le.displayName)==="AILabel"&&(A=n.cloneElement(A,{size:"sm"})),n.createElement(de,H({},F,{level:0,role:"presentation",ref:u,"aria-hidden":!l,onBlur:_?()=>{}:he,onClick:qe([F==null?void 0:F.onClick,Ce]),onKeyDown:ge,className:$e}),n.createElement("div",{className:Ne,role:"dialog","aria-modal":"true","aria-label":m||ae,"aria-labelledby":f},!_&&n.createElement("button",{type:"button",ref:re,className:`${a}--visually-hidden`},"Focus sentinel"),n.createElement("div",{ref:v,className:`${a}--modal-container-body`},M?A:c?n.createElement("div",{className:`${a}--modal--inner__decorator`},A):"",Se),!_&&n.createElement("button",{type:"button",ref:se,className:`${a}--visually-hidden`},"Focus sentinel")))});We.propTypes={"aria-label":t.string,"aria-labelledby":t.string,children:t.node,className:t.string,containerClassName:t.string,danger:t.bool,decorator:t.node,isFullWidth:t.bool,launcherButtonRef:t.oneOfType([t.func,t.shape({current:t.any})]),onClose:t.func,onKeyDown:t.func,open:t.bool,preventCloseOnClickOutside:t.bool,selectorPrimaryFocus:t.string,selectorsFloatingMenus:t.arrayOf(t.string.isRequired),size:t.oneOf(["xs","sm","md","lg"]),slug:ve(t.node)};export{We as C,ye as M,He as a,be as b,ie as r};
