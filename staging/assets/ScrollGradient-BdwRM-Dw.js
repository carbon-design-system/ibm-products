import{r as e,e as t}from"./index-DzvNrmz8.js";import{d as H,P as s}from"./index-5As4T26e.js";import{g as F}from"./devtools-B_dijMH7.js";import{c as B,p as A}from"./settings-CP9zVSjJ.js";import{u as j}from"./useIsomorphicEffect-l5L8NYko.js";const G={NONE:"NONE"},J=o=>{const[R,i]=e.useState(),[$,z]=e.useState(),[u,w]=e.useState(),[f,V]=e.useState(),l=e.useCallback(()=>{o.current&&(i(o.current.scrollWidth>o.current.clientWidth),z(o.current.scrollHeight>o.current.clientHeight))},[o]);return e.useEffect(()=>{if(u)return()=>{u&&u.disconnect(),f&&f.disconnect()}}),e.useLayoutEffect(()=>{const{current:d}=o;d&&("ResizeObserver"in window&&!f&&V(new ResizeObserver(l).observe(d)),"MutationObserver"in window&&!u&&w(new MutationObserver(l).observe(d,{attributes:!1,childList:!0,subtree:!1})),l())},[o,l,u,f]),{xScrollable:R,yScrollable:$}},a=`${A.prefix}--scroll-gradient`,x="ScrollGradient",N={color:`var(--${B.prefix}-layer-01)`,hideStartGradient:!1,onScroll:()=>{},getScrollElementRef:()=>{}};let v=t.forwardRef(({children:o,className:R,color:i=N.color,onScroll:$=N.onScroll,scrollElementClassName:z,getScrollElementRef:u=N.getScrollElementRef,hideStartGradient:w=N.hideStartGradient,...f},V)=>{const l=e.useRef(),d=e.useRef(),_=e.useRef(),I=e.useRef(),p=e.useRef(void 0),m=e.useRef(void 0),{xScrollable:k,yScrollable:C}=J(p),y=C&&p.current&&m.current?p.current.offsetWidth-m.current.offsetWidth:0,g=k&&p.current&&m.current?p.current.offsetHeight-m.current.offsetHeight:0,[q]=e.useState(G.NONE),[P]=e.useState(G.NONE),S=e.useRef(null),E=e.useRef(null),b=e.useRef(null),h=e.useRef(null);j(()=>{S.current.style.right=y,S.current.style.backgroundImage=`linear-gradient(0deg, transparent, ${i} 90%)`,E.current.backgroundImage=`linear-gradient(-90deg, transparent, ${i} 90%)`,E.current.bottom=g,b.current.style.right=y,b.current.style.bottom=g,b.current.style.backgroundImage=`linear-gradient(0deg, ${i} 10%, transparent)`,h.current.style.right=y,h.current.style.bottom=g,h.current.style.backgroundImage=`linear-gradient(-90deg, ${i} 10%, transparent)`},[i,y,g]);const O=(r,n)=>{n.current&&(r.isIntersecting?(n.current.style.opacity=0,n.current.style.display="none",n==null||n.current.setAttribute("aria-hidden",!1)):(n.current.style.opacity=1,n.current.style.display="block",n==null||n.current.setAttribute("aria-hidden",!0)))};e.useEffect(()=>{const r=new IntersectionObserver(D=>{D.forEach(c=>{c.target.hasAttribute("data-start-vertical")&&O(c,S),c.target.hasAttribute("data-end-vertical")&&O(c,b),c.target.hasAttribute("data-start-horizontal")&&O(c,E),c.target.hasAttribute("data-end-horizontal")&&O(c,h)})},{root:null,rootMargin:"0px",threshold:.1});r.observe(l.current),r.observe(d.current),r.observe(_.current),r.observe(I.current);const n=l.current,M=d.current,T=_.current,W=I.current;return()=>{r.unobserve(n),r.unobserve(M),r.unobserve(T),r.unobserve(W)}},[]);const L=r=>{p.current=r,u(r)};return t.createElement("div",{...f,className:H(a,`${a}--x-${P.toLowerCase()}`,`${a}--y-${q.toLowerCase()}`,{[`${a}--x-scrollable`]:k,[`${a}--y-scrollable`]:C},R),ref:V,role:"presentation",...F(x)},t.createElement("div",{onScroll:$,ref:L,className:H(`${a}__content`,z),tabIndex:0},t.createElement("span",{ref:l,"data-start-vertical":!0}),t.createElement("span",{ref:_,"data-start-horizontal":!0}),t.createElement("div",{ref:m,className:`${a}__content-children`},o),t.createElement("span",{ref:d,"data-end-vertical":!0}),t.createElement("span",{ref:I,"data-end-horizontal":!0})),!w&&t.createElement(t.Fragment,null,t.createElement("div",{ref:S,className:`${a}__start-vertical`,role:"presentation","aria-hidden":!0}),t.createElement("div",{ref:E,className:`${a}__start-horizontal`,role:"presentation","aria-hidden":!0})),t.createElement("div",{ref:b,className:`${a}__end-vertical`,role:"presentation","aria-hidden":!0}),t.createElement("div",{ref:h,className:`${a}__end-horizontal`,role:"presentation","aria-hidden":!0}))});v=A.checkComponentEnabled(v,x);v.displayName=x;v.propTypes={children:s.oneOfType([s.arrayOf(s.node),s.node]),className:s.string,color:s.string,getScrollElementRef:s.func,hideStartGradient:s.bool,onScroll:s.func,scrollElementClassName:s.string};v.__docgenInfo={description:"TODO: A description of the component.",methods:[],displayName:"ScrollGradient",props:{color:{defaultValue:{value:"`var(--${carbon.prefix}-layer-01)`",computed:!1},description:"@type {string} Fade out color. Any valid CSS color value works",type:{name:"string"},required:!1},onScroll:{defaultValue:{value:"() => {}",computed:!1},description:"@type {Function} Optional scroll handler",type:{name:"func"},required:!1},getScrollElementRef:{defaultValue:{value:"() => {}",computed:!1},description:"@type {(element: HTMLElement) => {}} Optional function to get reference to scrollable DOM element",type:{name:"func"},required:!1},hideStartGradient:{defaultValue:{value:"false",computed:!1},description:"@type {boolean} Set to true if you want to hide gradient on the start side (top or left) of scrollable element.",type:{name:"bool"},required:!1},children:{description:"Provide the contents of the ScrollGradient.",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"}]},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},scrollElementClassName:{description:"@type {string} Optional classname for scroll element.",type:{name:"string"},required:!1}}};export{v as S};
