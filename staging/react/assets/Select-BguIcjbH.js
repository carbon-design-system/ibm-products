import{e as s,u as le,r as u,k as ae,c,_ as ne,l as oe,Y as re,P as t,g as D}from"./iframe-Bn5s87s4.js";import{F as ce}from"./FormContext-C5gYs1Iz.js";import{T as x}from"./Text-DPxQhslY.js";import{A as ie}from"./index-C9jChmFj.js";import{i as de}from"./utils-DQejB-zS.js";import{W as me,a as pe}from"./bucket-19-C9HfQtRN.js";const S=s.forwardRef(({className:L,decorator:f,id:$,inline:o=!1,labelText:P="Select",disabled:i=!1,children:g,noLabel:V=!1,hideLabel:K=!1,invalid:a=!1,invalidText:W="",helperText:b="",light:k=!1,readOnly:d,size:h,warn:m=!1,warnText:q,onChange:z,slug:_,...p},H)=>{const e=le(),{isFluid:n}=u.useContext(ce),[O,R]=u.useState(!1),B=ae(),N=s.Children.toArray(g).filter(l=>s.isValidElement(l)),M=p?.value||p?.defaultValue,U=N.find(l=>l.props?.value===M),Y=p?.title||U?.props?.text||N[0]?.props?.text||"",[j,G]=u.useState(Y),J=c({[`${e}--select`]:!0,[`${e}--select--inline`]:o,[`${e}--select--light`]:k,[`${e}--select--invalid`]:a,[`${e}--select--disabled`]:i,[`${e}--select--readonly`]:d,[`${e}--select--warning`]:m,[`${e}--select--fluid--invalid`]:n&&a,[`${e}--select--fluid--focus`]:n&&O,[`${e}--select--slug`]:_,[`${e}--select--decorator`]:f}),Q=c(`${e}--label`,{[`${e}--visually-hidden`]:K,[`${e}--label--disabled`]:i}),X=c({[`${e}--select-input`]:!0,[`${e}--select-input--${h}`]:h}),y=`${$}-error-msg`,Z=(()=>{if(a)return W;if(m)return q})(),r=a||m?s.createElement(x,{as:"div",className:`${e}--form-requirement`,id:y},Z):null,ee=c(`${e}--form__helper-text`,{[`${e}--form__helper-text--disabled`]:i}),w=b?`select-helper-text-${B}`:void 0,C=b?s.createElement(x,{as:"div",id:w,className:ee},b):null,v={};a?v["aria-describedby"]=y:!o&&!n&&(v["aria-describedby"]=C?w:void 0);const I=l=>{R(l.type==="focus")},te=l=>{const T=l?.target?.options[l.target.selectedIndex];G(T?.text)},se={onMouseDown:l=>{d&&(l.preventDefault(),l.target.focus())},onKeyDown:l=>{d&&["ArrowDown","ArrowUp"," "].includes(l.key)&&l.preventDefault()}},E=_??f,F=de(E,ie)?u.cloneElement(E,{size:"mini"}):E,A=s.createElement(s.Fragment,null,s.createElement("select",ne({},p,v,{id:$,className:X,disabled:i||void 0,"aria-invalid":a||void 0,"aria-readonly":d||void 0,title:j,onChange:oe([z,te])},se,{ref:H}),g),s.createElement(re,{className:`${e}--select__arrow`}),a&&s.createElement(me,{className:`${e}--select__invalid-icon`}),!a&&m&&s.createElement(pe,{className:`${e}--select__invalid-icon ${e}--select__invalid-icon--warning`}));return s.createElement("div",{className:c(`${e}--form-item`,L)},s.createElement("div",{className:J},!V&&s.createElement(x,{as:"label",htmlFor:$,className:Q},P),o&&s.createElement("div",{className:`${e}--select-input--inline__wrapper`},s.createElement("div",{className:`${e}--select-input__wrapper`,"data-invalid":a||null},A),r),!o&&s.createElement("div",{className:`${e}--select-input__wrapper`,"data-invalid":a||null,onFocus:I,onBlur:I},A,_?F:f?s.createElement("div",{className:`${e}--select__inner-wrapper--decorator`},F):"",n&&s.createElement("hr",{className:`${e}--select__divider`}),n&&r?r:null),!o&&!n&&r?r:C))});S.displayName="Select";S.propTypes={children:t.node,className:t.string,decorator:t.node,defaultValue:t.any,disabled:t.bool,helperText:t.node,hideLabel:t.bool,id:t.string.isRequired,inline:t.bool,invalid:t.bool,invalidText:t.node,labelText:t.node,light:D(t.bool),noLabel:t.bool,onChange:t.func,readOnly:t.bool,size:t.oneOf(["sm","md","lg"]),slug:D(t.node),warn:t.bool,warnText:t.node};export{S};
//# sourceMappingURL=Select-BguIcjbH.js.map
