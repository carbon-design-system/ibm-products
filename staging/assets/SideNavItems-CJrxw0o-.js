import{b as H,n as Y,c as $,_ as Z,j as F,E as ee,T as ae,P as a}from"./index-BPCFiO9b.js";import{e as n,r as v}from"./index-CPiZ6Cnx.js";import{A as se}from"./Link-DItntcEQ.js";import{u as te}from"./index-H2wBg9na.js";import{u as D}from"./settings-41bnSjHp.js";import{b as ne}from"./index-CtW6Lsnp.js";import{u as ie}from"./useMatchMedia-BQGBdW8Y.js";const I=["SideNavFooter","SideNavHeader","SideNavItems","SideNavMenu","SideNavLink"],re=v.createContext({});function oe(N,x){let{expanded:u,defaultExpanded:m=!1,isChildOfHeader:b=!0,"aria-label":y,"aria-labelledby":g,children:o,onToggle:c,className:S,href:L,isFixedNav:f=!1,isRail:d,isPersistent:V=!0,addFocusListeners:A=!0,addMouseListeners:W=!0,onOverlayClick:j,onSideNavBlur:M,enterDelayMs:R=100,...q}=N;const s=H(),{current:p}=v.useRef(u!==void 0),[J,E]=D(m),[h,T]=D(m),i=p?u:J,C=v.useRef(null),K=Y([C,x]),l=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!i;p||E(t,R),c&&c(e,t),(p||d)&&T(t,R)},Q={"aria-label":y,"aria-labelledby":g},z=$(S,{[`${s}--side-nav`]:!0,[`${s}--side-nav--expanded`]:i||h,[`${s}--side-nav--collapsed`]:!i&&f,[`${s}--side-nav--rail`]:d,[`${s}--side-nav--ux`]:b,[`${s}--side-nav--hidden`]:!V}),G=$({[`${s}--side-nav__overlay`]:!0,[`${s}--side-nav__overlay-active`]:i||h});let w=o;w=n.Children.map(o,e=>{var P,k;const t=p&&h||i;if(v.isValidElement(e)){const _=e;return n.cloneElement(_,{...I.includes(((P=_.type)==null?void 0:P.displayName)??((k=_.type)==null?void 0:k.name))?{isSideNavExpanded:t}:{}})}return e});const r={};A&&(r.onFocus=e=>{!e.currentTarget.contains(e.relatedTarget)&&d&&l(e,!0)},r.onBlur=e=>{e.currentTarget.contains(e.relatedTarget)||l(e,!1),!e.currentTarget.contains(e.relatedTarget)&&i&&!f&&M&&M()},r.onKeyDown=e=>{F(e,ee)&&(l(e,!1),L&&(window.location.href=L))}),W&&d&&(r.onMouseEnter=()=>{l(!0,!0)},r.onMouseLeave=()=>{E(!1),T(!1),l(!1,!1)},r.onClick=()=>{E(!0),T(!0),l(!0,!0)}),te("keydown",e=>{const t=document.activeElement;F(e,ae)&&i&&!f&&C.current&&(t!=null&&t.classList.contains(`${s}--header__menu-toggle`))&&!t.closest("nav")&&C.current.focus()});const U=`(min-width: ${ne.lg.width})`,X=ie(U);return n.createElement(re.Provider,{value:{isRail:d}},f?null:n.createElement("div",{className:G,onClick:j}),n.createElement("nav",Z({tabIndex:-1,ref:K,className:`${s}--side-nav__navigation ${z}`,inert:d||i||X?void 0:-1},Q,r,q),w))}const B=n.forwardRef(oe);B.displayName="SideNav";B.propTypes={...se,addFocusListeners:a.bool,addMouseListeners:a.bool,className:a.string,defaultExpanded:a.bool,enterDelayMs:a.number,expanded:a.bool,href:a.string,isChildOfHeader:a.bool,isFixedNav:a.bool,isPersistent:a.bool,isRail:a.bool,onOverlayClick:a.func,onSideNavBlur:a.func,onToggle:a.func};const O=N=>{let{className:x,children:u,isSideNavExpanded:m}=N;const b=H(),y=$([`${b}--side-nav__items`],x),g=n.Children.map(u,o=>{var c;if(n.isValidElement(o)){const S=(c=o.type)==null?void 0:c.displayName;return n.cloneElement(o,{...I.includes(S)?{isSideNavExpanded:m}:{}})}});return n.createElement("ul",{className:y},g)};O.displayName="SideNavItems";O.propTypes={children:a.node.isRequired,className:a.string,isSideNavExpanded:a.bool};export{B as S,O as a,re as b};
