import{b as ee,d as le,c,_ as se,L as ae,P as l,i as F}from"./index-BPCFiO9b.js";import{e as s,r as _}from"./index-CPiZ6Cnx.js";import{F as te}from"./FormContext-CgeSXHS1.js";import{c as ne}from"./events-OVwOsPzJ.js";import{T as x}from"./Text-DJS5NTiV.js";import{W as re,a as ie}from"./bucket-18-CAzey7tD.js";const D=s.forwardRef(function(I,S){var C;let{className:A,decorator:d,id:$,inline:i=!1,labelText:L="Select",disabled:m=!1,children:z,noLabel:O=!1,hideLabel:P=!1,invalid:t=!1,invalidText:K="",helperText:b="",light:W=!1,readOnly:u,size:g,warn:p=!1,warnText:q,onChange:H,slug:f,...R}=I;const e=ee(),{isFluid:n}=_.useContext(te),[V,k]=_.useState(!1),[B,M]=_.useState(""),U=le(),j=c({[`${e}--select`]:!0,[`${e}--select--inline`]:i,[`${e}--select--light`]:W,[`${e}--select--invalid`]:t,[`${e}--select--disabled`]:m,[`${e}--select--readonly`]:u,[`${e}--select--warning`]:p,[`${e}--select--fluid--invalid`]:n&&t,[`${e}--select--fluid--focus`]:n&&V,[`${e}--select--slug`]:f,[`${e}--select--decorator`]:d}),G=c(`${e}--label`,{[`${e}--visually-hidden`]:P,[`${e}--label--disabled`]:m}),J=c({[`${e}--select-input`]:!0,[`${e}--select-input--${g}`]:g}),E=`${$}-error-msg`,Q=(()=>{if(t)return K;if(p)return q})(),o=t||p?s.createElement(x,{as:"div",className:`${e}--form-requirement`,id:E},Q):null,X=c(`${e}--form__helper-text`,{[`${e}--form__helper-text--disabled`]:m}),y=b?`select-helper-text-${U}`:void 0,w=b?s.createElement(x,{as:"div",id:y,className:X},b):null,v={};t?v["aria-describedby"]=E:!i&&!n&&(v["aria-describedby"]=w?y:void 0);const N=a=>{k(a.type==="focus")},Y=a=>{var h;M((h=a==null?void 0:a.target)==null?void 0:h.value)},Z={onMouseDown:a=>{u&&(a.preventDefault(),a.target.focus())},onKeyDown:a=>{u&&["ArrowDown","ArrowUp"," "].includes(a.key)&&a.preventDefault()}};let r=s.isValidElement(f??d)?f??d:null;r&&((C=r.type)==null?void 0:C.displayName)==="AILabel"&&(r=s.cloneElement(r,{size:"mini"}));const T=s.createElement(s.Fragment,null,s.createElement("select",se({},R,v,{id:$,className:J,disabled:m||void 0,"aria-invalid":t||void 0,"aria-readonly":u||void 0,title:B,onChange:ne([H,Y])},Z,{ref:S}),z),s.createElement(ae,{className:`${e}--select__arrow`}),t&&s.createElement(re,{className:`${e}--select__invalid-icon`}),!t&&p&&s.createElement(ie,{className:`${e}--select__invalid-icon ${e}--select__invalid-icon--warning`}));return s.createElement("div",{className:c(`${e}--form-item`,A)},s.createElement("div",{className:j},!O&&s.createElement(x,{as:"label",htmlFor:$,className:G},L),i&&s.createElement("div",{className:`${e}--select-input--inline__wrapper`},s.createElement("div",{className:`${e}--select-input__wrapper`,"data-invalid":t||null},T),o),!i&&s.createElement("div",{className:`${e}--select-input__wrapper`,"data-invalid":t||null,onFocus:N,onBlur:N},T,f?r:d?s.createElement("div",{className:`${e}--select__inner-wrapper--decorator`},r):"",n&&s.createElement("hr",{className:`${e}--select__divider`}),n&&o?o:null),!i&&!n&&o?o:w))});D.displayName="Select";D.propTypes={children:l.node,className:l.string,decorator:l.node,defaultValue:l.any,disabled:l.bool,helperText:l.node,hideLabel:l.bool,id:l.string.isRequired,inline:l.bool,invalid:l.bool,invalidText:l.node,labelText:l.node,light:F(l.bool),noLabel:l.bool,onChange:l.func,readOnly:l.bool,size:l.oneOf(["sm","md","lg"]),slug:F(l.node),warn:l.bool,warnText:l.node};export{D as S};
