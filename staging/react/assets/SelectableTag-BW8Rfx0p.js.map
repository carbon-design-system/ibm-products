{"version":3,"file":"SelectableTag-BW8Rfx0p.js","sources":["../../../../node_modules/@carbon/react/es/components/Tag/SelectableTag.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef, useRef, useState, useLayoutEffect } from 'react';\nimport cx from 'classnames';\nimport { useId } from '../../internal/useId.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport Tag, { SIZES } from './Tag.js';\nimport '../Tooltip/DefinitionTooltip.js';\nimport { Tooltip } from '../Tooltip/Tooltip.js';\nimport { Text } from '../Text/Text.js';\nimport '../Text/TextDirection.js';\nimport { isEllipsisActive } from './isEllipsisActive.js';\nimport { mergeRefs } from '../../tools/mergeRefs.js';\nimport { useControllableState } from '../../internal/useControllableState.js';\n\n// eslint-disable-next-line react/display-name -- https://github.com/carbon-design-system/carbon/issues/20452\nconst SelectableTag = /*#__PURE__*/forwardRef(({\n  className,\n  disabled,\n  id,\n  renderIcon,\n  onChange,\n  onClick,\n  selected,\n  size,\n  text,\n  defaultSelected = false,\n  ...other\n}, forwardRef) => {\n  const prefix = usePrefix();\n  const tagRef = useRef(null);\n  // eslint-disable-next-line  react-hooks/rules-of-hooks -- https://github.com/carbon-design-system/carbon/issues/20452\n  const tagId = id || `tag-${useId()}`;\n  const [selectedTag, setSelectedTag] = useControllableState({\n    value: selected,\n    onChange: onChange,\n    defaultValue: defaultSelected\n  });\n  const tagClasses = cx(`${prefix}--tag--selectable`, className, {\n    [`${prefix}--tag--selectable-selected`]: selectedTag\n  });\n  const [isEllipsisApplied, setIsEllipsisApplied] = useState(false);\n  useLayoutEffect(() => {\n    const newElement = tagRef.current?.getElementsByClassName(`${prefix}--tag__label`)[0];\n    setIsEllipsisApplied(isEllipsisActive(newElement));\n  }, [prefix, tagRef]);\n  const tooltipClasses = cx(`${prefix}--icon-tooltip`, `${prefix}--tag-label-tooltip`);\n  const combinedRef = mergeRefs(tagRef, forwardRef);\n  const handleClick = e => {\n    setSelectedTag(!selectedTag);\n    onClick?.(e);\n  };\n  if (isEllipsisApplied) {\n    return /*#__PURE__*/React.createElement(Tooltip, {\n      label: text,\n      align: \"bottom\",\n      className: tooltipClasses,\n      leaveDelayMs: 0,\n      onMouseEnter: () => false\n    }, /*#__PURE__*/React.createElement(Tag, _extends({\n      \"aria-pressed\": selectedTag !== false,\n      ref: combinedRef,\n      size: size,\n      renderIcon: renderIcon,\n      disabled: disabled,\n      className: tagClasses,\n      id: tagId,\n      onClick: handleClick\n    }, other), /*#__PURE__*/React.createElement(Text, {\n      title: text,\n      className: `${prefix}--tag__label`\n    }, text)));\n  }\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    \"aria-pressed\": selectedTag !== false,\n    ref: combinedRef,\n    size: size,\n    renderIcon: renderIcon,\n    disabled: disabled,\n    className: tagClasses,\n    id: tagId,\n    onClick: handleClick\n  }, other), /*#__PURE__*/React.createElement(Text, {\n    title: text,\n    className: `${prefix}--tag__label`\n  }, text));\n});\nSelectableTag.propTypes = {\n  /**\n   * Provide a custom className that is applied to the containing <span>\n   */\n  className: PropTypes.string,\n  /**\n   * Specify if the `SelectableTag` is disabled\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Specify the id for the tag.\n   */\n  id: PropTypes.string,\n  /**\n   * A component used to render an icon.\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  /**\n   * Provide an optional hook that is called when selected is changed\n   */\n  onChange: PropTypes.func,\n  /**\n   * Provide an optional function to be called when the tag is clicked.\n   */\n  onClick: PropTypes.func,\n  /**\n   * Specify the state of the selectable tag.\n   */\n  selected: PropTypes.bool,\n  /**\n   * Specify the default state of the selectable tag.\n   */\n  defaultSelected: PropTypes.bool,\n  /**\n   * Specify the size of the Tag. Currently supports either `sm`,\n   * `md` (default) or `lg` sizes.\n   */\n  size: PropTypes.oneOf(Object.keys(SIZES)),\n  /**\n   * Provide text to be rendered inside of a the tag.\n   */\n  text: PropTypes.string\n};\n\nexport { SelectableTag as default };\n"],"names":["SelectableTag","className","disabled","id","renderIcon","onChange","onClick","selected","size","text","defaultSelected","other","forwardRef","prefix","usePrefix","tagRef","useRef","tagId","useId","selectedTag","setSelectedTag","useControllableState","tagClasses","cx","isEllipsisApplied","setIsEllipsisApplied","useState","useLayoutEffect","newElement","isEllipsisActive","tooltipClasses","combinedRef","mergeRefs","handleClick","e","React","Tooltip","Tag","_extends","Text","PropTypes","SIZES"],"mappings":"mRAuBA,MAAMA,eAAwC,CAAC,CAC7C,UAAAC,EACA,SAAAC,EACA,GAAAC,EACA,WAAAC,EACA,SAAAC,EACA,QAAAC,EACA,SAAAC,EACA,KAAAC,EACA,KAAAC,EACA,gBAAAC,EAAkB,GAClB,GAAGC,CACL,EAAGC,IAAe,CAChB,MAAMC,EAASC,EAAA,EACTC,EAASC,EAAAA,OAAO,IAAI,EAEpBC,EAAQd,GAAM,OAAOe,EAAA,CAAO,GAC5B,CAACC,EAAaC,CAAc,EAAIC,EAAqB,CACzD,MAAOd,EACP,SAAAF,EACA,aAAcK,CAAA,CACf,EACKY,EAAaC,EAAG,GAAGV,CAAM,oBAAqBZ,EAAW,CAC7D,CAAC,GAAGY,CAAM,4BAA4B,EAAGM,CAAA,CAC1C,EACK,CAACK,EAAmBC,CAAoB,EAAIC,EAAAA,SAAS,EAAK,EAChEC,EAAAA,gBAAgB,IAAM,CACpB,MAAMC,EAAab,EAAO,SAAS,uBAAuB,GAAGF,CAAM,cAAc,EAAE,CAAC,EACpFY,EAAqBI,EAAiBD,CAAU,CAAC,CACnD,EAAG,CAACf,EAAQE,CAAM,CAAC,EACnB,MAAMe,EAAiBP,EAAG,GAAGV,CAAM,iBAAkB,GAAGA,CAAM,qBAAqB,EAC7EkB,EAAcC,EAAUjB,EAAQH,CAAU,EAC1CqB,EAAcC,GAAK,CACvBd,EAAe,CAACD,CAAW,EAC3Bb,IAAU4B,CAAC,CACb,EACA,OAAIV,EACkBW,EAAM,cAAcC,EAAS,CAC/C,MAAO3B,EACP,MAAO,SACP,UAAWqB,EACX,aAAc,EACd,aAAc,IAAM,EAAA,EACNK,EAAM,cAAcE,EAAKC,EAAS,CAChD,eAAgBnB,IAAgB,GAChC,IAAKY,EACL,KAAAvB,EACA,WAAAJ,EACA,SAAAF,EACA,UAAWoB,EACX,GAAIL,EACJ,QAASgB,CAAA,EACRtB,CAAK,EAAgBwB,EAAM,cAAcI,EAAM,CAChD,MAAO9B,EACP,UAAW,GAAGI,CAAM,cAAA,EACnBJ,CAAI,CAAC,CAAC,EAES0B,EAAM,cAAcE,EAAKC,EAAS,CACpD,eAAgBnB,IAAgB,GAChC,IAAKY,EACL,KAAAvB,EACA,WAAAJ,EACA,SAAAF,EACA,UAAWoB,EACX,GAAIL,EACJ,QAASgB,CAAA,EACRtB,CAAK,EAAgBwB,EAAM,cAAcI,EAAM,CAChD,MAAO9B,EACP,UAAW,GAAGI,CAAM,cAAA,EACnBJ,CAAI,CAAC,CACV,CAAC,EACDT,EAAc,UAAY,CAIxB,UAAWwC,EAAU,OAIrB,SAAUA,EAAU,KAIpB,GAAIA,EAAU,OAId,WAAYA,EAAU,UAAU,CAACA,EAAU,KAAMA,EAAU,MAAM,CAAC,EAIlE,SAAUA,EAAU,KAIpB,QAASA,EAAU,KAInB,SAAUA,EAAU,KAIpB,gBAAiBA,EAAU,KAK3B,KAAMA,EAAU,MAAM,OAAO,KAAKC,CAAK,CAAC,EAIxC,KAAMD,EAAU,MAClB","x_google_ignoreList":[0]}