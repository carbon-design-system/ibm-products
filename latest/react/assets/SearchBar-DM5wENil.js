import{e as o,r as u,c as R,p as T,B as V,P as e}from"./iframe-D7eStwkL.js";import{M as F}from"./MultiSelect-C82-1bLi.js";import{S as M}from"./Search-DgqxHkqe.js";import{g as D}from"./devtools-Df6KS5y3.js";const r=`${T.prefix}--search-bar`,g="SearchBar",y={onSubmit:()=>{},onChange:()=>{},hideScopesLabel:!0};let l=o.forwardRef(({className:t,clearButtonLabelText:s,hideScopesLabel:c=y.hideScopesLabel,labelText:m,onChange:f=y.onChange,onSubmit:S=y.onSubmit,placeholderText:v,scopes:p=[],scopesTypeLabel:w,scopeToString:x,selectedScopes:d=[],sortItems:q,submitLabel:N,translateWithId:j,value:I,...L},C)=>{const[n,_]=u.useState(I||""),[k,B]=u.useState(d||[]),[O,h]=u.useState(!1);u.useEffect(()=>{!n||!n.length?h(!1):h(!0)},[n]);const P=a=>{a.preventDefault();const i={value:n};p.length>0&&(i.selectedScopes=k),S(i)},$=({selectedItems:a})=>{B(a),f({selectedScopes:a,value:n})},A=a=>{const{value:i}=a.target,b={value:i};p.length>0&&(b.selectedScopes=d),_(i),f(b)},E={initialSelectedItems:d,items:p,itemToString:x,label:w,sortItems:q,translateWithId:j};return o.createElement("form",{...L,ref:C,...D(g),className:R(r,t,{[`${r}--hide-scopes-label`]:c}),onSubmit:P},p?.length?o.createElement(F,{...E,id:`${r}__multi-select`,className:`${r}__scopes`,onChange:$,size:"lg"}):null,o.createElement(M,{className:`${r}__input`,closeButtonLabelText:s,labelText:m,name:"search-input",onChange:A,placeholder:v,value:n,size:"lg"}),o.createElement(V,{name:"search-submit",kind:"primary",type:"submit",className:`${r}__submit`,disabled:!O},N))});l=T.checkComponentEnabled(l,g);l.displayName=g;const W=(t,s,c,...m)=>t.scopes&&t.scopes.length>0&&!t[s]?new Error(`Required \`${s}\` when \`scopes\` prop type is supplied to \`${c}\`. Validation failed.`):e.string(t,s,c,...m),z={titleText:e.string};l.propTypes={className:e.string,clearButtonLabelText:e.string.isRequired,hideScopesLabel:e.bool,labelText:e.string.isRequired,onChange:e.func,onSubmit:e.func,placeholderText:e.string.isRequired,scopeToString:e.func,scopes:e.arrayOf(e.oneOfType([e.string,e.object])),scopesTypeLabel:W,selectedScopes:e.arrayOf(e.oneOfType([e.string,e.object])),sortItems:e.func,submitLabel:e.string.isRequired,translateWithId:e.func,value:e.string,...z};l.__docgenInfo={description:"",methods:[],displayName:"SearchBar",props:{className:{required:!1,tsType:{name:"string"},description:"@type {string} Optional additional class name.",type:{name:"string"}},clearButtonLabelText:{required:!0,tsType:{name:"string"},description:"@type {string} The label text for the search text input.",type:{name:"string"}},hideScopesLabel:{required:!1,tsType:{name:"boolean"},description:"Whether or not the scopes MultiSelect label is visually hidden.",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},labelText:{required:!0,tsType:{name:"string"},description:"@type {string} The label text for the search text input.",type:{name:"string"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: any) => void",signature:{arguments:[{type:{name:"any"},name:"event"}],return:{name:"void"}}},description:"@type {Function} Function handler for when the user changes their query search.",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: any) => void",signature:{arguments:[{type:{name:"any"},name:"event"}],return:{name:"void"}}},description:"@type {Function} Function handler for when the user submits a search.",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},placeholderText:{required:!0,tsType:{name:"string"},description:"@type {string} Placeholder text to be displayed in the search input.",type:{name:"string"}},scopeToString:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: string | object) => string",signature:{arguments:[{type:{name:"union",raw:"string | object",elements:[{name:"string"},{name:"object"}]},name:"item"}],return:{name:"string"}}},description:"@type {Function} Function to get the text for each scope to display in dropdown.",type:{name:"func"}},scopes:{required:!1,tsType:{name:"union",raw:"string[] | object[]",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"Array",elements:[{name:"object"}],raw:"object[]"}]},description:"@type {Array<any>} Array of allowed search scopes.",defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"union",value:[{name:"string"},{name:"object"}]}}},scopesTypeLabel:{required:!1,tsType:{name:"NonNullable",elements:[{name:"ReactNode"}],raw:"NonNullable<ReactNode>"},description:"@type {string} The name text for the search scope type.",type:{name:"custom",raw:`(
  props,
  propName,
  componentName,
  ...rest
) => {
  if (props.scopes && props.scopes.length > 0 && !props[propName]) {
    return new Error(
      \`Required \\\`\${propName}\\\` when \\\`scopes\\\` prop type is supplied to \\\`\${componentName}\\\`. Validation failed.\`
    );
  }
  /**@ts-ignore */
  return PropTypes.string(props, propName, componentName, ...rest);
}`}},selectedScopes:{required:!1,tsType:{name:"union",raw:"string[] | object[]",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"Array",elements:[{name:"object"}],raw:"object[]"}]},description:"@type {Array<any> Array of initially selected search scopes.",defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"union",value:[{name:"string"},{name:"object"}]}}},sortItems:{required:!1,tsType:{name:"signature",type:"function",raw:"(items: readonly unknown[]) => unknown[]",signature:{arguments:[{type:{name:"unknown"},name:"items"}],return:{name:"Array",elements:[{name:"unknown"}],raw:"unknown[]"}}},description:`Optional custom sorting algorithm for an array of scope items.
By default, scope items are sorted in ascending alphabetical order,
with "selected" items moved to the start of the scope items array.`,type:{name:"func"}},submitLabel:{required:!0,tsType:{name:"string"},description:"@type {string} The label text for the search submit button.",type:{name:"string"}},titleText:{required:!1,tsType:{name:"string"},description:"Provide accessible label text for the scopes MultiSelect.",type:{name:"string"}},translateWithId:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  messageId: 'close.menu' | 'open.menu' | 'clear.all' | 'clear.selection'
) => string`,signature:{arguments:[{type:{name:"union",raw:"'close.menu' | 'open.menu' | 'clear.all' | 'clear.selection'",elements:[{name:"literal",value:"'close.menu'"},{name:"literal",value:"'open.menu'"},{name:"literal",value:"'clear.all'"},{name:"literal",value:"'clear.selection'"}]},name:"messageId"}],return:{name:"string"}}},description:"@type {func} Callback function for translating MultiSelect's child ListBoxMenuIcon SVG title.",type:{name:"func"}},value:{required:!1,tsType:{name:"string"},description:"@type {string} Search query value.",type:{name:"string"}}},composes:["PropsWithChildren"]};export{l as S};
