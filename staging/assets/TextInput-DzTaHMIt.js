import{P as e}from"./index-Dk74W0Oi.js";import{R as t,r as P}from"./index-BwDkhjyp.js";import{b as le,d as $e,c as s,_ as me,e as ae}from"./index-C8rbkH0g.js";import{u as be}from"./useNormalizedInputProps-BXoiUTEC.js";import{F as we}from"./FormContext-C7kRVu4t.js";import{n as ue,T as he}from"./settings-DI4GKhuL.js";import{W as ge,e as fe,f as xe}from"./bucket-18--U95jA7N.js";import{u as ve}from"./useAnnouncer-Dwt0jqXi.js";import{T as ie}from"./Text-DZylbEPL.js";const _e=x=>({"data-invalid":!0,"aria-invalid":!0,"aria-describedby":x}),ye=x=>({"aria-describedby":x}),Te=x=>({"aria-describedby":x}),se=x=>{let{sharedTextInputProps:E,invalid:O,invalidId:T,warn:p,warnId:c,hasHelper:L,helperId:u}=x;return{...E,...O?_e(T):{},...p?ye(c):{},...L?Te(u):{}}},oe=t.forwardRef(function(E,O){let{labelText:T,className:p,id:c,placeholder:L,onChange:u=ue,onClick:o=ue,disabled:r=!1,hideLabel:H,invalid:$=!1,invalidText:V="",helperText:v="",light:B,type:C="password",togglePasswordVisibility:I,tooltipPosition:f="bottom",tooltipAlignment:_="center",hidePasswordLabel:h="Hide password",showPasswordLabel:z="Show password",size:d=void 0,...m}=E;const a=le(),A=$e(),l=c+"-error-msg",R=s(`${a}--text-input`,`${a}--password-input`,p,{[`${a}--text-input--light`]:B,[`${a}--text-input--invalid`]:$,[`${a}--text-input--${d}`]:d}),g={id:c,onChange:W=>{r||u==null||u(W)},onClick:W=>{r||o==null||o(W)},placeholder:L,type:C,ref:O,className:R,...m},k=s(`${a}--label`,{[`${a}--visually-hidden`]:H,[`${a}--label--disabled`]:r}),n=s(`${a}--form__helper-text`,{[`${a}--form__helper-text--disabled`]:r}),i=T?t.createElement("label",{htmlFor:c,className:k},T):null,b=$?t.createElement("div",{className:`${a}--form-requirement`,id:l},V):null,F=C==="text",j=F?t.createElement(fe,{className:`${a}--icon-visibility-off`}):t.createElement(xe,{className:`${a}--icon-visibility-on`}),D=s(`${a}--text-input--password__visibility__toggle`,`${a}--btn`,`${a}--btn--icon-only`,`${a}--tooltip__trigger`,`${a}--tooltip--a11y`,{[`${a}--tooltip--${f}`]:f,[`${a}--tooltip--align-${_}`]:_}),S=v?`controlled-password-helper-text-${A}`:void 0,G=t.createElement(t.Fragment,null,t.createElement("input",me({},se({invalid:$,sharedTextInputProps:g,invalidId:l,hasHelper:!!(!b&&v),helperId:S}),{"data-toggle-password-visibility":C==="password"})),t.createElement("button",{type:"button",className:D,onClick:I},t.createElement("span",{className:`${a}--assistive-text`},F?h:z),j)),J=v?t.createElement("div",{id:S,className:n},v):null;return t.createElement("div",{className:`${a}--form-item ${a}--text-input-wrapper ${a}--password-input-wrapper`},i,t.createElement("div",{className:`${a}--text-input__field-wrapper`,"data-invalid":$||null},$&&t.createElement(ge,{className:`${a}--text-input__invalid-icon`}),G),b||J)});oe.displayName="ControlledPasswordInput";oe.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ae(e.bool),onChange:e.func,onClick:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),value:e.oneOfType([e.string,e.number])};const re=t.forwardRef(function(E,O){let{className:T,disabled:p=!1,helperText:c,hideLabel:L,hidePasswordLabel:u="Hide password",id:o,inline:r,invalid:H=!1,invalidText:$,labelText:V,light:v,onChange:B=()=>{},onClick:C=()=>{},onTogglePasswordVisibility:I,placeholder:f,readOnly:_,size:h="md",showPasswordLabel:z="Show password",tooltipPosition:d="bottom",tooltipAlignment:m="end",type:a="password",warn:A=!1,warnText:l,...R}=E;const[g,k]=P.useState(a),n=le(),i=be({id:o,invalid:H,invalidText:$,warn:A,warnText:l,readOnly:_,disabled:p}),{isFluid:b}=P.useContext(we),F=w=>{k(g==="password"?"text":"password"),I&&I(w)},j=s(`${n}--text-input`,`${n}--password-input`,T,{[`${n}--text-input--light`]:v,[`${n}--text-input--invalid`]:i.invalid,[`${n}--text-input--warning`]:i.warn,[`${n}--text-input--${h}`]:h,[`${n}--layout--size-${h}`]:h}),D={id:o,onChange:w=>{p||B(w)},onClick:w=>{p||C(w)},placeholder:f,type:g,className:j,readOnly:_,ref:O,...R},S=s(`${n}--form-item`,`${n}--text-input-wrapper`,`${n}--password-input-wrapper`,{[`${n}--text-input-wrapper--readonly`]:_,[`${n}--text-input-wrapper--light`]:v,[`${n}--text-input-wrapper--inline`]:r,[`${n}--text-input--fluid`]:b}),G=s(`${n}--label`,{[`${n}--visually-hidden`]:L,[`${n}--label--disabled`]:p,[`${n}--label--inline`]:r,[`${n}--label--inline--${h}`]:r&&!!h}),J=s(`${n}--form__helper-text`,{[`${n}--form__helper-text--disabled`]:p,[`${n}--form__helper-text--inline`]:r}),W=s(`${n}--text-input__field-outer-wrapper`,{[`${n}--text-input__field-outer-wrapper--inline`]:r}),ee=s(`${n}--text-input__field-wrapper`,{[`${n}--text-input__field-wrapper--warning`]:i.warn}),te=s({[`${n}--text-input__invalid-icon`]:i.invalid||i.warn,[`${n}--text-input__invalid-icon--warning`]:i.warn}),U=V?t.createElement("label",{htmlFor:o,className:G},V):null,K=c?t.createElement("div",{id:i.helperId,className:J},c):null,M=g==="text",ne=M?t.createElement(fe,{className:`${n}--icon-visibility-off`}):t.createElement(xe,{className:`${n}--icon-visibility-on`}),q=s(`${n}--text-input--password__visibility__toggle`,`${n}--btn`,`${n}--tooltip__trigger`,`${n}--tooltip--a11y`,{[`${n}--tooltip--${d}`]:d,[`${n}--tooltip--align-${m}`]:m});let N;(d==="top"||d==="bottom")&&(m==="center"&&(N=d),m==="end"&&(N=`${d}-end`),m==="start"&&(N=`${d}-start`)),(d==="right"||d==="left")&&(N=d),!u||u.trim()===""?console.warn('Warning: The "hidePasswordLabel" should not be blank.'):(!z||z.trim()==="")&&console.warn('Warning: The "showPasswordLabel" should not be blank.');const X=t.createElement(t.Fragment,null,t.createElement("input",me({},se({sharedTextInputProps:D,invalid:i.invalid,invalidId:i.invalidId,warn:i.warn,warnId:i.warnId,hasHelper:!!(c&&!b&&(r||!r&&!i.validation)),helperId:i.helperId}),{disabled:p,"data-toggle-password-visibility":g==="password"})),b&&t.createElement("hr",{className:`${n}--text-input__divider`}),t.createElement(he,{align:N,className:`${n}--toggle-password-tooltip`,label:M?u:z},t.createElement("button",{type:"button",className:q,disabled:p||_,onClick:F},ne)));P.useEffect(()=>{k(a)},[a]);const Y=i.icon;return t.createElement("div",{className:S},r?t.createElement("div",{className:`${n}--text-input__label-helper-wrapper`},U,!b&&K):U,t.createElement("div",{className:W},t.createElement("div",{className:ee,"data-invalid":i.invalid||null},Y&&t.createElement(Y,{className:te}),X,b&&!r&&i.validation),!b&&!r&&(i.validation||K)))});re.displayName="PasswordInput";re.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,inline:e.bool,invalid:e.bool,readOnly:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ae(e.bool),onChange:e.func,onClick:e.func,onTogglePasswordVisibility:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),type:e.oneOf(["password","text"]),value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};const Z=t.forwardRef(function(E,O){var ce;let{className:T,disabled:p=!1,helperText:c,hideLabel:L,id:u,inline:o=!1,invalid:r=!1,invalidText:H,labelText:$,light:V,onChange:v=()=>{},onClick:B=()=>{},placeholder:C,readOnly:I,size:f,type:_="text",warn:h=!1,warnText:z,enableCounter:d=!1,maxCount:m,slug:a,...A}=E;const l=le(),{defaultValue:R,value:g}=A,[k,n]=P.useState((R==null?void 0:R.toString().length)||(g==null?void 0:g.toString().length)||0),i=be({id:u,readOnly:I,disabled:p,invalid:r,invalidText:H,warn:h,warnText:z}),b=s(`${l}--text-input`,{[`${l}--text-input--light`]:V,[`${l}--text-input--invalid`]:i.invalid,[`${l}--text-input--warning`]:i.warn,[`${l}--text-input--${f}`]:f,[`${l}--layout--size-${f}`]:f}),F={id:u,onChange:y=>{var Q;i.disabled||(n((Q=y.target.value)==null?void 0:Q.length),v(y))},onClick:y=>{i.disabled||B(y)},placeholder:C,type:_,ref:O,className:b,title:C,disabled:i.disabled,readOnly:I,"aria-describedby":c&&i.helperId,...A};d&&(F.maxLength=m);const j=s([s(`${l}--form-item`,T)],`${l}--text-input-wrapper`,{[`${l}--text-input-wrapper--readonly`]:I,[`${l}--text-input-wrapper--light`]:V,[`${l}--text-input-wrapper--inline`]:o,[`${l}--text-input-wrapper--inline--invalid`]:o&&i.invalid}),D=s(`${l}--label`,{[`${l}--visually-hidden`]:L,[`${l}--label--disabled`]:i.disabled,[`${l}--label--inline`]:o,[`${l}--label--inline--${f}`]:o&&!!f}),S=s(`${l}--form__helper-text`,{[`${l}--form__helper-text--disabled`]:i.disabled,[`${l}--form__helper-text--inline`]:o}),G=s(`${l}--text-input__field-outer-wrapper`,{[`${l}--text-input__field-outer-wrapper--inline`]:o}),J=s(`${l}--text-input__field-wrapper`,{[`${l}--text-input__field-wrapper--warning`]:i.warn,[`${l}--text-input__field-wrapper--slug`]:a}),W=s({[`${l}--text-input__invalid-icon`]:i.invalid||i.warn,[`${l}--text-input__invalid-icon--warning`]:i.warn}),ee=s(`${l}--label`,{[`${l}--label--disabled`]:p,[`${l}--text-input__label-counter`]:!0}),te=d&&m?t.createElement(ie,{as:"div",className:ee},`${k}/${m}`):null,U=$?t.createElement(ie,{as:"label",htmlFor:u,className:D},$):null,K=t.createElement("div",{className:`${l}--text-input__label-wrapper`},U,te),M=c?t.createElement(ie,{as:"div",id:i.helperId,className:S},c):null,ne=t.createElement("input",se({sharedTextInputProps:F,invalid:i.invalid,invalidId:i.invalidId,warn:i.warn,warnId:i.warnId})),{isFluid:q}=P.useContext(we),N=P.useRef(null),[X,Y]=P.useState(""),w=ve(k,m);P.useEffect(()=>{if(w&&w!==X){const y=N.current;if(y){y.textContent="";const Q=setTimeout(()=>{y&&(y.textContent=w,Y(w))},1e3);return()=>{Q&&clearTimeout(Q)}}}},[w,X]);const de=i.icon;let pe;return a&&((ce=a.type)==null?void 0:ce.displayName)==="AILabel"&&(pe=t.cloneElement(a,{size:"mini"})),t.createElement("div",{className:j},o?t.createElement("div",{className:`${l}--text-input__label-helper-wrapper`},K,!q&&(i.validation||M)):K,t.createElement("div",{className:G},t.createElement("div",{className:J,"data-invalid":i.invalid||null},de&&t.createElement(de,{className:W}),ne,pe,t.createElement("span",{className:`${l}--text-input__counter-alert`,role:"alert","aria-live":"assertive","aria-atomic":"true",ref:N},w),q&&t.createElement("hr",{className:`${l}--text-input__divider`}),q&&!o&&i.validation),!q&&!o&&(i.validation||M)))});Z.displayName="TextInput";Z.PasswordInput=re;Z.ControlledPasswordInput=oe;Z.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,enableCounter:e.bool,helperText:e.node,hideLabel:e.bool,id:e.string.isRequired,inline:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ae(e.bool),maxCount:e.number,onChange:e.func,onClick:e.func,placeholder:e.string,readOnly:e.bool,size:e.oneOf(["sm","md","lg"]),slug:e.node,type:e.string,value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};export{re as P,Z as T};
