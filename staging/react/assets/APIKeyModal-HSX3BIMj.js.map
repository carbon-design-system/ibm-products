{"version":3,"file":"APIKeyModal-HSX3BIMj.js","sources":["../../src/components/APIKeyModal/APIKeyDownloader.tsx","../../src/components/APIKeyModal/APIKeyModal.tsx"],"sourcesContent":["/**\n * Copyright IBM Corp. 2021, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { pkg } from '../../settings';\nconst componentName = 'APIKeyDownloader';\n\ninterface APIKeyDownloaderProps {\n  /**\n   * the api key that's displayed to the user when a request to create is fulfilled.\n   */\n  apiKey?: string;\n  /**\n   * the content that appears that indicates the key is downloadable\n   */\n  body?: string;\n  /**\n   * designates the name of downloadable json file with the key. if not specified will default to 'apikey'\n   */\n  fileName?: string;\n  /**\n   * designates the file type for the downloadable key\n   */\n  fileType: 'txt' | 'json';\n  /**\n   * anchor text for the download link\n   */\n  linkText: string;\n  /**\n   * Aria-label for the download link\n   */\n  downloadLinkLabel;\n}\n\nexport const APIKeyDownloader = (props: APIKeyDownloaderProps) => {\n  const { apiKey, body, fileName, fileType, linkText, downloadLinkLabel } =\n    props;\n  const [linkProps, setLinkProps] = useState({});\n\n  useEffect(() => {\n    const generateLinkProps = async () => {\n      const data = fileType === 'txt' ? apiKey : JSON.stringify({ apiKey });\n      const blob = new Blob([data as BlobPart], {\n        type: fileType === 'txt' ? 'text/plain' : 'application/json',\n      });\n      const href = await URL.createObjectURL(blob);\n      const download = `${fileName || 'apikey'}.${fileType}`;\n      const props = {\n        href,\n        download,\n      };\n      setLinkProps(props);\n    };\n\n    generateLinkProps();\n  }, [apiKey, fileName, fileType]);\n\n  return (\n    <div className={`${pkg.prefix}--apikey-modal__download-container`}>\n      <p className={`${pkg.prefix}--apikey-modal__messaging-text`}>\n        {body}{' '}\n        <a\n          {...linkProps}\n          className={`${pkg.prefix}--apikey-modal__download-link`}\n          aria-label={downloadLinkLabel ?? linkText}\n          role=\"button\"\n        >\n          {downloadLinkLabel ?? linkText}\n        </a>\n      </p>\n    </div>\n  );\n};\n\nAPIKeyDownloader.displayName = componentName;\nAPIKeyDownloader.propTypes = {\n  /**\n   * the api key that's displayed to the user when a request to create is fulfilled.\n   */\n  apiKey: PropTypes.string.isRequired,\n  /**\n   * body content for the downloader\n   */\n  body: PropTypes.string,\n  /**\n   * aria-label for the download link\n   */\n  downloadLinkLabel: PropTypes.string,\n  /**\n   * designates the name of downloadable json file with the key. if not specified will default to 'apikey'\n   */\n  fileName: PropTypes.string.isRequired,\n  /**\n   * designates the file type for the downloadable key\n   */\n  fileType: PropTypes.oneOf(['txt', 'json']).isRequired,\n  /**\n   * anchor text for the download link\n   */\n  linkText: PropTypes.string.isRequired,\n};\n","//\n// Copyright IBM Corp. 2021, 2025\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\nimport React, {\n  useState,\n  useRef,\n  useEffect,\n  forwardRef,\n  RefObject,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport {\n  ComposedModal,\n  ModalHeader,\n  ModalFooter,\n  ModalBody,\n  TextInput,\n  PasswordInput,\n  InlineLoading,\n  Form,\n  Button,\n  unstable_FeatureFlags as FeatureFlags,\n} from '@carbon/react';\nimport {\n  InformationFilled,\n  Copy,\n  ErrorFilled,\n  CheckmarkFilled,\n} from '@carbon/react/icons';\nimport { APIKeyDownloader } from './APIKeyDownloader';\nimport { pkg } from '../../settings';\nimport { usePortalTarget } from '../../global/js/hooks/usePortalTarget';\nimport { getDevtoolsProps } from '../../global/js/utils/devtools';\nimport uuidv4 from '../../global/js/utils/uuidv4';\nimport { APIKeyModalProps } from './APIKeyModal.types';\nimport { useFocus, usePreviousValue } from '../../global/js/hooks';\n\nconst componentName = 'APIKeyModal';\n\n// Default values for props\nconst defaults = {\n  apiKeyName: '',\n  customSteps: [],\n};\n\nexport const APIKeyModal: React.FC<APIKeyModalProps> = forwardRef(\n  (\n    {\n      // The component props, in alphabetical order (for consistency).\n      apiKey,\n      apiKeyLabel,\n      apiKeyName = defaults.apiKeyName,\n      body,\n      className,\n      closeButtonText,\n      copyButtonText,\n      copyErrorText,\n      copyIconDescription,\n      customSteps = defaults.customSteps,\n      downloadBodyText,\n      downloadFileName,\n      downloadFileType,\n      downloadLinkText,\n      downloadLinkLabel = downloadLinkText,\n      editButtonText,\n      editSuccess,\n      editSuccessTitle,\n      editSuccessMessage,\n      editing,\n      error,\n      errorText,\n      generateButtonText,\n      generateSuccessBody,\n      generateSuccessTitle,\n      generateSuccessMessage,\n      generateTitle,\n      hasAPIKeyVisibilityToggle,\n      hasDownloadLink,\n      hideAPIKeyLabel,\n      launcherButtonRef,\n      loading,\n      loadingText,\n      modalLabel,\n      nameHelperText,\n      nameLabel,\n      namePlaceholder,\n      nameRequired,\n      nextStepButtonText,\n      onClose,\n      onCopy,\n      onRequestEdit,\n      onRequestGenerate,\n      open,\n      portalTarget: portalTargetIn,\n      previousStepButtonText,\n      showAPIKeyLabel,\n      helperText,\n\n      // Collect any other property values passed in.\n      ...rest\n    },\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const [title, setTitle] = useState<string | null | undefined>(null);\n    const [successMessage, setSuccessMessage] = useState<\n      string | null | undefined\n    >(null);\n    const [copyError, setCopyError] = useState(false);\n    const [name, setName] = useState(apiKeyName);\n    const [currentStep, setCurrentStep] = useState(0);\n    const copyRef = useRef<HTMLButtonElement | undefined>(undefined);\n    const apiKeyInputId = useRef(uuidv4());\n    const nameInputId = useRef(uuidv4());\n    const renderPortalUse = usePortalTarget(portalTargetIn);\n    const hasSteps = Boolean(customSteps.length);\n    const apiKeyLoaded = apiKey && !loading;\n    const hasNextStep = hasSteps && currentStep < customSteps.length - 1;\n    const hasPreviousStep = hasSteps && currentStep !== 0;\n    const copyButtonProps = {\n      renderIcon: (props) => <Copy size={16} {...props} />,\n      iconDescription: copyIconDescription,\n      ref: copyRef,\n    };\n    const blockClass = `${pkg.prefix}--apikey-modal`;\n    const localRef = useRef(undefined);\n    const PasswordInputRef = useRef<HTMLElement | null>(null);\n    const modalRef = (ref || localRef) as RefObject<HTMLDivElement>;\n    const { firstElement, keyDownListener, claimFocus } = useFocus(modalRef);\n    const prevOpen = usePreviousValue(open);\n\n    useEffect(() => {\n      if (copyRef.current && open && apiKeyLoaded) {\n        copyRef.current.focus();\n      }\n      if (PasswordInputRef?.current) {\n        PasswordInputRef?.current.setAttribute('readOnly', 'true');\n      }\n    }, [open, apiKeyLoaded]);\n\n    useEffect(() => {\n      if (open) {\n        // Focusing the first element or selectorPrimaryFocus element\n        setTimeout(() => claimFocus(), 0);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [modalRef, open, firstElement]);\n\n    useEffect(() => {\n      if (prevOpen && !open && launcherButtonRef) {\n        setTimeout(() => {\n          launcherButtonRef.current.focus();\n        }, 0);\n      }\n    }, [launcherButtonRef, open, prevOpen]);\n\n    const isPrimaryButtonDisabled = () => {\n      if (loading) {\n        return true;\n      }\n      if (hasSteps && 'valid' in (customSteps?.[currentStep] || [])) {\n        return !customSteps[currentStep]?.valid;\n      }\n      if (!hasSteps && nameRequired && !name) {\n        return true;\n      }\n      return false;\n    };\n\n    const getPrimaryButtonText = () => {\n      if (hasNextStep) {\n        return nextStepButtonText;\n      }\n      if (apiKeyLoaded) {\n        return copyButtonText;\n      }\n      if (editing) {\n        return editButtonText;\n      }\n      return generateButtonText;\n    };\n\n    const getSecondaryButtonText = () => {\n      if (hasPreviousStep && !apiKeyLoaded) {\n        return previousStepButtonText;\n      }\n      return closeButtonText;\n    };\n\n    useEffect(() => {\n      if (editing && editSuccess) {\n        setTitle(generateTitle);\n        setSuccessMessage(editSuccessMessage ?? editSuccessTitle);\n      } else if (apiKeyLoaded) {\n        setTitle(generateTitle);\n        setSuccessMessage(generateSuccessMessage ?? generateSuccessTitle);\n      } else if (hasSteps) {\n        setTitle(customSteps[currentStep]?.title);\n      } else {\n        setTitle(generateTitle);\n      }\n    }, [\n      apiKeyLoaded,\n      loading,\n      editing,\n      editSuccess,\n      editSuccessTitle,\n      editSuccessMessage,\n      hasSteps,\n      generateSuccessTitle,\n      generateSuccessMessage,\n      generateTitle,\n      currentStep,\n      customSteps,\n    ]);\n\n    const setNameHandler = (evt) => {\n      setName(evt.target.value);\n    };\n\n    const onCloseHandler = () => {\n      setName('');\n      setCurrentStep(0);\n      onClose?.();\n    };\n\n    const submitHandler = async (e) => {\n      e.preventDefault();\n      if (hasNextStep) {\n        setCurrentStep(currentStep + 1);\n      } else if (apiKeyLoaded) {\n        if (onCopy) {\n          onCopy(apiKey);\n        } else {\n          try {\n            await navigator.clipboard.writeText(apiKey);\n          } catch (e) {\n            console.error(e);\n            setCopyError(true);\n          }\n        }\n      } else if (editing) {\n        onRequestEdit?.(name);\n      } else {\n        onRequestGenerate?.(name);\n      }\n    };\n\n    const onBackHandler = () => {\n      if (hasPreviousStep && !apiKeyLoaded) {\n        setCurrentStep(currentStep - 1);\n      } else {\n        onCloseHandler();\n      }\n    };\n\n    return renderPortalUse(\n      <FeatureFlags enableExperimentalFocusWrapWithoutSentinels>\n        <ComposedModal\n          {...rest}\n          {...{ open, ...getDevtoolsProps(componentName) }}\n          ref={modalRef}\n          onKeyDown={keyDownListener}\n          className={cx(className, blockClass)}\n          onClose={onCloseHandler}\n          size=\"sm\"\n          aria-label={modalLabel}\n          preventCloseOnClickOutside\n        >\n          <ModalHeader\n            className={`${blockClass}__header`}\n            title={title}\n            label={modalLabel}\n          />\n          <ModalBody className={`${blockClass}__body-container`}>\n            {hasSteps && !apiKeyLoaded ? (\n              customSteps[currentStep]?.content\n            ) : (\n              <>\n                {body && <p className={`${blockClass}__body`}>{body}</p>}\n                {!editing && apiKey && hasAPIKeyVisibilityToggle && (\n                  <PasswordInput\n                    value={apiKey}\n                    labelText={apiKeyLabel}\n                    id={apiKeyInputId.current}\n                    showPasswordLabel={showAPIKeyLabel}\n                    hidePasswordLabel={hideAPIKeyLabel}\n                    tooltipPosition=\"left\"\n                    helperText={helperText}\n                    ref={PasswordInputRef}\n                  />\n                )}\n                {!editing && apiKey && !hasAPIKeyVisibilityToggle && (\n                  <TextInput\n                    value={apiKey}\n                    labelText={apiKeyLabel}\n                    id={apiKeyInputId.current}\n                  />\n                )}\n                {(editing || (!apiKeyLoaded && nameRequired)) && (\n                  <Form\n                    onSubmit={submitHandler}\n                    aria-label={title ?? undefined}\n                  >\n                    <TextInput\n                      helperText={nameHelperText}\n                      placeholder={namePlaceholder}\n                      labelText={nameLabel}\n                      onChange={setNameHandler}\n                      value={name}\n                      id={nameInputId.current}\n                      disabled={loading}\n                      required={nameRequired}\n                      data-modal-primary-focus\n                    />\n                  </Form>\n                )}\n                {loading && (\n                  <InlineLoading\n                    description={loadingText}\n                    className={`${blockClass}__loader`}\n                  />\n                )}\n                {(copyError || error) && (\n                  <div className={`${blockClass}__messaging`}>\n                    <div className={`${blockClass}__error-icon`}>\n                      <ErrorFilled size={16} />\n                    </div>\n                    <p\n                      className={`${blockClass}__messaging-text`}\n                      role=\"alert\"\n                      aria-live=\"assertive\"\n                    >\n                      {copyError ? copyErrorText : errorText}\n                    </p>\n                  </div>\n                )}\n                {apiKeyLoaded && (\n                  <div className={`${blockClass}__messaging`}>\n                    <InformationFilled size={16} />\n                    {hasDownloadLink ? (\n                      <APIKeyDownloader\n                        apiKey={apiKey}\n                        body={downloadBodyText}\n                        fileName={downloadFileName}\n                        linkText={downloadLinkText}\n                        fileType={downloadFileType}\n                        downloadLinkLabel={downloadLinkLabel}\n                      />\n                    ) : (\n                      <div\n                        className={`${blockClass}__messaging-text`}\n                        role=\"alert\"\n                        aria-live=\"assertive\"\n                      >\n                        {generateSuccessBody}\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {(editSuccess || (apiKeyLoaded && successMessage)) && (\n                  <div className={`${blockClass}__messaging`}>\n                    <CheckmarkFilled\n                      size={16}\n                      className={`${blockClass}__checkmark-icon`}\n                    />\n                    <p\n                      className={`${blockClass}__messaging-text`}\n                      role=\"alert\"\n                      aria-live=\"assertive\"\n                    >\n                      {successMessage}\n                    </p>\n                  </div>\n                )}\n              </>\n            )}\n          </ModalBody>\n          <ModalFooter className={`${blockClass}__footer`}>\n            <Button type=\"button\" kind=\"secondary\" onClick={onBackHandler}>\n              {getSecondaryButtonText()}\n            </Button>\n            <Button\n              {...(apiKeyLoaded && copyButtonProps)}\n              type=\"submit\"\n              kind=\"primary\"\n              onClick={submitHandler}\n              disabled={isPrimaryButtonDisabled()}\n            >\n              {getPrimaryButtonText()}\n            </Button>\n          </ModalFooter>\n        </ComposedModal>\n      </FeatureFlags>\n    );\n  }\n);\n\n// Return a placeholder if not released and not enabled by feature flag\n\nexport const deprecatedProps = {\n  /**\n   * deprecated\n   * title for a successful edit\n   */\n  editSuccessTitle: PropTypes.string,\n\n  /**\n   * deprecated\n   * title for a successful key generation\n   */\n  generateSuccessTitle: PropTypes.string,\n};\n\nAPIKeyModal.propTypes = {\n  /**\n   * the api key that's displayed to the user when a request to create is fulfilled.\n   */\n  apiKey: PropTypes.string,\n  /**\n   * label for the text input that holds the api key.\n   */\n  apiKeyLabel: PropTypes.string,\n  /**\n   * the name of the api key. should only be supplied in edit mode.\n   */\n  apiKeyName: PropTypes.string,\n  /**\n   * body content for the modal\n   */\n  body: PropTypes.string,\n  /**\n   * optional class name\n   */\n  className: PropTypes.string,\n  /**\n   * text for the close button\n   */\n  closeButtonText: PropTypes.string,\n  /**\n   * text for the copy button\n   */\n  copyButtonText: PropTypes.string,\n  /**\n   * Error message for when the copy function fails\n   */\n  copyErrorText: PropTypes.string,\n  /**\n   * text description for the copy button icon\n   */\n  copyIconDescription: PropTypes.string,\n  /**\n   * if you need more options for key creation beyond just the name use custom steps to obtain whatever data is required.\n   */\n  /**@ts-ignore*/\n  customSteps: PropTypes.arrayOf(\n    PropTypes.shape({\n      /**\n       * designates if the step has passed whatever validation rules are in place.\n       */\n      valid: PropTypes.bool,\n      /**\n       * designates content is the JSX that holds whatever inputs you need\n       */\n      content: PropTypes.node,\n      /**\n       * designates the title that's displayed at the top of the modal for each step\n       */\n      title: PropTypes.string,\n    })\n  ),\n  /**\n   * the content that appears that indicates the key is downloadable\n   */\n  downloadBodyText: PropTypes.string,\n  /**\n   * designates the name of downloadable json file with the key. if not specified will default to 'apikey'\n   */\n  downloadFileName: PropTypes.string,\n  /**\n   * designates the file type for the downloadable key\n   */\n  downloadFileType: PropTypes.oneOf(['txt', 'json']),\n  /**\n   * aria-label for the download link\n   */\n  downloadLinkLabel: PropTypes.string,\n  /**\n   * anchor text for the download link\n   */\n  downloadLinkText: PropTypes.string,\n  /**\n   * text for the edit button\n   */\n  editButtonText: PropTypes.string,\n  /**\n   * designates if the edit request was successful\n   */\n  editSuccess: PropTypes.bool,\n  /**\n   * title for a successful edit\n   */\n  editSuccessMessage: PropTypes.string,\n  /**\n   * designates if the modal is in the edit mode\n   */\n  editing: PropTypes.bool,\n  /**\n   * designates if an error has occurred in a request\n   */\n  error: PropTypes.bool,\n  /**\n   * text to display if an error has occurred\n   */\n  errorText: PropTypes.string,\n  /**\n   * default primary button text for modal in assumed default mode create or generate.\n   * in create mode this is the button text prior to supplying an api key, which then\n   * uses copyButtonText\n   */\n  generateButtonText: PropTypes.string,\n  /**\n   * content to display if generate request was successful\n   */\n  generateSuccessBody: PropTypes.node,\n  /**\n   * title for a successful key generation\n   */\n  generateSuccessMessage: PropTypes.string,\n  /**\n   * default title for the modal in generate key mode\n   */\n  generateTitle: PropTypes.string,\n  /**\n   * designates if the api input has the visibility toggle enabled\n   */\n  hasAPIKeyVisibilityToggle: PropTypes.bool,\n  /**\n   * designates if user is able to download the api key\n   */\n  hasDownloadLink: PropTypes.bool,\n  /**\n   * helper text for password input\n   */\n  helperText: PropTypes.string,\n  /**\n   * label text that's displayed when hovering over visibility toggler to hide key\n   */\n  hideAPIKeyLabel: PropTypes.string,\n  /**\n   * Provide a ref to return focus to once the tearsheet is closed.\n   */\n  /**@ts-ignore */\n  launcherButtonRef: PropTypes.any,\n  /**\n   * designates if the modal is in a loading state via a request or some other in progress operation\n   */\n  loading: PropTypes.bool,\n  /**\n   * text that displays while modal is in the loading state\n   */\n  loadingText: PropTypes.string,\n  /**\n   * general label text for modal\n   */\n  modalLabel: PropTypes.string,\n  /**\n   * helper text for name input\n   */\n  nameHelperText: PropTypes.string,\n  /**\n   * label for api key name input\n   */\n  nameLabel: PropTypes.string,\n  /**\n   * placeholder text for api key name input\n   */\n  namePlaceholder: PropTypes.string,\n  /**\n   * designates if a name is required or not for key generation. NOTE- if using custom steps set this to false since you will be using your own validation\n   */\n  nameRequired: PropTypes.bool,\n  /**\n   * text that displays in the primary button when using custom steps to indicate to the user that there is a next step\n   */\n  nextStepButtonText: PropTypes.string,\n  /**\n   * handler for on modal close\n   */\n  onClose: PropTypes.func,\n  /**\n   * Optional callback if you want to use your own copy function instead of the build in one\n   * onCopy(apiKey)\n   */\n  onCopy: PropTypes.func,\n  /**\n   * handler for api key edit\n   */\n  onRequestEdit: PropTypes.func,\n  /**\n   * handler for api key generation\n   */\n  onRequestGenerate: PropTypes.func,\n  /**\n   * designates if modal is open or closed\n   */\n  open: PropTypes.bool.isRequired,\n  /**\n   * The DOM node the tearsheet should be rendered within. Defaults to document.body.\n   */\n  portalTarget: PropTypes.node,\n  /**\n   * text that displays in the secondary button when using custom steps to indicate to the user that there is a previous step\n   */\n  previousStepButtonText: PropTypes.string,\n  /**\n   * label text that's displayed when hovering over visibility toggler to show key\n   */\n  showAPIKeyLabel: PropTypes.string,\n\n  ...deprecatedProps,\n};\n\nAPIKeyModal.displayName = componentName;\n"],"names":["componentName","APIKeyDownloader","props","apiKey","body","fileName","fileType","linkText","downloadLinkLabel","linkProps","setLinkProps","useState","useEffect","data","blob","href","download","React","pkg","PropTypes","defaults","APIKeyModal","forwardRef","apiKeyLabel","apiKeyName","className","closeButtonText","copyButtonText","copyErrorText","copyIconDescription","customSteps","downloadBodyText","downloadFileName","downloadFileType","downloadLinkText","editButtonText","editSuccess","editSuccessTitle","editSuccessMessage","editing","error","errorText","generateButtonText","generateSuccessBody","generateSuccessTitle","generateSuccessMessage","generateTitle","hasAPIKeyVisibilityToggle","hasDownloadLink","hideAPIKeyLabel","launcherButtonRef","loading","loadingText","modalLabel","nameHelperText","nameLabel","namePlaceholder","nameRequired","nextStepButtonText","onClose","onCopy","onRequestEdit","onRequestGenerate","open","portalTargetIn","previousStepButtonText","showAPIKeyLabel","helperText","rest","ref","title","setTitle","successMessage","setSuccessMessage","copyError","setCopyError","name","setName","currentStep","setCurrentStep","copyRef","useRef","apiKeyInputId","uuidv4","nameInputId","renderPortalUse","usePortalTarget","hasSteps","apiKeyLoaded","hasNextStep","hasPreviousStep","copyButtonProps","Copy","blockClass","localRef","PasswordInputRef","modalRef","firstElement","keyDownListener","claimFocus","useFocus","prevOpen","usePreviousValue","isPrimaryButtonDisabled","getPrimaryButtonText","getSecondaryButtonText","setNameHandler","evt","onCloseHandler","submitHandler","e","onBackHandler","FeatureFlags","ComposedModal","getDevtoolsProps","cx","ModalHeader","ModalBody","PasswordInput","TextInput","Form","InlineLoading","ErrorFilled","InformationFilled","CheckmarkFilled","ModalFooter","Button","deprecatedProps"],"mappings":"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"}