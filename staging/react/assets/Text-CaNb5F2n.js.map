{"version":3,"file":"Text-CaNb5F2n.js","sources":["../../../../node_modules/@carbon/react/es/components/Text/TextDirectionContext.js","../../../../node_modules/@carbon/react/es/components/Text/Text.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { createContext } from 'react';\n\nconst TextDirectionContext = /*#__PURE__*/createContext({\n  direction: 'auto',\n  getTextDirection: {\n    current: undefined\n  }\n});\n\nexport { TextDirectionContext };\n","/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef, useContext, Children } from 'react';\nimport { TextDirectionContext } from './TextDirectionContext.js';\n\n// eslint-disable-next-line react/display-name -- https://github.com/carbon-design-system/carbon/issues/20452\nconst Text = /*#__PURE__*/forwardRef(({\n  as,\n  children,\n  dir = 'auto',\n  ...rest\n}, ref) => {\n  const context = useContext(TextDirectionContext);\n  const textProps = {};\n  const BaseComponent = as ?? 'span';\n  const value = {\n    ...context\n  };\n  if (!context) {\n    textProps.dir = dir;\n    value.direction = dir;\n  } else {\n    const {\n      direction: parentDirection,\n      getTextDirection\n    } = context;\n    if (getTextDirection && getTextDirection.current) {\n      const text = getTextFromChildren(children);\n      const override = getTextDirection.current(text);\n      if (parentDirection !== override) {\n        textProps.dir = override;\n        value.direction = override;\n      } else if (parentDirection === 'auto') {\n        textProps.dir = override;\n      }\n    } else if (parentDirection !== dir) {\n      textProps.dir = dir;\n      value.direction = dir;\n    } else if (parentDirection === 'auto') {\n      textProps.dir = dir;\n    }\n  }\n  return /*#__PURE__*/React.createElement(TextDirectionContext.Provider, {\n    value: value\n  }, /*#__PURE__*/React.createElement(BaseComponent, _extends({\n    ref: ref\n  }, rest, textProps), children));\n});\n\n// @ts-expect-error - `propTypes` isn't typed.\nText.propTypes = {\n  /**\n   * Provide a custom element type used to render the outermost node\n   */\n  as: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.elementType]),\n  /**\n   * Provide child elements or text to be rendered inside of this component\n   */\n  children: PropTypes.node,\n  /**\n   * Specify the text direction to be used for this component and any of its\n   * children\n   */\n  dir: PropTypes.oneOf(['ltr', 'rtl', 'auto'])\n};\nconst getTextFromChildren = children => {\n  if (typeof children === 'string') {\n    return children;\n  }\n  const text = Children.map(children, child => {\n    if (typeof child === 'string') {\n      return child;\n    }\n    return null;\n  })?.filter(text => {\n    return text !== null;\n  });\n  if (text?.length === 1) {\n    return text[0];\n  }\n  return text;\n};\n\nexport { Text };\n"],"names":["TextDirectionContext","createContext","Text","as","children","dir","rest","ref","context","useContext","textProps","BaseComponent","value","parentDirection","getTextDirection","text","getTextFromChildren","override","React","_extends","PropTypes","Children","child"],"mappings":"8DASA,MAAMA,EAAoCC,EAAAA,cAAc,CACtD,UAAW,OACX,iBAAkB,CAChB,QAAS,MAAA,CAEb,CAAC,ECDKC,eAA+B,CAAC,CACpC,GAAAC,EACA,SAAAC,EACA,IAAAC,EAAM,OACN,GAAGC,CACL,EAAGC,IAAQ,CACT,MAAMC,EAAUC,EAAAA,WAAWT,CAAoB,EACzCU,EAAY,CAAA,EACZC,EAAgBR,GAAM,OACtBS,EAAQ,CACZ,GAAGJ,CAAA,EAEL,GAAI,CAACA,EACHE,EAAU,IAAML,EAChBO,EAAM,UAAYP,MACb,CACL,KAAM,CACJ,UAAWQ,EACX,iBAAAC,CAAA,EACEN,EACJ,GAAIM,GAAoBA,EAAiB,QAAS,CAChD,MAAMC,EAAOC,EAAoBZ,CAAQ,EACnCa,EAAWH,EAAiB,QAAQC,CAAI,EAC1CF,IAAoBI,GACtBP,EAAU,IAAMO,EAChBL,EAAM,UAAYK,GACTJ,IAAoB,SAC7BH,EAAU,IAAMO,EAEpB,MAAWJ,IAAoBR,GAC7BK,EAAU,IAAML,EAChBO,EAAM,UAAYP,GACTQ,IAAoB,SAC7BH,EAAU,IAAML,EAEpB,CACA,OAAoBa,EAAM,cAAclB,EAAqB,SAAU,CACrE,MAAAY,CAAA,EACcM,EAAM,cAAcP,EAAeQ,EAAS,CAC1D,IAAAZ,CAAA,EACCD,EAAMI,CAAS,EAAGN,CAAQ,CAAC,CAChC,CAAC,EAGDF,EAAK,UAAY,CAIf,GAAIkB,EAAU,UAAU,CAACA,EAAU,KAAMA,EAAU,OAAQA,EAAU,WAAW,CAAC,EAIjF,SAAUA,EAAU,KAKpB,IAAKA,EAAU,MAAM,CAAC,MAAO,MAAO,MAAM,CAAC,CAC7C,EACA,MAAMJ,EAAsBZ,GAAY,CACtC,GAAI,OAAOA,GAAa,SACtB,OAAOA,EAET,MAAMW,EAAOM,EAAAA,SAAS,IAAIjB,EAAUkB,GAC9B,OAAOA,GAAU,SACZA,EAEF,IACR,GAAG,OAAOP,GACFA,IAAS,IACjB,EACD,OAAIA,GAAM,SAAW,EACZA,EAAK,CAAC,EAERA,CACT","x_google_ignoreList":[0,1]}